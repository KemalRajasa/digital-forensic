function AutopayccService(e,t,n){var a,i,r,o,s;return{setPaymentSourceResponse:function(e){a=e},getPaymentSourceResponse:function(){return a},setProductOrderResponse:function(e){i=e},getProductOrderResponse:function(){return i},setUserSelectedPaymentType:function(e){r=e},getUserSelectedPaymentType:function(){return r},setAutoRefillStatus:function(e){o=e},getAutoRefillStatus:function(){return o},setUserPaymentSourceData:function(e){s=e},getUserPaymentSourceData:function(){return s}}}function GroupDataUsageSummaryCtrl(e,t){console.log("balance device is",e.$ctrl.data),e.view={currentDate:new Date,panelType:"panel-primary",showDevicesDataLimit:!1},e.barData=[{min:"9543212889",value:"5.20",limit:6,color:"#ff0000",showDevice:!0,used_perc:20.8,nickname:"Dad"},{min:"9543211858",value:"2.55",limit:5,color:"#b3b3b3",showDevice:!0,used_perc:10.2},{min:"9543212877",value:"4.20",limit:7,color:"#00b09a",showDevice:!0,used_perc:16.8},{min:"9543212845",value:"2.2",limit:10,color:"#f6b221",showDevice:!0,used_perc:8.8},{value:"10.85",color:"#def2f0",showDevice:!1,used_perc:43.4}]}function ildController(e,t,n,a,i,r,o,s,c,l,d,u,p){function v(e){i.debug("biild_component/getildbalance !! ",e),g.balance.ildbalance=void 0,a.getDeviceBalance({min:e.min,type:o.ild_bal}).then((function(e){i.debug("BI/getildbalance/getDataUsage",e),g.balance.ildbalance=e.balanceDetails.ildAddOn})).catch((function(e){i.warn("BI/getildbalance/getDataUsage error",e),g.balance.ildbalance={}})),i.debug("biild_component/getildbalance/aftergetILDBalance !! ")}var g=this;g.balance={},g.$onInit=function(){g.devices=[],g.groupBased=e.features.groupbased;var a=t.isLoggedIn();g.groupBased&&a&&(g.devices=n.getDevicesByGroupId(g.data.group.groupId),g.smartAndFeaturePhoneDevices=[],angular.forEach(g.devices,(function(e){e.hasOwnProperty("deviceType")&&e.deviceType!==o.device_type.hotspot&&g.smartAndFeaturePhoneDevices.push(e)})),1==g.devices.length?g.data=g.devices[0]:g.selected={},g.safeLinkButton="tf-btn-primary",g.view.isSafeLink&&(g.safeLinkButton="btn-tertiary")),g.ildPlan=p.getILdAddonPlan()},g.getIldBalance=function(){v(angular.isDefined(g.selected)?g.selected:g.data)},g.purchaseIld=function(e){angular.isDefined(g.selected)&&g.selected.item&&n.selectDevice(g.selected.item),i.debug("biild_component/purchaseIld !! ",n.getSelectedDevice());var t={};t.renewalType="SINGLE_LINE",i.info("manageIldPlanEnrollment/estimateOrder checkout page --\x3e "),s.addPlanToCart(g.ildPlan),c.setRedeemNowFlag(!0),c.setRedemptionFlow(!0),l.estimateNoPlanChange(t).then((function(e){d.redirect(u.checkout)})).catch((function(e){i.warn("manageIldPlanEnrollment/redirectCheckout/estimate/rejected",e),c.setRedeemNowFlag(!1),c.setRedemptionFlow(!1),r.handleError(e,g)}))},g.ILDEnroll=function(){i.info("balanceInquiry/ILDEnroll checkout page --\x3e "),angular.isDefined(g.selected)&&g.selected.item&&n.selectDevice(g.selected.item),c.emptyCart(),g.ildPlan.auto_refill=!0,g.ildPlan.auto_enrollflow=!0,c.setRedemptionFlow(!0),c.setEnrollFlowFlag(!1);var e={};e.renewalType="SINGLE_LINE",i.info("balanceInquiry/estimateOrder checkout page --\x3e "),s.addPlanToCart(g.ildPlan),l.estimateNoPlanChange(e).then((function(e){d.redirect(u.checkout)})).catch((function(e){i.warn("balanceInquiry/redirectCheckout/estimate/rejected",e),c.setEnrollFlowFlag(!1),r.handleError(e,g)}))}}function tfildController(e,t,n,a,i,r,o,s,c,l,d,u,p){function v(e){i.debug("biild_component/getildbalance !! ",e),g.balance.ildbalance=void 0,a.getDeviceBalance({min:e.min,type:o.ild_bal}).then((function(e){i.debug("BI/getildbalance/getDataUsage",e),g.balance.ildbalance=e.balanceDetails.ildAddOn})).catch((function(e){i.warn("BI/getildbalance/getDataUsage error",e),g.balance.ildbalance={}})),i.debug("biild_component/getildbalance/aftergetILDBalance !! ")}var g=this;g.balance={},g.$onInit=function(){g.devices=[],g.groupBased=e.features.groupbased;var a=t.isLoggedIn();g.groupBased&&a&&(g.devices=n.getDevicesByGroupId(g.data.group.groupId),g.smartAndFeaturePhoneDevices=[],angular.forEach(g.devices,(function(e){e.hasOwnProperty("deviceType")&&e.deviceType!==o.device_type.hotspot&&g.smartAndFeaturePhoneDevices.push(e)})),1==g.devices.length?g.data=g.devices[0]:g.selected={},g.safeLinkButton="tf-btn-primary",g.view.isSafeLink&&(g.safeLinkButton="btn-tertiary")),g.ildPlan=u.getILdAddonPlan()},g.getIldBalance=function(){v(angular.isDefined(g.selected)?g.selected:g.data)},g.purchaseIld=function(){l.redirect(d.ubi.refill)},g.ILDEnroll=function(){l.redirect(d.ubi.addonpurchase)},g.viewDetails=function(){return"/direct/IldRateslanding"+g.getGoogleAnalytics()},g.getGoogleAnalytics=function(){var e;return p.ga("create","UA-80153611-1","auto",{allowLinker:!0}),ga((function(t){var n=t.get("linkerParam");n&&(e="?"+n)})),e}}jQuery(document).ready((function(e){function t(){e(".cd-nav-trigger").removeClass("nav-is-visible"),e(".cd-main-header").removeClass("nav-is-visible"),e(".cd-primary-nav").removeClass("nav-is-visible"),e(".has-children ul").addClass("is-hidden"),e(".has-children a").removeClass("selected"),e(".moves-out").removeClass("moves-out"),e(".cd-main-content").removeClass("nav-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){e("body").removeClass("overflow-hidden")}))}function n(t){"close"==t?(e(".cd-search").removeClass("is-visible"),e(".cd-search-trigger").removeClass("search-is-visible"),e(".cd-overlay").removeClass("search-is-visible")):(e(".cd-search").toggleClass("is-visible"),e(".cd-search-trigger").toggleClass("search-is-visible"),e(".cd-overlay").toggleClass("search-is-visible"),e(window).width()>r&&e(".cd-search").hasClass("is-visible")&&e(".cd-search").find('input[type="search"]').focus(),e(".cd-search").hasClass("is-visible")?e(".cd-overlay").addClass("is-visible"):e(".cd-overlay").removeClass("is-visible"))}function a(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),e[t+"Width"]>=r}function i(){var t=e(".cd-nav");a()?(t.detach(),t.insertBefore(".cd-header-buttons")):(t.detach(),t.insertAfter(".cd-main-content"))}var r=1170,o=!1;e(window).on("resize",(function(){window.requestAnimationFrame?window.requestAnimationFrame(i):setTimeout(i,300)})),e(document).on("click",".cd-nav-trigger",(function(r){r.preventDefault(),e(".cd-main-content").hasClass("nav-is-visible")?(t(),e(".cd-overlay").removeClass("is-visible")):(o||i(),e(this).addClass("nav-is-visible"),e(".cd-primary-nav").addClass("nav-is-visible"),e(".cd-main-header").addClass("nav-is-visible"),e(".cd-main-content").addClass("nav-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){e("body").addClass("overflow-hidden")})),n("close"),e(".cd-overlay").addClass("is-visible")),o||(e(".cd-primary-nav").children(".has-children").children("a").on("click",(function(e){e.preventDefault()})),e(".has-children").children("a").on("click",(function(t){a()||t.preventDefault();var i=e(this);i.next("ul").hasClass("is-hidden")?(i.addClass("selected").next("ul").removeClass("is-hidden").end().parent(".has-children").parent("ul").addClass("moves-out"),i.parent(".has-children").siblings(".has-children").children("ul").addClass("is-hidden").end().children("a").removeClass("selected"),e(".cd-overlay").addClass("is-visible")):(i.removeClass("selected").next("ul").addClass("is-hidden").end().parent(".has-children").parent("ul").removeClass("moves-out"),e(".cd-overlay").removeClass("is-visible")),n("close")})),e(".go-back").on("click",(function(){e(this).parent("ul").addClass("is-hidden").parent(".has-children").parent("ul").removeClass("moves-out")}))),o=!0})),e(".cd-search-trigger").on("click",(function(e){e.preventDefault(),n(),t()})),e(".cd-overlay").on("swiperight",(function(){e(".cd-primary-nav").hasClass("nav-is-visible")&&(t(),e(".cd-overlay").removeClass("is-visible"))})),e(".nav-on-left .cd-overlay").on("swipeleft",(function(){e(".cd-primary-nav").hasClass("nav-is-visible")&&(t(),e(".cd-overlay").removeClass("is-visible"))})),e(".cd-overlay").on("click",(function(){t(),n("close"),e(".cd-overlay").removeClass("is-visible")})),e("input#search-field-mobile").focus(),e("input#search-field-mobile").blur((function(){setTimeout((function(){e("input#search-field-mobile").focus()}),0)}))})),$(document).ready((function(){var e=$(window).width();e<768&&$(".nav li.dropdown").hover((function(){$(this).addClass("open")}),(function(){$(this).removeClass("open")})),$((function(){$(".dropdown").hover((function(){$(".dropdown-menu",this).not(".in .dropdown-menu").stop(!0,!0).delay(200).fadeIn("slow"),$(this).toggleClass("open")}),(function(){$(".dropdown-menu",this).not(".in .dropdown-menu").stop(!0,!0).delay(200).fadeOut("slow"),$(this).toggleClass("open")})),$(document).on("click",".myaccount h3",(function(e){$(this).toggleClass("expandstate")}))})),$(".refill_drop_down_btn").click((function(){$(this).toggleClass("turnarrow"),$(".refill_drop_content").slideToggle("fast")})),$(document).on("mouseenter",".dropdown",(function(e){$(this).addClass("open")})),$(document).on("mouseleave",".dropdown",(function(e){$(this).removeClass("open")})),$(document).on("click",".nav a",(function(e){$(this).parents().find(".open").removeClass("open")})),$(document).on("focus",".primary-nav > li",(function(){$(".primary-nav > li").removeClass("open"),$(this).addClass("open")})),$(document).on("focus",".secondary-nav > li",(function(){$(".primary-nav > li").removeClass("open")})),$(document).on("keydown",".primary-nav > li",(function(e){9==e.keyCode&&e.shiftKey&&$(".primary-nav > li").removeClass("open")})),$(document).on("click",".mobilenavHide",(function(){$(".nav-is-visible")&&$(".cd-nav-trigger").click()})),$(document).click((function(){$(".primary-nav > li").removeClass("open")})),$(document).on("click",".cd-nav li a, #mobile_search_form .glyphicon-search",(function(e){""!=$(this).parent().attr("class")&&"google_search_button"!=$(this).parent().attr("id")||($(this).parents().find(".overflow-hidden").removeClass("overflow-hidden"),$(this).parents().find(".nav-is-visible").removeClass("nav-is-visible"),$(this).parents().find(".is-visible").removeClass("is-visible"),$(this).parents().find(".moves-out").removeClass("moves-out"),$(this).parents().find(".cd-nav-icons").addClass("is-hidden"),$(this).parents().find(".cd-secondary-nav").addClass("is-hidden"),$(this).parents(".cd-secondary-nav").find("a.selected").next().addClass("is-hidden"))})),$(document).on("keydown","#search-field-mobile",(function(e){13==e.keyCode&&($(this).parents().find(".overflow-hidden").removeClass("overflow-hidden"),$(this).parents().find(".nav-is-visible").removeClass("nav-is-visible"),$(this).parents().find(".is-visible").removeClass("is-visible"),$(this).parents().find(".moves-out").removeClass("moves-out"),$(this).parents().find(".cd-nav-icons").addClass("is-hidden"),$(this).parents().find(".cd-secondary-nav").addClass("is-hidden"),$(this).parents(".cd-secondary-nav").find("a.selected").next().addClass("is-hidden"))})),$(document).on("click",".cd-primary-nav li a#oo_locale",(function(e){setTimeout(location.reload.bind(location),500)})),e>768&&$(document).on("click",".carousel-login .checkbox label",(function(){var e=$(this).parent().find("input[type=checkbox]");e.prop("checked",!e.prop("checked"))}))})),(function(){function e(){var e={};return angular.merge(e,config.app),e}var t={};angular.isDefined(window.configModuleExists)?t=angular.module("config.tf"):(t=angular.module("config.tf",[]),window.configModuleExists=!0),t.factory("$appConfig",e),e.$inject=[]})(),(function(){function e(e,t,n){var a={};return a._config=config.view,a.get=function(t){return n.debug("$viewConfig/get/entry",t),angular.isDefined(a._config[e.path()])&&angular.isDefined(a._config[e.path()][t])?(n.debug("$viewConfig/get/exit",a._config[e.path()][t]),a._config[e.path()][t]):angular.isDefined(a._config["*"])&&angular.isDefined(a._config["*"][t])?(n.debug("$viewConfig/get/exit",a._config["*"][t]),a._config["*"][t]):void n.debug("$viewConfig/get/exit",void 0)},a.isWidgetVisible=function(e){n.debug("$viewConfig/isWidgetVisible/entry",e);var i=a.get(e);if("boolean"==typeof i)return n.debug("$viewConfig/isWidgetVisible/exit",i),i;if(angular.isDefined(i)){if(n.debug("$viewConfig/isWidgetVisible/config",i),angular.isDefined(i.features)&&angular.isArray(i.features)){n.debug("$viewConfig/isWidgetVisible/features/array",i);var r=i.features.map((function(e){return!!angular.isDefined(t.features[e])&&t.features[e]}));n.debug("$viewConfig/isWidgetVisible/features/values",r);var o=r.reduce((function(e,t){return e||t}));return n.debug("$viewConfig/isWidgetVisible/exit",o),o}return n.debug("$viewConfig/isWidgetVisible/exit",i.display),i.display}return n.debug("$viewConfig/isWidgetVisible/config/notdefined"),!0},a}var t={};angular.isDefined(window.configModuleExists)?t=angular.module("config.tf"):(t=angular.module("config.tf",[]),window.configModuleExists=!0),t.factory("$viewConfig",e),e.$inject=["$location","$appConfig","$log"]})(),(function(){angular.module("google.analytics.tf",[]),angular.module("google.analytics.tf").run(["$rootScope","$route","$location","$window","$timeout",function(e,t,n,a,i){e.$on("tracfone-purchase-event",(function(e,t){t.event=t.autoenroll?"tracfone.enroll":"tracfone.purchase",a.dataLayer.push(t)})),e.$on("tracfone-actreactport-event",(function(e,t){t.event="tracfone.pin",a.dataLayer.push(t)})),e.$on("error-404-event",(function(e,t){a.dataLayer.push(t)})),e.$on("$routeChangeSuccess",(function(e,t,i){a.dataLayer.push({event:"page-view-event",url:n.url()})})),e.$watch((function(){i((function(){a.dataLayer.push({event:"optimize.activate"})}),0,!1)}))}])})(),(function(){angular.module("opinionlabs.tf",[]),angular.module("opinionlabs.tf").run((function(){!(function(e,t,n){var a=t.getElementsByTagName(n)[0],i=t.createElement(n);i.async=!0,i.src="/assets/scripts/opinion_labs/oo_consolidated-min.js",a.parentNode.insertBefore(i,a)})(window,document,"script")}))})(),(function(){angular.module("stagingmode.tf",[]),(function(){angular.module("stagingmode.tf").run(["$rootScope","$translate","$cookies","$serviceUtils","$http","$q",function(e,t,n,a,i,r){e.$on("$stageModeOn",(function(o,s){if(t.use(s.lang),e.$emit("$translateChangeSuccess",{language:s.lang}),n.put("locale",s.lang),angular.equals({},a.getLocalStorageItem("en_US"))){var c=i.get("config/lang/en_US.json"),l=i.get("config/lang/es_ES.json");r.all([c,l]).then((function(t){a.setLocalStorageItem("en_US",t[0].data),a.setLocalStorageItem("es_ES",t[1].data),e.stagemode={event:!0,lang:s.key},e.$broadcast("$stageModeLanguageChange",{language:s.key})}))}else e.stagemode={event:!0,lang:s.key},e.$broadcast("$stageModeLanguageChange",{language:s.key})}))}])})(),(function(){angular.module("stagingmode.tf").directive("button",["$filter","$rootScope","$serviceUtils",function(e,t,n){return{restrict:"E",link:function(e,a,i){$(a).on("mouseover",(function(e){var i=$(a).closest("tf-button-primary,tf-button-fb");if(t.stagemode.event){var r=n.getLocalStorageItem("en_US"),o=n.getLocalStorageItem("es_ES");$(this).attr("title","eng-button-text | "+$(i).attr("translate-text")+" | "+r[$(i).attr("translate-text")]+"\neng-button-title | "+$(i).attr("tit")+" | "+r[$(i).attr("tit")]+"\nspn-button-text  | "+$(i).attr("translate-text")+" | "+o[$(i).attr("translate-text")]+"\nspn-button-title  | "+$(i).attr("tit")+" | "+o[$(i).attr("tit")])}}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("img",["$rootScope","$serviceUtils",function(e,t){return{restrict:"E",link:function(n,a,i){$(a).on("mouseover",(function(n){if(e.stagemode.event){var i=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES");$(this).attr("title","en-alt | "+$(this).attr("alt")+" | "+i[$(this).attr("alt")]+"\nes-alt | "+$(this).attr("alt")+" | "+r[$(this).attr("alt")])}else $(a).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("h1",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES"),o=$(this).attr("translate")?$(this).attr("translate"):$(this).html();$(this).attr("title","en | "+o+" | "+a[o]+"\nes | "+o+" | "+r[o])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("h2",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES"),o=$(this).attr("translate")?$(this).attr("translate"):$(this).html();$(this).attr("title","en | "+o+" | "+a[o]+"\nes | "+o+" | "+r[o])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("h3",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES"),o=$(this).attr("translate")?$(this).attr("translate"):$(this).html();$(this).attr("title","en | "+o+" | "+a[o]+"\nes | "+o+" | "+r[o])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("a",["$rootScope","$serviceUtils",function(e,t){return{restrict:"E",link:function(n,a,i){$(a).on("mouseover",(function(n){if(e.stagemode.event){var i=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES");$(this).attr("translate")&&$(this).attr("title","eng-text | "+$(this).attr("translate")+" | "+i[$(this).attr("translate")]+"\neng-title | "+$(this).attr("translate")+" | "+i[$(this).attr("translate")]+"\nspn-text | "+$(this).attr("translate")+" | "+r[$(this).attr("translate")]+"\nspn-title | "+$(this).attr("translate")+" | "+r[$(this).attr("translate")]+"\nevent-cta | "+$(this).attr("event-cta")+" | "+i[$(this).attr("event-cta")]+"\nevent-ctx | "+$(this).attr("event-ctx")+" | "+i[$(this).attr("event-ctx")])}else $(a).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("p",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES"),o=$(this).attr("translate")?$(this).attr("translate"):$(this).html();$(this).attr("title","en | "+o+" | "+a[o]+"\nes | "+o+" | "+r[o])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("span",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event&&$(this).attr("translate")){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES"),o=$(this).attr("translate")?$(this).attr("translate"):$(this).html();$(this).attr("title","en | "+o+" | "+a[o]+"\nes | "+o+" | "+r[o])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("strong",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES"),o=$(this).attr("translate")?$(this).attr("translate"):$(this).html();$(this).attr("title","en | "+o+" | "+a[o]+"\nes | "+o+" | "+r[o])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("label",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES"),o=$(this).attr("translate")?$(this).attr("translate"):$(this).html();$(this).attr("title","en | "+o+" | "+a[o]+"\nes | "+o+" | "+r[o])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("i",["$rootScope","$serviceUtils","$timeout",function(e,t,n){return{restrict:"E",link:function(a,i,r){e.stagemode.event&&n((function(){var n="en"==e.stagemode.lang?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),a=$(i).attr("translate");a&&$(i).html(a+"|"+n[a])}),1e3),e.$on("$stageModeLanguageChange",(function(e,a){var r="en"==a.language?t.getLocalStorageItem("en_US"):t.getLocalStorageItem("es_ES"),o=$(i).attr("translate");n((function(){o&&$(i).html(o+"|"+r[o])}),1e3)})),$(i).on("mouseover",(function(n){if(e.stagemode.event){var a=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES");$(this).attr("title","en | "+$(this).attr("translate")+" | "+a[$(this).attr("translate")]+"\nes | "+$(this).attr("translate")+" | "+r[$(this).attr("translate")])}else $(i).removeAttr("title")}))}}}])})(),(function(){angular.module("stagingmode.tf").directive("input",["$rootScope","$serviceUtils",function(e,t){return{restrict:"E",link:function(n,a,i){$(a).on("mouseover",(function(n){if(e.stagemode.event){var i=t.getLocalStorageItem("en_US"),r=t.getLocalStorageItem("es_ES");$(this).attr("title","en-placeholder | "+$(this).attr("placeholder")+" | "+i[$(this).attr("placeholder")]+"\nes-placeholder | "+$(this).attr("placeholder")+" | "+r[$(this).attr("placeholder")]+"\nen | aria-label | "+$(this).attr("aria-label")+" | "+i[$(this).attr("aria-label")]+"\nes | aria-label | "+$(this).attr("aria-label")+" | "+r[$(this).attr("aria-label")])}else $(a).removeAttr("title")}))}}}])})(),(function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",a=0;a<40;a++)n+=t.charAt(Math.floor(Math.random()*t.length));document.cookie=e+"="+(n||"")+"; path=/"})("glassbox_cls_s")})(),(function(){angular.module("touchcommerce.tf",["ngRoute"]),angular.module("touchcommerce.tf").factory("$touchcommerce",["$interval","$window","$q","$log",function(e,t,n,a){var i=n.defer(),r=!1,o={onPageLanding:function(e){a.debug("touchcommerce.tf/onPageLanding/Inq callback received."),i.resolve(e),r=!0}};t.InqRegistry={chatListeners:[o]};var s={initInProgress:!1};return{_data:s,init:function(){a.debug("touchcommerce.tf/init/Waiting for Inq");var e=n.defer();return r?(a.debug("touchcommerce.tf/init/Inq already initialized"),e.resolve(),e.promise):(a.debug("touchcommerce.tf/init/Inq not initialized",i),i.promise)},reinitChat:function(e){s.initInProgress||(a.debug("touchcommerce.tf/reinitChat/invoked"),s.initInProgress=!0,t.Inq.reinitChat(e))},reset:function(){s.initInProgress=!1}}}]),angular.module("touchcommerce.tf").run(["$route","$rootScope","$interval","$log","$window","$touchcommerce",function(e,t,n,a,i,r){function o(){if(a.debug("touchcommerce.tf/handleTC/entry"),1==s)return void a.debug("touchcommerce.tf/handleTC/already in progress");s=!0,r.reset(),r.init().then((function(){if(a.debug("touchcommerce.tf/handleTC/init/resolves"),s=!1,e.current&&e.current.data&&e.current.data.tc){a.debug("touchcommerce.tf/handleTC/$route/tc",e.current.data.tc);var i=e.current.$$route.data;n((function(){var e="";e="en"==t.lang?i.tc.englishPageId:i.tc.spanishPageId,a.debug("touchcommerce.tf/handleTC/initialize/page",e),void 0!=angular.element("#inqC2CImgContainer_Anchored")?(a.debug("touchcommerce.tf/handleTC/#inqC2CImgContainer_Anchored/defined",angular.element("#inqC2CImgContainer_Anchored")),r.reinitChat(e)):a.debug("touchcommerce.tf/handleTC/#inqC2CImgContainer_Anchored/undefined")}),1,1)}}))}!(function(e,t,n){var a=t.getElementsByTagName(n)[0],i=t.createElement(n);i.async=!0,i.src="//tracfone.inq.com/chatskins/launch/inqChatLaunch10004494.js",a.parentNode.insertBefore(i,a)})(window,document,"script");var s=!1;t.$on("$translateChangeSuccess",(function(e,t){a.debug("touchcommerce.tf/$translateChangeSuccess/entry",e,t),o(),a.debug("touchcommerce.tf/$translateChangeSuccess/exit",e,t)})),t.$on("$routeChangeSuccess",(function(e,t){a.debug("touchcommerce.tf/$routeChangeSuccess/entry",e,t),o(),a.debug("touchcommerce.tf/$routeChangeSuccess/exit",e,t)})),t.$on("$includeContentLoaded",(function(e,t){a.debug("touchcommerce.tf/$includeContentLoaded/exit",e,t),o(),a.debug("touchcommerce.tf/$includeContentLoaded/exit",e,t)}))}])})(),angular.module("validation",["validation.provider","validation.directive"]),angular.module("validation.provider",[]),angular.module("validation.directive",["validation.provider"]),function(){function e(){var e,t,n,a,i,r=this,o=function(r){e=r,t=e.get("$rootScope"),n=e.get("$http"),a=e.get("$q"),i=e.get("$timeout"),$log=e.get("$log")},s={},c=null,l={};this.setExpression=function(e){return angular.extend(s,e),r},this.getExpression=function(e){return s[e]},this.setDefaultMsg=function(e){return angular.extend(l,e),r},this.getDefaultMsg=function(e){return l[e]},this.setValidMethod=function(e){c=e},this.getValidMethod=function(){return c},this.setErrorHTML=function(e){if(e.constructor===Function)return r.getErrorHTML=e,r},this.getErrorHTML=function(e){return'<p id="error_alert" class="error_txt small_txt text-left" ng-bind-html="\''+e+"' | translate:vars\"></p>"},this.setSuccessHTML=function(e){if(e.constructor===Function)return r.getSuccessHTML=e,r},this.getSuccessHTML=function(e){return'<span><i class="icon-check"></i></span>'},this.showSuccessMessage=!0,this.showErrorMessage=!0,this.checkValid=function(e){return!(!e||!e.$valid)},this.validate=function(e){var n=a.defer(),o=0;if(void 0===e)return $log.error("This is not a regular Form name scope"),n.reject("This is not a regular Form name scope"),n.promise;if(e.validationId)t.$broadcast(e.$name+"submit-"+e.validationId,o++);else if(e.constructor===Array)for(var s in e)t.$broadcast(e[s].$name+"submit-"+e[s].validationId,o++);else for(var c in e)"$"!==c[0]&&e[c].hasOwnProperty("$dirty")&&t.$broadcast(c+"submit-"+e[c].validationId,o++);return n.promise.success=function(e){return n.promise.then((function(t){e(t)})),n.promise},n.promise.error=function(e){return n.promise.then(null,(function(t){e(t)})),n.promise},i((function(){r.checkValid(e)?n.resolve("success"):n.reject("error")})),n.promise},this.validCallback=null,this.invalidCallback=null,this.resetCallback=null,this.reset=function(e){if(void 0===e)return void $log.error("This is not a regular Form name scope");if(e.validationId)t.$broadcast(e.$name+"reset-"+e.validationId);else if(e.constructor===Array)for(var n in e)t.$broadcast(e[n].$name+"reset-"+e[n].validationId);else for(var a in e)"$"!==a[0]&&e[a].hasOwnProperty("$dirty")&&t.$broadcast(a+"reset-"+e[a].validationId)},this.addMsgElement=function(e){return e.next().children().children().append("<span></span>")},this.getMsgElement=function(e){return e.next().children()},this.$get=["$injector",function(e){return o(e),{setValidMethod:this.setValidMethod,getValidMethod:this.getValidMethod,setErrorHTML:this.setErrorHTML,getErrorHTML:this.getErrorHTML,setSuccessHTML:this.setSuccessHTML,getSuccessHTML:this.getSuccessHTML,setExpression:this.setExpression,getExpression:this.getExpression,setDefaultMsg:this.setDefaultMsg,getDefaultMsg:this.getDefaultMsg,showSuccessMessage:this.showSuccessMessage,showErrorMessage:this.showErrorMessage,checkValid:this.checkValid,validate:this.validate,validCallback:this.validCallback,invalidCallback:this.invalidCallback,resetCallback:this.resetCallback,reset:this.reset,addMsgElement:this.addMsgElement,getMsgElement:this.getMsgElement}}]}angular.module("validation.provider").provider("$validation",e)}.call(this),function(){function e(e){var t=e.get("$validation"),n=e.get("$timeout"),a=e.get("$parse");return{link:function(e,i,r){var o=a(r.validationReset)(e);n((function(){i.on("click",(function(e){e.preventDefault(),t.reset(o)}))}))}}}angular.module("validation.directive").directive("validationReset",e),e.$inject=["$injector"]}.call(this),function(){function e(e){var t=e.get("$validation"),n=e.get("$timeout"),a=e.get("$parse");return{priority:1,require:"?ngClick",link:function(e,i,r){var o=a(r.validationSubmit)(e);n((function(){i.off("click"),i.on("click",(function(n){n.preventDefault(),t.validate(o).success((function(){a(r.ngClick)(e)}))}))}))}}}angular.module("validation.directive").directive("validationSubmit",e),e.$inject=["$injector"]}.call(this),function(){function e(e){function t(e,t,n){for(var a=document.querySelectorAll("*[validation-group="+t+"]"),i=0,r=a.length;i<r;i++){var o=a[i],s=o.form.name,c=o.name;angular.element(document.getElementsByName(s)).scope()[s][c].$setValidity(c,n)}}function n(e){var t={};return e&&e.length>0?(t=e[0],angular.isObject(t)||(t={result:t,message:""})):t={result:!1,message:""},t}var a=e.get("$validation"),i=e.get("$q"),r=e.get("$timeout"),o=e.get("$compile"),s=e.get("$parse"),c={},l=function(e,t,n,i,r,c){var l,d=t||a.getDefaultMsg(n).success,u=s(c.validCallback);c.messageId,c.validationGroup;return l=a.getMsgElement(e),e.attr("no-validation-message")?l.css("display","none"):a.showSuccessMessage&&d?"SELECT"==e[0].tagName?(e.parent().removeClass("error"),e.parent().parent().removeClass("error"),e.parent().removeClass("empty"),e.parent().parent().parent().find("p").remove(),l.css("display","")):(e.parent().removeClass("error"),e.parent().parent().removeClass("error"),e.parent().removeClass("empty"),e.parent().parent().parent().find("p").remove(),l.html("").append(o(a.getSuccessHTML(d,e,c))(i)),l.css("display","")):l.css("display","none"),r.$setValidity(r.$name,!0),u(i,{message:d}),a.validCallback&&a.validCallback(e),!0},d=function(e,t,n,i,r,c){
var l,d=t||a.getDefaultMsg(n).error,u=s(c.invalidCallback),p=c.messageId,v=c.validationGroup;return l=p||v?angular.element(document.querySelector("#"+(p||v))):a.getMsgElement(e),e.attr("no-validation-message")?l.css("display","none"):a.showErrorMessage&&d?(e.parent().addClass("error"),e.parent().parent().addClass("error"),e.parent().removeClass("empty"),e.parent().parent().parent().find("p").remove(),e.parent().parent().parent().find("div.validation_error").length?e.parent().parent().parent().find("div.validation_error").prepend(o(a.getErrorHTML(d,e,c))(i)):e.parent().parent().parent().prepend(o(a.getErrorHTML(d,e,c))(i))):l.css("display","none"),r.$setValidity(r.$name,!1),u(i,{message:d}),a.invalidCallback&&a.invalidCallback(e),!1},u=function(e){var t=c[e];return Object.keys(t).some((function(e){return t[e]}))},p={},v=function(e,r,o,s,p,g){var m=p.slice(0),f=m[0].trim(),h=f.indexOf("="),_=-1===h?f:f.substr(0,h),y=-1===h?null:f.substr(h+1),b=m.slice(1),S=_+"SuccessMessage",D=_+"ErrorMessage",C=a.getExpression(_),w=o.validationGroup,I={success:function(t){return g?l(r,t||o[S],_,e,s,o):(l(r,void 0,_,e,s,o),r.parent().removeClass("error"),r.parent().parent().removeClass("error"),r.parent().parent().parent().find("p").remove(),r.parent().addClass("empty")),!b.length||v(e,r,o,s,b,g)},error:function(t){return d(r,t||o[D],_,e,s,o)}};if(void 0===C)return $log.error('You are using undefined validator "%s"',_),b.length?v(e,r,o,s,b,g):void 0;if(C.constructor===Function)return i.all([a.getExpression(_)(g,e,r,o,y)]).then((function(a){var i=n(a),r=i.message;return i.result?(w&&(c[w][s.$name]=!0,t(e,w,!0)),I.success(r)):w?(c[w][s.$name]=!1,u(w)?void t(e,w,!0):(t(e,w,!1),I.error(r))):I.error(r)}),(function(){return I.error()}));if(C.constructor!==RegExp)return I.error();if(void 0!==g&&null!==g){if(a.getExpression(_).test(g))return w&&(c[w][s.$name]=!0,t(e,w,!0)),I.success();if(!w)return I.error();if(c[w][s.$name]=!1,!u(w))return t(e,w,!1),I.error();t(e,w,!0)}},g=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},m=function(){return g()+g()+g()+g()};return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var o=n.validator,s=n.messageId,l=n.validationGroup,d=n.validMethod,u=n.ngModel;if(""!=o){var g,f=function(){},h=o.split(","),_=i.validationId=m(),y=null;if("boolean"==typeof e.initialValidity&&(g=e.initialValidity),l&&(c[l]||(c[l]={}),c[l][i.$name]=!1),s||l||a.addMsgElement(t),i.$setValidity(i.$name,g),e.$on(i.$name+"reset-"+_,(function(){f(),r((function(){i.$setViewValue(y),i.$setPristine(),i.$setValidity(i.$name,void 0),i.$render(),s||l?angular.element(document.querySelector("#"+(s||l))).html(""):a.getMsgElement(t).html(""),a.resetCallback&&a.resetCallback(t)}))})),d=angular.isUndefined(d)?a.getValidMethod():d,e.$on(i.$name+"submit-"+_,(function(a,o){var s=i.$viewValue,c=!1;c=v(e,t,n,i,h,s),"submit"===d&&(f(),f=e.$watch((function(){return e.$eval(u)}),(function(a,r){a!==r&&(void 0!==a&&null!==a||(a=""),c=v(e,t,n,i,h,a))})));var l=function(e){e?delete p[o]:(p[o]=t[0],r((function(){p[Math.min.apply(null,Object.keys(p))].focus()}),0))};c.constructor===Object?c.then(l):l(c)})),"blur"===d)return void t.bind("blur",(function(){var a=e.$eval(u);void 0!=a&&void 0!=a.length&&""!=a?e.$apply((function(){v(e,t,n,i,h,a)})):e.$apply((function(){t.parent().removeClass("error"),t.parent().parent().removeClass("error"),t.next().children().children().find(".icon-check").remove(),t.parent().parent().parent().find("p").remove()}))}));"submit"!==d&&"submit-only"!==d&&(e.$watch((function(){return e.$eval(u)}),(function(a){if(i.$pristine&&i.$viewValue)y=i.$viewValue||"",i.$setViewValue(i.$viewValue);else if(i.$pristine)return void(s||l?angular.element(document.querySelector("#"+(s||l))).html(""):(t.parent().removeClass("error"),t.parent().parent().removeClass("error"),t.parent().parent().parent().find("p").remove(),t.parent().addClass("empty")));v(e,t,n,i,h,a)})),r((function(){n.$observe("noValidationMessage",(function(e){var n;n=s||l?angular.element(document.querySelector("#"+(s||l))):a.getMsgElement(t),"true"===e||!0===e?n.css("display","none"):"false"!==e&&!1!==e||n.css("display","block")}))})))}}}}angular.module("validation.directive").directive("validator",e),e.$inject=["$injector"]}.call(this),function(){angular.module("validation.rule",["validation","credit-cards"]).config(["$validationProvider","creditcardsProvider",function(e,t){var n={required:function(e,t,n,a,i){return angular.isUndefined(t.vars)&&(t.vars={}),angular.isUndefined(a.fieldDescription)||""==a.fieldDescription?t.vars.fieldname=a.placeholder:t.vars.fieldname=a.fieldDescription,!!e},url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,email:function(e){return/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e)},luhn:function(e){return-1===e.indexOf("*")?t.$get().card.luhn(e):/^[*]{12}\d{4}$/.test(e)},luhnedit:function(e){return t.$get().card.luhnedit(e)},number:function(e){return!e||/^\d+$/.test(e)},alphanumeric:function(e){return/^[a-z\d\s]+$/i.test(e)},phonenumber:function(e){return!e||/^\(?\d{3}\)?[- ]?\d{3}[- ]?\d{4}$/.test(e)},intlphonenumber:function(e){if(!e)return!0;var t=/^011[0-9].*$/,n=/^1[0-9].*$/;return!(!t.test(e)&&!n.test(e))||void 0},date:function(e){var t=e.split("/"),n=t[1];e=new Date(e);var a=e.getDate();return"Invalid Date"!=e&&n==a},dob:function(e){var t=new Date,n=t.getFullYear()-13,a=t.getMonth()+1,i=t.getDate(),r=new Date(a+"/"+i+"/"+n),e=new Date(e);return!(e>r)},year:function(e){var t=e.split("/"),t=t[2];return!(t<(new Date).getFullYear()-117)},month:function(e){var t=e.split("/");return!((t=t[0])>12||t<1)},day:function(e){var t=e.split("/");return!((t=t[1])>31||t<1)},address:function(e){return!e||/^[a-zA-Z0-9,-.'#\/ ]*$/.test(e)},city:function(e){return!e||/^[a-zA-Z0-9,-. ]*$/.test(e)},zipcode:function(e){return!e||/^\d{5}(?:[-\s]\d{4})?$/.test(e)},zipcodeCanada:function(e){return/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/.test(e)},zipcodeNonUSNonCanada:function(e){return/^[a-zA-Z0-9]{1,13}$/.test(e)},creditcard:function(e){var n=t.$get().card.type(e);if(-1===e.indexOf("*")&&"Maestro"!=n&&"Diners Club"!=n&&"Diners"!=n){var a=/^(?:4[0-9]{12}(?:[0-9]{3})?|3[47][0-9]{13}|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12})$/,i=a.test(e);return i}var a=/^[*]{12}\d{4}$/,i=a.test(e);return i},creditcardedit:function(e){var n=t.$get().card.type(e);if(-1===e.indexOf("*")&&"Maestro"!=n&&"Diners Club"!=n&&"Diners"!=n){var a=/^(?:4[0-9]{12}(?:[0-9]{3})?|3[47][0-9]{13}|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|(5018|5020|5038|5612|5893|6304|6759|6761|6762|6763|0604|6390)[0-9]{12})$/,i=a.test(e);return i}var a=/^[*]{12}\d{4}$/,i=a.test(e);return i},minemailcheck:function(e){var t=/^\d{10}$/,n=/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;return!(!t.test(e)&&!n.test(e))},minemailsimesncheck:function(e){var t=/^\d{10}$/,n=/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,a=/^(?!0)\d{11,20}$/;return!!(t.test(e)||n.test(e)||a.test(e))},minsimesncheck:function(e){var t=/^\d{10}$/,n=/^(?!0)\d{15,18}$/,a=/^(?!0)\d{19,20}$/;return!!(t.test(e)||n.test(e)||a.test(e))},minsimesn:function(e){var t=/^\d{10}$/,n=/^(?!0)\d{15,18}$/,a=/^(?!0)\d{19,20}$/;return!!(t.test(e)||n.test(e)||a.test(e))},minemailsimcheck:function(e){var t=/^\d{10}$/,n=/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,a=/^(?!0)\d{18,20}$/;return!!(t.test(e)||n.test(e)||a.test(e))},minlength:function(e,t,n,a,i){return angular.isUndefined(t.vars)&&(t.vars={}),t.vars.minlength=i,!e||e.length>=i},maxlength:function(e,t,n,a,i){return angular.isUndefined(t.vars)&&(t.vars={}),t.vars.maxlength=i,!e||e.length<=i},specialCharpassword:function(e){return/^[a-zA-Z0-9][^&^'%]*$/g.test(e)},confirmpassword:function(e,t,n,a,i){return angular.isUndefined(t.matchValue)?(t.modelValue="",!0):e==t.matchModel},matching:function(e,t,n,a){return!!(angular.equals(n[0].id,"loginForm-confirm_new_password")&&angular.equals(a.matchValue,"")&&angular.isUndefined(e))||(angular.isUndefined(t.matchValue)?(t.modelValue="",!0):e===a.matchValue)},onlyalpha:function(e){return/^[ a-zA-Z\u00C0-\u017F]*$/.test(e)},actNumber:function(e,t,n,a,i){if(angular.isDefined(a.regexPattern)&&""!==a.regexPattern){return RegExp(a.regexPattern).test(e)}},actPwd:function(e,t,n,a,i){if(angular.isDefined(a.regexPattern)&&""!==a.regexPattern){return RegExp(a.regexPattern).test(e)}},allowableDigits:function(e){return!e||(14==e.length||15==e.length||16==e.length||18==e.length)},cdmaNumber:function(e){return!e||(!/^\d+$/.test(e)||14!=e.length)},cdmaAlphanumeric:function(e){var t=/^[a-z\d\s]+$/i,n=t.test(e),a=/^\d+$/,i=a.test(e);return!(n&&!i&&15==e.length)}},a={required:{error:"MYAC_99801",success:"It's Required"},url:{error:"This should be Url",success:"It's Url"},email:{error:"Invalid Email Address",success:"It's Email"},luhn:{error:"RDSG_5223",success:"It's Number"},luhnedit:{error:"RDSG_5223",success:"It's Number"},number:{error:"RDSG_5223",success:"It's Number"},phonenumber:{error:"This should be Phone Number",success:"It's Number"},intlphonenumber:{error:"This should be Phone Number",success:"It's Number"},intlphonenumber:{error:"ERROR_19553",success:"It's Number"},date:{error:"RDSG_5475",success:"It's Date"},dob:{error:"RDSG_5474",success:"It's Date"},year:{error:"RDSG_5474",success:"It's Date"},month:{error:"RDSG_5473",success:"It's Date"},day:{error:"RDSG_5472",success:"It's Date"},zipcode:{error:"RDSG_5226",success:"It's Zip code"},zipcodeCanada:{error:"RDSG_5226",success:"It's Zip code"},zipcodeNonUSNonCanada:{error:"RDSG_5226",success:"It's Zip code"},creditcard:{error:"This should be Credit Card Number",success:"It's Number"},creditcardedit:{error:"This should be Credit Card Number",success:"It's Number"},minlength:{error:"RDSG_5222",success:"Long enough!"},maxlength:{error:"This should be shorter",success:"Short enough!"},specialCharpassword:{error:"ERROR_1985798",success:"Valid Password!"},minsimesncheck:{error:"ERROR_1985631",success:"Invalid value"},confirmpassword:{error:"RDSG_5307",success:"Password match!"},matching:{error:"Invalid match",success:"Valid match!"},onlyalpha:{error:"Only Alphabet",success:"Alpha"},alphanumeric:{error:"Only AlphaNumeric",success:"Alphanumeric"},minemailcheck:{error:"MYACC_5110",success:"EmailorMIN"},minemailsimesncheck:{error:"MYACC_5110",success:"EmailorMIN"},minemailsimcheck:{error:"MYACC_5384",success:"EmailorMIN"},city:{error:"ERROR_1985833",success:"city"},address:{error:"ERROR_1985835",success:"address"},actNumber:{error:"MYAC_7288",success:"Valid Account Number"},actPwd:{error:"MYAC_6652",success:"Valid Account Pin"},allowableDigits:{error:"ERROR_1985631",success:"Invalid value"},cdmaNumber:{error:"ERROR_10525",success:"The number you entered is not valid. Please enter a 15 or 18 digit number"},cdmaAlphanumeric:{error:"ERROR_10526",success:"The number you entered is not valid. Please try again."}};e.setExpression(n).setDefaultMsg(a)}])}.call(this),(function(){angular.module("project.wcm.tf",["ngRoute","config.tf"]),angular.module("project.wcm.tf").factory("wcmRequestInterceptor",["$appConfig","$location",function(e,t){return{request:function(n){var a=t.search().projectid;a=a||e.wcmProjectId,angular.isDefined(e.wcmProjectIds)&&(-1!=n.url.indexOf("/design/header")&&angular.isDefined(e.wcmProjectIds["/header"])&&""!==e.wcmProjectIds["/header"]?a=e.wcmProjectIds["/header"]:-1!=n.url.indexOf("/design/footer")&&angular.isDefined(e.wcmProjectIds["/footer"])&&""!==e.wcmProjectIds["/footer"]?a=e.wcmProjectIds["/footer"]:-1==n.url.indexOf("/home/home")&&-1==n.url.indexOf("/home/home-crm")||!angular.isDefined(e.wcmProjectIds["/home"])||""===e.wcmProjectIds["/home"]?angular.isDefined(e.wcmProjectIds[t.path()])&&""!==e.wcmProjectIds[t.path()]&&(a=e.wcmProjectIds[t.path()]):a=e.wcmProjectIds["/home"]),angular.isDefined(a)&&""!=a||(a=void 0);var i=e.wcmAdditionalParams;return angular.isDefined(a)&&n.url.startsWith(e.wcmBaseUrl)&&(-1==n.url.indexOf("?")&&(n.url=n.url+"?wcm=1"),n.url=n.url+"&projectid="+a,console.log("***** config.url="+n.url),angular.isDefined(i)&&(n.url=n.url+i)),n}}}]),angular.module("project.wcm.tf").config(["$httpProvider",function(e){e.interceptors.push("wcmRequestInterceptor")}])})(),(function(){angular.module("webaccessibility.tf",[]),(function(){angular.module("webaccessibility.tf").directive("modal",["$filter",function(e){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("aria-labelledby","modal-title"),t.attr("aria-describedby","modal-body")}),1e3)}}}])})(),(function(){angular.module("webaccessibility.tf").directive("focusElement",(function(){return{link:function(e,t,n){t[0].focus()}}}))})(),(function(){angular.module("webaccessibility.tf").directive("lastFocus",(function(){return{link:function(e,t,n){t.bind("keydown",(function(e){9!=e.which&&9!=e.keyCode||($(".modal-close").focus(),e.preventDefault())}))}}}))})(),(function(){angular.module("webaccessibility.tf").directive("tfAccessibility",(function(){return function(e,t,n){t.bind("keydown keypress",(function(e){13===e.which&&(t[0].click(),e.preventDefault())}))}}))})(),(function(){angular.module("webaccessibility.tf").directive("button",["$filter","$rootScope","$serviceUtils",function(e,t,n){return{restrict:"E",link:function(t,n,a){setTimeout((function(){n.attr("aria-label",e("translate")(n.attr("title")))}),1e3)}}}])})(),(function(){angular.module("webaccessibility.tf").directive("li",(function(){return{restrict:"E",link:function(e,t,n){setTimeout((function(){var e=angular.element("li");if(null!=e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("role");null==n&&e[t].setAttribute("role","listitem")}}),500)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("tfTabs",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","tabpanel")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("navTabs",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","tablist")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("linkCollapse",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("data-toggle","collapse"),t.attr("aria-expanded",!1)}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("linkExpanded",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("data-toggle","expanded"),t.attr("aria-expanded",!0)}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("errorMsg",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","alert")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("alert_message",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","alert"),t.attr("aria-live","assertive")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("validationInvalid",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","alert")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("form",(function(){return{restrict:"E",link:function(e,t,n){setTimeout((function(){}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("passwordsent",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","note")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("verticalOrContent",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","separator")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("orContent",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","separator")}),1e3)}}}))})(),(function(){angular.module("webaccessibility.tf").directive("togSlide",(function(){return{restrict:"C",link:function(e,t,n){setTimeout((function(){t.attr("role","switch"),t.attr("aria-checked",!0),angular.element(".togSlide").attr("aria-checked",!1),angular.element(".toggle-switch").attr("ariaHidden",!0)}),1e3)}}}))})()})(),angular.module("ubi",[]),angular.module("ubi").run(["$templateCache",function(e){e.put("module1",'<usage-progress-bar device="ctrl.data" device-data="ctrl.data.deviceData" view="ctrl.data.view" page-props="ctrl.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})"></usage-progress-bar>'),e.put("module2",'<group-data-usage-summary data="ctrl.data.deviceData" view="ctrl.data.view" page-props="ctrl.view"></group-data-usage-summary>'),e.put("module3",'<unlimited-data-value device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></unlimited-data-value>'),e.put("module4",'<balance-summary device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></balance-summary>'),e.put("module5",'<balance-detailed-summary data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></balance-detailed-summary>'),e.put("module6",'<paygo-balance device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></paygo-balance>'),e.put("module7",'<balance-instructions device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" page-props="ctrl.view"></balance-instructions>'),e.put("module8",'<text-balance-instructions device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></text-balance-instructions>'),e.put("module8.1",'<call-balance-instructions device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></call-balance-instructions>'),e.put("module9",'<balance-sms-instructions device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" page-props="ctrl.view"></balance-sms-instructions>'),e.put("module10",'<addon-data device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view" is-parent="true"></addon-data>'),e.put("module11",'<base-plan-info device="ctrl.data" view="ctrl.data.view" page-props="ctrl.view"></base-plan-info>'),e.put("module12",'<addl-features device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></addl-features>'),e.put("module13",'<ild data="ctrl.data" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></ild>'),e.put("module14",'<tf-carsmart-balance device="ctrl.data" device-data="ctrl.data.deviceData" view="ctrl.data.view" page-props="ctrl.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})"></tf-carsmart-balance>'),e.put("module15",'<tfild data="ctrl.data" view="ctrl.view" page-props="ctrl.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})"></tfild>'),e.put("module16",'<carryover-data-balance data="ctrl.data" view="ctrl.view" page-props="ctrl.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})"></carryover-data-balance>'),e.put("module17",'<unlimited-plan-balance device="ctrl.data" data="ctrl.data.deviceData" view="ctrl.data.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" page-props="ctrl.view"></unlimited-plan-balance>'),e.put("module18",'<unlimited-paygo data="ctrl.data" view="ctrl.view" page-props="ctrl.view" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})"></unlimited-paygo>'),e.put("timeout",'<timedout-or-failure aria-live="assertive" device="ctrl.data" get-data-info="ctrl.getDataInfo({min:ctrl.data.min})" view="ctrl.data.view" page-props="ctrl.view"></timedout-or-failure>')}]),angular.module("tracfone-web",["app"]),(function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var a=n.indexOf(e,t);return-1!==a&&a===t}),String.prototype.includes||(String.prototype.includes=function(e){return-1!==this.indexOf(e)});var e=["ngRoute","ngAnimate","ui.mask","ui.bootstrap","strformat","pascalprecht.translate","ngCookies","validation","validation.rule","number-input","dateParser","credit-cards","ngSanitize","ui.select","slickCarousel","oc.lazyLoad","templates"];angular.module("app",e.concat(window.config.app.modules)).run(["$rootScope",function(e){e.year=Date}]).controller("MainCtrl",["$scope","$rootScope","$location","$uibModal","$translate","$userService","$cartService","$deviceService","$cookies","$interval","$cookieService","$appConfig","$log","$q","$window","$done","$appRoutes","$servicePlanSelectorService","$route","$document","$ocLazyLoadCtrlService",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b){var S=u.brand;g.sessionStorage.setItem("$brandName",S);var D={};angular.copy(a,D),a.open1=D.open,a.open=function(e){var n=a.open1(e);return n.opened.then((function(){t.$broadcast("modal-opened")})),n},t.lang_key=c.get("locale"),p.debug("locale",t.lang_key),angular.isUndefined(t.lang_key)&&(t.lang_key="en_US",t.lang="en"),n.search().lang&&"ES"==n.search().lang.toUpperCase().trim()&&(t.lang_key="es_ES",t.lang="es"),n.search().lang&&"EN"==n.search().lang.toUpperCase().trim()&&(t.lang_key="en_US",t.lang="en"),n.search().lang&&"ST"==n.search().lang.toUpperCase().trim()&&(t.lang_key="st_US",t.lang="st"),e.skipFocus=function(e){setTimeout((function(){var e=angular.element('div[role="main"]');e=e&&e.length>0?e[0]:document.getElementById("mainContent"),e.focus()}))},e.redirectPage=function(e){window.location.href=e},e.changeLanguage=function(e,n){t.lang_key=e,i.use(e),c.put("locale",e),p.debug("Changing language to ",e),"es_ES"==e?(t.lang="es",u.language="SPA",p.debug("Current language is Spanish ")):(p.debug("Current language is English "),t.lang="en",u.language="ENG"),t.$broadcast("change-language",e),t.year=(new Date).getFullYear(),n||t.updateBrowser||(angular.element("#oo_tab").remove(),p.info("Reloading...",e),window.location.reload())},e.changeLanguage(t.lang_key,!0),e.$watch((function(){return t.lang_key}),(function(){p.debug("watch/$rootScope.lang_key",t.lang_key),i.use(t.lang_key)}),!0),t.stagemode={},e.stageMode=function(e,n){t.$broadcast("$stageModeOn",{lang:e,key:n})},t.tf={},t.stagemode={},e.stageMode=function(e,n){t.$broadcast("$stageModeOn",{lang:e,key:n})},angular.merge(t,config.data),angular.isDefined(u.stagingMode)&&1==u.stagingMode&&(t.stagingMode=!0),t.$on("$locationChangeSuccess",(function(e,n,a){-1!=n.indexOf("error404")&&t.$broadcast("error-404-event",{event:"error-404",url:a})})),t.$on("$locationChangeSuccess",(function(e,a,i){t.show404&&angular.isDefined(_.routes[n.path()])&&(t.show404=!1)})),t.is_wcm=!1,t.wcmBaseUrl=u.wcmBaseUrl,t.$on("$routeChangeSuccess",(function(){p.log(n.path()),t.isHomePage="/"===n.path(),t.isHomePage||b.load("/assets/styles/trivial-min.css",!0),u.perf.useWCMCombinedHome&&(t.restrictWCMFooterCall="/"===n.path()),n.path().startsWith("/wcm")?t.is_wcm=!0:t.is_wcm=!1,n.path().startsWith("/myaccount/dashboard")&&(t.myaccount_item="devices"),t.updateBrowser&&n.url("/updatebrowser"),u.features.isSmServicePlanRedesign&&(n.path().startsWith("/gettingstarted")||n.path().startsWith("/serviceplan")||n.path().startsWith("/carsmartlanding"))?t.hasWcmBanner=!0:t.hasWcmBanner=!1,u.features.isSmServicePlanRedesign&&n.path().startsWith("/activation/serviceplan")?t.isMarReq=!0:t.isMarReq=!1,p.log(t.is_wcm)})),t.$on("UNAUTHORIZED",(function(e,t){r.isOnlyLoggedInAlways()&&n.url("/createaclogin")})),e.$on("device-add-data",(function(t,n){e.processAddDevice()})),g.dataLayer=g.dataLayer||[],t.dataLayerTemplate={transactionId:"",transactionAffiliation:"Internal",transactionDate:"",transactionTotal:0,transactionTax:0,transactionShipping:0,transactionShippingMethod:"",transactionDiscount:0,transactionProducts:[],transactionCoupons:[]},t.$on("$routeChangeSuccess",(function(){p.debug("routeChangeSuccess ",n.path()),g.dataLayer.push({event:"optimize.activate"})})),e.processAddDevice=function(){e.addInfoPoup().then((function(t){p.debug("processAddDevice calling collect device flow  !!! "),e.collectDevice().then((function(t){e.$broadcast("device-added",{}),n.url("myaccount/dashboard")}))}))},e.addInfoPoup=function(){var e=v.defer();return a.open({animation:!1,component:"addLineStatus",controller:"addDeviceCtrl",backdrop:"static",size:"md",windowTopClass:"tf-modal",resolve:{callback:e}}).result.then((function(e){}),null),e.promise},e.collectDevice=function(){var e=v.defer();a.open({animation:!1,templateUrl:"app/views/myaccount/adddevice/adddevice_view_myac_112.html",controller:"addDeviceCtrl",backdrop:"static",size:"md",windowTopClass:"tf-modal",resolve:{callback:e}});return e.promise},e.isPreferredLanguage=function(e){return t.lang_key==e},e.isCartNavVisible=function(){return angular.isDefined(o.getPlans())&&o.getPlans().length>0||"/redemptionconfirmation"==n.url()||"/purchasesummary"==n.url()||"/activation/instructions"==n.url()||"/activation/instructions/PIN_FLOW"==n.url()||"/activation/portupgradeinstructions"==n.url()||"/activation/portupgradeinstructions/PIN_FLOW"==n.url()||"/activation/confirmationupgrade"==n.url()||"/activation/redemptionconfirmation"==n.url()||"/activation/purchasesummary"==n.url()||"/protectyourphone/confirmation"==n.url()},e._my_account_nav_hover=!1,e.ishover=function(){var t=n.path();return(e._my_account_nav_hover||t.startsWith("/myaccount"))&&"/"!=t},t.isUndefined=function(e){return angular.isUndefined(e)},e.isNotEmpty=function(e){return angular.isObject(e)?!(angular.isUndefined(e)||null===e):angular.isString(e)?!(angular.isUndefined(e)||null===e||""===e):void 0},e.onMouseLeaveMyAccount=function(){e._my_account_timer=l((function(){e._my_account_nav_hover=!1}),2e3,1)},e.onMouseEnterMyAccount=function(){angular.isDefined(e._my_account_timer)&&l.cancel(e._my_account_timer),e._my_account_nav_hover=!0},t.isNumber=angular.isNumber,t.range=function(e,t,n){n=n||1;for(var a=[],i=e;i<=t;i+=n)a.push(i);return a},t.inArray=function(e,t){return-1!==t.indexOf(e)},t.authinit=!1,t.init=function(){p.debug("$rootScope.init - BEGIN"),d.getOpinionLabCookie()||d.setOpinionLabCookie("","","undefined"),e.initAuth().then((function(){t.authinit=!0,h.getServicePlanDetails()})),r.isKeepMeSignedIn({}).then((function(t){p.debug("$rootScope::init::keepmesigned return",t),t.status?angular.isDefined(n.url())?n.url()&&"/"!=n.url()?(p.debug("going to ",n.url()),s.getAccountDevices(),n.url(n.url())):(s.getAccountDevices(),p.debug("going to /"),n.url("/")):e.myAccount():n.url()&&"/"!=n.url()?(p.debug("goint to same URL"),n.url(n.url())):(p.debug("$rootScope::init::Redirecting to /home",t,n.url()),n.url("/"))})).catch((function(e){p.debug("going to / in catch"),n.url("/")}))},e.initAuth=function(){return r.initAuth()},e.logout=function(){t.tf={},t.$broadcast("system-reset",{}),p.debug("going to home"),n.url("/home"),d.setOpinionLabCookie("","","undefined"),t.init(),c.remove("user-logged-in")},t.getErrorMessage=function(){return angular.isDefined(t._errorStatus)?t._errorStatus.error_message:""},t.myaccount_item=null,e.isSelectedMenuItem=function(e){var a=null!=t.myaccount_item&&e==t.myaccount_item;return a||(a=n.url().indexOf(e)>=0),a},e.selectMenuItem=function(n){t.myaccount_item=n,"adddevice"==n&&e.handleAddDevice(),"myaccount"!=t.menuitem&&(t.menuitem="myaccount")},e.isMyAccountFormVisible=function(){return(e.isLoggedIn()||e.isLoggedInAlways())&&e.ishover()},e.hideMyAccountForm=function(){e.selectItem("")},t.menuitem=null,e.$on("loginSuccess",(function(t,n){p.info("Event loginSuccess:",n),e.userName=n})),e.isSelectedItem=function(e){return null!=t.menuitem&&e==t.menuitem},e.selectItem=function(e){t.menuitem=e,"myaccount"!=e&&(t.myaccount_item=null)},t.isLoggedIn=function(){return r.isLoggedIn()},e.isLoggedInAlways=function(){return r.isLoggedIn()||r.isRoNsTokenAvailable()},e.myAccount=function(){e.isLoggedInAlways()?(e.selectItem("myaccount"),m.redirect("userloggedin")):"/home"==n.url()||"/help"==n.url()?(p.info("Menu item:"+t.menuitem),"myaccount"==t.menuitem?t.menuitem="":(p.info("My Account Selected"),e.selectItem("myaccount"))):(t.menuitem="",m.redirect(f.userloggedout))},e.triggerAddDevice=function(){e.$broadcast("device-add-data",{})},t.isLimitedAccess=function(){return r.isLimitedAccess()},t.isGroupBased=function(){return!!u.features.groupbased&&u.features.groupbased},e.$on("rosessionExpiring",(function(e,t){r.isKeepMeSignedIn({}).then((function(e){if(p.debug("Rosession expiring::Keepmesigned in",e),!e.status){a.open({animation:!1,component:"sessionTimeoutPopup",backdrop:"static",size:"md",windowTopClass:"tf-modal"})}}))}));var C;e.displayVuDuModal=function(t,n,i){var r=angular.element(y[0].querySelector(t)).html(),o=angular.element(y[0].querySelector(n));C=a.open({animation:!1,template:r,appendTo:o,windowTopClass:"wfm-modal",size:i,scope:e,resolve:{}})},e.data={},e.close=function(e){p.debug("User closed the popup !!! "),C.dismiss("cancel")}}]),angular.module("app").config(["$sceDelegateProvider","$compileProvider","$logProvider",function(e,t,n){e.resourceUrlWhitelist(["**"]),t.debugInfoEnabled(window.config.app.perf.enableDebugInfo),n.debugEnabled(window.config.app.log.debug)}]),angular.module("app").run(["$http","$location","$compile","$rootScope","$q","$timeout","$appConfig",function(e,t,n,a,i,r,o){if(a.loaded=!0,a.restrictWCMFooterCall="/"===t.path(),a.isHomePage="/"===t.path(),o.perf.useWCMCombinedHome||(a.restrictWCMFooterCall=!1),a.isLRPLive=!!o.features.loyaltyrewards,a.isPayPalLive=!!o.features.payPalSmartPay,a.disablePaypal=!1,o.features.isimglazyload){var s=new LazyLoad({elements_selector:"img[data-src]"});a.$on("$includeContentLoaded",(function(e,t){r((function(){s.update()}),50)}))}}]),angular.module("app").config(["$locationProvider",function(e){e.html5Mode({enabled:!0,requireBase:!0,rewriteLinks:!0}),e.hashPrefix("!")}]),angular.module("templates",[])})(),(function(){angular.module("app").filter("dollars",(function(){return function(e){return isNaN(e)?e:e>0?Math.floor(e):e<0?Math.ceil(e):0==e?"0":void 0}})),angular.module("app").filter("creditcard",(function(){return function(e){return angular.isDefined(e)&&e.length>5?e.substring(e.length-5,e.length):e}})),angular.module("app").filter("cents",(function(){return function(e){if(isNaN(e))return e;var t;return e>0&&(t=Math.round(100*(e-Math.floor(e)))),e<0&&(t=-Math.round(100*(e-Math.ceil(e)))),0==e&&(t=0),0==t?"00":t>0&&t<10?"0"+t:t}})),angular.module("app").filter("toGB",(function(){return function(e){return isNaN(e)?e:e/1024}})),angular.module("app").filter("tel",(function(){return function(e){if(!e)return"";var t=e.toString().trim().replace(/^\+/,"");if(t.match(/[^0-9]/))return e;var n,a,i;switch(t.length){case 10:n=1,a=t.slice(0,3),i=t.slice(3);break;case 11:n=t[0],a=t.slice(1,4),i=t.slice(4);break;case 12:n=t.slice(0,3),a=t.slice(3,5),i=t.slice(5);break;default:return e}return 1==n&&(n=""),i=i.slice(0,3)+"-"+i.slice(3),(n+" ("+a+") "+i).trim()}})),angular.module("app").filter("split",(function(){return function(e,t,n){return e.split(t)[n]}})),angular.module("app").filter("yesNo",(function(){return function(e){return e?"BAT_24523":"BAT_24524"}})),
angular.module("app").filter("removeSpacesThenLowercase",(function(){return function(e){if(e){return e.replace(/\s+/g,"").toLowerCase()}return""}})),angular.module("app").filter("trusted",["$sce",function(e){var t=document.createElement("div");return function(n){return t.innerHTML=n,e.trustAsHtml(t.textContent)}}]),angular.module("app").filter("maskNumber",(function(){return function(e){var t=e.slice(0,10),n=e.slice(10);return t.replace(/\d/g,"#")+n}})),angular.module("app").filter("removeCDATA",(function(){return function(e){return e.replace(/^<\!\[CDATA\[|\]\]>$/g,"")}})),angular.module("app").filter("unique",(function(){return function(e,t){return _.uniq(e,(function(e){return e[t]}))}})),angular.module("app").filter("deviceName",["$filter","$appConfig",function(e,t){return function(n,a){var i=!1;return"HOTSPOT"!=n.deviceType&&"carsmart"!=n.deviceType&&"M2M_WER_PERS"!=n.deviceType||(i=!0),n.showDeviceBy&&!a?n.showDeviceBy:!i&&"BYOT"!=n.deviceType&&n.min?e("tel")(n.min):i&&!t.features.isGsmBrandOnly?n.esn:t.features.isGsmBrandOnly?n.sim.iccid:("BYOP"==n.deviceType||"BYOT"==n.deviceType)&&n.sim&&n.sim.iccid?n.sim.iccid:n.esn}}]),angular.module("app").filter("translateCut",(function(){return function(e,t){const n=Number(t);return e.split("|")[n]}})),angular.module("app").filter("phonemask",(function(){return function(e){return e.replace(/^.{6}/g,"******-")}})),angular.module("app").filter("emailmask",(function(){return function(e){var t=e.split("@");return t[0][0]+"*".repeat(t[0].length-2)+t[0].slice(-1)+"@"+(t[1][0]+t[1].slice(1,-1).replace(/[^.]/g,"*")+t[1].slice(-1))}}))})(),(function(){function e(e,t,n,a,i,r,o,s,c,l){return{run:function(e,d){var u=["GET","DELETE"],p=r(d.url,e),v=!1;angular.isDefined(e.background)&&1==e.background&&(v=!0,delete e.background);var g=t.sessionid;angular.isArray(d.templateVars)&&angular.forEach(d.templateVars,(function(t){delete e[t]})),-1!=d.contentType.indexOf("urlencoded")&&(e=o(e)),-1!=u.indexOf(d.httpMethod)&&(p=p+"?"+o(e),e=void 0,"GET"===d.httpMethod&&(p=p+"&timeStamp="+(new Date).getTime()));var m,f;f=d.changeUrl?p:n.endpoint+p;var h=n.endpoint;return f.includes(h)&&!f.includes("/pep/checkLinkingStatus/")?enabledWithCredentials=!0:enabledWithCredentials=!1,m=n.enable_with_credentials?{method:d.httpMethod,url:f,headers:{"Content-Type":d.contentType},data:e,withCredentials:enabledWithCredentials}:{method:d.httpMethod,url:f,headers:{"Content-Type":d.contentType},data:e},l.getResponse()&&(m.headers["reCaptcha-info"]=l.getResponse(),l.setResponse("")),angular.isDefined(g)&&g&&(m.headers["X-Device-ID"]=g),angular.isDefined(d.oAuthGrants)&&(m.headers["Allowed-Grant"]=d.oAuthGrants.join()),d.isCookieNeeded&&c.getAmazonCookie()&&(m.headers["P-Session-ID"]=JSON.stringify(c.getAmazonCookie())),angular.isUndefined(m.data)&&delete m.data,i(v?function(e,t){a(m).then((function(t){e(t.data)}),(function(e){t(e)}))}:function(e,t){s.increment(),a(m).then((function(t){s.decrement(),e(t.data)}),(function(e){s.decrement(),t(e)}))})}}}angular.module("app").factory("$apiService",e),e.$inject=["$log","$rootScope","$appConfig","$http","$q","strformat","$httpParamSerializer","$spinnerService","$authService","$reCaptchaService"]})(),(function(){function e(e,t,n,a,i,r,o,s,c){return ServiceUtilsInst={run:function(){}},ServiceUtilsInst.run=function(t,o,c){return r((function(r,l){n.debug("Before VOMAPPER : ",t);var d=c.forward(t);n.debug("After VOMAPPER : ",d);var u=o.transform.forward(d);n.debug("After SVCMAPPER : ",u),a.run(u,o).then((function(t){n.debug("Before SVC BWD MAPPER : ",t);var a=o.transform.backward(t);n.debug("After SVC BWD MAPPER : ",a);var i=c.backward(a);n.debug("After VO BWD MAPPER : ",i),angular.isDefined(a[e.error_code])&&angular.isDefined(o.okCodes)&&angular.isArray(o.okCodes)&&-1!=o.okCodes.indexOf(a[e.error_code])?(n.debug("Resolving the request : ",i),r(i)):(s.translateError(i,c),n.debug("Rejecting the request : ",i),l(i))})).catch((function(e){n.debug("Before SVC BWD MAPPER : ",e);var t=o.transform.backward(e.data);n.debug("After SVC BWD MAPPER : ",t);var a=c.backward(t);n.debug("After VO BWD MAPPER : ",a),s.translateError(a,c),n.debug("Rejecting the request : ",a),403==e.status&&i.$broadcast("UNAUTHORIZED",e),l(a)}))}))},ServiceUtilsInst.setSessionItem=function(e,t){try{return!!c.Storage&&(c.sessionStorage.setItem(e,JSON.stringify(t)),!0)}catch(e){n.info(e,e.message)}},ServiceUtilsInst.getSessionItem=function(e){try{if(c.Storage){var t=c.sessionStorage.getItem(e);return JSON.parse(t)}return!1}catch(e){n.info(e,e.message)}},ServiceUtilsInst.removeSessionItem=function(e){try{if(!c.Storage)return!1;c.sessionStorage.removeItem(e)}catch(e){n.info(e,e.message)}},ServiceUtilsInst.setLocalStorageItem=function(e,t){try{return!!c.Storage&&(c.localStorage[e]=JSON.stringify(t),!0)}catch(e){n.info(e,e.message)}},ServiceUtilsInst.getLocalStorageItem=function(e){try{return!!c.Storage&&JSON.parse(c.localStorage[e]||"{}")}catch(e){n.info(e,e.message)}},ServiceUtilsInst.removeLocalStorageItem=function(e){try{if(!c.Storage)return!1;delete c.localStorage[e]}catch(e){n.info(e,e.message)}},ServiceUtilsInst}angular.module("app").factory("$serviceUtils",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$utils","$window"]})(),(function(){function e(){return AuthServiceInst={_data:{},_localData:{},getFBToken:function(){return AuthServiceInst._data.fb_token},getROToken:function(){return AuthServiceInst._data.ro_token},getCCPToken:function(){return AuthServiceInst._data.ccp_token},getRONSToken:function(){return AuthServiceInst._localData.rons_token},getCCToken:function(){return AuthServiceInst._data.cc_token},setFBToken:function(e){AuthServiceInst._data.fb_token=e},setCCToken:function(e){AuthServiceInst._data.cc_token=e},setROToken:function(e){AuthServiceInst._data.ro_token=e},setCCPToken:function(e){AuthServiceInst._data.ccp_token=e},setRONSToken:function(e){AuthServiceInst._localData.rons_token=e},getAmazonCookie:function(){return AuthServiceInst._data.amazoncookie},setAmazonCookie:function(e){AuthServiceInst._data.amazoncookie=e}},AuthServiceInst}function t(){var t={},n={};return{setData:function(e){t=e},setLocalData:function(e){n=e},$get:function(){var a=e();return angular.isDefined(t)&&t&&(a._data=t),angular.isDefined(n)&&n&&(a._localData=n),a}}}function n(){return{getObject:function(e){return JSON.parse(window.sessionStorage.getItem(e))},getLocalObject:function(e){return JSON.parse(window.localStorage[e]||"{}")},$get:function(){}}}angular.module("app").provider("$authService",t),angular.module("app").provider("$tfsession",n),angular.module("app").config(["$authServiceProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$authService")),e.setLocalData(t.getLocalObject("$authService.localData"))}])})(),(function(){"use strict";angular.module("KarmaDemo",["ngRoute","OtherModule"])})();var testdata={login:{token_type:"bearer",access_token:"AAEOVEZBcHBNeUFjY3RfUk/LIRYZQbluwQ/VAno0AfuV/yTxTnnS/QkXTdSwe5e1wmn73s2XKmpLu5dNmbHIN2N5+igeeQ/iOQAX34U1PLFZ8JsaySHBU5UuiUqLmOThHcdebkcR20ayRDergwl1eaE",expires_in:1800,scope:"getSecurityQuestions",refresh_token:"AAFJy5xvOU9dKut3A+oJ+YTGgHM81EvroztihG2BSCJC972pUvl4lfmqbLDj+1rvK2aRtRsUoi47I01/g8yXrdrduH8p8KpLeM/nONslxLroNbMhtoDc43vBVXxIx0bw9sw",account_id:"581062422",brandName:"TRACFONE",sourceSystem:"WEB"},accountdetails:{status:{code:"0",type:"SUCCESS",description:"SUCCESS"},response:{totalDevices:2,devices:[{min:"3057112683",esn:"100000086854857",deviceNickname:"MyPHONE",deviceStatus:"ACTIVATION_PROGRESS",servicePlanName:"",servicePlanDescription:"",servicePlanDescription2:"",servicePlanDescription3:"",servicePlanDescription4:"",servicePlanId:0,serviceEndDate:"01-08-2018",autoRefillStatus:!0,reserveCount:0,defaultDevice:!1,deviceType:"SMARTPHONE",devicePartClass:"TFZEZ667G",paymentSourceId:25241335,reservedLine:!1,isHandsetProtectionEligible:!1,isHandsetProtectionEnrolled:!1,technology:"GSM",inquiryType:"BALANCE"},{min:"",esn:"100000086851119",deviceNickname:"100000086851119",deviceStatus:"NEW",servicePlanName:"",servicePlanDescription:"",servicePlanDescription2:"",servicePlanDescription3:"",servicePlanDescription4:"",servicePlanId:0,serviceEndDate:"",autoRefillStatus:!1,reserveCount:0,defaultDevice:!0,deviceType:"FEATURE_PHONE",devicePartClass:"TFLG325G",reservedLine:!1,isHandsetProtectionEligible:!1,isHandsetProtectionEnrolled:!1,technology:"GSM",inquiryType:"BALANCE"}]}},accountinfo:{status:{code:"0",type:"SUCCESS",description:"SUCCESS"},response:{contactInformation:{firstName:"Vasudevan",lastName:"PALANI",dateOfBirth:"04-08-1970",contactPhoneNumber:"3055864515",address1:"8655 NW 21st Terrace, Apt # 424",address2:"320",city:"Miami",state:"FL",zipcode:"33178",securityCode:"1234"},loginInformation:{email:"vpalani@tracfone.com"}}},paymentsources:{status:{code:"0",type:"SUCCESS",description:""},response:{totalPaymentSource:1,paymentSources:[{paymentSourceId:25241335,paymentSourceNickName:"Visa_5449",paymentSourceType:"Visa",paymentSourceNumberMask:"************5449",defaultPaymentSource:!1,billingZipCode:"94043"}]}},paymenthistory:{status:{code:"0",type:"SUCCESS",description:"Success"},response:{totalTransactions:1,transactions:[{transactionDate:"07-28-2016",transactionType:"First Time Enrollment Charges for 30-Minute 30-day Auto-Refill Plan",transactionTotal:10.2,discountTotal:0,transactionId:"BP2016072857731188",transactionStatus:"Approved",paymentSource:{paymentSourceNickName:"Visa_5449",paymentSourceType:"Visa",paymentSourceNumberMask:"***********5449"},device:{deviceNickName:"MyPHONE",min:"3057112683"}}]}},transactionhistory:{status:{code:"0",type:"SUCCESS",description:"Success"},response:{totalTransactions:1,transactions:[{transactionDate:"07-28-2016",transactionType:"ENROLL IN AUTO REFILL",transactionId:"177081550",servicePlanDescription:"",servicePlanDescription2:"",servicePlanDescription3:"",servicePlanDescription4:"",device:{deviceNickName:"MyPHONE",min:"3057112683"}}]}}};!(function(){function e(e,t,n,a,i,r,o){return{getInputType:function(e){return angular.isDefined(e)&&(e=e.replace(/[^A-Fa-f0-9]/g,""),angular.isDefined(e)&&angular.isNumber(parseInt(e)))?10==e.length?"MIN":18!=e.length&&19!=e.length&&20!=e.length||"890"!=e.substring(0,3)&&"891"!=e.substring(0,3)?"ESN":"SIM":"NOT-VALID"},isEmail:function(e){return/^[a-zA-Z0-9,!#\$%&'\*\+\/=\?\^_`\{\|}~-]+(\.[a-zA-Z0-9,!#\$%&'\*\+\/=\?\^_`\{\|}~-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.([a-zA-Z]{2,})$/.test(e)},isSim:function(e){return!(!angular.isDefined(e)||(e=e.replace(/[^A-Fa-f0-9]/g,""),!angular.isDefined(e)||!angular.isNumber(parseInt(e))||18!=e.length&&19!=e.length&&20!=e.length||"890"!=e.substring(0,3)&&"891"!=e.substring(0,3)))},isByopSim:function(e){if(angular.isDefined(e)&&(e=e.replace(/[^A-Fa-f0-9]/g,""),angular.isDefined(e)&&angular.isNumber(parseInt(e)))){if(!(18!=e.length&&19!=e.length&&20!=e.length||"890"!=e.substring(0,3)&&"891"!=e.substring(0,3)))return!0;if(15==e.length||16==e.length)return!0}return!1},isEsn:function(e){return!(!angular.isDefined(e)||(e=e.replace(/[^A-Fa-f0-9]/g,""),!(angular.isDefined(e)&&angular.isNumber(parseInt(e))&&e.length>=11&&e.length<=18)||"890"==e.substring(0,3)&&"891"==e.substring(0,3)))},isMin:function(e){if(angular.isDefined(e)){if(e.startsWith("T"))return!1;if(angular.isDefined(e)&&angular.isNumber(parseInt(e))&&10==e.length)return!0}return!1},translateError:function(e,t){return angular.isDefined(t.errorConfig)&&(angular.isDefined(t.errorConfig[e.error_code])?e.error_translate=t.errorConfig[e.error_code]:angular.isDefined(n.errorConfig[e.error_code])&&(e.error_translate=n.errorConfig[e.error_code])),e},getlinkfromScript:function(e,t,n){return a("translate")(e).replace(t,n)},getlinkfromScriptWithLinkTxt:function(e,t,n,i,r){var o=a("translate")(i),s=a("translate")(e).replace(t,n);return s=s.replace(r,o)},checkLastFour:function(e,t){return!(!angular.isDefined(e)||!angular.isDefined(t))&&(trim_simesn=t.substring(t.length-4),e==trim_simesn)},checkLastFourESNorSIM:function(e,t,n){if(e&&(t||n)){if(trim_sim=t?t.substring(t.length-4):void 0,trim_esn=n?n.substring(n.length-4):void 0,trim_sim&&e==trim_sim)return!0;if(trim_esn&&e==trim_esn)return!0}return!1},checkLastSixESNorSIM:function(e,t,n){if(e&&(t||n)){if(trim_sim=t?t.substring(t.length-6):void 0,trim_esn=n?n.substring(n.length-6):void 0,trim_sim&&e==trim_sim)return!0;if(trim_esn&&e==trim_esn)return!0}return!1},startSpinner:function(){t.showSpinner=!0},stopSpinner:function(){t.showSpinner=!1},isNullOrEmpty:function(e){return!(angular.isDefined(e)&&""!=e&&(!angular.isDefined(e)||0!=e.length))},tfDate:function(e){return"Invalid Date"==new Date(e.replace(/-/g,"/"))?moment(e).format("MM/DD/YYYY"):new Date(e.replace(/-/g,"/"))},isCDMACarrier:function(e){return!(!angular.isDefined(e)||!angular.equals(e,i.carrier_name.vzw)&&!angular.equals(e,i.carrier_name.spt))},getInstructions:function(e){return objR={},e&&e.map((function(e){void 0!=objR[e.productInstruction]?objR[e.productInstruction].push(e.productSerialNumber):objR[e.productInstruction]=[e.productSerialNumber]})),objR},isDataOnlyDevice:function(e){var t=e.deviceType?e.deviceType:"";return!!(angular.equals(t,i.device_type.hotspot)||angular.equals(t,i.device_type.byot)||angular.equals(t,i.device_type.carsmart)||angular.equals(t,i.device_type.signal_device))},convertLongDate:function(t){if(e.debug("utils::convertLongDate1",t),t){var n=new Date(t);if(e.debug("utils::convertLongDate2"+n),"Invalid Date"!=n)return n;var a=t.split("-");if(a&&3==a.length){var i=a[0];i&&i>0&&(i-=1);var r=a[1],o=a[2];return e.debug("utils::convertLongDate3",new Date(o,i,r)),new Date(o,i,r)}}return t},isTextMessageCapableDevice:function(e){return!(angular.equals(e,i.device_type.hotspot)||angular.equals(e,i.device_type.homephone)||angular.equals(e,i.device_type.byot))},getModalPoup:function(t,n){e.debug("utils::getModalPoup",t,n);var a=r.defer();o.open({animation:!1,templateUrl:t,controller:n,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:a}});return a.promise},removeDupPropJson:function(e,t){var n=[],a=[];return $.each(e,(function(e,i){-1==$.inArray(i[t],n)&&(n.push(i[t]),a.push(i))})),a},getShowDeviceBy:function(t){e.info("Utils::getShowDeviceBy/entry",t);var a,r=!1;return"HOTSPOT"!=t.deviceType&&t.deviceType!=i.device_type.carsmart&&t.deviceType!=i.device_type.signal_device||(r=!0),a=!r&&"BYOT"!=t.deviceType&&t.min?t.min:r&&!n.features.isGsmBrandOnly?t.esn:n.features.isGsmBrandOnly&&t.sim?t.sim.iccid?t.sim.iccid:t.esn:("BYOP"==t.deviceType||"BYOT"==t.deviceType)&&t.sim&&t.sim.iccid?t.sim.iccid:t.esn,e.info("Utils::getShowDeviceBy/exit",a),a},uuidv4:function(e,t){return(e&&e.length?e:"")+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))+(t&&t.length?t:"")},isFlashEligible:function(e){var t=!1,n={hotFlashEligible:!1,deviceData:{}};if("SIMPLE_MOBILE"!=config.app.brand||this.isNullOrEmpty(e))return n;for(var a=0;a<e.length;a++){if(1!=e[a].isFlashHot)return n;t=!0}return 1==t?(n.hotFlashEligible=!0,n.deviceData=e[0],n):void 0},allowAddingLineToExistingGroup:function(e){var t=e.deviceType?e.deviceType:"";return!angular.equals(t,i.device_type.signal_device)},isUpgradePortTransactionsAllowed:function(e){var t=e.deviceType?e.deviceType:"";return!(angular.equals(t,i.device_type.hotspot)||angular.equals(t,i.device_type.byot)||angular.equals(t,i.device_type.carsmart)||angular.equals(t,i.device_type.signal_device))},getHppTCUrl:function(e,a){var i="";if("APPLE"===e)i=n.terms_condition_url.apple_care;else{t.lang_key;i=a?n.terms_condition_url.mobile_protect_plus:n.terms_condition_url.mobile_protect}return i},getTermsConditionHppUrl:function(e){var a="",i="es_ES"==t.lang_key?"es-us.pdf":"en-us.pdf";return a=n.mobile_protect_url+"pdf/mobileprotect_",a+=i}}}angular.module("app").factory("$utils",e),e.$inject=["$log","$rootScope","$appConfig","$filter","$appConstants","$q","$uibModal"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={brand_validation:{url:n.brandvalidation,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("brandvalidation",r)}])})(),(function(){var e={forward:function(e){return{}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t=e.response.response}};angular.module("app").run(["$voMapConfig",function(t){t.register("brandvalidation",e)}])})(),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/activationcc/confirmation_activation",{templateUrl:"/app/views/rpe/confirmation/purchaseconfirmation/purchaseconfirmation_view_rpe_105_2.html",controller:"purchasesummarycontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("purchasesummarycontroller")}]},on:function(){var e={};return e[n.rpe.redemption.managestash]="/myaccount/managereserve",e[n.redirectsurvey]="/redirectsurvey",e[n.home]="/home",e[n.dashboard]="/myaccount/dashboard",e[n.accountrecovery]="/myaccount/login/collectusername",e[n.balanceinquiry.manageDataLimit.updateDataLimit]="/balanceinquiry/selectdevice",e[n.balanceinquiry.manageDataLimit.collectmin]="/balanceinquiry/collectphone",e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.hpp.landing]="/hpp/landing",e[n.hpp.plans]="/hpp/plans?hpp_flow=Y",e}}).when("/activation/checksimsize/:carrier",{templateUrl:"app/views/simexchange/select_sim_size.html",controller:"simexchangecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("simexchangecontroller")}]}}).when("/activation/airtimeserviceplan",{templateUrl:"app/views/selectplan/airtime_service_plan_acre_111.1.html",controller:"airtimeserviceplanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("airtimeserviceplanController")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}],showAddLineOption:["$conditions",function(e){return e.showAddLineOption()}],routedata:["$done",function(e){return e.getData("/activation/airtimeserviceplan")}]},on:function(){var e={};return e[n.myaccount.createaccount.createnewaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.selectgroup]="/activation/selectgroup",e[n.accountrecovery]="/myaccount/login/collectusername",e[n.activation.selectgrouplogin]="/activation/createaclogin/activation!selectgroup",e}}).when("/activation/pincheckout",{templateUrl:"app/views/selectplan/pincheckout_acre_111_1_1.html",controller:"pincheckoutController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("pincheckoutController")}]},on:function(){var e={};return e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.pincheckoutlogin]="/activation/createaclogin/activation!pincheckout",e}}).when("/activation/airtimepin",{templateUrl:"app/views/selectplan/airtime_service_plan_acre_111.1.html",controller:"airtimeserviceplanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("airtimeserviceplanController")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}],showAddLineOption:["$conditions",function(e){return e.showAddLineOption()}]},on:function(){var e={};return e[n.myaccount.createaccount.createnewaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.selectgrouplogin]="/activation/createaclogin/activation!selectgroup",e}}).when("/activation/airtimeserviceplan/:action",{templateUrl:"app/views/selectplan/airtime_service_plan_acre_111.1.html",controller:"airtimeserviceplanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("airtimeserviceplanController")}]}}).when("/activation/instructions1",{templateUrl:"app/views/activation/instructions/activation_instructions1_acre_120.1.html",controller:"activationinstructionscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("activationinstructionscontroller")}]},on:function(){var e={};return e[n.activation.confirmation]="/activationcc/confirmation_activation",e}}).when("/activation/pininstructions/:action",{templateUrl:"app/views/activation/instructions/activation_instructions1_acre_120.1.html",controller:"activationinstructionscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("activationinstructionscontroller")}]},on:function(){var e={};return e[n.activation.confirmationpin]="/redemptionconfirmationSuccess",e}}).when("/activation/collectserviceprovider",{templateUrl:"app/views/ports/collect_currentprovider_acre_113.1_view.html",controller:"collectcurrentprovidercontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectcurrentprovidercontroller")}]}}).when("/activation/collectserviceprovider/:action",{templateUrl:"app/views/ports/collect_currentprovider_acre_113.1_view.html",controller:"collectcurrentprovidercontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectcurrentprovidercontroller")}]}}).when("/verifyaddress",{templateUrl:"app/views/activation/shippingaddress/verify_address_popup.html",controller:"verifyaddresscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("verifyaddresscontroller")}]}}).when("/collectlastfour/:action",{templateUrl:"app/views/activation/collect_last_four_popup.html",controller:"byopcollectsimpopcontroller"}).when("/activation/portupgradeinstructions/:flow",{templateUrl:"app/views/activation/upgradeinstructions/upgrade_instructions_acre_120.2.html",controller:"upgradeinstructionscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("upgradeinstructionscontroller")}]},on:function(){var e={};return e[n.activation.confirmationpin]="/redemptionconfirmationSuccess",e}}).when("/activation/portupgradeinstructions",{templateUrl:"app/views/activation/upgradeinstructions/upgrade_instructions_acre_120.2.html",controller:"upgradeinstructionscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("upgradeinstructionscontroller")}]},on:function(){var e={};return e[n.activation.purchasesummary]="/activation/purchasesummary",e}}).when("/activation/collectlastfourvalidacct/:redirect",{templateUrl:"app/views/upgrades/collectlastfour_validacct_view.html",controller:"collectlastfourvalidacctcontroller"}).when("/activation/keepcollectphone/:action",{templateUrl:"app/views/activation/collectphonenumber/keepcollect_phone_acre_110.1_view.html",controller:"keepcollectphonecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("keepcollectphonecontroller")}],showAddLineOption:["$conditions",function(e){return e.showAddLineOption()}]},on:function(){var e={};return e[n.activation.selectgroup]="/activation/selectgroup",e[n.activation.selectgrouplogin]="/activation/createaclogin/activation!selectgroup",e}}).when("/activation/compatiblesim/devicestatus/:carrier",{templateUrl:"app/views/activation/byop/checkeligible/devicestatus_view.html",controller:"deviceStatusController",on:function(){var e={};return e[n.activation.internalportflow.selectserviceplan]="/activation/airtimeserviceplan",e[n.activation.internalportflow.createaccount]="/createaclogin/activation!collectlastfourinvalidacct",e[n.activation.internalportflow.upgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.skiptocheckout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e}}).when("/activation/purchasesummary",{templateUrl:"app/views/rpe/purchases/summary/purchase_confirmation_view.html",controller:"purchasesummarycontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("purchasesummarycontroller")}],_:["$location","$devicesCartServices",function(e,t){t.getSavedDevices().length>0||e.url("/serviceplan")}]}}).when("/activation/byopcollectsim",{templateUrl:"app/views/activation/collectsim/byop/byop_collect_sim_acre_103.2.html",controller:"byopcollectsimController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("byopcollectsimController")}]},on:function(){var e={};return e[n.activation.byopcollectesn.collectesnvzw]="/activation/byop/collectesn",e[n.activation.byopcollectsim.compatible.carriers]="/activation/coveragecheck",e[n.activation.byopcollectsim.eligiblecdma]="/activation/byopcollectesn/CDMA",e[n.activation.byopcollectsim.removedvcdummyact.serviceplanpin]="/activation/airtimeserviceplan",e[n.activation.byopcollectsim.removedvcdummyact.createactcheckbyopstat]="/createaclogin/activation!checkbyopstatus",e[n.activation.byopcollectsim.removedvcdummyact.instructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.termsconditionspopup.closebutton]="/activation/selectdevice",e[n.activation.termsconditionspopup.declinebutton]="/activation/selectdevice",e[n.activation.deviceselection.skiptocheckout]="/activation/checkout",e[n.activation.byot]="/activation/collectdevicezip",e[n.activation.pincheckout]="/activation/pincheckout",e}}).when("/activation/coveragecheck",{templateUrl:"app/views/activation/collectsim/byop/checkcoverage/coverage_check_acre_102.2_view.html",controller:"checkcoveragecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("checkcoveragecontroller")}]},on:function(){var e={};return e[n.activation.byopcollectsim.compatible.carriers]="/activation/coveragecheck",e[n.activation.byopcollectsim.eligiblecdma]="/activation/byopcollectesn/CDMA",e[n.activation.byopcollectsim.removedvcdummyact.serviceplanpin]="/activation/airtimeserviceplan",e[n.activation.byopcollectsim.removedvcdummyact.createactcheckbyopstat]="/createaclogin/activation!checkbyopstatus",e[n.activation.byopcollectsim.removedvcdummyact.instructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.termsconditionspopup.closebutton]="/activation/selectdevice",e[n.activation.termsconditionspopup.declinebutton]="/activation/selectdevice",e[n.activation.deviceselection.skiptocheckout]="/activation/checkout",e[n.activation.compatiblesim.carrier]="/activation/compatiblesim",e[n.activation.carrier.noteligible]="/home",e[n.activation.carrier.unlock.closebutton]="/activation/coveragecheck",e[n.activation.compatiblesim.unlock]="/activation/compatiblesim",e[n.activation.phoneeligibility]="/activation/phoneeligibility",e[n.activation.byopcollectesn.collectesnvzw]="/activation/byop/collectesn",e[n.activation.byopcollectesn.collectesnspt]="/activation/byop/collectesn",e}}).when("/activation/byopcollectesn/:carrier_name",{templateUrl:"app/views/activation/byop/collectesn/byop_collect_esn.html",controller:"byopcollectesnController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("byopcollectesnController")}]}}).when("/activation/compatiblesim",{templateUrl:"app/views/activation/collectsim/byop/checkeligible/collect_compatiblesim_view.html",controller:"carriercompatiblesimcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("carriercompatiblesimcontroller")}]},on:function(){var e={};return e[n.activation.compatiblesim.collectesn]="/activation/byopcollectesn/:carrier_name",e[n.activation.byopcollectsim.compatible.carriers]="/activation/coveragecheck",e[n.activation.byopcollectsim.eligiblecdma]="/activation/byopcollectesn/CDMA",e[n.activation.byopcollectsim.removedvcdummyact.serviceplanpin]="/activation/airtimeserviceplan",e[n.activation.byopcollectsim.removedvcdummyact.createactcheckbyopstat]="/createaclogin/activation!checkbyopstatus",e[n.activation.byopcollectsim.removedvcdummyact.instructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.termsconditionspopup.closebutton]="/activation/selectdevice",e[n.activation.termsconditionspopup.declinebutton]="/activation/selectdevice",e[n.activation.deviceselection.skiptocheckout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.compatiblesim.unlock]="/activation/checksimsize/UNLOCK",e[n.activation.compatiblesim.checksimsize]="/activation/checksimsize/:carrier_name",e[n.activation.currentlyactive]="/activation/phonecurrentlyactive",e[n.activation.shopsim.carrier.att]="/activation/selectdevicetype",e[n.activation.shopsim.carrier.tmo]="/activation/selectdevicetype",e[n.activation.selectdevicetype]="/activation/selectdevicetype",e[n.activation.byopcollectesn.collectesntmo]="/activation/byop/collectesn",e}}).when("/activation/selectdevice",{templateUrl:"app/views/activation/selectdevice/select_device_acre_101.1.html",controller:"selectdevicecontroller",pageId:"ACRE_101.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("selectdevicecontroller")}],_init:["$conditions",function(e){return e.initializeSelect()}]},on:function(){var e={};return e[n.activation.deviceselection.selectdevice.byop]="/activation/byopcollectsim",e[n.activation.deviceselection.selectdevice.branded.sim]="/activation/collectsim",e[n.activation.deviceselection.selectdevice.branded.esn]="/activation/collectesn",e[n.activation.byopcollectesn.collectesnvzw]="/activation/byop/collectesn",e[n.activation.deviceselectionlogin]="/activation/createaclogin/activation!selectdevice",e}}).when("/activation/collectesn",{templateUrl:"app/views/activation/collectesn/collect_esn_acre_109.1.html",controller:"collecttracfoneesnController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collecttracfoneesnController")}]},on:function(){var e={};return e[n.activation.externalport]="/activation/collectserviceprovider",e[n.activation.internalport]="/activation/internalport",e[n.activation.pinserviceplan]="/activation/airtimeserviceplan",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.myaccount.createaccount.createnewaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.collectlastfourdigits]="/activation/collectlastfourvalidacct/activation!collectlastfourvalidacct",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",
e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.checkout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.deviceselection.selectdevice.branded.sim]="/activation/simnumber",e}}).when("/activation/collectminexchange",{templateUrl:"app/views/activation/collectminexchange/collectminexchange_110.3_view.html",controller:""}).when("/activation/collectmin",{templateUrl:"app/views/activation/collectminexchange/collectmin_110.3_view.html",controller:"collectminexchange",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectminexchange")}]}}).when("/activation/collectsim",{templateUrl:"app/views/activation/collectsim/byop/collect_sim_acre_109.1.html",controller:"collecttracfoneesnController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collecttracfoneesnController")}]},on:function(){var e={};return e[n.activation.externalport]="/activation/collectserviceprovider",e[n.activation.internalport]="/activation/internalport",e[n.activation.pinserviceplan]="/activation/airtimeserviceplan",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.myaccount.createaccount.createnewaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.collectlastfourdigits]="/activation/collectlastfourvalidacct/activation!collectlastfourvalidacct",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.checkout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e}}).when("/activation/collectesn/:action",{templateUrl:"app/views/activation/collectesn/collect_esn_acre_109.1.html",controller:"collecttracfoneesnController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collecttracfoneesnController")}]}}).when("/activation/collectsim/:action",{templateUrl:"app/views/activation/collectsim/byop/collect_sim_acre_109.1.html",controller:"collecttracfoneesnController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collecttracfoneesnController")}]}}).when("/activation/keepcollectphone",{templateUrl:"app/views/activation/collectphonenumber/keepcollect_phone_acre_110.1_view.html",controller:"keepcollectphonecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("keepcollectphonecontroller")}],activeDevice:["$conditions",function(e){return e.activeDevices()}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}],showAddLineOption:["$conditions",function(e){return e.showAddLineOption()}]},on:function(){var e={};return e[n.activation.externalport]="/activation/collectserviceprovider",e[n.activation.internalport]="/activation/internalport",e[n.activation.portupgrade]="/activation/upgrade",e[n.activation.pinserviceplan]="/activation/airtimeserviceplan",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.checkout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.myaccount.createaccount.createnewaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.collectlastfourdigits]="/activation/collectlastfourvalidacct/activation!collectlastfourvalidacct",e[n.activation.airtimepin]="/activation/airtimepin",e[n.activation.selectgroup]="/activation/selectgroup",e[n.activation.selectgrouplogin]="/activation/createaclogin/activation!selectgroup",e}}).when("/activation/serviceplan",{templateUrl:function(){return window.config.app.features.groupbased?"app/views/rpe/service_plans/serviceplans_group_view_rpe_103.13.html":window.config.app.features.isSmServicePlanRedesign?"app/views/rpe/service_plans/serviceplans_sm_view_rpe_103.13.html":"app/views/rpe/service_plans/serviceplans_view_rpe_103.13.html"},controller:"serviceplanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("serviceplanController")}],serviceplan:["$conditions","$appConditions",function(e,t){return e.evaluate([t.serviceplans]).then((function(e){return e})).catch((function(e){return e}))}],deviceSelected:["$conditions",function(e){return e.redemptionSelectedDevice()}],partnerDetails:["$conditions","$appConditions",function(e,t){return e.evaluate([t.getPartnerDetails]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.accessaccount]="accessaccount/accountRenewalMain",e[n.renewal]="accountRenewalMain",e[n.checkout]="checkout",e[n.activation.purchase]="/activation/checkout",e[n.activation.createaccount]="activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e[n.asurion.hppplans]="/asurion/hppplans",e}}).when("/activation/serviceplan/:action",{templateUrl:"app/views/rpe/service_plans/serviceplans_view_rpe_103.13.html",controller:"serviceplanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("serviceplanController")}],serviceplan:["$conditions","$appConditions",function(e,t){return e.evaluate([t.serviceplans,t.monthlyplans]).then((function(e){return e})).catch((function(e){return e}))}],deviceSelected:["$conditions",function(e){return e.redemptionSelectedDevice()}],partnerDetails:["$conditions","$appConditions",function(e,t){return e.evaluate([t.getPartnerDetails]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.accessaccount]="accessaccount/accountRenewalMain",e[n.renewal]="accountRenewalMain",e[n.checkout]="checkout",e[n.activation.createaccount]="activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e}}).when("/activation/createaclogin/:redirect",{templateUrl:"app/views/myaccount/createaccount/createaccount_view.html",controller:"createUserAccController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("createUserAccController")}],maxdate:["$conditions",function(e){return e.getAccountDOBMaxdate()}]},on:function(){var e={};return e[n.accessaccount]="accessaccount/accountRenewalMain",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e[n.activation.createaccount]="activation/createaclogin/activation!airtimeserviceplan/",e[n.myaccount.getusername.invalidemail]="/myaccount/login/loginwithmin",e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.dummymin.actdvcavailable]="/myaccount/accountrecovery/selectactivedevice",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.myaccount.failure]="/myaccount/login/collectusername",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.failure]="/myaccount/login/collectusername",e[n.myaccount.getusername.dummymin.verifyzipcode]="/myaccount/accountrecovery/collectzipcode",e[n.dashboard]="/myaccount/dashboard/",e[n.activation.checkout]="/activation/checkout",e[n.activation.internalportflow.upgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.pinserviceplan]="/activation/airtimeserviceplan",e[n.activation.deviceselection.selectdevice.branded.esn]="/activation/collectesn",e[n.activation.byopcollectesn.collectesnvzw]="/activation/byop/collectesn",e}}).when("/activation/redemptionconfirmation",{templateUrl:"app/views/rpe/confirmation/orderconfirmation_view.html",controller:"redemptionconfirmationcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("redemptionconfirmationcontroller")}]}}).when("/activation/checkout",{templateUrl:"app/views/rpe/checkout/checkout_view_rpe_104.1.html",controller:"checkoutController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("checkoutController")}],cart:["$conditions","$appConditions",function(e,t){return e.evaluate([t.loggedIn,t.stageDevice]).then((function(e){return e})).catch((function(e){return e}))}],addDeviceToGetPartnerDiscount:["$conditions","$appConditions",function(e,t){return e.evaluate([t.addDeviceToGetPartnerDiscount]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.dashboard]="/myaccount/dashboard",e[n.home]="/home",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.instructions]="/activation/instructions1",e[n.activation.confirmation]="/activationcc/confirmation_activation",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.accountrecovery]="/myaccount/login/collectusername",e}}).when("/activation/checkout/:action",{templateUrl:"app/views/rpe/checkout/checkout_view_rpe_104.1.html",controller:"checkoutController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("checkoutController")}],_:["$location","$cartService","$deviceService","$devicesCartServices",function(e,t,n,a){t.getPlans().length>0&&n.getSelectedDevice()||a.getSavedDevices().length>0||e.url("/activation/selectdevice")}],addDeviceToGetPartnerDiscount:["$conditions","$appConditions",function(e,t){return e.evaluate([t.addDeviceToGetPartnerDiscount]).then((function(e){return e})).catch((function(e){return e}))}]}}).when("/activation/upgrade",{templateUrl:"app/views/activation/internalport/internalport_upgrade_acre_116.1_view.html",controller:"internalportUpgrade",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("internalportUpgrade")}],_data:["$conditions",function(e){return e.getPortUpgradeDetails()}]},on:function(){var e={};return e[n.activation.internalportflow.selectserviceplan]="/activation/airtimeserviceplan",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.internalportflow.createaccount]="/createaclogin/activation!collectlastfourinvalidacct",e[n.activation.internalportflow.upgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.skiptocheckout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.internalportflow.airtimepin]="/activation/airtimepin",e}}).when("/activation/internalport",{templateUrl:"app/views/activation/internalport/internalport_upgrade_acre_116.1_view.html",controller:"internalportUpgrade",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("internalportUpgrade")}],_data:["$conditions",function(e){return e.getPortUpgradeDetails()}]},on:function(){var e={};return e[n.activation.internalportflow.selectserviceplan]="/activation/airtimeserviceplan",e[n.activation.serviceplan]="/activation/serviceplan",e[n.activation.internalportflow.createaccount]="/createaclogin/activation!collectlastfourinvalidacct",e[n.activation.internalportflow.upgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.myaccount.createaccount.createnewaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.skiptocheckout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.internalportflow.airtimepin]="/activation/airtimepin",e}}).when("/activation/selectdevicetype",{templateUrl:"app/views/activation/selectdevice/select_device_type_acre_101.3_view.html",controller:"selectdevicetypecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("selectdevicetypecontroller")}]},on:function(){var e={};return e[n.activation.selectsimsize.phone]="/activation/selectsimsize",e[n.activation.selectsimsize.tablet]="/activation/selectsimsize",e[n.activation.shippingaddress.collect]="/shippingaddress",e[n.activation.selectsimsize.phone]="/activation/selectsimsize",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.byopcollectsim.removedvcdummyact.serviceplanpin]="/activation/airtimeserviceplan",e[n.activation.byopcollectsim.removedvcdummyact.createactcheckbyopstat]="/createaclogin/activation!checkbyopstatus",e[n.activation.byopcollectsim.removedvcdummyact.instructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.currentlyactive]="/activation/phonecurrentlyactive",e}}).when("/activation/phonecurrentlyactive",{templateUrl:"app/views/activation/phonestatus/currently_active_acre_106.1_view.html",controller:"currentlyactivecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("currentlyactivecontroller")}]},on:function(){var e={};return e[n.activation.selectdevicetype]="/activation/selectdevicetype",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.byopcollectsim.removedvcdummyact.serviceplanpin]="/activation/airtimeserviceplan",e[n.activation.byopcollectsim.removedvcdummyact.createactcheckbyopstat]="/createaclogin/activation!checkbyopstatus",e[n.activation.byopcollectsim.removedvcdummyact.instructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.selectsimsize.phone]="/activation/selectsimsize",e[n.activation.deviceagreement.accept]="/activation/selectdevicetype",e[n.activation.deviceagreement.decline]="/activation/selectdevicetype",e[n.activation.shippingaddress.collect]="/shippingaddress",e}}).when("/activation/phoneeligibility",{templateUrl:"app/views/activation/phonestatus/phoneeligibility_acre_108.2_view.html",controller:"phoneeligibilitycontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("phoneeligibilitycontroller")}]},on:function(){var e={};return e[n.activation.currentlyactive]="/activation/phonecurrentlyactive",e[n.activation.shopsim.carrier.verizon]="/activation/phonecurrentlyactive",e[n.activation.selectdevicetype]="/activation/selectdevicetype",e}}).when("/activation/byop/collectesn",{templateUrl:"app/views/activation/collectesn/byop/byop_collect_esn_acre_105.1_view.html",controller:"byopcollectesnController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("byopcollectesnController")}]},on:function(){var e={};return e[n.activation.phoneeligibility]="/activation/phoneeligibility",e[n.activation.compatiblesim.carrier]="/activation/compatiblesim",e[n.activation.byopcollectsim.removedvcdummyact.serviceplanpin]="/activation/airtimeserviceplan",e[n.activation.byopcollectsim.removedvcdummyact.createactcheckbyopstat]="/createaclogin/activation!checkbyopstatus",e[n.activation.byopcollectsim.removedvcdummyact.instructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.activation.termsconditionspopup.closebutton]="/activation/selectdevice",e[n.activation.termsconditionspopup.declinebutton]="/activation/selectdevice",e[n.activation.deviceselection.skiptocheckout]="/activation/checkout",e[n.activation.shopsim.carrier.verizon]="/activation/phonecurrentlyactive",e[n.activation.selectdevicetype]="/activation/selectdevicetype",e[n.activation.currentlyactive]="/activation/phonecurrentlyactive",e[n.activation.checkout]="/activation/checkout",e[n.activation.pincheckout]="/activation/pincheckout",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e}}).when("/activation/simnumber",{templateUrl:"app/views/activation/collectsim/branded/collect_sim_acre_119.1_view.html",controller:"collectsimcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectsimcontroller")}]},on:function(){var e={};return e[n.activation.pinserviceplan]="/activation/airtimeserviceplan",e[n.activation.byopcollectsim.neworrefurbish.collectmin]="/activation/collectmin",e[n.activation.byopcollectsim.neworrefurbish.keeporcollectphone]="/activation/keepcollectphone",e[n.myaccount.createaccount.createnewaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.checkout]="/activation/checkout",e[n.activation.shopsim.carrier.verizon]="/activation/phonecurrentlyactive",e}}).when("/activation/selectsimsize",{templateUrl:"app/views/simexchange/select_sim_size.html",controller:"simexchangecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("simexchangecontroller")}]}}).when("/transferservice/instruction",{templateUrl:"app/views/activation/transferservice/transfer_service_instruction_acre_100.4.html",controller:"transferservicecontroller",pageId:"ACRE_100.4",on:function(){var e={};return e[n.activation.transfermyservice.confirmed]="/activation/selectdevice",e}}).when("/activation/selectgroup",{templateUrl:"app/views/activation/selectgroup/select_group_acre_126.1.html",controller:"selectgroupcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("selectgroupcontroller")}],groups:["$conditions","$deviceService","$done",function(e,t,n){return t.getActiveGroupsAvailable()}]},on:function(){var e={};return e[n.activation.pininstructions]="/activation/pininstructions/PIN_FLOW",e[n.activation.portupgradeinstructions]="/activation/portupgradeinstructions/PIN_FLOW",e}}).when("/shippingaddress",{templateUrl:"app/views/activation/shippingaddress/shipping_address_acre_121.1_view.html",controller:"shippingaddresscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("shippingaddresscontroller")}]},on:function(){var e={};return e[n.activation.shippingaddress.confirmed]="/home",e}}),t.html5Mode(!0)}]),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/balanceinquiry",{template:'<ubi-login-page logged-in="$resolve._logged_in"></ubi-login-page>',resolve:{_logged_in:["$conditions","$done",function(e,t){e.sessionReset(!0),e.loggedIn().then((function(e){e&&t.redirect(n.balanceinquiry.login.selectdevice)}))}]},on:function(){var e={};return e[n.balanceinquiry.login.selectdevice]="/balanceinquiry/selectdevice",e[n.balanceinquiry.selectdevice.deviceselected]="/balanceinquiry/devicedetails",e[n.balanceinquiry.collectSimSerial]="/balanceinquiry/collectSimSerialNumber",e}}).when("/balanceinquiry/selectdevice",{template:'<ubi-select-device logged-in="$resolve._logged_in" device-list="$resolve.deviceList"></ubi-select-device>',pageId:"BI_101.1",resolve:{_logged_in:["$conditions","$done",function(e,t){e.sessionReset(!0),e.loggedIn().then((function(e){e||t.redirect(n.balanceinquiry.notloggedin)}))}],deviceList:["$conditions","$deviceService",function(e,t){return e.getAccountDetails().then((function(t){if(t.ban_details&&t.ban_details.ban_id&&e.getAccountRenewal(t).then((function(e){t.active_devices.forEach((function(e,n){t.active_devices[n].auto_refill_next_charge_date=t.ban_details.renewalDate}))})),t.active_devices.length>0){if(window.config.app.features.groupbased||window.config.app.features.multiline)return t.active_devices;if(t.inactive_devices.length>0){var n=[];return n=t.active_devices,t.inactive_devices.forEach((function(e,a){""!=e.min&&"BALANCE"==e.inquiryType&&n.push(t.inactive_devices[a])})),n}return t.active_devices}if("NET10"==window.config.app.brand){var n=[];return t.inactive_devices.forEach((function(e,a){""!=e.min&&"BALANCE"==e.inquiryType&&n.push(t.inactive_devices[a])})),n}return t.active_group_devices}))}]},on:function(){var e={};return e[n.balanceinquiry.selectdevice.deviceselected]="/balanceinquiry/devicedetails",e[n.balanceinquiry.notloggedin]="/balanceinquiry/login",e}}).when("/direct/UnSubscribe",{templateUrl:"app/views/emailsubscribe/emailsubscribe_view.html",controller:"unsubscribeController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("unsubscribeController")}]}}).when("/balanceinquiry/collectSimSerialNumber",{template:"<ubi-collect-sim-serial></ubi-collect-sim-serial>",on:function(){var e={};return e[n.balanceinquiry.selectdevice.deviceselected]="/balanceinquiry/devicedetails",e}}).when("/balanceinquiry/devicedetails",{template:'<ubi-balance-details logged-in="$resolve._logged_in" data="$resolve.data"></ubi-balance-details>',resolve:{_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect(n.balanceinquiry.login.selectdevice)}))}],data:["$conditions",function(e){var t={data:{}};return e.selectedDevice().then((function(n){e.renewalCustAccounStatus(),t.data=n})),e.getDeviceDataDetails().then((function(n){if(t.data.deviceData=n,angular.isUndefined(t.data.daysRemaining)){var a=e.serviceEndDays();t.data.daysRemaining=a}return t.data}))}]},on:function(){var e={};return e[n.balanceinquiry.balancedetails.done]="/myaccount/dashboard",e[n.home]="/home",e[n.checkout]="/checkout",e[n.myaccount.dashboard.alloptions.managereserve]="/myaccount/managereserve",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.ubi.autorefill]="/autorefill",e[n.ubi.refill]="/collectminpinpromo",e[n.ubi.addonpurchase]="/serviceplan/addons",e}}).when("/balanceinquiry/collectphone",{template:"<ubi-collect-phone></ubi-collect-phone>",on:function(){var e={};return e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.myaccount.fblogin.success]="/balanceinquiry/updatedatalimit",e}}),t.html5Mode(!0)}]),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/protectyourphone/easyexchange",{templateUrl:"/app/views/protectyourphone/easyexchange_view_101.1.html",controller:"easyExchangeController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("easyExchangeController")}],hppEligibleDevices:["$conditions",function(e){return e.sessionReset(!0),e.hppEligibleDevices()}]},on:function(){var e={};return e[n.protectyourphone.faqs]="/faqs/Services/EasyExchange",e[n.easyExchange.select.program]="/protectyourphone/selectyourprogram",e}}).when("/protectyourphone/selectyourprogram",{templateUrl:"/app/views/protectyourphone/selecthppplan/selecthppplan_view_102_1.html",controller:"selectHppPlanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("selectHppPlanController")}]},on:function(){var e={};return e[n.protectyourphone.selectplan.faqs]="/faqs/Services/EasyExchange",e[n.rpe.redemption.checkout]="/checkout",e}}).when("/protectyourphone/checkout",{templateUrl:"/app/views/protectyourphone/checkout/easyexchangecheckout_103_view.html",controller:"easyExchangeCheckoutController",on:function(){var e={};return e[n.protectyourphone.confirmation]="/protectyourphone/confirmation",e}}).when("/protectyourphone/confirmation",{templateUrl:"/app/views/protectyourphone/confirmation/easyexchangeconfirmation_view_104.html",controller:"hppConfirmationController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("hppConfirmationController")}]}}).when("/hpp/landing",{redirectTo:function(){window.location.href="/hpp/landing"}}).when("/hpp/plans",{redirectTo:function(){window.location.href="/hpp/plans"}}).when("/hpp/checkout",{templateUrl:"app/views/rpe/checkout/checkout_view_rpe_104.1.html",controller:"checkoutController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("checkoutController")}],cart:["$conditions","$appConditions",function(e,t){return e.evaluate([t.loggedIn,t.groupDevices]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.dashboard]="/myaccount/dashboard",e[n.home]="/home",e[n.activation.instructions]="/activation/instructions1",e[n.activation.confirmation]="/activationcc/confirmation_activation",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.rpe.redemption.purchaseplan]="/serviceplan",e}}),t.html5Mode(!0)}]),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/inqChat.html",{templateUrl:"/inqChat.html"}).when("/home",{redirectTo:function(){if(!window.config.app.features.isHomeNew)return"/";window.location="/"}}).when("/help/techsupport",{redirectTo:"/techsupport"}).when("/apn",{templateUrl:"app/views/apn/apn_view.html",controller:"apnController",pageId:"APN_100.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("apnController")}],apnInit:["$conditions",function(e){return e.activeDevices()}]},on:function(){var e={};return e[n.home]="home",e}}).when("/updatebrowser",{templateUrl:"app/views/updatebrowser/updatebrowser_view.html",controller:"updateBrowserController",pageId:"TLS_1.2",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("updateBrowserController")}]}}).when("/shop/ild",{templateUrl:"app/views/ild/ild_view.html",controller:"serviceplanController",pageId:"ILD_100.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("serviceplanController")}],serviceplan:["$conditions","$appConditions",function(e,t){return e.evaluate([t.sessionReset,t.serviceplans]).then((function(e){return e})).catch((function(e){return e}))}],deviceSelected:["$conditions",function(e){return e.redemptionSelectedDevice()}]},on:function(){var e={};return e[n.accessaccount]="accessaccount/accountRenewalMain",e[n.renewal]="accountRenewalMain",e[n.rpe.redemption.checkout]="/checkout",e[n.rpe.redemption.logincheckout]="/myaccount/login/collectpassword/autorefill",e[n.activation.createaccount]="activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.rpe.redemption.addnow]="/addnowwarnings",e[n.rpe.redemption.enrollnow]="/enrollnowwarnings",e[n.rpe.redemption.applynow]="/applynowwarnings",e[n.rpe.redemption.purchaseplan]="/serviceplan/",e}}).when("/unsubscribe",{templateUrl:"app/views/emailsubscribe/emailsubscribe_view.html",controller:"unsubscribeController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("unsubscribeController")}]},pageId:"MYAC_100.22",on:function(){var e={};return e[n.unsubscribe.email.cancel]="home",e[n.unsubscribe.email.continue]="home",e[n.unsubscribe.email.success]="/unsubscribe/result",e}}).when("/direct/UnSubscribe",{templateUrl:"app/views/emailsubscribe/emailsubscribe_view.html",controller:"unsubscribeController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("unsubscribeController")}]}}).when("/unsubscribe/result",{templateUrl:"app/views/emailsubscribe/emailsubscribe_success_view.html",controller:"unsubscribeController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("unsubscribeController")}]},on:function(){var e={};return e[n.unsubscribe.email.continue]="home",e}}).when("/employeediscount",{templateUrl:"/app/views/employeediscount/employeediscount_program_view.html",controller:"empdiscountprogramcontroller"}).when("/ebb",{templateUrl:"app/views/ebb/ebb_view.html"}).when("/why/do-amazing",{templateUrl:"app/views/doamazing/do_amazing.html"}).when("/employeediscount/error",{templateUrl:"/app/views/employeediscount/employeediscount_program_error_view.html",controller:"empdiscountprogramcontroller"}).when("/trackticket",{templateUrl:"/app/views/tracktickets/trackticketshome_view.html",controller:"trackTicketshome",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("trackTicketshome")}],_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect(n.tracktickets.login.selectdevice)}))}]},on:function(){var e={};return e[n.home]="home",e[n.tracktickets.searchresults]="trackticket/searchresults",e[n.tracktickets.login.selectdevice]="/trackticket/selectdevice",e}}).when("/trackticket/selectdevice",{templateUrl:"/app/views/tracktickets/ttselectdevice/ttselectdevice_tt_105.1_view.html",controller:"trackTicketSelectDevice",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("trackTicketSelectDevice")}],_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e||t.redirect(n.tracktickets.notloggedin.tracktickethome)}))}],rpeDevices:["$conditions",function(e){return e.redemptionDevices().then((function(e){return e}))}]},on:function(){var e={};return e[n.tracktickets.notloggedin.tracktickethome]="/trackticket",e[n.tracktickets.searchresults]="/trackticket/searchresults",e[n.home]="home",e}}).when("/trackticket/searchresults",{templateUrl:"/app/views/tracktickets/searchresults_view.html",controller:"ttSearchResults",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("ttSearchResults")}]},on:function(){var e={};return e[n.home]="home",e}}).when("/trackticket/updateaddress",{templateUrl:"/app/views/tracktickets/updateaddress/updateaddress_view.html",controller:"trackticketupdateaddress",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("trackticketupdateaddress")}]}}).when("/ildrates",{templateUrl:"app/views/ild/ildinternationalrates_new_view.html",controller:"ildinternationalratescontroller"}).when("/asurion/hppplans",{templateUrl:"app/views/asurion/hpp/hpp_plans.html",controller:"hppplansController",on:function(){var e={};return e[n.activation.createaccount]="/activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e}}).when("/asurion/hppplans/redemption",{templateUrl:"app/views/asurion/hpp/hpp_plans_redeem.html",controller:"hppplansController",on:function(){var e={};return e[n.asurion.redemptionmoreinfo]="/asurion/hppplans/redemptionmoreinfo",e[n.activation.checkout]="/activation/checkout",e}}).when("/asurion/hppplans/redemptionmoreinfo",{templateUrl:"app/views/asurion/hpp/hpp_plans_redeem_more_info.html",controller:"hppplansController",on:function(){var e={};return e[n.activation.checkout]="/activation/checkout",e}}).when("/protectyourphones/landing",{templateUrl:"app/views/asurion/hpp/hpp_landingpage.html",controller:"hppLandingPageController"}).when("/telehealth",{redirectTo:function(){window.location.href="/telehealth"}}).when("/gettingstarted",{templateUrl:"app/views/gettingstarted/gettingstarted.html"}).when("/carsmartlanding",{templateUrl:"app/views/rpe/service_plans/carsmarthomepage/carsmarthomepage_view.html"}),t.html5Mode(!0)}]),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/myaccount/login/collectusername",{templateUrl:"app/views/myaccount/login/collectusername/collectusername_view_myac_101.2.html",controller:"collectUserNameCtrl",resolve:{_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect("userloggedin")})).catch((function(e){return e}))}],routedata:["$done",function(e){return e.getData("/myaccount/login/collectusername")}]},on:function(){var e={};return e[n.myaccount.getusername.invalidemail]="/myaccount/login/loginwithmin",
e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.dummymin.actdvcavailable]="/myaccount/accountrecovery/selectactivedevice",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.myaccount.failure]="/myaccount/login/collectusername",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.failure]="/myaccount/login/collectusername",e[n.myaccount.getusername.dummymin.verifyzipcode]="/myaccount/accountrecovery/collectzipcode",e[n.rpe.redemption.collectminpinpromo]="/collectminpinpromo",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e}}).when("/myaccount/login/collectusername/:redirect",{templateUrl:"app/views/myaccount/login/collectusername/collectusername_view_myac_101.2.html",controller:"collectUserNameCtrl",resolve:{_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect("userloggedin")})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.myaccount.getusername.invalidemail]="/myaccount/login/loginwithmin",e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.dummymin.actdvcavailable]="/myaccount/accountrecovery/selectactivedevice",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.failure]="/myaccount/login/loginwithmin",e[n.myaccount.fblogin.failure]="/myaccount/login/collectusername",e[n.myaccount.getusername.dummymin.verifyzipcode]="/myaccount/accountrecovery/collectzipcode",e}}).when("/myaccount/forgotusername",{templateUrl:"app/views/myaccount/accountrecovery/forgotusername/forgotusername_view.html",controller:"forgotusernameController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("forgotusernameController")}]}}).when("/myaccount/login/collectpassword",{templateUrl:"app/views/myaccount/login/collectpassword/collectpassword_view_myac_101.4.html",controller:"collectPasswordCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectPasswordCtrl")}],_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect("userloggedin")})).catch((function(e){return e}))}],username:["$guards",function(e){return e.emailOrDeviceInSession()}]},on:function(){var e={};return e[n.errors.user.loginuser]="/myaccount/login/collectusername",e[n.myaccount.getpassword.validpwd]="/myaccount/dashboard",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.syncemail]="/myaccount/syncfbemail",e[n.myaccount.forgotpassword.resetpassword]="/myaccount/accountrecovery/resetpassword",e[n.balanceinquiry.manageDataLimit.updateDataLimit]="/balanceinquiry/selectdevice",e}}).when("/myaccount/login/collectpassword/:options",{templateUrl:"app/views/myaccount/login/collectpassword/collectpassword_view_myac_101.4.html",controller:"collectPasswordCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectPasswordCtrl")}],_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect("userloggedin")})).catch((function(e){return e}))}],username:["$guards",function(e){return e.emailOrDeviceInSession()}]},on:function(){var e={};return e[n.errors.user.loginuser]="/myaccount/login/collectusername",e[n.myaccount.getpassword.validpwd]="/myaccount/dashboard",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.syncemail]="/myaccount/syncfbemail",e[n.checkout]="/checkout",e}}).when("/myaccount/forgotpassword",{templateUrl:"app/views/myaccount/accountrecovery/forgotpassword/forgotpassword_view.html",controller:"forgotPasswordCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("forgotPasswordCtrl")}]}}).when("/myaccount/accountrecovery/resetpassword",{templateUrl:"app/views/myaccount/accountrecovery/forgotpassword/resetpassword_view_myac_103.3.html",controller:"resetPasswordCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("resetPasswordCtrl")}]},on:function(){var e={};return e[n.myaccount.forgotpassword.loginpage]="/myaccount/login/collectusername",e},pageId:"MYAC_103.3"}).when("/myaccount/login/loginwithmin",{templateUrl:"app/views/myaccount/login/collectusername/collectmin_view_myac_101.2.1.html",controller:"collectUserNameCtrl",resolve:{_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect("userloggedin")})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.dummymin.actdvcavailable]="/myaccount/accountrecovery/selectactivedevice",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.failure]="/myaccount/login/collectusername",e[n.myaccount.getusername.dummymin.verifyzipcode]="/myaccount/accountrecovery/collectzipcode",e}}).when("/myaccount/redeemlogin",{templateUrl:"app/views/myaccount/login/collectpassword/redemptionlogin_view.html",controller:"collectPasswordCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectPasswordCtrl")}],_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect("userloggedin")})).catch((function(e){return e}))}],viewOptions:["$userService",function(e){return 1!=e.isFBAcLoggedInNotLinked()}]},on:function(){var e={};return e[n.myaccount.getpassword.validpwd]="/myaccount/dashboard",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.syncemail]="/myaccount/syncfbemail",e}}).when("/myaccount/accountrecovery/collectverificationcode",{templateUrl:"app/views/myaccount/accountrecovery/collectverification/collectverification_view_myac_102.11.html",controller:"collectVerificationCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectVerificationCtrl")}],_:["$conditions","$done",function(e,t){angular.isDefined(e.getAccountStatus())||t.redirect("/myaccount/login/collectusername")}],_data:["$conditions",function(e){return e.getAccountStatus()}]},on:function(){var e={};return e[n.accountrecovery]="/myaccount/login/collectusername",e[n.myaccount.getverifycode.success.checkpointsavail]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getverifycode.success.checkpointsnotavail]="/myaccount/accountrecovery/updateaccount",e}}).when("/myaccount/accountrecovery/verificationcode/:showZipCodeOption",{templateUrl:"app/views/myaccount/accountrecovery/collectverification/collectverification_view_myac_102.11.html",controller:"collectVerificationCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectVerificationCtrl")}],_:["$conditions","$done",function(e,t){angular.isDefined(e.getAccountStatus())||t.redirect("/myaccount/login/collectusername")}]},on:function(){var e={};return e[n.accountrecovery]="/myaccount/login/collectusername",e[n.myaccount.getverifycode.success.checkpointsavail]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getverifycode.success.checkpointsnotavail]="/myaccount/accountrecovery/updateaccount",e}}).when("/myaccount/accountrecovery/selectactivedevice",{templateUrl:"app/views/myaccount/accountrecovery/selectactivedevice/selectactivedevices_view_myac_102.10.html",controller:"selectActiveDeviceCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("selectActiveDeviceCtrl")}],_:["$conditions","$done",function(e,t){angular.isDefined(e.getAccountStatus())||t.redirect("/myaccount/login/collectusername")}],_data:["$conditions",function(e){return e.getAccountStatus()}]},on:function(){var e={};return e[n.accountrecovery]="/myaccount/login/collectusername",e[n.myaccount.selectactdvc.success]="/myaccount/accountrecovery/collectverificationcode",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e}}).when("/myaccount/accountrecovery/collectsecurity",{templateUrl:"app/views/myaccount/accountrecovery/collectsecurity/collectsecurity_view_myac_102.html",controller:"collectSecurityCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectSecurityCtrl")}],_data:["$conditions","$done",function(e,t){if(angular.isDefined(e.getAccountStatus()))return e.getAccountStatus();t.redirect("/myaccount/login/collectusername")}]},on:function(){var e={};return e[n.accountrecovery]="/myaccount/login/collectusername",e[n.myaccount.getsecpinanswer.success]="/myaccount/accountrecovery/updateaccount",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e[n.myaccount.getusername.dummymin.actdvcavailable]="/myaccount/accountrecovery/selectactivedevice",e}}).when("/myaccount/accountrecovery/updateaccount",{templateUrl:"app/views/myaccount/accountrecovery/updateaccount/updateaccount_view_myac_104.2.html",controller:"updateAccountcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("updateAccountcontroller")}],_:["$conditions","$done",function(e,t){angular.isDefined(e.getAccountStatus())||t.redirect("/myaccount/login/collectusername")}],maxdate:["$conditions",function(e){return e.getAccountDOBMaxdate()}]},on:function(){var e={};return e[n.accountrecovery]="/myaccount/login/collectusername",e}}).when("/createaclogin",{templateUrl:"app/views/myaccount/createaccount/createaccount_view.html",controller:"createUserAccController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("createUserAccController")}],maxdate:["$conditions",function(e){return e.getAccountDOBMaxdate()}]},on:function(){var e={};return e[n.accountrecovery]="/myaccount/login/collectusername",e}}).when("/createaclogin/:redirect",{templateUrl:"app/views/myaccount/createaccount/createaccount_view.html",controller:"createUserAccController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("createUserAccController")}]}}).when("/myaccount/linkfbtfacct",{templateUrl:"app/views/myaccount/login/fblinking/fblinkingform_view_myac_105.3.html",controller:"fbLinkingAcctController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("fbLinkingAcctController")}],_data:["$conditions",function(e){return e.getAccountStatus()}]},on:function(){var e={};return e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.syncemail]="/myaccount/syncfbemail",e}}).when("/myaccount/syncfbemail",{templateUrl:"app/views/myaccount/login/fbtfemailsync/fbtfemailsync_view_myac_105.4.html",controller:"fbEmailSyncController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("fbEmailSyncController")}]},on:function(){var e={};return e[n.myaccount.fblogin.success]="/myaccount/dashboard",e}}).when("/myaccount/dashboard",{templateUrl:"app/views/myaccount/dashboard/mydevices/dashboard_view_myac_106.1.html",controller:"dashboardController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("dashboardController")}],user:["$guards",function(e){return e.loggedInUser()}],userAccount:["$guards",function(e){return e.userAccount()}],reset:["$conditions",function(e){e.sessionReset(!0).then((function(t){return e.renewalCustAccounStatus()}))}]},on:function(){var e={};return e[n.home]="/",e[n.errors.user.loginuser]="/",e[n.myaccount.dashboard.bandetails.actrenewal]="/checkout",e[n.myaccount.dashboard.bandetails.svcrenewal]="/accountRenewalMain",e[n.myaccount.dashboard.alloptions.buyaddons.success]="/checkout",e[n.myaccount.dashboard.alloptions.managereserve]="/myaccount/managereserve",e[n.myaccount.dashboard.alloptions.manageenroll]="/myaccount/manageenroll",e[n.myaccount.dashboard.bandetails.mldmanageenroll]="/myaccount/mldmanageenroll",e[n.myaccount.dashboard.alloptions.addserviceplan]="/collectminpinpromo?commingfrom=dashboard",e[n.myaccount.dashboard.buyserviceplan]="/serviceplan",e[n.myaccount.dashboard.alloptions.protectphone]="/protectyourphone/easyexchange",e[n.myaccount.dashboard.alloptions.purchase]="/serviceplan",e[n.myaccount.dashboard.alloptions.addonpurchase]="/serviceplan/addons",e[n.myaccount.dashboard.getbalance]="/balanceinquiry/selectdevice",e[n.myaccount.dashboard.pastdue.activatedevice]="/activation/collectsim",e[n.activation.deviceselection.selectdevice.branded.sim]="/activation/simnumber",e[n.activation.deviceselection.selectdevice.branded.esn]="/activation/collectesn",e[n.dashboard]="/myaccount/dashboard/",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.myaccount.dashboard.hotflash.redirect]="",e[n.checkout]="/checkout",e[n.myaccount.dashboard.refill]="/collectminpinpromo",e[n.balanceinquiry.login.selectdevice]="/balanceinquiry/selectdevice",e[n.asurion.hppplans]="/asurion/hppplans",e[n.asurion.redemption]="/asurion/hppplans/redemption",e[n.asurion.redemptionmoreinfo]="/asurion/hppplans/redemptionmoreinfo",e[n.activation.byopcollectesn.collectesnvzw]="/activation/byop/collectesn",e[n.myaccount.paymentmethod]="/myaccount/paymentmethod",e[n.hpp.plans]="/hpp/plans",e},pageId:"MYAC_106.1"}).when("/myaccount/myprofile",{templateUrl:"app/views/myaccount/profile/myprofile_view_myac_111.1.html",controller:"myprofileController",resolve:{loadCtrl:["$ocLazyLoadCtrlService","$uibModal","$rootScope","$deviceService",function(e,t,n,a){if(a.getCallAuthentication()||void 0===a.getCallAuthentication()){t.open({animation:!1,templateUrl:"app/views/activation/collectphonenumber/two_factor_authentication_popup.html",size:"md",backdrop:"static",keyboard:!1,controller:"twofactorpopupcontroller",windowTopClass:"tf-modal two-factor-authentication",resolve:{}})}return n.$on("$routeChangeSuccess",(function(e,t,n){var i=n.$$route.originalPath;a.setAuthenticationFlag(i)})),e.load("myprofileController")}],accountProfileInfo:["$conditions",function(e){return e.getAccountProfileInfo()}]}}).when("/myaccount/paymentmethod",{templateUrl:"app/views/myaccount/paymentmethod/pymtmethod_view_myac_110.1.html",controller:"paymentmethodController",resolve:{loadCtrl:["$ocLazyLoadCtrlService","$userService","$location","$done",function(e,t,n,a){if(t.isLoggedIn())return e.load("paymentmethodController");a.redirect(),n.path("/createaclogin")}],payment_details:["$conditions",function(e){return e.getPaymentDetails()}],ban_details:["$conditions",function(e){return e.banDetails()}],_:["$guards",function(e){return e.isUserLoggedIn()}]},on:function(){return routes={},routes[n.signin]="/createaclogin",routes}}).when("/myaccount/paymenthistory",{templateUrl:"app/views/myaccount/paymenthistory/pymthist_view_myac_109.3.html",controller:"paymenthistoryController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("paymenthistoryController")}],user:["$guards",function(e){return e.loggedInUser()}]},on:function(){var e={};return e[n.errors.user.loginuser]="/",e}}).when("/myaccount/devicehistory",{templateUrl:"app/views/myaccount/dashboard/devicehistory/devicehistory_view.html",controller:"devicehistoryController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("devicehistoryController")}]}}).when("/myaccount/myaccess",{templateUrl:"app/views/myaccount/createaccount/collectpassword/collectpassword_view.html",controller:"collectPasswordCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectPasswordCtrl")}],_logged_in:["$conditions","$done",function(e,t){e.loggedIn().then((function(e){e&&t.redirect("userloggedin")})).catch((function(e){return e}))}],viewOptions:["$userService",function(e){return 1!=e.isFBAcLoggedInNotLinked()}]},on:function(){var e={};return e[n.myaccount.getpassword.validpwd]="/myaccount/dashboard",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.syncemail]="/myaccount/syncfbemail",e}}).when("/myaccount/createaccount",{templateUrl:"app/views/myaccount/createaccount/createaccountcheckpoints_view.html",controller:"forgotusernameController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("forgotusernameController")}]}}).when("/myaccount/manageenroll",{templateUrl:"app/views/rpe/enrollments/enrollmanage/manageenroll_view_rpe_106_2.html",controller:"manageenrollcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("manageenrollcontroller")}],user:["$guards",function(e){return e.loggedInUser()}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}],enrollPlans:["$conditions",function(e){return e.getDeviceEnrollments()}]},on:function(){var e={};return e[n.dashboard]="/myaccount/dashboard",e[n.myaccount.paymentmethod]="/myaccount/paymentmethod",e[n.rpe.redemption.checkout]="/checkout",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.checkout]="/checkout",e[n.myaccount.dashboard.alloptions.manageenroll]="/myaccount/manageenroll/",e[n.easyExchange.select.program]="/protectyourphone/selectyourprogram",e[n.rpe.redemption.applynow]="/applynowwarnings",e}}).when("/myaccount/managereserve",{templateUrl:"app/views/rpe/redemption/managereserve/managereserve_view_rpe_110.1.html",controller:"managereservecontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("managereservecontroller")}],manareserveDevice:["$conditions",function(e){return e.getManageReserveDevice()}]},on:function(){var e={};return e[n.rpe.redemption.redemptionsuccess]="/redemptionconfirmationSuccess",e[n.dashboard]="/myaccount/dashboard",e[n.home]="/home",e}}).when("/myaccount/accountrecovery/collectzipcode",{templateUrl:"app/views/myaccount/accountrecovery/collectverification/collectverification_view_myac_102.12.html",controller:"collectVerificationCtrl",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectVerificationCtrl")}],_:["$conditions","$done",function(e,t){angular.isDefined(e.getAccountStatus())||t.redirect("/myaccount/login/collectusername")}],_data:["$conditions",function(e){return e.getAccountStatus()}]},on:function(){var e={};return e[n.accountrecovery]="/myaccount/login/collectusername",e[n.myaccount.getverifycode.success.checkpointsavail]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getverifycode.success.checkpointsnotavail]="/myaccount/accountrecovery/updateaccount",e}}),t.html5Mode(!0)}]),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/refillforfriend",{templateUrl:"/app/views/rpe/redemption/remove_device_popup.html",controller:"activationwithpin",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("activationwithpin")}]}}).when("/autorefill",{templateUrl:"app/views/autorefill/autorefill_view_rpe_106.5.html",controller:"autorefillController",pageId:"RPE_102.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("autorefillController")}],_loggedIn:["$conditions",function(e){return e.sessionReset(),e.loggedIn()}],_limitedAccess:["$conditions",function(e){return e.limitedAccess()}],_data:["$conditions","$done",function(e,t){return e.activeDevices()}]},on:function(){var e={};return e[n.checkout]="/checkout",e[n.rpe.redemption.logincheckout]="/myaccount/login/collectpassword/autorefill",e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.dummymin.actdvcavailable]="/myaccount/accountrecovery/selectactivedevice",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/verificationcode/:showZipCodeOption",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.myaccount.getusername.dummymin.verifyzipcode]="/myaccount/accountrecovery/collectzipcode",e}}).when("/serviceplan/:device/:clearcart",{templateUrl:"app/views/rpe/service_plans/serviceplans_view_rpe_103.13.html",controller:"serviceplanController",pageId:"RPE_103.13",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("serviceplanController")}]},on:function(){var e={};return e[n.rpe.redemption.checkout]="checkout",e[n.rpe.redemption.logincheckout]="/accessaccount/checkout",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e}}).when("/easyredeem",{templateUrl:"app/views/rpe/checkout/checkout_view_rpe_104.1.html",controller:"easyRedeemController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("easyRedeemController")}],serviceplan:["$conditions","$appConditions",function(e,t){return e.evaluate([t.sessionReset,t.serviceplans]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.rpe.redemption.checkout]="checkout",e[n.rpe.redemption.purchaseplan]="/serviceplan/",e}}).when("/checkout/:action",{templateUrl:"app/views/rpe/checkout/checkout_view_rpe_104.1.html",controller:"checkoutController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("checkoutController")}],_:["$location","$cartService","$deviceService","$devicesCartServices",function(e,t,n,a){t.getPlans().length>0&&n.getSelectedDevice()||a.getSavedDevices().length>0||e.url("serviceplan")}]}}).when("/confirmation",{templateUrl:"app/views/rpe/checkout/checkout_view.html",controller:"confirmationController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("confirmationController")}]}}).when("/addons",{templateUrl:"app/views/rpe/service_plans/serviceplans_view_addon_rpe_103.13.1.html",controller:"serviceplanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("serviceplanController")}]},on:function(){var e={};return e[n.rpe.redemption.checkout]="checkout",e[n.rpe.redemption.logincheckout]="/myaccount/login/collectpassword/autorefill",e[n.rpe.redemption.purchaseplan]="/serviceplan/addons/",e}}).when("/serviceplan",{templateUrl:function(){return window.config.app.features.groupbased?"app/views/rpe/service_plans/serviceplans_group_view_rpe_103.13.html":window.config.app.features.isSmServicePlanRedesign?"app/views/rpe/service_plans/serviceplans_sm_view_rpe_103.13.html":"app/views/rpe/service_plans/serviceplans_view_rpe_103.13.html"},controller:"serviceplanController",pageId:"RPE_103.13",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("serviceplanController")}],serviceplan:["$conditions","$appConditions",function(e,t){return e.evaluate([t.sessionReset,t.serviceplans]).then((function(e){return e})).catch((function(e){return e}))}],deviceSelected:["$conditions",function(e){return e.redemptionSelectedDevice()}],partnerDetails:["$conditions","$appConditions",function(e,t){return e.evaluate([t.getPartnerDetails]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.accessaccount]="accessaccount/accountRenewalMain",e[n.renewal]="accountRenewalMain",e[n.rpe.redemption.checkout]="/checkout",e[n.rpe.redemption.logincheckout]="/myaccount/login/collectpassword/autorefill",e[n.activation.createaccount]="activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.rpe.redemption.addnow]="/addnowwarnings",e[n.rpe.redemption.enrollnow]="/enrollnowwarnings",e[n.rpe.redemption.applynow]="/applynowwarnings",e[n.rpe.redemption.purchaseplan]="/serviceplan/",e[n.activation.deviceselection.selectdevice.branded.sim]="/activation/collectsim",e[n.activation.deviceselection.selectdevice.byop]="/activation/byopcollectsim",e[n.activation.deviceselection.selectdevice.branded.esn]="/activation/collectesn",e}}).when("/redemptionconfirmationSuccess",{templateUrl:"app/views/rpe/confirmation/redemptionconfirmation/redemptionconfirmation_view_105_1.html",controller:"redemptionconfirmationcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("redemptionconfirmationcontroller")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}]},on:function(){var e={};return e[n.dashboard]="/myaccount/dashboard",e[n.home]="/home",e[n.rpe.redemption.managestash]="/myaccount/managereserve",e[n.accountrecovery]="/myaccount/login/collectusername",e[n.balanceinquiry.manageDataLimit.updateDataLimit]="/balanceinquiry/selectdevice",e[n.balanceinquiry.manageDataLimit.collectmin]="/balanceinquiry/collectphone",e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e}}).when("/checkout",{templateUrl:"app/views/rpe/checkout/checkout_view_rpe_104.1.html",controller:"checkoutController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("checkoutController")}],cart:["$conditions","$appConditions",function(e,t){return e.evaluate([t.loggedIn,t.groupDevices]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.dashboard]="/myaccount/dashboard",e[n.home]="/home",e[n.activation.instructions]="/activation/instructions1",e[n.activation.confirmation]="/activationcc/confirmation_activation",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.rpe.redemption.purchaseplan]="/serviceplan",e}}).when("/collectminpinpromo",{templateUrl:"app/views/rpe/redemption/redemption_view_rpe_101.1.html",controller:"redemptioncontroller",pageId:"RPE_101.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("redemptioncontroller")}],deviceSelected:["$conditions",function(e){return e.sessionReset(),e.redemptionSelectedDevice()}],rpeRequest:["$conditions",function(e){return e.redemptionRequest()}],_loggedIn:["$conditions",function(e){return e.loggedIn()}],_banDetails:["$conditions",function(e){return e.banDetails()}],_limitedAccess:["$conditions",function(e){return e.limitedAccess()}],rpeDevices:["$conditions",function(e){return e.redemptionDevices()}],rpeDevicesGrp:["$conditions",function(e){return e.redemptionDevicesforGroup()}],_limitedAccessDevice:["$conditions",function(e){return e.limitedAccessDevice()}],activeDevice:["$conditions",function(e){return e.activeDevices()}],inactiveDevice:["$conditions",function(e){return e.inactiveDevices()}],payforFriend:["$conditions",function(e){return e.payForFriend()}],hasError:["$done",function(e){return e.getData("/collectminpinpromo")}],commingFromDashboard:["$conditions",function(e){return e.isCommingFromDashboard()}]},on:function(){var e={};return e[n.accessaccount]="accessaccount/accountRenewalMain",e[n.renewal]="accountRenewalMain",e[n.rpe.redemption.checkout]="checkout",e[n.rpe.redemption.logincheckout]="/accessaccount/checkout",e[n.activation.createaccount]="activation/createaclogin/activation!airtimeserviceplan",e[n.activation.checkout]="/activation/checkout",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.rpe.redemption.redemptionsuccess]="/redemptionconfirmationSuccess",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.rpe.redemption.collectminpinpromo]="/collectminpinpromo",e[n.rpe.redemption.renewal]="/accountRenewalMain/refill",e[n.rpe.redemption.addnow]="/addnowwarnings",e[n.rpe.redemption.enrollnow]="/enrollorwarnings",e[n.activation.byopcollectesn.collectesntmo]="/activation/byop/collectesn",e}}).when("/accountRenewalMain",{templateUrl:"app/views/rpe/renewal/account_renewal.html",controller:"renewaloptionscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("renewaloptionscontroller")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}]},on:function(){var e={};return e[n.rpe.redemption.redemptionsuccess]="redemptionconfirmationSuccess",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.rpe.redemption.collectminpinpromo]="/collectminpinpromo",e[n.rpe.redemption.renewal]="/accountRenewalMain/refill",e[n.rpe.redemption.checkout]="/checkout",e[n.rpe.redemption.logincheckout]="accessaccount/checkout",e[n.redemptionconfirmation]="redemptionconfirmationSuccess",e[n.dashboard]="/myaccount/dashboard",e[n.home]="/home",e}}).when("/accountRenewalMain/:option",{templateUrl:"app/views/rpe/renewal/account_renewal.html",controller:"renewaloptionscontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("renewaloptionscontroller")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}]},on:function(){var e={};return e[n.rpe.redemption.checkout]="/checkout",e[n.rpe.redemption.redemptionsuccess]="redemptionconfirmationSuccess",e}}).when("/addnowwarnings",{templateUrl:"app/views/rpe/retentionmatrix/warningmessages/addnow/addnow_view_rpe_108_1.html",controller:"addnowcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("addnowcontroller")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}]},on:function(){var e={};return e[n.rpe.redemption.redemptionsuccess]="/redemptionconfirmationSuccess",e[n.rpe.redemption.collectminpinpromo]="/collectminpinpromo",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.rpe.redemption.checkout]="/checkout",e[n.renewal]="accountRenewalMain",e}}).when("/enrollnowwarnings",{templateUrl:"app/views/rpe/retentionmatrix/warningmessages/enrollnow/enrollnow_view_rpe_108_3.html",controller:"enrollnowcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("enrollnowcontroller")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}],rpeRequest:["$conditions",function(e){return e.redemptionRequest()}],_loggedIn:["$conditions",function(e){return e.loggedIn()}],_banDetails:["$conditions",function(e){return e.banDetails()}],_limitedAccess:["$conditions",function(e){return e.limitedAccess()}],rpeDevices:["$conditions",function(e){return e.redemptionDevices()}],_limitedAccessDevice:["$conditions",function(e){return e.limitedAccessDevice()}],activeDevice:["$conditions",function(e){return e.activeDevices()}],inactiveDevice:["$conditions",function(e){return e.inactiveDevices()}],hasError:["$done",function(e){return e.getData("/collectminpinpromo")}]},on:function(){var e={};return e[n.rpe.redemption.redemptionsuccess]="/redemptionconfirmationSuccess",e[n.rpe.redemption.collectminpinpromo]="/collectminpinpromo",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.rpe.redemption.checkout]="/checkout",e[n.renewal]="accountRenewalMain",e}}).when("/applynowwarnings",{templateUrl:"app/views/rpe/retentionmatrix/warningmessages/applynow/applynow_view_rpe_108_2.html",controller:"applynowcontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("applynowcontroller")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}],rpeRequest:["$conditions",function(e){return e.redemptionRequest()}],_loggedIn:["$conditions",function(e){return e.loggedIn()}],_banDetails:["$conditions",function(e){return e.banDetails()}],_limitedAccess:["$conditions",function(e){return e.limitedAccess()}],rpeDevices:["$conditions",function(e){return e.redemptionDevices()}],_limitedAccessDevice:["$conditions",function(e){return e.limitedAccessDevice()}],activeDevice:["$conditions",function(e){return e.activeDevices()}],inactiveDevice:["$conditions",function(e){return e.inactiveDevices()}],hasError:["$done",function(e){
return e.getData("/collectminpinpromo")}]},on:function(){var e={};return e[n.rpe.redemption.redemptionsuccess]="/redemptionconfirmationSuccess",e[n.rpe.redemption.collectminpinpromo]="/collectminpinpromo",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.rpe.redemption.checkout]="/checkout",e[n.renewal]="accountRenewalMain",e}}).when("/collectminpinpromo/:flow",{templateUrl:"app/views/rpe/redemption/redemption_view_rpe_101.1.html",controller:"redemptioncontroller",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("redemptioncontroller")}],deviceSelected:["$conditions",function(e){return e.selectedDevice()}],rpeRequest:["$conditions",function(e){return e.redemptionRequest()}],_loggedIn:["$conditions",function(e){return e.loggedIn()}],_banDetails:["$conditions",function(e){return e.banDetails()}],_limitedAccess:["$conditions",function(e){return e.limitedAccess()}],rpeDevices:["$conditions",function(e){return e.redemptionDevices()}],rpeDevicesGrp:["$conditions",function(e){return e.redemptionDevicesforGroup()}],_limitedAccessDevice:["$conditions",function(e){return e.limitedAccessDevice()}],activeDevice:["$conditions",function(e){return e.activeDevices()}],inactiveDevice:["$conditions",function(e){return e.inactiveDevices()}],payforFriend:["$conditions",function(e){return e.payForFriend()}]},on:function(){var e={};return e[n.rpe.redemption.redemptionsuccess]="/redemptionconfirmationSuccess",e[n.rpe.redemption.purchaseplan]="/serviceplan",e[n.rpe.redemption.collectminpinpromo]="/collectminpinpromo",e[n.rpe.redemption.renewal]="/accountRenewalMain/refill",e[n.rpe.redemption.checkout]="/checkout",e[n.rpe.redemption.logincheckout]="/accessaccount/checkout",e[n.rpe.redemption.addnow]="/addnowwarnings",e[n.rpe.redemption.applynow]="/applynowwarnings",e}}).when("/serviceplan/addons",{templateUrl:function(){return window.config.app.features.groupbased?"app/views/rpe/service_plans/serviceplans_group_view_rpe_103.13.html":window.config.app.features.isSmServicePlanRedesign?"app/views/rpe/service_plans/serviceplans_sm_view_rpe_103.13.html":"app/views/rpe/service_plans/serviceplans_view_rpe_103.13.html"},controller:"serviceplanController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("serviceplanController")}],serviceplan:["$conditions","$appConditions",function(e,t){return e.evaluate([t.sessionReset,t.addonPlans]).then((function(e){return e})).catch((function(e){return e}))}],deviceSelected:["$conditions",function(e){return e.redemptionSelectedDevice()}]},on:function(){var e={};return e[n.rpe.redemption.checkout]="checkout",e[n.rpe.redemption.logincheckout]="/myaccount/login/collectpassword/autorefill",e[n.activation.createaccount]="activation/createaclogin/activation!airtimeserviceplan",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.rpe.redemption.purchaseplan]="/serviceplan/addons/",e[n.rpe.redemption.addnow]="/addnowwarnings",e[n.rpe.redemption.enrollnow]="/enrollnowwarnings",e[n.rpe.redemption.applynow]="/applynowwarnings",e[n.rpe.redemption.purchaseplan]="/serviceplan/",e}}).when("/telehealth/checkout",{templateUrl:"app/views/rpe/checkout/checkout_view_rpe_104.1.html",controller:"checkoutController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("checkoutController")}],cart:["$conditions","$appConditions",function(e,t){return e.evaluate([t.telehealthPlans]).then((function(e){return e})).catch((function(e){return e}))}]},on:function(){var e={};return e[n.dashboard]="/myaccount/dashboard",e[n.home]="/home",e[n.activation.instructions]="/activation/instructions1",e[n.activation.confirmation]="/activationcc/confirmation_activation",e[n.activation.deviceselection.selectdevice.device]="/activation/selectdevice",e[n.rpe.redemption.purchaseplan]="/serviceplan",e}}),t.html5Mode(!0)}]),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/coverage/check",{templateUrl:"app/views/wcm/wcm_view.html",controller:"coveragemapController",pageId:"CVM_100.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("coveragemapController")}],wcmurl:function(){return"m/coverage/check"},activeDevices:["$conditions",function(e){return e.activeDevices()}]}}).when("/coverage/check/:queryParam",{templateUrl:"app/views/wcm/wcm_view.html",controller:"coveragemapController",pageId:"HOME_101.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("coveragemapController")}],wcmurl:function(){return"m/coverage/check"},activeDevices:["$conditions",function(e){return e.activeDevices()}]}}).when("/coverage/carrierordevice",{templateUrl:"app/views/wcm/wcm_view.html",controller:"coveragemapDeviceModelsController",pageId:"CVM_100.2",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("coveragemapDeviceModelsController")}],wcmurl:function(){return"m/coverage/carrierordevice"}}}).when("/coverage/mapresults",{templateUrl:"app/views/wcm/wcm_view.html",controller:"coveragemapController",pageId:"CVM_100.3",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("coveragemapController")}],wcmurl:function(){return"m/coverage/mapresults"},activeDevices:["$conditions",function(e){return e.activeDevices()}]}}).when("/termsandconditions",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/termsandconditions"}}}).when("/termsofuse",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.2",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/termsofuse"}}}).when("/vendorcode",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.3",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/vendorcode"}}}).when("/privacypolicy",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.5",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/privacypolicy"}}}).when("/accessibility",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.5",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/accessibility"}}}).when("/directoryassist",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.5",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/directory-assist"}}}).when("/shop",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"RPE_100.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"shop"}}}).when("/shop/phones",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"RPE_100.2",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"shop/shopphones"}}}).when("/techsupport",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.6",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/techsupport"}}}).when("/survey",{templateUrl:"app/views/survey/index.html",controller:"surveyController",pageId:"MYAC_100.7",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("surveyController")}],wcmurl:function(){return"m/survey"}}}).when("/survey/landing",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.8",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/survey/landing"}}}).when("/redirectsurvey",{templateUrl:"app/views/survey/index.html",controller:"surveyController",pageId:"MYAC_100.9",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("surveyController")}],wcmurl:function(){return"m/survey"}}}).when("/ildroaming",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.10",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"shop/ildroaming"}}}).when("/ilddestinations",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.12",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"shop/ild-destinations"}}}).when("/sixoneone",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.13",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"/help/sixoneone/sixoneone"}}}).when("/byop",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.14",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"shop/byop"}}}).when("/devices",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"RPE_100.3",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"shop/devices"}}}).when("/findastore",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.15",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/retailers/findastore"}}}).when("/whysimplemobile",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/whysimplemobile"}}}).when("/whynet10",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/why-landing"}}}).when("/howitworks",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.17",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/howitworks"}}}).when("/internationalcalling",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.18",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"shop/internationalcalling"}}}).when("/sitemap",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.19",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"/m/sitemap"}}}).when("/",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],sessionReset:["$conditions",function(e){e.clearSession().then((function(){}))}],wcmurl:function(){return"home/home"},viewOptions:["$userService",function(e){return 1!=e.isFBAcLoggedInNotLinked()}]},pageId:"MYAC_100.20",on:function(){var e={};return e[n.myaccount.getusername.invalidemail]="/myaccount/login/loginwithmin",e[n.myaccount.failure]="/myaccount/login/collectusername",e[n.myaccount.getusername.dummymin.secpinanswer]="/myaccount/accountrecovery/collectsecurity",e[n.myaccount.getusername.dummymin.actdvcavailable]="/myaccount/accountrecovery/selectactivedevice",e[n.myaccount.getusername.dummymin.verifycode]="/myaccount/accountrecovery/collectverificationcode",e[n.myaccount.getusername.dummymin.updateaccount]="/myaccount/accountrecovery/updateaccount",e[n.myaccount.getusername.validemailmin]="/myaccount/login/collectpassword",e[n.myaccount.fblogin.success]="/myaccount/dashboard",e[n.myaccount.fblogin.failure]="/myaccount/login/collectusername",e[n.rpe.redemption.redemptionsuccess]="/redemptionconfirmationSuccess",e[n.rpe.redemption.redemptionfailure]="/collectminpinpromo",e[n.rpe.redemption.purchaseplan]="/collectminpinpromo",e[n.myaccount.getusername.dummymin.verifyzipcode]="/myaccount/accountrecovery/collectzipcode",e}}).when("/contactus",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.21",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/contactus"}},data:{tc:{englishPageId:window.config.app.tc.contactus.englishPageId,spanishPageId:window.config.app.tc.contactus.spanishPageId}}}).when("/hpp/exchangeplusannualterms",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.22",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/hpp/exchangeplusannualterms"}}}).when("/hpp/exchangeplusmonthlyterms",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.23",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/hpp/exchangeplusmonthlyterms"}}}).when("/extras",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.30",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/extras"}}}).when("/shop/static",{templateUrl:"app/views/wcm/static/shopTW.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/why-total-wireless/static",{templateUrl:"app/views/wcm/static/whytotalwireless.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/byop/static",{templateUrl:"app/views/wcm/static/byopTW.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/sitemap/static",{templateUrl:"app/views/wcm/static/sitemapTW.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/devices/static",{templateUrl:"app/views/wcm/static/devices.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/contactus/static",{templateUrl:"app/views/wcm/static/contactusTW.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/techsupport/static",{templateUrl:"app/views/wcm/static/techsupportTW.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/howitworks/static",{templateUrl:"app/views/wcm/static/howitworksTW.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/ildTW/static",{templateUrl:"app/views/wcm/static/ildTW.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/hearingaid/static",{templateUrl:"app/views/wcm/static/hearingaid.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/accessibility/static",{templateUrl:"app/views/wcm/static/accessibility.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/directoryassist/static",{templateUrl:"app/views/wcm/static/directoryass.html",controller:"wcmController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return""}}}).when("/why-simple-mobile",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.22",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile"}}}).when("/why-simple-mobile/benefits",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.23",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile/benefits"}}}).when("/why-simple-mobile/no-contracts",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.24",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile/no-contracts"}}}).when("/why-simple-mobile/unlimited-data",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.25",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile/unlimited-data"}}}).when("/why-simple-mobile/keep-your-phone",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.26",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile/keep-your-phone"}}}).when("/why-simple-mobile/international",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.26",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile/international"}}}).when("/why-simple-mobile/serviceplan",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.26",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile/serviceplan"}}}).when("/why-simple-mobile/lease-your-phone",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.27",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why-simple-mobile/lease-your-phone"}}}).when("/why",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/why-landing"}}}).when("/why/no-contracts",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/no-contracts"}}}).when("/why/coverage",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/coverage"}}}).when("/keep-your-own-phone",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/keep-your-own-phone"}}}).when("/how-it-works",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/how-it-works"}}}).when("/why/phone-payment-plan",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/phone-payment-plan"}}}).when("/why/service-plans",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/service-plans"}}}).when("/why/phones",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"why/phones"}}}).when("/student-discounts",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/student-beans"}}}).when("/cloud",{templateUrl:"app/views/wcm/wcm_view.html",controller:"wcmController",pageId:"MYAC_100.16",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wcmController")}],wcmurl:function(){return"m/cloud"}}}),t.html5Mode(!0)}]),angular.module("app").config(["$routeProvider","$locationProvider","$appRoutes",function(e,t,n){e.when("/wic/collectdevice",{templateUrl:"app/views/wificalling/collectdevice/collectdevice_view_wic_101.1.html",controller:"collectWicDevice",pageId:"WIC_101.1",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectWicDevice")}]},on:function(){var e={};return e[n.wic.collectdevice.validdevice]="/wic/collectaddress",e[n.wic.collectaddress.validaddress]="/wic/confirmation",e[n.wic.wifinotcapable.shopphone]="/shop/phones",e[n.wic.enrollment.success]="/wic/confirmation",e}}).when("/wic/collectaddress",{templateUrl:"app/views/wificalling/collectaddress/collectaddress_view_wic_102.1.html",controller:"collectAddressController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("collectAddressController")}],wifieligibility:["$guards",function(e){return e.wifiEligibility()}],device:["$guards",function(e){return e.deviceInSession()}]},on:function(){var e={};return e[n.errors.wic.noeligibilityfound]="/wic/collectdevice",e[n.errors.nodeviceinsession]="/wic/collectdevice",e[n.wic.enrollment.success]="/wic/confirmation",e}}).when("/wic/confirmation",{templateUrl:"/app/views/wificalling/confirmation/confirmation_view_wic_103.1.html",controller:"wifiConfirmationController",resolve:{loadCtrl:["$ocLazyLoadCtrlService",function(e){return e.load("wifiConfirmationController")}]},on:function(){var e={};return e[n.wic.confirmation.enrollnew]="/wic/collectdevice",e}}),t.html5Mode(!0)}]),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$userService","$appConstants",function(e,t,n,a,i){var r={forward:function(t){return{brandName:e.brand,customerID:a.getAccountId(),language:e.language,partner:i.lrp_partner,sourceSystem:e.source_system,token_type:i.lrp_token_type}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e.response}}},o={oauth_token:{url:n.my_account.auth.augeo_token,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("oauthtoken",o)}])})(),(function(){var e={errorConfig:{},forward:function(e){return e},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=e.response;return angular.isDefined(n)&&(t.token_type=e.response.token_type,t.access_token=e.response.access_token,t.expires_in=e.response.expires_in,t.scope=e.response.scope,t.brandName=e.response.brandName,t.sourceSystem=e.response.sourceSystem,t.refresh_token=e.response.refresh_token,t.client_id=e.response.client_id,t.accountId=e.response.accountId),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("oauthtoken",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{sourceSystem:e.source_system,language:e.language,brand:e.brand,resourceCategory:t.resourceCategory,resourceIdentifier:t.resourceIdentifier,projection:a.lrp_projection}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.message},successVariables)}},r={lrpservice:{url:n.resource_management,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("lrpservice",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$lrpEnrollment",function(e,t,n){var a={errorConfig:{},forward:function(e){return{resourceIdentifier:e.resourceIdentifier,resourceCategory:e.resourceCategory}},backward:function(e){var n={svc_response:{}};return n.error_code=e.error_code,n.error_message=e.error_message,angular.isDefined(e.response.resource)&&angular.isDefined(e.response.resource.physicalResource)&&(n.svc_response.resourceCategory=e.response.resource.physicalResource.resourceCategory,n.svc_response.serialNumber=e.response.resource.physicalResource.serialNumber,angular.forEach(e.response.resource.physicalResource.characteristics,(function(e,a){"isSafelinkEsn"!==e.name||t.isNullOrEmpty(e.value)||(n.svc_response.isSafelinkEsn="Y"===e.value,console.log("Safelink flag check",n.svc_response.isSafelinkEsn)),"isSafelink"!==e.name||t.isNullOrEmpty(e.value)||(n.svc_response.isSafelinkStatusEnroll="TRUE"===e.value,console.log("Safelink deenroll flag",n.svc_response.isSafelinkStatusEnroll))})),angular.forEach(e.response.resource.physicalResource.enrollments,(function(e,t){"REWARDS"===e.type&&"REWARDS"===e.name&&angular.forEach(e.characteristics,(function(e,t){"rewardBenefits"===e.name&&(n.svc_response.isLRPEnrolled="TRUE"===e.value)})),"HPP"===e.type&&"HANDSET_PROTECTION"===e.name&&angular.forEach(e.characteristics,(function(e,t){"isHppEnrolled"===e.name&&(n.svc_response.isHandsetProtectionEnrolled="TRUE"===e.value)}))}))),n}};e.register("lrpservice",a)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter","$serviceUriConfig",function(e,t,n,a,i){var r={forward:function(t){return{common:{brandName:e.brand,subBrandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{externalID:n.externalid,orderDate:a("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),orderItems:t.orderItems,billingAccount:t.billingAccount,relatedParties:[{roleType:n.roletypec,party:{partyID:n.partyidc,individual:{id:""+t.webobjid}}},{roleType:n.roletypeint,party:{partyID:n.partyidb,languageAbility:e.language,partyExtension:[{name:n.partytransactionid,value:n.partytransactionval},{name:n.sourcesystem,value:e.source_system}]}}],productPromotions:t.productPromotions}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={productOrder:{url:i.product_order_v2,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","11046"],koCodes:{},okkoCodes:{}},productOrderChangeEnrollment:{url:i.product_order_v2,contentType:"application/json",httpMethod:"PUT",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","11046"],koCodes:{},okkoCodes:{}}};t.register("productorder_v2",o)}])})(),(function(){angular.module("app").run(["$voMapConfig",function(e){var t={errorConfig:{999:"ERROR_1985646"},forward:function(e){return{webobjid:e.accountId,orderItems:e.orderItems,billingAccount:e.billingAccount,productPromotions:e.productPromotions}},backward:function(e){var t={transactionId:"",serviceEndDate:"",enrolledInAutoRefill:!1,lrpObject:{isLRPRedemptionFlow:!1,pointsAccrued:"",lrpEnrollmentBonus:"",deductedPoints:0},response:{paymentSourceDetails:{paymentSourceType:"",ccType:""}},serviceEndDate:"",enrolledInAutoRefill:!1};if(console.log("response for v2 PO raw",e),angular.isDefined(e)&&angular.isDefined(e.response)&&angular.isDefined(e.response.response)){var n=angular.isDefined(e.response.response.billingAccount)?e.response.response.billingAccount:{},a=angular.isDefined(e.response.response.orderItems)?e.response.response.orderItems:[],i=angular.isDefined(e.response.response.orderPrice)?e.response.response.orderPrice:{};if(a.length>0&&a.map((function(e){angular.isDefined(e.product)&&angular.isDefined(e.product.relatedServices)&&(t.serviceEndDate=angular.isDefined(e.product.relatedServices&&e.product.relatedServices.validFor&&e.product.relatedServices.validFor.endDatetime)?e.product.relatedServices.validFor.endDatetime:"",t.enrolledInAutoRefill=!!angular.isDefined(e.product.relatedServices.isEnrolled)&&e.product.relatedServices.isEnrolled)})),angular.isDefined(n.customerBill)&&(t.transactionId=angular.isDefined(n.customerBill.billNo)?n.customerBill.billNo:"",t.lrpObject={pointsAccrued:angular.isDefined(n.customerBill.pointsAccrued)?n.customerBill.pointsAccrued:0,lrpEnrollmentBonus:angular.isDefined(n.customerBill.lrpEnrollmentBonus)?n.customerBill.lrpEnrollmentBonus:0}),angular.isDefined(i)&&angular.isDefined(i.price)&&(t.lrpObject.deductedPoints=angular.isDefined(i.price.currencyCode)&&"points"==i.price.currencyCode.toLowerCase()&&""!=i.price.amount?i.price.amount:0,t.lrpObject.isLRPRedemptionFlow=t.lrpObject.deductedPoints>0),angular.isDefined(n.payment)&&angular.isDefined(n.payment.paymentMethod)){var r;r=angular.isDefined(n.payment.paymentMethod.digitalWallet)?angular.isDefined(n.payment.paymentMethod.digitalWallet.service)?n.payment.paymentMethod.digitalWallet.service:"":angular.isDefined(n.payment.paymentMethod.creditCard.type)?n.payment.paymentMethod.creditCard.type:"",t.response.paymentSourceDetails={paymentSourceType:angular.isDefined(n.payment.paymentMethod.type)?n.payment.paymentMethod.type:"",ccType:r}}}return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:t,purchase_details:e.response.response}}};e.register("productorder_v2",t)}])})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d){var u,p={getMin:function(){return this._min},getEsn:function(){return this._esn},getSignUpWithFB:function(){return this._signupwithfb},setMin:function(e){this._min=e},setEsn:function(e){this._esn=e},setSignUpWithFB:function(e){this._signupwithfb=e},emptyDetails:function(){this._min=void 0,this._signupwithfb=!1},setAccountStatusDetails:function(e){this._accountStatusDetails=e},getAccountStatusDetails:function(){return this._accountStatusDetails},setHomePageViewError:function(e){this._error=e},getHomePageViewError:function(){return this._error},setRedemptionFlow:function(e){this._rpeFlow=e},isRedemptionFlow:function(){return this._rpeFlow},setRedemptionRedirection:function(e){this._rpeRedirection=e},getRedemptionRedirection:function(){return this._rpeRedirection}};return AccountServiceInst={_accountDetails:p},AccountServiceInst.getAccountDetails=function(){return AccountServiceInst._accountDetails},AccountServiceInst.accountExists=function(e){return accountExistsResponse={},t.info("$accountService.accountExists service!! ..."),a((function(n,a){s.validateUserDevice(e).then((function(e){t.info("$accountService.accountExists:: inside validateUserDevice service retured!! ..."),AccountServiceInst.isDeviceWithNoAccount(e.svc_response.deviceStatus,e.svc_response.accountStatus)?(AccountServiceInst.getAccountDetails().setMin(e.svc_response.min),AccountServiceInst.getAccountDetails().setEsn(e.svc_response.esn),accountExistsResponse.accountexists=!1,n(accountExistsResponse)):a(u)})).catch((function(e){a(e)}))}))},AccountServiceInst.isDeviceWithNoAccount=function(e,n){return t.info("Inside $accountService.validateDeviceresponse !!"),t.info(e),t.info(n),!angular.isDefined(e)||"ACTIVE"!==e&&"PASTDUE"!==e&&"NEW"!==e&&"USED"!==e&&"REFURBISH"!==e?(t.info("Device is not Active or not having MIN  !!"),u=o.translateError({error_code:"89233"},i.get("validatedeviceacct")),t.info(u),!1):AccountServiceInst.isAccountNA(n)||AccountServiceInst.isAccountDummy(n)?(t.info("Account not avaliable sending to create account !!"),
!0):AccountServiceInst.isAccountValid(n)?(t.info("Account Already valid !!"),u=o.translateError({error_code:"89234"},i.get("validatedeviceacct")),t.info(u),!1):(t.info("Account or device not valid !!"),u=o.translateError({error_code:"10100"},i.get("validatedeviceacct")),t.info(u),!1)},AccountServiceInst.isAccountValid=function(e){return!(!angular.isDefined(e)||null==e||"VALID_ACCOUNT"!=e)},AccountServiceInst.isAccountDummy=function(e){return!(!angular.isDefined(e)||null==e||"DUMMY_ACCOUNT"!=e)},AccountServiceInst.isAccountNA=function(e){return!angular.isDefined(e)||"NO_ACCOUNT"==e},AccountServiceInst.signUpWithFB=function(e){return t.info("$accountService.signUpWithFB:: inside signUpWithFB!! ..."),a((function(e,n){c.verifyfblink({}).then((function(n){t.info("$accountService.signUpWithFB:: inside verifyfblink service returned!! ..."),t.info(n),AccountServiceInst.getAccountDetails().setSignUpWithFB(!0),e(n)})).catch((function(e){n(e)}))}))},AccountServiceInst.updateAccountSignUpWithFB=function(e){return t.info("$accountService.updateAccountSignUpWithFB:: inside signUpWithFB!! ..."),a((function(e,n){c.verifyfblinkupdateaccount({}).then((function(n){t.info("$accountService.updateAccountSignUpWithFB:: inside verifyfblink service returned!! ..."),t.info(n),AccountServiceInst.getAccountDetails().setSignUpWithFB(!0),e(n)})).catch((function(e){n(e)}))}))},AccountServiceInst.getDeviceActivationZipCode=function(e){var n;return t.info("String .getDeviceActivationZipCode:: inside CreateAccount!! ...",AccountServiceInst.getAccountDetails().getAccountStatusDetails().devices,e),angular.forEach(AccountServiceInst.getAccountDetails().getAccountStatusDetails().devices,(function(t,a){if(t.min===e.device.substr(e.device.length-4))return n=t.activationZipCode})),n},AccountServiceInst.CreateAccount=function(n){t.info("$accountService.CreateAccount:: inside CreateAccount!! ...",AccountServiceInst.getAccountDetails().getAccountStatusDetails());var l;angular.isDefined(s.getSelectedDevice())&&angular.isDefined(s.getSelectedDevice().zipcode)?l=s.getSelectedDevice().zipcode:angular.isDefined(s.getPortupgradeDevice())&&angular.isDefined(s.getPortupgradeDevice().zipcode)?l=s.getPortupgradeDevice().zipcode:angular.isDefined(AccountServiceInst.getAccountDetails().getAccountStatusDetails())&&angular.isDefined(AccountServiceInst.getAccountDetails().getAccountStatusDetails().zipcode)?(t.info("Setting zip code from recovery info ",AccountServiceInst.getAccountDetails().getAccountStatusDetails().zipcode),l=AccountServiceInst.getAccountDetails().getAccountStatusDetails().zipcode):l="33178";var d,u=angular.isDefined(n.accountId)?n.accountId:void 0;return d=angular.isDefined(n.device)&&!o.isEmail(n.device)?n.device:void 0,a((function(a,s){createNormalAccount=function(t){return r.run(t,e.get("createuseracct").createacct,i.get("createuseracct"))},angular.isDefined(AccountServiceInst.getAccountDetails().getSignUpWithFB())&&AccountServiceInst.getAccountDetails().getSignUpWithFB()?(t.info("$accountService.CreateAccount:: Caliibng fb service to create socia media account"),c.createSocialMediaAcct({esn:AccountServiceInst.getAccountDetails().getEsn(),email:n.email,password:n.password,dateOfBirth:n.dateOfBirth,zipcode:l,securityCode:n.securityCode}).then((function(e){t.info("$accountService.CreateAccount:: with Social media service returned "),a(e),AccountServiceInst.getAccountDetails().emptyDetails()})).catch((function(e){s(e)}))):(t.info("$accountService.CreateAccount:: Caliibng normal create account service"),this.createNormalAccount({esn:AccountServiceInst.getAccountDetails().getEsn(),email:n.email,password:n.password,dateOfBirth:n.dateOfBirth,zipcode:l,securityCode:n.securityCode,min:d&&o.isMin(d)?d:void 0,accountId:u,communicationPreferences:n.communicationPreferences}).then((function(e){t.info("$accountService.CreateAccount:: with Normal accountservice returned "),a(e),AccountServiceInst.getAccountDetails().emptyDetails()})).catch((function(e){if("999"==e.error_code){s({error_code:"-999",error_message:"Email aready exist",error_translate:"ERROR_1985675",error_type:"FAILURE"})}else s(e)})))}))},AccountServiceInst.forgotPassword=function(n){return t.debug("forgotPassword AccountServiceInst.getAccountDetails().getAccountStatusDetails ",AccountServiceInst.getAccountDetails().getAccountStatusDetails()),a((function(t,a){forgotpassword=function(t){return r.run(t,e.get("forgotpassword").forgotpassword,i.get("forgotpassword"))},forgotpasswordmin=function(t){return r.run(t,e.get("forgotpassword").forgotpasswordmin,i.get("forgotpassword"))},o.isEmail(n.data)?this.forgotpassword({email:n.data}).then((function(e){t(e)})).catch((function(e){a(e)})):o.isMin(n.data)?this.forgotpasswordmin({min:n.data}).then((function(e){t(e)})).catch((function(e){a(e)})):(n={email:AccountServiceInst.getAccountDetails().getAccountStatusDetails().email},this.forgotpassword({email:AccountServiceInst.getAccountDetails().getAccountStatusDetails().email}).then((function(e){t(e)})).catch((function(e){a(e)})))}))},AccountServiceInst.resetPassword=function(n){return t.debug("Inside AccountServiceInst.resetPassword"),a((function(t,a){validateToken=function(t){return r.run(t,e.get("resetpassword").validatetoken,i.get("resetpassword"))},resetPassword=function(t){return r.run(t,e.get("resetpassword").resetpassword,i.get("resetpassword"))},this.validateToken({pwdResetToken:n.pwdResetToken}).then((function(e){this.resetPassword({pwdResetToken:n.pwdResetToken,newPassword:n.newPassword}).then((function(e){t(e)})).catch((function(e){a(e)})),t(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.validateToken=function(n){return t.debug("Inside AccountServiceInst.resetPassword"),a((function(t,a){validateToken=function(t){return r.run(t,e.get("resetpassword").validatetoken,i.get("resetpassword"))},this.validateToken({pwdResetToken:n.pwdResetToken}).then((function(e){t(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.accountStatus=function(t){return a((function(n,a){accountstatus=function(t){return r.run(t,e.get("accountrecovery").accountStatus,i.get("forgotusername"))},this.accountstatus(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.verifyZipCode=function(t){return a((function(n,a){verifyzipcode=function(t){return r.run(t,e.get("accountrecovery").verifyzipcode,i.get("forgotusername"))},this.verifyzipcode(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.verifySecurityAnswer=function(t){return a((function(n,a){verifysecurityanswer=function(t){return r.run(t,e.get("accountrecovery").verifysecurityanswer,i.get("forgotusername"))},this.verifysecurityanswer(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.verifySecurityPin=function(t){return a((function(n,a){verifysecuritypin=function(t){return r.run(t,e.get("accountrecovery").verifysecuritypin,i.get("forgotusername"))},this.verifysecuritypin(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.verifySecurityPinorQuestion=function(t){return a((function(n,a){verifysecuritypinorquestion=function(t){return r.run(t,e.get("accountrecovery").verifysecuritypinorquestion,i.get("forgotusername"))},this.verifysecuritypinorquestion(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.confirmVerificationCode=function(t){return a((function(n,a){confirmverificationcode=function(t){return r.run(t,e.get("accountrecovery").confirmverificationcode,i.get("forgotusername"))},this.confirmverificationcode(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.verifyPaymentSource=function(t){return a((function(n,a){verifypaymentsource=function(t){return r.run(t,e.get("accountrecovery").verifypaymentsource,i.get("forgotusername"))},this.verifypaymentsource(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.CreateAccountWithValidation=function(e){return t.info("$accountService.CreateAccountWithValidation:: inside accountExists!! ..."),a((function(n,a){AccountServiceInst.accountExists(e).then((function(i){t.info("$accountService.CreateAccountWithValidation:: returned accountExists!! ..."),i.accountexists?n(i):(t.info("$accountService.accountExists Retuned false hence Going for Creting the account"),AccountServiceInst.CreateAccount(e).then((function(e){t.info("$accountService.CreateAccountWithValidation :: CreateAccount:: service returned going for Ro token"),n(e)})).catch((function(e){a(e)})))})).catch((function(e){a(e)}))}))},AccountServiceInst.createDummyAccount=function(e){t.info("$accountService.createDummyAccount::");var n={};return a((function(e,a){angular.isDefined(s.getSelectedDevice())&&AccountServiceInst.isAccountNA(s.getSelectedDevice().accountStatus)?(AccountServiceInst.getAccountDetails().setEsn(s.getSelectedDevice().esn),AccountServiceInst.CreateAccount({email:s.getSelectedDevice().esn+"@tracfone.com",password:"tracfone"}).then((function(a){t.info("$accountService.createDummyAccount :: CreateAccount:: service returned setting account id into device",a),n.status=!0,s.getSelectedDevice().accountStatus="DUMMY_ACCOUNT",s.getSelectedDevice().accountId=a.svc_response.accountId,AccountServiceInst.getAccountDetails().emptyDetails(),t.info("modfied selected device",s.getSelectedDevice()),e(n)})).catch((function(e){a(e)}))):(n.status=!0,e(n))}))},AccountServiceInst.EmptyAccountdetail=function(e){AccountServiceInst.getAccountDetails().emptyDetails()},AccountServiceInst.UnsubscribeEmail=function(t){return a((function(n,a){unsubscribeEmail=function(t){return r.run(t,e.get("unsubscribeemail").unsubscribe,i.get("unsubscribeemail"))},this.unsubscribeEmail(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.verifyPossesionCodeOrZipCode=function(t){var n=t.min;return a((function(a,o){confirmverificationcode=function(t){return r.run(t,e.get("accountrecovery").confirmverificationcode,i.get("accountrecoverystatus"))},this.confirmverificationcode(t).then((function(e){var t=AccountServiceInst.updateAccountStatusResponse(e.svc_response,n);t.inputvalue=n,AccountServiceInst.getAccountDetails().setAccountStatusDetails(t),a(t)})).catch((function(e){o(e)}))}))},AccountServiceInst.updateAccountStatusResponse=function(e,n){e.inputvalue=n,t.info("updateAccountStatusResponse, svc_response --\x3e ",n),AccountServiceInst.getAccountDetails().setAccountStatusDetails(e);var a=!1;angular.isDefined(e.securityPin)&&angular.equals(e.securityPin,l.available)&&(a=!0);var i=!1;angular.isDefined(e.securityQuestion)&&angular.equals(e.securityQuestion.availability,l.available)&&(i=!0);var r=!1;a&&(r=!0);var o=!1;!a&&i&&(o=!0);var s=!1;a&&i&&(s=!0),e.isSecurityPinAvailable=r,e.isSecurityQuestionAvailable=o,e.isSecurityQuestionAndPinAvailable=s;var c=!0;return angular.isDefined(e.accountStatus)&&angular.equals(e.accountStatus,l.dummy_account)&&!r&&(angular.isDefined(e.devices)?AccountServiceInst.anyTextCapableDevices()||(c=!1):c=!1),e.checkPossessionCode=c,e.isValidAccount=AccountServiceInst.isAccountValid(e.accountStatus),e.isDummyAccount=AccountServiceInst.isDummyAccount(),e.isZipCodeAvailable=AccountServiceInst.verifyActivationZipcode(),e.isActiveDevicesAvaiable=AccountServiceInst.displayActiveDevices(),e.isVerifyPossessionCode=AccountServiceInst.verifyPossessionCode(),e},AccountServiceInst.isSecurityPinOnlyAvailable=function(){return AccountServiceInst.getAccountDetails().getAccountStatusDetails().securityPinOnlyAvailable},AccountServiceInst.isSecurityQuestionOnlyAvailable=function(){return AccountServiceInst.getAccountDetails().getAccountStatusDetails().securityQuestionOnlyAvailable},AccountServiceInst.isSecurityQuestionAndPinAvailable=function(){return AccountServiceInst.getAccountDetails().getAccountStatusDetails().securityQuestionAndPinAvailable},AccountServiceInst.isVerifyPhonePossesionCode=function(){return AccountServiceInst.getAccountDetails().getAccountStatusDetails().checkPossessionCode},AccountServiceInst.isPaymentSourceAvailable=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!(AccountServiceInst.isSecurityPinOnlyAvailable()||AccountServiceInst.isSecurityQuestionOnlyAvailable()||AccountServiceInst.isSecurityQuestionAndPinAvailable()||e.accountStatus!=l.valid_account&&e.accountStatus!=l.dummy_account||e.paymentSource!=l.available)},AccountServiceInst.verifyActivationZipcode=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!(!angular.isDefined(e.activationZipCode)||!angular.equals(e.activationZipCode,l.available))},AccountServiceInst.isDummyAccount=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!(!angular.isDefined(e.accountStatus)||!angular.equals(e.accountStatus,l.dummy_account))},AccountServiceInst.noAccount=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!(!angular.isDefined(e.accountStatus)||!angular.equals(e.accountStatus,l.no_account))},AccountServiceInst.isDeviceStatusActive=function(){t.info("Inside isDeviceStatusActive method");var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!(!angular.isDefined(e.deviceStatus)||!angular.equals(e.deviceStatus,l.active))},AccountServiceInst.isDeviceStatusInActive=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!(!angular.isDefined(e.deviceStatus)||angular.equals(e.deviceStatus,l.active))||!angular.isDefined(e.devices)},AccountServiceInst.anyActiveDevicesInAccount=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!!angular.isDefined(e.devices)},AccountServiceInst.needsActivation=function(){t.info("Inside needsActivation method");var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();if(t.info("accountStatusResponse --\x3e ",e),angular.isDefined(e.inputvalue)){var n=e.inputvalue;if(o.isEmail(n)){if(s.isActivationFlow()&&(AccountServiceInst.noAccount()||AccountServiceInst.isDummyAccount()))return!0}else if(s.isActivationFlow()&&AccountServiceInst.isDeviceStatusInActive()&&(AccountServiceInst.noAccount()||AccountServiceInst.isDummyAccount()&&angular.isUndefined(e.devices)))return!0}return!1},AccountServiceInst.sendVerificationCode=function(t){return a((function(n,a){sendverificationcode=function(t){return r.run(t,e.get("sendverificationcode").sendCode,i.get("sendverificationcode"))},this.sendverificationcode(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.verifyPossessionCode=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return t.info("verifyPossessionCode --\x3e ",e),!(!AccountServiceInst.isDummyAccount()||AccountServiceInst.isSecurityPinOnlyAvailable()||AccountServiceInst.isSecurityQuestionOnlyAvailable()||AccountServiceInst.isSecurityQuestionAndPinAvailable()||!AccountServiceInst.isDeviceStatusActive())},AccountServiceInst.navUpdateAccount=function(){AccountServiceInst.getAccountDetails().getAccountStatusDetails();return!(!AccountServiceInst.isDummyAccount()||AccountServiceInst.isSecurityQuestionAndPinAvailable()||AccountServiceInst.isVerifyPhonePossesionCode())},AccountServiceInst.displayActiveDevices=function(){var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails();if(AccountServiceInst.isDummyAccount()&&!AccountServiceInst.isSecurityPinOnlyAvailable()&&!AccountServiceInst.isSecurityQuestionOnlyAvailable()&&!AccountServiceInst.isSecurityQuestionAndPinAvailable()){if(AccountServiceInst.isDeviceStatusActive()&&!AccountServiceInst.isTextMessageCapableDevice(e.identifier)&&AccountServiceInst.anyTextCapableDevices())return!0;if(AccountServiceInst.isDeviceStatusInActive()&&AccountServiceInst.anyTextCapableDevices())return!0}return!1},AccountServiceInst.accountRecoveryStatus=function(n){t.info("$accountService.accountRecoveryStatus::",n);var c=n.option;return a((function(a,p){accountstatus=function(n){return t.info(" request value passed --\x3e ",n),n.accountid?(n.option=n.accountid,r.run(n,e.get("accountStatus").accountId,i.get("accountrecoverystatus"))):o.isEmail(n.option)?r.run(n,e.get("accountStatus").email,i.get("accountrecoverystatus")):r.run(n,e.get("accountStatus").device,i.get("accountrecoverystatus"))},this.accountstatus(n).then((function(e){t.info("accountRecoveryStatus response --\x3e ",e.svc_response),s.setIsBanCarrierPedning(e.svc_response.isBanCarrierPending);var n=AccountServiceInst.updateAccountStatusResponse(e.svc_response,c);if(n.inputvalue=c,AccountServiceInst.getAccountDetails().setAccountStatusDetails(n),n&&n.accountStatus){t.info("account status no activation --\x3e 1",n.deviceStatus,n.accountStatus);var r=n.deviceStatus?n.deviceStatus.trim():void 0;r&&(r==l.device_status.stolen||r==l.device_status.risk_assestment)&&n.accountStatus==l.dummy_account||!n.identifier&&n.accountStatus!=l.valid_account?angular.equals(n.securityPin,l.available)?!angular.equals(r,l.active)&&angular.equals(n.accountStatus,l.dummy_account)&&d.features.groupbased&&(angular.isDefined(n.identifier)?(u=o.translateError({error_code:"12408"},i.get("accountrecoverystatus")),p(u)):(u=o.translateError({error_code:"12409"},i.get("accountrecoverystatus")),p(u))):(u=o.translateError({error_code:"12405"},i.get("accountrecoverystatus")),p(u)):AccountServiceInst.needsActivation()?(t.info("account status no activation --\x3e 2"),u=o.translateError({error_code:"12406"},i.get("accountrecoverystatus")),p(u)):!angular.equals(r,l.active)&&angular.equals(n.accountStatus,l.dummy_account)&&d.features.groupbased&&(angular.isDefined(n.identifier)?(u=o.translateError({error_code:"12408"},i.get("accountrecoverystatus")),p(u)):(u=o.translateError({error_code:"12409"},i.get("accountrecoverystatus")),p(u))),t.info("Accoutstatus response ",n),a(n)}else t.info("account status no activation --\x3e 3"),u=o.translateError({error_code:"12407"},i.get("accountrecoverystatus")),p(u)})).catch((function(e){t.warn("$accountService/accountRecoveryStatus/reject",e),p(e)}))}))},AccountServiceInst.validateZipCode=function(t){return a((function(n,a){validatezipcode=function(t){return o.isEmail(t.min)?r.run(t,e.get("validatecheckpoints").validatezipcode,i.get("forgotusername")):r.run(t,e.get("accountrecovery").verifyzipcode,i.get("forgotusername"))},this.validatezipcode(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.validateSecurityAnswer=function(t){return a((function(n,a){validatesecurityanswer=function(t){return o.isEmail(t.min)?r.run(t,e.get("validatecheckpoints").validatesecurityanswer,i.get("forgotusername")):r.run(t,e.get("accountrecovery").verifysecurityanswer,i.get("forgotusername"))},this.validatesecurityanswer(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.validateSecurityPin=function(t){return a((function(n,a){validatesecuritypin=function(t){return o.isEmail(t.min)?r.run(t,e.get("validatecheckpoints").validatesecuritypin,i.get("forgotusername")):r.run(t,e.get("accountrecovery").verifysecuritypin,i.get("forgotusername"))},this.validatesecuritypin(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.validateSecurityPinorQuestion=function(t){return a((function(n,a){validatesecuritypinorquestion=function(t){return o.isEmail(t.min)?r.run(t,e.get("validatecheckpoints").validatesecuritypinorquestion,i.get("forgotusername")):r.run(t,e.get("accountrecovery").verifysecuritypinorquestion,i.get("forgotusername"))},this.validatesecuritypinorquestion(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.getPriorInvoices=function(n){return t.info("getPriorInvoices service!! ..."),a((function(a,o){priorinvoices=function(t){return r.run(t,e.get("getpriorinvoices"),i.get("getpriorinvoices"))},this.priorinvoices(n).then((function(e){t.info("getPriorInvoices service respose  ",e),a(e)})).catch((function(e){t.info("getPriorInvoices error ",e),o(e)}))}))},AccountServiceInst.validateVerificationCode=function(t){return a((function(n,a){if(validateverificationcode=function(t){return o.isEmail(t.min)?r.run(t,e.get("validatecheckpoints").verificationcodewithemail,i.get("accountrecoverystatus")):r.run(t,e.get("validatecheckpoints").verificationcodewithmin,i.get("accountrecoverystatus"))},o.isNullOrEmpty(t.verification_code)||6==t.verification_code.length)this.validateverificationcode(t).then((function(e){n(e)})).catch((function(e){a(e)}));else{var s=o.translateError({error_code:"12404"},i.get("accountrecoverystatus"));a(s)}}))},AccountServiceInst.verifyValidCode=function(n){return t.debug("Inside verificationCode"),a((function(t,a){validateVerificationCode=function(t){return r.run(t,e.get("validateVerificationCode").smsValidation,i.get("validateVerificationCode"))},this.validateVerificationCode(n).then((function(e){t(e)})).catch((function(e){a(e)}))}))},AccountServiceInst.isTextMessageCapableDevice=function(e){var n=!0,a=AccountServiceInst.getAccountDetails().getAccountStatusDetails();return t.info("isTextMessageCapableDevice - ",e,a),a.identifier&&angular.forEach(a.devices,(function(a,i){(o.checkLastFour(a.esn,e)||o.checkLastFour(a.min,e))&&(t.info("isTextMessageCapableDevice 2- ",a.deviceType),n=o.isTextMessageCapableDevice(a.deviceType))})),n},AccountServiceInst.anyTextCapableDevices=function(){t.info("Inside anyTextCapableDevices method");var e=AccountServiceInst.getAccountDetails().getAccountStatusDetails(),n=[];return angular.forEach(e.devices,(function(e,t){o.isTextMessageCapableDevice(e.deviceType)&&n.push(e)})),t.info("Exit anyTextCapableDevices method -- ",n.length),n.length>0},AccountServiceInst}angular.module("app").factory("$accountService",e),e.$inject=["$svcConfig","$log","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$facebookService","$appConstants","$appConfig"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b){var S;return ActReactPortUpgradeServiceInst={},ActReactPortUpgradeServiceInst.twofactorauth=function(){t.info("ActReactPortUpgradeServiceInst::Inside twofactorauth method");b.open({animation:!1,templateUrl:"app/views/activation/collectphonenumber/two_factor_authentication_popup.html",size:"md",controller:"twofactorpopupcontroller",windowTopClass:"tf-modal two-factor-authentication",resolve:{}})},ActReactPortUpgradeServiceInst.getPortOrderItems=function(e){t.info("ActReactPortUpgradeServiceInst::Inside getPortOrderItems method",o.getSelectedDevice());var n=[],a={},i={};a.id=1,a.quantity="1",a.action="PORT",i.productSerialNumber=o.getSelectedDevice().esn,i.productCategory=c.handset,i.subCategory=void 0,i.productSpecification={brand:d.brand},i.supportingResources=o.getSupportingResources(e.airtimepin),a.product=i;var r;if(r=e.zip_code,o.isPortFlow()){var s=o.getPortInformation();a.orderItemExtension=s.orderItemExtension,a.customerAccount=ActReactPortUpgradeServiceInst.getCustomerAccount(e),a.service=s.service,t.info("Port Info --\x3e ",s)}return a.location={postalAddress:{zipcode:r}},n.push(a),t.info("order_items--\x3e ",n),n},ActReactPortUpgradeServiceInst.getCustomerAccount=function(e){t.info("Inside ActReactPortUpgradeServiceInst::getCustomerAccount method",o.getPortAddress());var n,a;angular.isDefined(o.getSelectedDevice().isSecurityPinSet)&&!o.getSelectedDevice().isSecurityPinSet&&angular.isDefined(o.getSelectedDevice().securityPin)&&(a=o.getSelectedDevice().securityPin);var i=[];if(angular.isDefined(DeviceServiceInst.getPortAddress())){if(angular.isDefined(DeviceServiceInst.getPortAddress().fname)&&angular.isDefined(DeviceServiceInst.getPortAddress().lname)){var r={name:c.portaddress.first_name,value:DeviceServiceInst.getPortAddress().fname};i.push(r);var s={name:c.portaddress.last_name,value:DeviceServiceInst.getPortAddress().lname};i.push(s)}var d={name:c.portdetails.lastfourssn,value:DeviceServiceInst.getAccountDetails().acckey};i.push(d)}return n=o.getPortAddress()&&l.isBrandMultiLine()?{pin:a,customerAccountContact:[{contactMedium:{contactDetails:[{city:o.getPortAddress().city,zipcode:e.zip_code,stateOrProvince:o.getPortAddress().state,street1:o.getPortAddress().address1,street2:o.getPortAddress().address2}],type:c.portdetails.postalAddress}},{contactDetails:[{number:o.getPortAddress().phone}],type:c.telephone_number}],customerAccountExtension:i}:o.getPortAddress()?{pin:a,customerAccountContact:[{contactMedium:{contactDetails:[{city:o.getPortAddress().city,postcode:e.zip_code,stateOrProvince:o.getPortAddress().state,street1:o.getPortAddress().address1,street2:o.getPortAddress().address2}],type:c.portdetails.postalAddress}},{contactDetails:[{number:o.getPortAddress().phone}],type:c.telephone_number}],customerAccountExtension:i}:a?{pin:a}:void 0,t.info("Exit getCustomerAccount method --\x3e ",n),n},ActReactPortUpgradeServiceInst.provisionPortOrUpgrade=function(r){return t.info("provisionPortOrUpgrade service!! ...",r),n((function(n,s){portProvisioning=function(t){return i.run(t,e.get("serviceorderport"),a.get("serviceorderport"))},t.info("provisionPortOrUpgrade::service!! ...",r);var c=r.webobjid?r.webobjid:o.getSelectedDevice().accountId;r.webobjid=c;var l,d="ACTIVATE_LINE",u={};l=o.getBanDetails()?o.getBanDetails().ban_id:o.getBanId(),l?u={id:l}:(d="ACTIVATE_BAN",u=void 0),o.isPortFlow()?r.isPortFlow=!0:r.isPortFlow=!1;var p=o.relatedPartiesDetails(r);t.info("provisionPortorUpgrade::service!! ...",p,c,l);var v=o.relatedPartiesDetails(r),g=ActReactPortUpgradeServiceInst.getPortOrderItems(r);this.portProvisioning({webobjid:c,relatedParty:v,transactionType:d,orderItems:g,billingAccount:u}).then((function(e){var t=new Date((new Date).setFullYear((new Date).getFullYear()+10));y.setCookie("tfUserLoggedin",t),n(e)})).catch((function(e){s(e)}))}))},ActReactPortUpgradeServiceInst.provisionDeviceWithPin=function(e){return n((function(n,a){t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::provision with Pin",e);var i,r,s={},v=o.getSelectedDevice().execution_plan,g=o.getSelectedDevice().execution_plan===c.transaction_type.phone_upgrade,m=o.getSelectedDevice().execution_plan===c.transaction_type.internal_port;o.getSelectedDevice()&&o.getSelectedDevice().sim&&o.getSelectedDevice().sim.iccid&&(i=o.getSelectedDevice().sim.iccid),r=m?o.getPortupgradeDevice().zipcode:o.getSelectedDevice()&&o.getSelectedDevice().zipcode?o.getSelectedDevice().zipcode:c.default_zipcode;var f=p.isLoggedIn()?p.getAccountId():l.getDeviceAccountid();!g||e||f||(t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::its a Upgrade",o.getPortupgradeDevice()),f=o.getPortupgradeDevice().accountId,r=o.getPortupgradeDevice().zipcode),d.activation_staging?(t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::going for staging"),s.flow="ACT",ActReactPortUpgradeServiceInst.stageWithPinOrPlan({webobjid:f,esn:o.getSelectedDevice().esn,sim:i,action:o.getSelectedDevice().execution_plan,airtimepin:o.getSelectedDevice().servicepin,zip_code:r}).then((function(e){t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::ActReactPortUpgradeServiceInst.stageWithPinOrPlan:returned",e),g?(o.setPortUpgradeSummary(e.svc_response),s.flow="PORT",n(s)):v==c.transaction_type.reactivation?(u.setRedemptionSummary(e.svc_response),s.flow="ACT",n(s)):(t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::ActReactPortUpgradeServiceInst.stageWithPinOrPlan:going for process staging",d.features.groupbased),d.features.groupbased?(s.flow="PIN_CHECKOUT",t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::ActReactPortUpgradeServiceInst.stageWithPinOrPlan: resolving provisionDeviceWithPinres",s),n(s)):ActReactPortUpgradeServiceInst.processStagingProvisioning({webobjid:f,groupIdentifier:e.svc_response.groupIdentifier}).then((function(e){t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::ActReactPortUpgradeServiceInst.processStagingProvisioning returned",e),o.isPortFlow()||g?(o.setPortUpgradeSummary(e.svc_response),s.flow="PORT",n(s)):(u.setRedemptionSummary(e.svc_response),s.flow="ACT",n(s))})).catch((function(e){a(e)})))})).catch((function(e){a(e)}))):o.isPortFlow()?(t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::its a port flow"),ActReactPortUpgradeServiceInst.provisionPortOrUpgrade({webobjid:f,esn:o.getSelectedDevice().esn,sim:i,action:o.getSelectedDevice().execution_plan,airtimepin:o.getSelectedDevice().servicepin,zip_code:r}).then((function(e){t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::ActReactPortUpgradeServiceInst.provisionPortOrUpgrade:returned",e),o.setPortUpgradeSummary(e.svc_response),s.flow="PORT",n(s)})).catch((function(e){a(e)}))):(t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::its Activation or reactivation"),o.provisioningWithPin({webobjid:f,esn:o.getSelectedDevice().esn,sim:i,action:o.getSelectedDevice().execution_plan,airtimepin:o.getSelectedDevice().servicepin,zip_code:r}).then((function(e){t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::$deviceService.provisioningWithPin",response),o.setBanId(e.svc_response.billingAccount.id),g?(t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::PhoneUpgrade"),o.setPortUpgradeSummary(e.svc_response),s.flow="PORT",n(s)):(u.setRedemptionSummary(e.svc_response),s.flow="ACT",n(s))})).catch((function(e){a(e)})))}))},ActReactPortUpgradeServiceInst.validatePinPlanScenario=function(e){t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario",e);var i={};return n((function(n,s){if(e)u.validatePin({pin:e.pin}).then((function(c){c.planTypeAddon?(S=r.translateError({error_code:"-10101"},a.get("serviceplan")),s(error)):(o.getSelectedDevice().servicepin=e.pin,o.getSelectedDevice().servicepinRes=c,ActReactPortUpgradeServiceInst.proceedProvisioning().then((function(e){t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario::provision response",e),i=e,n(i)})).catch((function(e){s(e)})))})).catch((function(e){s(e)}));else{var p=o.getSelectedDevice().flow_scenario,v=o.getSelectedDevice().execution_plan;!p||p!=c.flow_scenario.pin_required&&p!=c.flow_scenario.pin_optional?ActReactPortUpgradeServiceInst.proceedProvisioning().then((function(e){t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario::Withoutpin provision response",e.redirect),i.redirect=e.redirect,n(i)})).catch((function(e){s(e)})):l.isBrandMultiLine()?ActReactPortUpgradeServiceInst.validateProvisionLogin().then((function(e){t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario:: Results",e),f.isCartValidForAct()?"FINAL"==e.redirect?e.redirect="CHECKOUT":e.redirect="ACTIVATION_LOGIN":l.getSavedDevicesLength()>0?e.redirect="COLLECT_PLAN":e.redirect="COLLECT_PIN_PLAN",t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario Final Response",e),n(e)})):ActReactPortUpgradeServiceInst.validateProvisionLogin().then((function(e){t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario:: Results",e),f.isCartValidForAct()?"FINAL"==e.redirect?e.redirect="CHECKOUT":e.redirect="ACTIVATION_LOGIN":(t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario:: Checking if group based brand ",d.features.groupbased,l.getSavedDevices()),d.features.groupbased&&l.getSavedDevices()&&l.getSavedDevices().length>0?(l.isDeviceStagedWithPin()?e.redirect="PIN_CHECKOUT":e.redirect="CHECKOUT",t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario:: Group based brand and some device already staged ",e)):v&&v==c.transaction_type.phone_upgrade&&!f.isCartValidForAct()?e.redirect="UPGRADE_PINREQ_POPUP":e.redirect="COLLECT_PIN_PLAN"),t.info("ActReactPortUpgradeServiceInst::validatePinPlanScenario Final Response",e),n(e)}))}}))},ActReactPortUpgradeServiceInst.validateProvisionLogin=function(){t.info("ActReactPortUpgradeServiceInst::validateProvisionLogin",p.isLoggedIn(),l.getDeviceAccountid(),p.isLimitedAccess(),l.getActiveLinesInAccount());var e={},a=o.getSelectedDevice().accountStatus,i=o.getSelectedDevice().accountId,r=o.getSelectedDevice().execution_plan;return n((function(n,s){t.info("ActReactPortUpgradeServiceInst::validateProvisionLogin",a,i,r),a&&a==c.dummy_account&&!o.getSelectedDevice().reservedLine&&(t.info("its a dummy account with no lines in account "+l.getActiveLinesInAccount()),
l.isFirstEsn()?(t.info("its a dummy account with no lines in account deleting dummy acount"),l.removeDeviceForDummyAct({device:o.getSelectedDevice(),firstESN:!0}).then((function(e){t.debug("Successfully deleted device from dummy account",e)})).catch((function(e){s(e)}))):(t.info("its a dummy account with active lines in the account so Set account id and proceed with the Activation"),l.setDeviceAccountid(i))),a=o.getSelectedDevice().accountStatus,i=o.getSelectedDevice().accountId,d.features.groupbased&&l.setDeviceAccountid(i),t.info("ActReactPortUpgradeServiceInst::validateProvisionLogin::Multiline?",l.isBrandMultiLine()),(l.isBrandMultiLine()||d.features.groupbased)&&(p.isLoggedIn()||l.getDeviceAccountid())?(t.info("ActReactPortUpgradeServiceInst::validateProvisionLogin::is mutline",p.isLoggedIn(),p.isLimitedAccess(),l.getActiveLinesInAccount()),p.isLoggedIn()&&p.isLimitedAccess()?l.getActiveLinesInAccount()&&l.getActiveLinesInAccount()>0?e.redirect="ACTIVATION_LOGIN":e.redirect="FINAL":(t.info("ActReactPortUpgradeServiceInst::validateProvisionLogin::is mutline user not logged in"),e.redirect="FINAL")):(t.info("ActReactPortUpgradeServiceInst::validateProvisionLogin::not?",o.getSelectedDevice()),o.getSelectedDevice()&&(p.isLoggedIn()||a&&i&&a===c.valid_account||r==c.transaction_type.phone_upgrade)?(e.redirect="FINAL",l.setDeviceAccountid(i)):e.redirect="ACTIVATION_LOGIN"),t.info("ActReactPortUpgradeServiceInst::validateProvisionLogin::final reseponse",e),n(e)}))},ActReactPortUpgradeServiceInst.postflashcheck=function(e){return t.info("ActReactPortUpgradeServiceInst:: Inside postflashcheck ...",e),postflashcheckRes={},n((function(n,a){if("ACTIVATION"==e.flow){var i=o.getSelectedDevice().deviceStatus,r=o.getSelectedDevice();if(o.clearFlashDetails(),t.info("-- selecteddevice -- ",r),!l.checkSecurityPin()&&v.get("collect-securitypin"))postflashcheckRes.redirect="COLLECT_PIN",n(postflashcheckRes);else if(d.activation_staging&&r&&r.group&&(i==c.device_status.new_device||i==c.device_status.refurbish)){t.info("ActReactPortUpgradeServiceInst:: Inside validateStaging:: Brand has staging and device has group id available");var s=c.default_zipcode,p={};p.context=c.service_qulafiers.staging,p.zipcode=s,g.checkActivationScenario(p).then((function(i){if(t.info("ActReactPortUpgradeServiceInst:: Inside checkActivationScenario Succesful ...",i),i.qualified&&i.stagedWithPin)t.info("ActReactPortUpgradeServiceInst::Inside Staged with Pin ::going for activation:going for process staging"),l.setExistingStagedDevices(!1),i.devices&&i.devices.length>0&&(l.setExistingStagedDevices(!0),angular.merge(l.getSavedDevices(),i.devices)),t.info("ActReactPortUpgradeServiceInst:: Inside Staged with pin $devicesCartServices.getSavedDevices() ",l.getSavedDevices()),d.features.groupbased?(postflashcheckRes.redirect="PIN_CHECKOUT",n(postflashcheckRes)):ActReactPortUpgradeServiceInst.processStagingProvisioning(e).then((function(e){t.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::ActReactPortUpgradeServiceInst.processStagingProvisioning returned",e),o.isPortFlow()?(o.setPortUpgradeSummary(e.svc_response),e.redirect="PORT_PIN_INSTRUCTIONS",n(e)):(u.setRedemptionSummary(e.svc_response),e.redirect="ACT_PIN_INSTRUCTIONS",n(e))})).catch((function(e){a(e)}));else if(i.qualified&&i.stagewithServicePlan)l.setExistingStagedDevices(!1),i.devices&&i.devices.length>0&&(l.setExistingStagedDevices(!0),angular.merge(l.getSavedDevices(),i.devices)),t.info("ActReactPortUpgradeServiceInst:: Inside Staged with Plan $devicesCartServices.getSavedDevices() ",l.getSavedDevices()),t.info("ActReactPortUpgradeServiceInst:: Inside Staged with Plan going for checkout"),i.Plan&&(f.addPlanToCart(i.Plan),t.info("selected device --\x3e ",r),r.execution_plan=c.transaction_type.activation,angular.isUndefined(r.zipcode)&&(r.zipcode=c.default_zipcode),angular.isDefined(r.accountId)&&l.setDeviceAccountid(r.accountId)),postflashcheckRes.redirect="CHECKOUT",n(postflashcheckRes);else{var s={};r&&r.reservedLine?(s.flow="EXSITING_NUMBER",s.zipCode=r.zipcode,s.min=r.min,t.info("ActReactPortUpgradeServiceInst:: Validate actvation as the device is not staged"),ActReactPortUpgradeServiceInst.validateActivationScenario(s).then((function(e){t.info("ActReactPortUpgradeServiceInst:: Validate actvation scuccesful",e),n(e)})).catch((function(e){a(e)}))):(postflashcheckRes.redirect="COLLECT_MINZIP",n(postflashcheckRes))}})).catch((function(e){a(e)}))}else l.removeDeviceForDummyAct({device:o.getSelectedDevice(),firstEsn:!1}).then((function(s){if(t.info("ActReactPortUpgradeServiceInst:: Inside postflashcheck:: Remove Device Successful",s),"BYOP"==o.getSelectedDevice().deviceType&&o.setDeviceType("BYOP"),e.napCheck&&r.sim&&r.sim.iccid&&r.esn){var l=r.zipcode?r.zipcode:c.default_zipcode;r.sim.carrier==c.carrier_name.clr&&(l=c.default_prutoricozip),m.verifyTechnology({zipcode:l,defaultzip:!1}).then((function(e){t.info(" napResponse --\x3e ",e),i==c.device_status.new_device&&angular.equals(e.qualification_result,c.qualified)&&angular.equals(r.technology,c.technology_type.cdma)&&"BYOP"==o.getSelectedDevice().deviceType?(postflashcheckRes.redirect="DEVICE_ACTIVE",n(postflashcheckRes)):ActReactPortUpgradeServiceInst.postProcessflashCheck({}).then((function(e){t.info("postProcessflashCheck response -- ",e),n(e)})).catch((function(e){t.info("postProcessflashCheck error -- ",e),a(e)}))})).catch((function(e){t.info("adfafdaf -- ",e),a(e)}))}else ActReactPortUpgradeServiceInst.postProcessflashCheck({}).then((function(e){t.info("postProcessflashCheck response 2 -- ",e),n(e)})).catch((function(e){t.info("postProcessflashCheck error 2 -- ",e),a(e)}))})).catch((function(e){a(e)}))}else postflashcheckRes.redirect="RedemptionFLOW",n(postflashcheckRes)}))},ActReactPortUpgradeServiceInst.postProcessflashCheck=function(){return n((function(e,n){var a=o.getSelectedDevice().deviceStatus,i=o.getSelectedDevice();if(t.info("-- selecteddevice -- ",i),a!=c.device_status.used&&a!=c.device_status.past_due||1!=i.reservedLine)if(a!=c.device_status.new_device&&a!=c.device_status.refurbish||1!=i.reservedLine)d.features.activateesn&&(!i.sim||i.sim&&!i.sim.iccid)&&i.isSimRequired?(postflashcheckRes.redirect="COLLECT_SIM",e(postflashcheckRes)):(postflashcheckRes.redirect="COLLECT_MINZIP",e(postflashcheckRes));else if(r.isDataOnlyDevice(o.getSelectedDevice())){var s=i.zipcode?$selecteddevice.zipcode:c.default_zipcode;m.verifyTechnology({zipcode:s}).then((function(a){t.info("ActReactPortUpgradeServiceInst:: Inside postflashcheck:: Nap for Reactivation Successful",a),g.checkActivationScenario({zipcode:s}).then((function(a){t.info("ActReactPortUpgradeServiceInst:: Inside postflashcheck:: Nap for ActivationScenatio Successful",a);var i=(a.flow_scenario,a.execution_plan);!i||i!=c.transaction_type.activation&&i!=c.transaction_type.reactivation?n(postflashcheckRes):(t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Act/React flow"),ActReactPortUpgradeServiceInst.validatePinPlanScenario().then((function(n){t.info("ActReactPortUpgradeServiceInst:: Inside checkActivationScenario ValidatePINPLAN succesful ...",n),e(n)})).catch((function(e){n(e)})))})).catch((function(e){n(e)}))})).catch((function(e){n(e)}))}else postflashcheckRes.redirect="COLLECT_MIN",e(postflashcheckRes);else m.verifyTechnology({zipcode:i.zipcode}).then((function(a){t.info("ActReactPortUpgradeServiceInst:: Inside postflashcheck:: Nap for Reactivation Successful",a),g.checkActivationScenario({zipcode:i.zipcode}).then((function(a){t.info("ActReactPortUpgradeServiceInst:: Inside postflashcheck:: Nap for ActivationScenatio Successful",a);var i=(a.flow_scenario,a.execution_plan);!i||i!=c.transaction_type.activation&&i!=c.transaction_type.reactivation?n(postflashcheckRes):(t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Act/React flow"),ActReactPortUpgradeServiceInst.validatePinPlanScenario().then((function(n){t.info("ActReactPortUpgradeServiceInst:: Inside checkActivationScenario ValidatePINPLAN succesful ...",n),e(n)})).catch((function(e){n(e)})))})).catch((function(e){n(e)}))})).catch((function(e){n(e)}))}))},ActReactPortUpgradeServiceInst.validateActivationScenario=function(e){t.info("ActReactPortUpgradeServiceInst:: Inside validateActivationScenario ...",e);var i={};i.redirect="COLLECT_PIN_PLAN";var s=e.zipCode;return n((function(n,d){"NEW_NUMBER"==e.flow?(t.info("ActReactPortUpgradeServiceInst:: Inside validateActivationScenario new Number flow"),m.verifyTechnology({zipcode:s}).then((function(e){t.info("ActReactPortUpgradeServiceInst:: Inside validateActivationScenario::NAP succesful ...",e),o.getSelectedDevice().zipcode=s,g.checkActivationScenario({zipcode:s}).then((function(e){t.info("ActReactPortUpgradeServiceInst:: Inside checkActivationScenario Succesful ...",e);var a=(e.flow_scenario,e.execution_plan);if(!a||a!=c.transaction_type.activation&&a!=c.transaction_type.reactivation)d(e);else{var i=ActReactPortUpgradeServiceInst.getSharedPlanProcessAction(a);if(angular.isUndefined(i))ActReactPortUpgradeServiceInst.validatePinPlanScenario().then((function(e){t.info("ActReactPortUpgradeServiceInst:: Inside checkActivationScenario ValidatePINPLAN succesful ...",e),n(e)})).catch((function(e){d(e)}));else{n({redirect:i})}}})).catch((function(e){d(e)}))})).catch((function(e){d(e)}))):(s=s||c.default_zipcode,t.info("ActReactPortUpgradeServiceInst:: Inside validateActivationScenario exsiting Number flow"),g.checkActivationScenario({zipcode:s,min:e.min}).then((function(s){t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful ...",s),o.setCurrentMin(e.min);var u=(s.flow_scenario,s.execution_plan);if(!u||u!=c.transaction_type.activation&&u!=c.transaction_type.reactivation){if(u&&u==c.transaction_type.external_port){t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful External Port flow");var v=ActReactPortUpgradeServiceInst.getSharedPlanProcessAction(u);if(angular.isUndefined(v))i.redirect="EXTERNAL_PORT",n(i);else{var g={redirect:v};n(g)}}else if(u&&u==c.transaction_type.phone_upgrade)if(t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow"),l.isBrandMultiLine()&&l.getSavedDevicesLength()>0)t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow:: having devicwes in cart"),i.redirect="UPGRADE_POPUP",n(i);else{var v=response.execution_plan;o.get2fa_requiredfor_upgrade()&&1==s.qualified?ActReactPortUpgradeServiceInst.twofactorauth():1==s.qualified&&_.$broadcast("proceed-upgrade-min",{}),_.$on("proceed-upgrade-min",(function(s,l){o.validatePortUpgrade({device:e.min}).then((function(e){t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow:: recevied To phone info",e);var s=o.getPortupgradeDevice().accountStatus,l=o.getPortupgradeDevice().accountId;if(o.getSelectedDevice().zipcode=o.getPortupgradeDevice().zipcode,s&&s==c.valid_account)if(p.isLoggedIn()){var u=p.getAccountId();u!=l?(t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow::User logged in Device belongs to diffrent account"),S=r.translateError({error_code:"-10103"},a.get("validatedevice")),d(S)):(t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow::Redirecting as approrpiate"),ActReactPortUpgradeServiceInst.validatePinPlanScenario().then((function(e){t.info("ActReactPortUpgradeServiceInst:: Inside checkActivationScenario ValidatePINPLAN succesful ...",e),n(e)})).catch((function(e){d(e)})))}else s&&l&&s===c.valid_account&&o.getSelectedDevice().accountId&&o.getSelectedDevice().accountStatus&&o.getSelectedDevice().accountStatus===c.valid_account&&l!=o.getSelectedDevice().accountId?(t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow::Device belongs to diffrent account"),S=r.translateError({error_code:"-10103"},a.get("validatedevice")),d(S)):(t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow::user not Logged in"),i.redirect="PHONE_UPGRADE",n(i));else t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow::Device doesnot belown to same account"),i.redirect="INTERNAL_PORT",n(i)})).catch((function(e){d(e)}))}))}else if(u&&u==c.transaction_type.internal_port){t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Internal Port flow");var v=ActReactPortUpgradeServiceInst.getSharedPlanProcessAction(u);if(angular.isUndefined(v))o.validatePortUpgrade({device:e.min,port_brand:s.port_brand}).then((function(e){t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Upgrade flow:: recevied To phone info",e),"ACTIVE"===e.svc_response.deviceStatus&&(i.redirect="INTERNAL_PORT",n(i))})).catch((function(e){$errorHandler.handleError(e)}));else{angular.isDefined(o.getSelectedDevice().masterEsnInfo)&&(o.getSelectedDevice().masterEsnInfo.portInfo={device:e.min,port_brand:s.port_brand});var g={redirect:v};n(g)}}}else{t.info("ActReactPortUpgradeServiceInst:: checkActivationScenario Succesful Act/React flow");var v=ActReactPortUpgradeServiceInst.getSharedPlanProcessAction(u);if(angular.isUndefined(v))ActReactPortUpgradeServiceInst.validatePinPlanScenario().then((function(e){t.info("ActReactPortUpgradeServiceInst:: Inside checkActivationScenario ValidatePINPLAN succesful ...",e),n(e)})).catch((function(e){d(e)}));else{var g={redirect:v};n(g)}}})).catch((function(e){"11026"===e.error_code?(S=r.translateError({error_code:"11026"},a.get("servicequalificationact")),d(S)):d(e)})))}))},ActReactPortUpgradeServiceInst.phoneUpgradeLogin=function(e){t.info("ActReactPortUpgradeServiceInst::phoneUpgradeLogin",e);return n((function(n,a){p.userLogin(e).then((function(i){t.info("ActReactPortUpgradeServiceInst::phoneUpgradeLogin::userLogin",i);var r=new Date((new Date).setFullYear((new Date).getFullYear()+10));y.setCookie("tfUserLoggedin",r),p.setEmail(e.email),e.keepmeloggedin?(t.debug("ActReactPortUpgradeServiceInst::phoneUpgradeLogin:Keepmesignedin"),p.getRoNsToken(e)):p.disableKeepMeSignedIn(),ActReactPortUpgradeServiceInst.validatePortUgrade(e).then((function(e){t.info("ActReactPortUpgradeServiceInst::phoneUpgradeLogin::validatePortUgrade",e),n(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))},ActReactPortUpgradeServiceInst.validatePortUgrade=function(e){t.info("ActReactPortUpgradeServiceInst::validatePortUgrade",e);var a={},i=(o.getSelectedDevice().accountStatus,o.getSelectedDevice().accountId,o.getPortupgradeDevice().accountStatus,o.getPortupgradeDevice().accountId,o.getSelectedDevice().execution_plan),r=o.getSelectedDevice().flow_scenario;return n((function(e,n){if(!r||r!=c.flow_scenario.pin_required&&r!=c.flow_scenario.pin_optional)ActReactPortUpgradeServiceInst.proceedProvisioning().then((function(n){t.info("ActReactPortUpgradeServiceInst::validatePortUgradeRes::Withoutpin provision response",n),e(n)})).catch((function(e){n(e)}));else{if(i&&i==c.transaction_type.phone_upgrade&&!f.isCartValidForAct())a.redirect="UPGRADE_PINREQ_POPUP";else if(l.isBrandMultiLine())f.isCartValidForAct()?a.redirect="CHECKOUT":l.getSavedDevicesLength()>0?a.redirect="COLLECT_PLAN":a.redirect="COLLECT_PIN_PLAN";else if(f.isCartValidForAct())a.redirect="CHECKOUT";else if(d.features.groupbased&&l.getSavedDevicesLength()>0)l.isDeviceStagedWithPin()?a.redirect="PIN_CHECKOUT":a.redirect="CHECKOUT";else{var o=ActReactPortUpgradeServiceInst.getSharedPlanPortPostAction(i);angular.isUndefined(o)?a.redirect="COLLECT_PIN_PLAN":a.redirect=o}t.info("ActReactPortUpgradeServiceInst::validatePortUgradeRes:: resolving !!!  ",a),e(a)}}))},ActReactPortUpgradeServiceInst.proceedProvisioning=function(e){var a={};return n((function(n,i){ActReactPortUpgradeServiceInst.validateProvisionLogin().then((function(r){"FINAL"===r.redirect?ActReactPortUpgradeServiceInst.provisionDeviceWithPin(e).then((function(e){t.info("provisionDeviceWithPin !!  response !!! ",e),"PORT"===e.flow?(t.info("Activation sucessfuly done !!  PORT",e),a.redirect="PORT_PIN_INSTRUCTIONS",n(a)):"PIN_CHECKOUT"===e.flow?(t.info("Activation sucessfuly done !!  PIN_CHECKOUT",e),a.redirect="PIN_CHECKOUT",n(a)):(a.redirect="ACT_PIN_INSTRUCTIONS",n(a))})).catch((function(e){i(e)})):(o.getSelectedDevice().noPinRequired=!0,a.redirect="ACTIVATION_LOGIN",n(a))})).catch((function(e){i(e)}))}))},ActReactPortUpgradeServiceInst.buildStagingOrderItems=function(e){t.info("ActReactPortUpgradeServiceInst::Inside buildStagingOrderitems method",e,o.getSelectedDevice(),f.getPlans(),o.getAccountDetails(),o.getPortAddress());var n=[],a={},i={},r=o.getSelectedDevice().execution_plan===c.transaction_type.phone_upgrade,s=o.getSelectedDevice();s.execution_plan==c.transaction_type.internal_port||s.execution_plan==c.transaction_type.external_port?(a.action="PORT",a.id="1",a.quantity="1"):a.action=s.execution_plan,i.productSerialNumber=s.esn,i.productCategory=c.handset,i.productSpecification={brand:d.brand},i.supportingResources=ActReactPortUpgradeServiceInst.buildStaginSupportResources(e);var u;if(f.isCartValidForAct()&&(t.info("isCartValidForAct Info --\x3e $appConfig.features.groupbased ",d.features.groupbased,l.getSavedDevices()),!d.features.groupbased||d.features.groupbased&&l.getSavedDevices()&&0==l.getSavedDevices().length)){var p=f.getPlans();if(p&&p.length>0){u=[];var v={id:""+p[0].plan_id,category:c.service_plan,isRedeemNow:!1};u.push(v)}}if(i.relatedServices=u,a.product=i,o.isPortFlow()||r){var g=o.getPortInformation();if(a.orderItemExtension=g.orderItemExtension,t.info("Port Info --\x3e ",g),g.service)if(g.service.carrier){var m=g.service.carrier[0];a.orderItemExtension.push({name:c.portdetails.serviceprovider,value:m.name})}else a.orderItemExtension.push({name:c.portdetails.serviceprovider,value:g.service});if(o.getPortAddress()){var h=o.getPortAddress();h.city&&a.orderItemExtension.push({name:c.portaddress.city,value:h.city}),h.zipcode&&a.orderItemExtension.push({name:c.portaddress.zip,value:h.zipcode}),h.state&&a.orderItemExtension.push({name:c.portaddress.state,value:h.state}),h.address1&&a.orderItemExtension.push({name:c.portaddress.line1,value:h.address1}),h.address2&&a.orderItemExtension.push({name:c.portaddress.line2,value:h.address2}),h.phone&&a.orderItemExtension.push({name:c.portaddress.contactphone,value:h.phone}),h.fname&&a.orderItemExtension.push({name:c.portaddress.firstname,value:h.fname}),h.lname&&a.orderItemExtension.push({name:c.portaddress.lastname,value:h.lname}),s.port_brand&&a.orderItemExtension.push({name:c.portdetails.serviceprovider,value:s.port_brand})}if(o.getAccountDetails()){var _=o.getAccountDetails();_.carriertype&&a.orderItemExtension.push({name:c.portdetails.carriertype,value:_.carriertype}),_.fullname&&a.orderItemExtension.push({name:c.portdetails.fullname,value:_.fullname}),_.acckey&&a.orderItemExtension.push({name:c.portdetails.ssnlastfour,value:_.acckey})}}if(t.info("staging order items $appConfig.features.groupbased --\x3e ",d.features.groupbased,o.getSelectedDevice(),l.getSavedDevices()),d.features.groupbased&&l.getSavedDevices()&&l.getSavedDevices().length>0)if(a.orderItemExtension)t.info(" orderItem.orderItemExtension pushing to existing list --\x3e "),e&&e.groupId?a.orderItemExtension.push({name:c.service_qulafiers.extensionsName.groupIdentifier,value:e.groupId}):a.orderItemExtension.push({name:c.service_qulafiers.extensionsName.groupIdentifier,value:l.getGroupInfo().groupId});else{t.info(" orderItem.orderItemExtension creating new list and pushing --\x3e ");var y=[];e&&e.groupId?y.push({name:c.service_qulafiers.extensionsName.groupIdentifier,value:e.groupId}):y.push({name:c.service_qulafiers.extensionsName.groupIdentifier,value:l.getGroupInfo().groupId}),a.orderItemExtension=y}var b;return t.info("staging order items zipcode --\x3e ",o.getSelectedDevice().zipcode),b=e.zip_code?e.zip_code:o.getSelectedDevice().zipcode?o.getSelectedDevice().zipcode:c.default_zipcode,s.execution_plan===c.transaction_type.internal_port&&(b=o.getPortupgradeDevice().zipcode),a.location={postalAddress:{zipcode:b}},n.push(a),t.info("order_items--\x3e ",n),n},ActReactPortUpgradeServiceInst.buildStaginSupportResources=function(e){t.info("ActReactPortUpgradeServiceInst::Inside buildStaginSupportResources method",e,o.getSelectedDevice());var n=[],a=o.getSelectedDevice().servicepin;if(!r.isNullOrEmpty(a)){var i={resourceType:c.airtime_card,serialNumber:a};n.push(i)}if(!r.isNullOrEmpty(o.getSelectedDevice().sim)){var s={resourceType:c.sim,serialNumber:o.getSelectedDevice().sim.iccid};n.push(s)}if(!r.isNullOrEmpty(o.getSelectedDevice().min)){var l={resourceType:c.line,serialNumber:o.getSelectedDevice().min};n.push(l)}return n},ActReactPortUpgradeServiceInst.stageWithPinOrPlan=function(r){t.info("ActReactPortUpgradeServiceInst:: Inside stageWithPinOrPlan",r);return n((function(n,s){var c;stageOrder=function(t){return i.run(t,e.get("serviceorderport"),a.get("serviceorderport"))},t.info("stageWithPinOrPlan::service!! ...",r);var u=r.webobjid?r.webobjid:o.getSelectedDevice().accountId;!u&&p.isLoggedIn()&&(u=p.getAccountId()),d.features.groupbased&&!u&&(u=DevicesCartServicesInst.getSavedDevices()[0].accountId),r.webobjid=u;var v=void 0;if(d.banrequired){var g="ACTIVATE_LINE";c=o.getBanDetails()?o.getBanDetails().ban_id:o.getBanId(),c?v={id:c}:(g="ACTIVATE_BAN",v=void 0)}var m=o.relatedPartiesDetails(r);t.info("provisionPortorUpgrade::service!! ...",m,u,c);var f=ActReactPortUpgradeServiceInst.buildStagingOrderItems(r);t.info("stageWithPinOrPlan::service!! ...",u,c,f),this.stageOrder({webobjid:u,relatedParty:m,transactionType:g,orderItems:f,billingAccount:v}).then((function(e){t.info("stageWithPinOrPlan::service succesful!! ...",e),o.getSelectedDevice()&&(o.getSelectedDevice().group={},o.getSelectedDevice().group.groupId=e.svc_response.groupIdentifier,e.svc_response.groupName&&(o.getSelectedDevice().group.groupName=e.svc_response.groupName),d.activation_staging&&parseInt(o.getSelectedDevice().reserveCount)>0&&angular.isUndefined(l.getTaxes())&&(o.getSelectedDevice().stagedWithPin=!0));var a=new Date((new Date).setFullYear((new Date).getFullYear()+10));y.setCookie("tfUserLoggedin",a),n(e)})).catch((function(e){s(e)}))}))},ActReactPortUpgradeServiceInst.processStagingProvisioning=function(r){return n((function(n,s){processStaging=function(t){return i.run(t,e.get("serviceorderport"),a.get("serviceorderport"))};var l,u;t.info("processStagingProvisioning::service!! ...",r),l=r.webobjid?r.webobjid:o.getSelectedDevice().accountId,u=r.groupIdentifier?r.groupIdentifier:o.getSelectedDevice().group?o.getSelectedDevice().group.groupId:void 0,r.webobjid=l;var p=[],v={},g={};v.action=c.process_action,g.productSpecification={brand:d.brand},v.product=g;var m=[],f={name:c.service_qulafiers.extensionsName.groupIdentifier,value:u},h=o.relatedPartiesDetails(r);m.push(f),v.orderItemExtension=m,p.push(v),t.info("processStagingProvisioning::service!! ...",p),this.processStaging({webobjid:l,relatedParty:h,orderItems:p}).then((function(e){var t={};t.serviceOrdRes=e.svc_response,t.device=o.getSelectedDevice(),ActReactPortUpgradeServiceInst.pushGTMData(t),n(e)})).catch((function(e){s(e)}))}))},ActReactPortUpgradeServiceInst.buildRemoveStagingOrderItems=function(e){t.info("ActReactPortUpgradeServiceInst::Inside buildRemoveStagingOrderItems method",e,o.getSelectedDevice());var n=[],a={},i={},r=o.getSelectedDevice();a.action="DELETE_ITEM",i.productSerialNumber=r.esn,i.productCategory=c.handset,i.productSpecification={brand:d.brand},a.product=i;var s;return s=e.zip_code,t.info("staging order items zipcode --\x3e ",o.getSelectedDevice().zipcode),s||(s=o.getSelectedDevice().zipcode),angular.isUndefined(o.getSelectedDevice().zipcode)&&(s=c.default_zipcode),a.location={postalAddress:{zipcode:s}},n.push(a),t.info("order_items--\x3e ",n),n},ActReactPortUpgradeServiceInst.removedStagedDevices=function(){t.info("removedStagedDevices service!! ...");var r={};t.info("ActReactPortUpgradeServiceInst:: Inside stageWithPinOrPlan",r);return n((function(n,r){removestagedevice=function(t){return i.run(t,e.get("serviceorderdel"),a.get("serviceorderdel"))},this.removestagedevice({esn:o.getSelectedDevice().esn}).then((function(e){t.info("removedStagedDevices::service succesful!! ...",e),n(e)})).catch((function(e){r(e)}))}))},ActReactPortUpgradeServiceInst.processPinCheckout=function(s){return n((function(n,l){processStaging=function(t){return i.run(t,e.get("serviceorderport"),a.get("serviceorderport"))};var u,p;t.info("processStagingProvisioning::service!! ...",s),u=s.webobjid?s.webobjid:o.getSelectedDevice().accountId,p=s.groupIdentifier?s.groupIdentifier:o.getSelectedDevice().group?o.getSelectedDevice().group.groupId:void 0,s.webobjid=u;var v=[],g={},m={},f=[];if(g.action=c.process_action,m.productSerialNumber=s.esn,m.productCategory=c.handset,m.subCategory=void 0,m.productSpecification={brand:d.brand},!r.isNullOrEmpty(s.airtimepin)){var h={resourceType:c.airtime_card,serialNumber:s.airtimepin};f.push(h)}m.supportingResources=f,g.product=m;var _=[],y={name:c.service_qulafiers.extensionsName.groupIdentifier,value:p},b=o.relatedPartiesDetails(s);_.push(y),g.orderItemExtension=_,v.push(g),t.info("processStagingProvisioning::service!! ...",v),this.processStaging({webobjid:u,relatedParty:b,orderItems:v}).then((function(e){var t={};t.serviceOrdRes=e.svc_response,t.device=o.getSelectedDevice(),ActReactPortUpgradeServiceInst.pushGTMData(t),n(e)})).catch((function(e){l(e)}))}))},ActReactPortUpgradeServiceInst.pushGTMData=function(e){var n=e.serviceOrdRes,a=e.device;angular.isUndefined(a)&&l.getSavedDevices()&&l.getSavedDevices().length>0&&(a=l.getSavedDevices()[0]),t.info("ActReactPortUpgradeServiceInst::pushGTMData start serviceorder ",e);var i,r=[];if(n){i=n.transactionId;var o=n.servicePlan;o&&r.push({sku:o.part_number,name:o.plan_name,category:"Plans",price:o.planprice,quantity:o.quantity,deviceBrand:a.brand,deviceModel:a.devicePartClass})}_.$broadcast("tracfone-actreactport-event",{transactionId:i,transactionAffiliation:"Internal",transactionDate:new Date,transactionTotal:0,transactionTax:0,transactionShipping:0,transactionShippingMethod:"",transactionDiscount:0,transactionProducts:r,transactionCoupons:[{code:"",description:""}],autoRefill:!1,transactionType:a.execution_plan?a.execution_plan:c.transaction_type.redemption,servicePlanRedemptionType:"pin",byodFlag:"BYOP"==a.deviceType}),digitalData.cart.price.basePrice=0,digitalData.cart.price.voucherCode="",digitalData.cart.price.voucherDiscount=0,digitalData.cart.price.cartTotal=0,digitalData.cart.item=[],angular.forEach(r,(function(e,t){var n={productInfo:{productType:e.planScriptType,productID:e.plan_id,productName:e.plan_name,productPartNumber:e.sku,availability:!0},quantity:e.quantity,price:{basePrice:e.planprice,voucherCode:"",voucherDiscount:""}};digitalData.cart.item.push(n)}))},ActReactPortUpgradeServiceInst.addLineToGroup=function(e,a){return n((function(n,i){ActReactPortUpgradeServiceInst.validateActivationScenario(e).then((function(e){l.addToSavedDeviceList(),t.debug("addline to existing group",o.getSelectedDevice(),a,l.getSavedDevices()),ActReactPortUpgradeServiceInst.stageWithPinOrPlan({groupId:a}).then((function(e){t.debug("processPortContinue:: stageDevice ",e);var r=p.isLoggedIn()?p.getAccountId():l.getDeviceAccountid();ActReactPortUpgradeServiceInst.processStagingProvisioning({webobjid:r,groupIdentifier:a}).then((function(e){u.setRedemptionSummary(e.svc_response),n()})).catch((function(e){i(e)}))})).catch((function(e){t.debug("processPortContinue:: stageDevice Failed",e),i(e)}))})).catch((function(e){t.debug("validate activation failed"),i(e)}))}))},ActReactPortUpgradeServiceInst.getSharedPlanProcessAction=function(e){var t;if(ActReactPortUpgradeServiceInst.isSharedPlanScenarioCheckRequired(e)){var n=o.getSelectedDevice(),a=n.reserveCount?parseInt(n.reserveCount):0;if(0==l.getSavedDevices().length&&0==a){var i=o.getSelectedDevice().masterEsnInfo.masterEsnGroupId;t=r.isNullOrEmpty(i)||e!=c.transaction_type.internal_port&&e!=c.transaction_type.external_port?c.flow_type.shared_plan_process_action:void 0}}return t},ActReactPortUpgradeServiceInst.isSharedPlanScenarioCheckRequired=function(e){var t=!1,n=o.getSelectedDevice();return d.features.groupbased&&angular.isUndefined(l.getTaxes())&&angular.isDefined(n.masterEsnInfo)&&ActReactPortUpgradeServiceInst.isTxnAllowedForSharedPlanScenario(e)&&(t=!0),t},ActReactPortUpgradeServiceInst.isTxnAllowedForSharedPlanScenario=function(e){var t=!1;return e!=c.transaction_type.activation&&e!=c.transaction_type.internal_port&&e!=c.transaction_type.external_port||(t=!0),t},ActReactPortUpgradeServiceInst.getSharedPlanPortPostAction=function(e){var t;if(ActReactPortUpgradeServiceInst.isSharedPlanScenarioCheckRequired(e)&&0==l.getSavedDevices().length){var n=o.getSelectedDevice();t=r.isNullOrEmpty(n.masterEsnInfo.masterEsnGroupId)?void 0:c.flow_type.shared_plan_port_post_process_action}return t},ActReactPortUpgradeServiceInst.isMasterEsnInCart=function(e){for(var t=l.getSavedDevices(),n=!1,a=0;a<t.length;a++)r.checkLastFour(e,t[a].esn)&&(n=!0);return n},ActReactPortUpgradeServiceInst}angular.module("app").factory("$actreactportUpgradeService",e),e.$inject=["$svcConfig","$log","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$promoService","$appConstants","$devicesCartServices","$appConfig","$redemptionService","$userService","$viewConfig","$checkscenario","$napService","$cartService","$window","$rootScope","$cookieService","$uibModal"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d){return AddressServiceInst={setAddressList:function(e){AddressServiceInst._address_list=e},getAddressList:function(){return AddressServiceInst._address_list},setVerifiedAddress:function(e){AddressServiceInst._verified_address=e},getVerifiedAddress:function(){return AddressServiceInst._verified_address},setUserInputAddress:function(e){AddressServiceInst._userinput_address=e},getUserInputAddress:function(){return AddressServiceInst._userinput_address},verifyAddress:function(e){return n.info("verifyaddress service!! ..."),r((function(a,i){n.debug("Request to submit is ",e),retrieveaddress=function(e){return s.run(e,t.get("addressverification"),o.get("addressverification"))},this.retrieveaddress(e).then((function(e){AddressServiceInst._address_list=e.address_list,AddressServiceInst._verified_address=e.verified_address,a(e)})).catch((function(e){i(e)}))}))},manageAddress:function(e,a,i){return n.info("AddressService/manageAddress/entry",e,a,i),angular.isDefined(e)?s.run({address:a,device:i},t.get("manageaddress").update,o.get("manageaddress")):s.run({address:a,device:i},t.get("manageaddress").add,o.get("manageaddress"))}},AddressServiceInst}angular.module("app").service("$addressservice",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$userService","$appConstants"]})(),angular.module("app").service("$autopayccService",AutopayccService),AutopayccService.$inject=["$appConfig","$log","$rootScope"],(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h){var _={initComingFrom:function(){this._comingFrom=""},setComingFrom:function(e){this._comingFrom=e},getComingFrom:function(){return this._comingFrom},initEligibilityParams:function(){this._isEligible=!1,this._isLTE=!1,this._lifeCycleStatus=void 0,this._isSimRequired=!1},setEligibility:function(e){this._isEligible=e},isEligible:function(){return this._isEligible},set_is_renewal:function(e){this._isRenewal=e},is_renewal:function(){return this._isRenewal},setLTE:function(e){this._isLTE=e},isLTE:function(){return!!angular.isDefined(this._isLTE)&&this._isLTE},initEsnValue:function(){this._esnValue=""},setEsnValue:function(e){this._esnValue=e},getEsnValue:function(){return this._esnValue},initSimValue:function(){this._simValue={}},setSimValue:function(e){this._simValue=e},getSimValue:function(){return this._simValue},initBuySimFlag:function(){this._buySimFlag=""},setBuySimFlag:function(e){this._buySimFlag=e},getBuySimFlag:function(){return this._buySimFlag},setActZipCode:function(e){this._actzipcode=e},getActZipCode:function(){
return this._actzipcode},iniVerizonFlow:function(){this._vzwFlow=""},setVerizonFlow:function(e){this._vzwFlow=e},getVerizonFlow:function(){return this._vzwFlow},setPostRegistrationFlag:function(e){this._postRegFlag=e},getPostRegistrationFlag:function(){return!!angular.isDefined(this._postRegFlag)&&this._postRegFlag},setLifeCycleStatus:function(e){this._lifeCycleStatus=e},getLifeCycleStatus:function(){return angular.isDefined(this._lifeCycleStatus)?this._lifeCycleStatus:void 0},setTmoGsmPseudoEsn:function(e){this._tmoPseudoEsn=e},getTmoGsmPseudoEsn:function(){return this._tmoPseudoEsn},setSimRequired:function(e){this._isSimRequired=e},isSimRequired:function(){return!!angular.isDefined(this._isSimRequired)&&this._isSimRequired}};return ByopCtrlServiceInst={_byopDetails:_},ByopCtrlServiceInst.getByopDetails=function(){return ByopCtrlServiceInst._byopDetails},ByopCtrlServiceInst.setCarriers=function(e){ByopCtrlServiceInst._carriers=[],ByopCtrlServiceInst._carriers=e},ByopCtrlServiceInst.getCoverageCarriers=function(){return ByopCtrlServiceInst._carriers},ByopCtrlServiceInst.checkEligibility=function(a){n.info("ByopCtrlServiceInst:: Inside checkEligibility!! ... ",a),n.debug(a),ByopCtrlServiceInst.getByopDetails().initEligibilityParams();var c,l={flowType:""};return angular.isDefined(a.sim)&&(s.isNullOrEmpty(a.sim)||(c=a.sim)),i((function(i,s){o.run({productSerialNumber:a.esn,zipcode:d.default_zipcode,carrier:a.carrierName,context:a.context},t.get("check_eligibility_service"),r.get("check_eligibility_service")).then((function(t){n.info("Success response from eligibility service - ",t),ByopCtrlServiceInst.getByopDetails().setEligibility(t.is_eligible),ByopCtrlServiceInst.getByopDetails().setLTE(t.is_lte),ByopCtrlServiceInst.getByopDetails().setBuySimFlag(t.is_sim_purch_required),ByopCtrlServiceInst.getByopDetails().setLifeCycleStatus(t.lifecycleStatus),ByopCtrlServiceInst.getByopDetails().setSimRequired(t.isSimRequired),t.is_eligible?t.isSimRequired?c?(e.features.multibyopdevices?l.flowType=d.flow_type.select_device_type:l.flowType=d.byop_register,"NET10"!==e.brand&&"SIMPLE_MOBILE"!==e.brand||!angular.equals(a.carrierName,d.carrier_name.tmo)&&!angular.equals(a.carrierName,"ATT")||(l.flowType=d.byop_register)):(angular.equals(a.carrierName,d.carrier_name.vzw)&&(l.flowType=d.flow_type.collect_sim),angular.equals(a.carrierName,d.carrier_name.spt)&&(l.flowType=d.flow_type.sprint_customer_confirmation_alert)):(n.info("$appConfig.features -- ",e.features),c?"NET10"!==e.brand&&"SIMPLE_MOBILE"!==e.brand||!angular.equals(a.carrierName,d.carrier_name.tmo)&&!angular.equals(a.carrierName,"ATT")?l.flowType=d.flow_type.sim_not_required:l.flowType=d.byop_register:e.features.multibyopdevices?l.flowType=d.flow_type.select_device_type:l.flowType=d.byop_register):l.flowType=d.flow_type.byop_not_eligible,i(l)})).catch((function(e){s(e)}))}))},ByopCtrlServiceInst.registerByop=function(e){n.info("ByopCtrlServiceInst:: Inside registerByop!! ... ",e);var a,s=e.esn,c=null;null!=e.sim&&""!=e.sim&&(c=e.sim),angular.isDefined(e.simsize)&&null!=e.simsize&&""!=e.simsize&&(a=e.simsize);var l;l=angular.isDefined(e.resourceSubCategory)?e.resourceSubCategory:d.byop;var u=ByopCtrlServiceInst.getResourceBean(s,c,a,l),p=ByopCtrlServiceInst.getLogicalResources(e.carrierName?e.carrierName:d.carrier_name.vzw);return i((function(e,a){o.run({zipcode:d.default_zipcode,physicalResource:u,supportingLogicalResources:p},t.get("byop_register_service").registerbyop,r.get("byop_register_service")).then((function(t){n.info("Success response from eligibility service -- ",t),e(t.svc_response)})).catch((function(e){n.debug(e),a(e)}))}))},ByopCtrlServiceInst.checkCarrierCoverage=function(e){return n.info("ByopCtrlServiceInst:: Inside checkCarrierCoverage!! ...",e),n.debug(e),i((function(n,a){angular.isDefined(e.carrier)&&"UNLOCK"!==e.carrier?o.run({zipcode:e.zipcode,device_type:e.device_type,carrier:e.carrier},t.get("checkcoverage").carrier,r.get("checkcoverage")).then((function(e){n(e)})).catch((function(e){a(e)})):o.run({zipcode:e.zipcode,device_type:e.device_type},t.get("checkcoverage").zip,r.get("checkcoverage")).then((function(e){ByopCtrlServiceInst.setCarriers(e.qualified_carriers),n(e)})).catch((function(e){a(e)}))}))},ByopCtrlServiceInst.getServiceProviders=function(e){return n.info("ByopCtrlServiceInst:: Inside getServiceProviders!! ..."),n.debug(e),i((function(e,a){serviceprovidersvc=function(e){return o.run(e,t.get("serviceproviders"),r.get("serviceproviders"))},this.serviceprovidersvc().then((function(t){n.debug("Respose from getServiceProviders ",t),e(t.service_providers)})).catch((function(e){a(e)}))}))},ByopCtrlServiceInst.checkCoverage=function(e){return n.info("ByopCtrlServiceInst:: Inside checkcoverage!! ..."),n.debug(e),i((function(n,a){o.run({zipcode:d.default_zipcode,device_type:e.device_type},t.get("checkcoverage").zip,r.get("checkcoverage")).then((function(e){ByopCtrlServiceInst.setCarriers(e.qualified_carriers),n(e)})).catch((function(e){a(e)}))}))},ByopCtrlServiceInst.getResourceBean=function(e,t,a,i){n.info("Inside getResourceBean function",e,t,a);var r=[],o={resourceCategory:"",resourceSubCategory:"",serialNumber:"",supportingResources:[]};if(o.resourceCategory=d.handset,o.resourceSubCategory=i,o.serialNumber=e,angular.isDefined(t)&&null!=t&&""!=t){r=[];var s={resourceCategory:"",resourceIdentifier:""};s.resourceCategory=d.simcard,s.resourceIdentifier=t,r.push(s)}else if(angular.isDefined(a)&&null!=a&&""!=a){angular.equals(a,d.simsize_nano)||angular.equals(a,d.simsize_trio)||(a=d.simsize_dual),r=[];var c={resourceCategory:"",resourceIdentifier:""};c.resourceCategory=d.simsize,c.resourceIdentifier=a,r.push(c)}else r=void 0;return o.supportingResources=r,o},ByopCtrlServiceInst.getLogicalResources=function(e){n.info("Inside getLogicalResources function");var t=[],a={resourceCategory:d.carrier,resourceIdentifier:e};return t.push(a),n.info("Exit getLogicalResources function -> ",t),t},ByopCtrlServiceInst.getTechnology=function(e){n.info("ByopCtrlServiceInst:: Inside getTechnology ...");var t="";return t=angular.equals(e,d.carrier_name.vzw)||angular.equals(e,d.carrier_name.spt)?d.technology_type.cdma:d.technology_type.gsm,n.debug(t),t},ByopCtrlServiceInst.verifyTechnology=function(e){return n.info("ByopCtrlServiceInst:: Inside verifyTechnology ..."),n.debug(e),i((function(t,n){l.verifyTechnology({zipcode:e.zipcode}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},ByopCtrlServiceInst.createCase=function(e){n.info("ByopCtrlServiceInst:: Inside createCase ... "),n.info(e),n.info(ByopCtrlServiceInst.getByopDetails().getEsnValue());var a=e.data;n.info("ByopCtrlServiceInst:: Inside createCase shippingInfo... ",a);var s=[{resourceType:d.productcategory,productSerialNumber:ByopCtrlServiceInst.getByopDetails().getEsnValue()}],c={street1:a.street1,street2:a.street2,city:a.city,country:d.default_country,stateOrProvince:a.state,zipcode:a.zipcode};n.info("ByopCtrlServiceInst::  getActZipCode(); ",ByopCtrlServiceInst.getByopDetails().getActZipCode());var l={zipcode:ByopCtrlServiceInst.getByopDetails().getActZipCode()};return n.info("ByopCtrlServiceInst:: Inside createCase addressVo... ",c),i((function(e,n){o.run({firstName:a.firstName,lastName:a.lastName,phone:a.phone,emailAddress:a.emailAddress,relatedResources:s,note:void 0,address:c,actAddress:l},t.get("createCase"),r.get("createCase")).then((function(t){e(t)})).catch((function(e){n(e)}))}))},ByopCtrlServiceInst.isValidCarrier=function(e,t){n.info("ByopCtrlServiceInst:: Inside isValidCarrier ..."),n.info(" Route parameter value - ",e),n.info(" Service parameter value - ",t);var a=!1;return angular.equals(e,t)?a=!0:angular.equals(e,d.carrier_name.unl)&&(angular.equals(t,d.carrier_name.att)||angular.equals(t,d.carrier_name.tmo))&&(a=!0),a},ByopCtrlServiceInst.postflashcheck=function(){return n.info("ByopCtrlServiceInst:: Inside postflashcheck ..."),n.info("Device selected - ",c.getSelectedDevice(),g.getSavedDevices()),i((function(t,a){var i={flowType:""};if(g.esnAlreadyExits(c.getSelectedDevice().esn)){var o=s.translateError({error_code:"-10102"},r.get("validatedevice"));a(o)}else!g.checkSecurityPin()&&m.get("collect-securitypin")?(i.flowType=d.flow_type.collect_pin,t(i)):g.removeDeviceForDummyAct({device:c.getSelectedDevice(),firstEsn:!1}).then((function(r){var o;if(o=angular.isDefined(c.getSelectedDevice())&&angular.isDefined(c.getSelectedDevice().zipcode)?c.getSelectedDevice().zipcode:d.default_zipcode,c.isDeviceUsedOrPastDueWithLineReserve(c.getSelectedDevice()))l.verifyTechnology({zipcode:o}).then((function(e){n.info("response from verifyTechnology - ",e),u.checkActivationScenario({zipcode:o}).then((function(e){n.info("response from checkActivationScenario - ",e),ByopCtrlServiceInst.postProcess().then((function(e){n.info("response from postprocess - ",e),t(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))})).catch((function(e){a(e)}));else if(c.isDeviceNewOrRefurbishWithLineReserve(c.getSelectedDevice()))i.flowType=d.flow_type.collect_min,t(i);else{var s=c.getSelectedDevice(),p=c.getSelectedDevice().deviceStatus;if(e.activation_staging&&s&&s.group&&(p==d.device_status.new_device||p==d.device_status.refurbish)){var o=d.default_zipcode,m={};m.context=d.service_qulafiers.staging,m.zipcode=o,u.checkActivationScenario(m).then((function(r){r.qualified&&r.stagedWithPin?(g.setExistingStagedDevices(!1),r.devices&&r.devices.length>0&&(g.setExistingStagedDevices(!0),angular.merge(g.getSavedDevices(),r.devices)),e.features.groupbased?(i.flowType="PIN_CHECKOUT",t(i)):f.processStagingProvisioning(request).then((function(e){n.info("ActReactPortUpgradeServiceInst::provisionDeviceWithPin::ActReactPortUpgradeServiceInst.processStagingProvisioning returned",e),c.isPortFlow()?(c.setPortUpgradeSummary(e.svc_response),i.flowType="PORT_PIN_INSTRUCTIONS",t(i)):(v.setRedemptionSummary(e.svc_response),i.flowType="ACT_PIN_INSTRUCTIONS",t(i))})).catch((function(e){a(e)}))):r.qualified&&r.stagewithServicePlan&&(g.setExistingStagedDevices(!1),r.devices&&r.devices.length>0&&(g.setExistingStagedDevices(!0),angular.merge(g.getSavedDevices(),r.devices)),r.Plan&&(h.addPlanToCart(r.Plan),n.info("selected device --\x3e ",s),s.execution_plan=d.transaction_type.activation,angular.isUndefined(s.zipcode)&&(s.zipcode=d.default_zipcode),angular.isDefined(s.accountId)&&g.setDeviceAccountid(s.accountId)),e.features.groupbased&&(i.flowType="CHECKOUT",t(i)))}))}else i.flowType=d.flow_type.keep_number,t(i)}})).catch((function(e){a(e)}))}))},ByopCtrlServiceInst.verifyTechCheckActScenario=function(){n.info("ByopCtrlServiceInst:: Inside verifyTechCheckActScenario ...");var e;return e=angular.isDefined(c.getSelectedDevice())&&angular.isDefined(c.getSelectedDevice().zipcode)?c.getSelectedDevice().zipcode:d.default_zipcode,n.info("Zipcode selected - ",e),i((function(t,n){ByopCtrlServiceInst.verifyTechnology({zipcode:e}).then((function(a){ByopCtrlServiceInst.checkActivationScenario({zipcode:e}).then((function(e){t(e)})).catch((function(e){n(e)}))})).catch((function(e){n(e)}))}))},ByopCtrlServiceInst.postProcess=function(e){n.info("ByopCtrlServiceInst:: Inside postProcess ...");var t=c.getSelectedDevice().execution_plan,a=c.getSelectedDevice().flow_scenario,r=c.getSelectedDevice().accountStatus,o=c.getSelectedDevice().accountId,s=c.getSelectedDevice().min,l={flowType:""};return n.info("executionPlan selected - ",t),n.info("flowScenario selected - ",a),n.info("accountStatus selected - ",r),n.info("accountId selected - ",o),n.info("userAccountId selected - ",e),i((function(e,i){if(angular.equals(t,d.transaction_type.reactivation)&&angular.isDefined(s)&&g.setUserSelectedMin(s),angular.equals(t,d.transaction_type.activation)||angular.equals(t,d.transaction_type.reactivation))if(angular.equals(a,d.flow_scenario.pin_required)||angular.equals(a,d.flow_scenario.pin_optional))n.info("6"),l.flowType=d.flow_type.pin_required,e(l);else if(p.isLoggedIn()){n.info("7");var c=p.getAccountId();c!=o&&angular.isDefined(r)&&angular.equals(r,d.valid_account)?(n.info("8"),l.flowType=d.flow_type.invalid_account,e(l)):(n.info("9"),ByopCtrlServiceInst.provisioningWithPin(c,t).then((function(t){n.info("10"),e(t)})).catch((function(e){i(e)})))}else!p.isLoggedIn()&&angular.isDefined(r)&&angular.equals(r,d.valid_account)?(n.info("11"),ByopCtrlServiceInst.provisioningWithPin(o,t).then((function(t){n.info("12"),e(t)})).catch((function(e){i(e)}))):p.isLoggedIn()||!angular.isDefined(r)||angular.equals(r,d.valid_account)||(n.info("13"),l.flowType=d.flow_type.check_byop_status,e(l))}))},ByopCtrlServiceInst.provisioningWithPin=function(e,t){n.info("ByopCtrlServiceInst:: Inside provisioningWithPin ...");var a,r;angular.isDefined(c.getSelectedDevice().sim)&&angular.isDefined(c.getSelectedDevice().sim.iccid)&&(a=c.getSelectedDevice().sim.iccid),r=angular.isDefined(c.getSelectedDevice())&&angular.isDefined(c.getSelectedDevice().zipcode)?c.getSelectedDevice().zipcode:d.default_zipcode;var o={flowType:""};return n.info("14"),n.info("accountid selected - ",e),n.info("actionplan selected - ",t),i((function(i,s){c.provisioningWithPin({webobjid:e,esn:c.getSelectedDevice().esn,sim:a,action:t,zip_code:r}).then((function(e){n.debug("Activation sucessfuly done !!  "),n.info("15"),(angular.equals(t,d.transaction_type.activation)||angular.equals(t,d.transaction_type.reactivation))&&v.setRedemptionSummary(e.svc_response),o.flowType=d.flow_type.pin_flow,i(o)})).catch((function(e){s(e)}))}))},ByopCtrlServiceInst.checkActivationScenario=function(e){return n.info("ByopCtrlServiceInst:: Inside checkActivationScenario ..."),n.info("zipcode selected - ",e.zipcode),i((function(t,n){u.checkActivationScenario({zipcode:e.zipcode}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},ByopCtrlServiceInst}angular.module("app").service("$byopCtrlService",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$napService","$appConstants","$checkscenario","$userService","$redemptionService","$devicesCartServices","$viewConfig","$actreactportUpgradeService","$cartService"]})(),(function(){function e(e,t,n,a,i,r,o,s,c){return byopTmoCheckInst={getRelatedParties:function(e){var t=[],n={partyID:s.partyida,languageAbility:c.language,partyExtension:[{name:s.partytransactionid,value:s.partytransactionval},{name:s.sourcesystem,value:c.source_system}]},a={party:n,roleType:s.internal};return t.push(a),t},getResourceBean:function(e){var t=[];if(angular.isDefined(o.getSelectedDevice())){if(angular.isDefined(o.getSelectedDevice().esn)){var n={serialNumber:o.getSelectedDevice().esn,name:s.productserialnumber,type:s.handset};t.push(n)}if(angular.isDefined(o.getSelectedDevice().sim)&&angular.isDefined(o.getSelectedDevice().sim.iccid)){var a={serialNumber:o.getSelectedDevice().sim.iccid,name:s.serialnumber,type:s.sim};t.push(a)}}return t},checkTMOCompatibiltyCheck:function(t){if(o._data.device.sim.carrier)var r=o._data.device.sim.carrier;return n((function(n,o){checkTMOCompatibiltyCheck=function(t){return i.run(t,e.get("tmoservicequalification"),a.get("tmoservicequalification"))};var l=[{type:s.context,value:s.tmoByopConfig.tmoServiceCategory}],d={brand:c.brand},u={carrier:[{name:r,type:s.wireless}]},p=byopTmoCheckInst.getResourceBean(t),v=byopTmoCheckInst.getRelatedParties(t);this.checkTMOCompatibiltyCheck({relatedParties:v,serviceCategory:l,serviceSpecification:d,service:u,resource:p}).then((function(e){n(e)})).catch((function(e){o(e)}))}))}},byopTmoCheckInst}angular.module("app").service("$byoptmocheck",e),e.$inject=["$svcConfig","$log","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$appConstants","$appConfig"]})(),(function(){function e(e,t,n,a,i,r){return CartServiceInst={_data:{}},CartServiceInst._data.plans=[],CartServiceInst._data.enrollplans=[],CartServiceInst._data.addonplans=[],CartServiceInst._data.orderSummary={},CartServiceInst._data.taxSummary={},CartServiceInst._data.emailSummary={},CartServiceInst._data._selected_plan=void 0,CartServiceInst._data._selected_hpp_plan=void 0,CartServiceInst._data.hppOrderSummary={},CartServiceInst.setHppOrderSummary=function(e){a.info("Inside setHppOrderSummary",e),CartServiceInst._data.hppOrderSummary=e},CartServiceInst.getHppOrderSummary=function(){return CartServiceInst._data.hppOrderSummary},CartServiceInst.clearHppOrderSummary=function(){CartServiceInst._data.hppOrderSummary={}},CartServiceInst.stageHppPlan=function(e){CartServiceInst._data.selected_plan=e},CartServiceInst.getStagedHppPlan=function(){return CartServiceInst._data.selected_plan},CartServiceInst.clearStagedHppPlan=function(){CartServiceInst._data.selected_plan=void 0},CartServiceInst.emptyCart=function(){CartServiceInst._data.enrollplans=[],CartServiceInst._data.addonplans=[],CartServiceInst._data.plans=[],CartServiceInst.clearLastSvcPlan()},CartServiceInst.stagePlan=function(e){CartServiceInst._data.selected_plan=e},CartServiceInst.getStagedPlan=function(){return CartServiceInst._data.selected_plan},CartServiceInst.clearStagedPlan=function(){CartServiceInst._data.selected_plan=void 0},CartServiceInst.getPlans=function(){return CartServiceInst._data.plans},CartServiceInst.getEnrollPlans=function(){return CartServiceInst._data.enrollplans},CartServiceInst.getEnrollIldPlans=function(){return CartServiceInst._data.enrollIldplans},CartServiceInst.getAddOnPlans=function(){return CartServiceInst._data.addonplans},CartServiceInst.getOrderSummary=function(){return CartServiceInst._data.orderSummary},CartServiceInst.setOrderSummary=function(e){CartServiceInst._data.orderSummary=e},CartServiceInst.clearOrderSummary=function(){CartServiceInst._data.orderSummary={}},CartServiceInst.getTaxSummary=function(){return CartServiceInst._data.taxSummary},CartServiceInst.setTaxSummary=function(e){CartServiceInst._data.taxSummary=e},CartServiceInst.clearTaxSummary=function(){CartServiceInst._data.taxSummary={}},CartServiceInst.getCCNumber=function(){return CartServiceInst._data.cc_number},CartServiceInst.setCCNumber=function(e){CartServiceInst._data.cc_number=e},CartServiceInst.getEmailSummary=function(){return CartServiceInst._data.emailSummary},CartServiceInst.setEmailSummary=function(e){CartServiceInst._data.emailSummary=e},CartServiceInst.clearEmailSummary=function(){CartServiceInst._data.emailSummary={}},CartServiceInst.setLastSvcPlan=function(e){CartServiceInst._data.lastSvcPlan=e},CartServiceInst.getLastSvcPlan=function(){return CartServiceInst._data.lastSvcPlan},CartServiceInst.clearLastSvcPlan=function(){CartServiceInst._data.lastSvcPlan=void 0},CartServiceInst.getPromoCode=function(){return CartServiceInst._data.promocode},CartServiceInst.setPromoCode=function(e){CartServiceInst._data.promocode=e},CartServiceInst.setRedeemNowFlag=function(e){CartServiceInst._data.redeemNowFlag=e},CartServiceInst.getRedeemNowFlag=function(){return!!angular.isDefined(CartServiceInst._data.redeemNowFlag)&&CartServiceInst._data.redeemNowFlag},CartServiceInst.isCartValidForAct=function(){var e=!1;return CartServiceInst.logCartPlanInfo(),a.info("isCartValidForAct::"),CartServiceInst.getPlans().length>0&&!CartServiceInst.isAddonPlanInCart()?(e=!0,a.info("isCartValidForAct:: true")):CartServiceInst.emptyCart(),a.info("isCartValidForAct:: ",e),e},CartServiceInst.addPlanToCart=function(e){var t=!1,n=!0,i=r.get("can-cart-keep-multiple-plans");if(void 0===i&&(i=!0),angular.forEach(CartServiceInst._data.plans,(function(a,r){n=!1,a.plan_id===e.plan_id&&(t=!0,!a.auto_refill&&i&&a.quantity++)})),!t){i||n||(CartServiceInst._data.plans=[]),CartServiceInst._data.plans.push(e);var o={productInfo:{productType:e.plan_type,productID:e.plan_id,productName:e.plan_name,productPartNumber:e.part_number,availability:!0},quantity:e.quantity,price:{basePrice:e.price,voucherCode:"",voucherDiscount:""}};digitalData.cart.item.push(o)}a.info("adding plans to session"),a.info(CartServiceInst.getPlans()),CartServiceInst.logCartPlanInfo()},CartServiceInst.findOffePlan=function(e){var t=!1;e.is_addon||(CartServiceInst.setLastSvcPlan(e),CartServiceInst.getPlans()&&(angular.forEach(CartServiceInst._data.plans,(function(n,a){n.is_paygo&&e.is_paygo&&n.price>=e.price?(e=n,t=!0):n.is_paygo&&CartServiceInst.setLastSvcPlan(n)})),t&&CartServiceInst.setLastSvcPlan(e)))},CartServiceInst.resetPlans=function(e){a.info("reseting plans from session"),a.info(e),CartServiceInst._data.plans=e},CartServiceInst.removeCartPlan=function(e){a.info("CartServiceInst deleting from cart");var t=CartServiceInst._data.plans.indexOf(e);if(angular.isDefined(t))return CartServiceInst._data.plans.splice(t,1),CartServiceInst.getPlans().length>0;CartServiceInst.logCartPlanInfo()},CartServiceInst.removeCartPlanById=function(e){return a.info("CartServiceInst deleting from cart"),angular.isDefined(e)&&angular.forEach(CartServiceInst._data.plans,(function(t,n){e===t.plan_id&&CartServiceInst._data.plans.splice(n,1)})),CartServiceInst.getPlans().length>0},CartServiceInst.manageEnrollCart=function(e){a.debug("manageEnrollCart plans - ",CartServiceInst._data.plans,e),e.quantity=1;var t=CartServiceInst._data.plans.indexOf(e);if(angular.isDefined(t)){if(a.info("cartservicereceived plan",CartServiceInst.getPlans()[t]),CartServiceInst._data.plans.splice(t,1),"Add Ons"!=e.plan_type&&e.auto_refill){var n=CartServiceInst.getPlans();CartServiceInst.emptyCart(),angular.forEach(n,(function(t,n){e.plan_id!=t.plan_id&&t.auto_refill&&"Add Ons"!=t.plan_type&&(t.auto_refill=!1),CartServiceInst.getPlans().push(t)}))}CartServiceInst.getPlans().push(e)}CartServiceInst.logCartPlanInfo()},CartServiceInst.getAirtimeSummary=function(){var e={voice:0,sms:0,data:0,days:0,is_enrolled:!1,is_ild:!1,is_ild_enrolled:!1,ild_qty:0};return angular.forEach(CartServiceInst._data.plans,(function(t,n){angular.isDefined(t.ild_sup)&&t.ild_sup&&(e.is_ild=!0,e.is_ild_enrolled=!!angular.isDefined(t.auto_refill)&&t.auto_refill,e.is_ild_enrolled?e.ild_qty=10:e.ild_qty=10*t.quantity),t.auto_refill&&!t.ild_sup&&(e.is_enrolled=!0),t.service_days=t.service_days+"",e.voice=e.voice+t.voice*t.quantity,e.data=e.data+t.data*t.quantity,e.sms=e.sms+t.sms*t.quantity,e.days=e.days+t.service_days.replace("Days","")*t.quantity})),e},CartServiceInst.isDoller10ILDInCart=function(){var e=!1;return angular.forEach(CartServiceInst._data.plans,(function(t,n){angular.isDefined(t.ild_sup)&&t.ild_sup&&(e=!0)})),e},CartServiceInst.isAddonPlanInCart=function(){var e=!1;return angular.forEach(CartServiceInst._data.plans,(function(t,n){t.is_addon&&(e=!0)})),e},CartServiceInst.checkIfAutoEntollPlan=function(){var e=!1;return angular.forEach(CartServiceInst._data.plans,(function(t,n){angular.isDefined(t.auto_refill)&&t.auto_refill&&(e=!0)})),e},CartServiceInst.checkIfEnrollFlowPlan=function(){var e=!1;return angular.forEach(CartServiceInst._data.plans,(function(t,n){angular.isDefined(t.auto_enrollflow)&&t.auto_enrollflow&&(e=!0)})),e},CartServiceInst.logCartPlanInfo=function(){a.debug("logCartPlanInfo - ",CartServiceInst._data.plans),angular.forEach(CartServiceInst._data.plans,(function(e,t){a.debug("cartService Service plan id = "+e.plan_id),a.debug("cartService Service plan quantity = "+e.quantity),a.debug("cartService Service plan auto_refill = "+e.auto_refill)})),a.debug("cartService Total selected plans = "+CartServiceInst._data.plans.length)},CartServiceInst.getBaseEnrolledPlans=function(){var e=[];return angular.forEach(CartServiceInst._data.plans,(function(t,n){t.auto_refill&&"Add Ons"!=t.plan_type&&e.push(t)})),e},CartServiceInst.getBasePlansNotEnrolled=function(){var e=[];return angular.forEach(CartServiceInst._data.plans,(function(t,n){t.auto_refill||"Add Ons"==t.plan_type||e.push(t)})),e},CartServiceInst.getNonIldPlansNotEnrolled=function(){var e=[];return angular.forEach(CartServiceInst._data.plans,(function(t,n){t.ild_sup||t.auto_refill||e.push(t)})),e},CartServiceInst.getAllPlansNotEnrolled=function(){var e=[];return angular.forEach(CartServiceInst._data.plans,(function(t,n){t.auto_refill||e.push(t)})),e},CartServiceInst.getAllEnrolledPlans=function(){var e=[];return angular.forEach(CartServiceInst._data.plans,(function(t,n){angular.isDefined(t.auto_refill)&&t.auto_refill&&e.push(t)})),e},CartServiceInst.getIldEnrolledPlans=function(){var e=[];return angular.forEach(CartServiceInst._data.plans,(function(t,n){t.auto_refill&&angular.isDefined(t.ild_sup)&&t.ild_sup&&e.push(t)})),e},n.$watch((function(){return CartServiceInst._data.data}),(function(e,t){e?i.setSessionItem("$cartService",e):i.removeSessionItem("$cartService")}),!0),CartServiceInst}function t(){var t={};return{setData:function(e){t=e},$get:["$userService","$q","$rootScope","$log","$serviceUtils","$viewConfig",function(n,a,i,r,o,s){var c=e(n,a,i,r,o,s);return angular.isDefined(t)&&t&&(c._data=t),i.$on("system-reset",(function(e,t){c._data={},c.emptyCart()})),i.$watch((function(){return c._data}),(function(e,t){e&&o.setSessionItem("$cartService",e)}),!0),c}]}}angular.module("app").provider("$cartService",t),angular.module("app").config(["$cartServiceProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$cartService"))}])})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b,S,D,C,w){var I={getDevice:function(){return this._device},setDevice:function(e){this._device=e},getE911Text:function(){return this._e911Text},setE911Text:function(e){this._e911Text=e},getE911RateText:function(){return this._e911RateText},setE911RateText:function(e){this._e911RateText=e},getE911FlatText:function(){return this._e911FlatText},setE911FlatText:function(e){this._e911FlatText=e},initTaxFields:function(){this._amount=0,this._discount=0,this._sales=0,this._e911=0,this._usf=0,this._rcrf=0,this._total=0},getTaxFields:function(){return{amount:this._amount,discount:this._discount,sales:this._sales,e911:this._e911,usf:this._usf,rcrf:this._rcrf,total:this._total}},addTaxes:function(e){this._amount=parseFloat(this._amount)+parseFloat(e.amount),this._discount=parseFloat(this._discount)+parseFloat(e.discount),this._sales=parseFloat(this._sales)+parseFloat(e.sales),this._e911=parseFloat(this._e911)+parseFloat(e.e911),this._usf=parseFloat(this._usf)+parseFloat(e.usf),this._rcrf=parseFloat(this._rcrf)+parseFloat(e.rcrf),this._total=parseFloat(this._total)+parseFloat(e.total)},initPromoCode:function(){this._promocode=""},getPromoCode:function(){return this._promocode},setPromoCode:function(e){this._promocode=e},getCreditCards:function(){return this._creditCards},addCreditCards:function(e){this._creditCards.push(e)},initCreditCards:function(e){this._creditCards=[]},setZipcode:function(e){this._zipCode=e},getZipcode:function(){return this._zipCode},setAutoRefillOption:function(e){this._autoRefillOption=e},getAutoRefillOption:function(){return!!angular.isDefined(this._autoRefillOption)&&this._autoRefillOption},setSavePymtSrcToAccountFlag:function(e){this._savePymtSrcToAccountFlag=e},getSavePymtSrcToAccountFlag:function(){return this._savePymtSrcToAccountFlag},setPortDetails:function(e){this._portDetails=e},getPortDetails:function(){return this._portDetails}};CheckOutServiceInst={_checkOutDetails:I},CheckOutServiceInst.getCheckOutDetails=function(){return CheckOutServiceInst._checkOutDetails};var P={};return CheckOutServiceInst.getPaymentSources=function(){return t.info("CheckOutServiceInst:: Inside getPaymentSources!! ..."),a("TOTAL_WIRELESS"!==m.brand&&"NET10"!==m.brand||!m.features.isNewPaymentAPI?function(t,n){getPaymentSources=function(t){return r.run(t,e.get("payments"),i.get("payments"))},this.getPaymentSources({account_id:parseInt(l.getAccountId())}).then((function(e){t(e.pymtsources);var n=[];angular.forEach(e.pymtsources,(function(e,t){angular.isDefined(e)&&angular.isDefined(e.type)&&"ach"===e.type?g.getShowAchPaymentFlag()&&n.push(e):n.push(e)})),e.pymtsources=angular.copy(n)})).catch((function(e){n(e)}))}:function(t,n){(function(t){return r.run(t,e.get("getPaymentMethod"),i.get("getPaymentMethod"))})({accountId:parseInt(l.getAccountId())}).then((function(e){t(e.paymentMethods);var n=[];angular.forEach(e.paymentMethods,(function(e){angular.isDefined(e)&&angular.isDefined(e.type)&&"ach"===e.type?g.getShowAchPaymentFlag()&&n.push(e):n.push(e)})),e.paymentMethods=angular.copy(n),"TOTAL_WIRELESS"===m.brand&&C.setPaymentSourceResponse(e.paymentMethods)})).catch((function(e){n(e)}))})},CheckOutServiceInst.calculateTax=function(){return t.info("CheckOutServiceInst.calculateTax"),CheckOutServiceInst.getCheckOutDetails().initTaxFields(),a((function(e,n){var a=c.getAllEnrolledPlans();if(angular.isDefined(a)&&0!=a.length){var i=c.getIldEnrolledPlans();if(angular.isDefined(i)&&0!=i.length){var r=c.getIldEnrolledPlans();CheckOutServiceInst.calculateIldEnrollmentTax(r[0]).then((function(n){t.info("response from ild tax"),e(CheckOutServiceInst.getCheckOutDetails().getTaxFields())}))}else{var o=c.getBaseEnrolledPlans();CheckOutServiceInst.calculateBasePlanEnrollmentTax(o[0]).then((function(n){t.info("response from base enroll tax"),e(CheckOutServiceInst.getCheckOutDetails().getTaxFields())}))}}else{var s=CheckOutServiceInst.getCartVoArray(c.getAllPlansNotEnrolled());angular.isDefined(s)&&0!=s.length&&CheckOutServiceInst.calculateAPPTax(s,CheckOutServiceInst.getCheckOutDetails().getZipcode()).then((function(n){t.info("response from base tax"),e(CheckOutServiceInst.getCheckOutDetails().getTaxFields())}))}})).catch((function(e){t.info("error in calculate tax"),t.error(e),reject(e)}))},CheckOutServiceInst.calculateIldEnrollmentTax=function(n){return t.info("CheckOutServiceInst:: Inside calculateIldEnrollmentTax!! ..."),t.info(n.program_id),a((function(a,o){r.run({paymentSourceId:void 0,promotionCode:CheckOutServiceInst.getCheckOutDetails().getPromoCode(),program_id:n.program_id,account_id:CheckOutServiceInst.getAccountId(),esn:s.getSelectedDevice().esn},e.get("enrollcalctax"),i.get("enrollcalctax")).then((function(e){t.info(e.data),CheckOutServiceInst.getCheckOutDetails().addTaxes(e.data);var n=c.getBaseEnrolledPlans();if(angular.isDefined(n)&&0!=n.length)CheckOutServiceInst.calculateBasePlanEnrollmentTax(n[0]).then((function(e){t.info("response from base tax"),a(CheckOutServiceInst.getCheckOutDetails().getTaxFields())}));else{var i=c.getAllPlansNotEnrolled();if(angular.isDefined(i)&&0!=i.length){var r=CheckOutServiceInst.getCartVoArray(c.getAllPlansNotEnrolled());CheckOutServiceInst.calculateAPPTax(r,CheckOutServiceInst.getCheckOutDetails().getZipcode()).then((function(e){t.info("response from base tax"),a(CheckOutServiceInst.getCheckOutDetails().getTaxFields())}))}else a(CheckOutServiceInst.getCheckOutDetails().getTaxFields())}})).catch((function(e){o(e)}))}))},CheckOutServiceInst.calculateBasePlanEnrollmentTax=function(n){return t.info("CheckOutServiceInst:: Inside calculateBasePlanEnrollmentTax!! ..."),t.info(n.program_id),a((function(a,o){r.run({paymentSourceId:void 0,promotionCode:CheckOutServiceInst.getCheckOutDetails().getPromoCode(),program_id:n.program_id,account_id:CheckOutServiceInst.getAccountId(),esn:s.getSelectedDevice().esn},e.get("enrollcalctax"),i.get("enrollcalctax")).then((function(e){t.info(e.data),CheckOutServiceInst.getCheckOutDetails().addTaxes(e.data);var n=CheckOutServiceInst.getCartVoArray(c.getAllPlansNotEnrolled());angular.isDefined(n)&&0!=n.length?CheckOutServiceInst.calculateAPPTax(n,CheckOutServiceInst.getCheckOutDetails().getZipcode()).then((function(e){t.info("response from base tax"),a(CheckOutServiceInst.getCheckOutDetails().getTaxFields())})):a(CheckOutServiceInst.getCheckOutDetails().getTaxFields())})).catch((function(e){o(e)}))}))},CheckOutServiceInst.calculateAPPTax=function(n,o){return t.info("CheckOutServiceInst:: Inside calculateAPPTax!! ...",n,o),a((function(a,c){r.run({paymentSourceId:void 0,promotionCode:CheckOutServiceInst.getCheckOutDetails().getPromoCode(),account_id:CheckOutServiceInst.getAccountId(),esn:s.getSelectedDevice().esn,billingZipCode:o,cart:n},e.get("purchasecalctax"),i.get("purchasecalctax")).then((function(e){t.info(e.data),CheckOutServiceInst.getCheckOutDetails().addTaxes(e.data),a(CheckOutServiceInst.getCheckOutDetails().getTaxFields())})).catch((function(e){c(e)}))}))},CheckOutServiceInst.placeOrder=function(e){
t.info("CheckOutServiceInst:: Inside placeOrder!! ...");var n=e.paymentSource.pymt_src,i=e.cc_fields;return t.info("Payment details = ",e),t.info("CC fields = ",i),t.info("Execution Plan = ",s.getSelectedDevice().execution_plan),a((function(a,r){angular.isDefined(s.getSelectedDevice().execution_plan)?CheckOutServiceInst.productOrder(e).then((function(e){a(e)})).catch((function(e){r(e)})):c.checkIfEnrollFlowPlan()&&s.getSelectedDevice().auto_refill_enabled?(t.info("ChangeEnrollment method called"),CheckOutServiceInst.changeEnrollment(n,i).then((function(e){a(e)})).catch((function(e){r(e)}))):l.isLoggedIn()&&i.save_card?CheckOutServiceInst.purchasePlans(n,i).then((function(e){a(e)})).catch((function(e){r(e)})):CheckOutServiceInst.guestPurchase(n,i).then((function(e){a(e)})).catch((function(e){r(e)}))}))},CheckOutServiceInst.purchasePlans=function(e,n){return a((function(a,i){angular.isDefined(e)&&angular.isDefined(e.id)?CheckOutServiceInst.purchase(e).then((function(e){a(e)})).catch((function(e){i(e)})):CheckOutServiceInst.addPaymentSource(e,n).then((function(e){t.info("Payment ID - ",e),CheckOutServiceInst.purchase({id:e.payment_source_id,cvv:n.ccv}).then((function(e){a(e)})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))}))},CheckOutServiceInst.purchase=function(e){t.info("CheckOutServiceInst:: Inside purchase!! ...");var n,i,r,o=c.getPlans();t.info("All Plans - ",o),t.info("payment source - ",e);var u=c.getBaseEnrolledPlans(),p=c.getIldEnrolledPlans();return t.debug("Enrolled Base Plans - ",u),null!=u&&1==u.length?(t.info("Enroll Base Plan program Id - ",u[0].program_id),n=!0,r=!1,i=""+u[0].program_id):null!=p&&1==p.length?(n=!0,r=!1,i=""+p[0].program_id,t.info("Enroll ild Plan program Id - ",p[0].program_id)):(n=!1,r=!0,i=void 0),a((function(a,c){d.purchase({cart:o,esn:s.getSelectedDevice().esn,min:s.getSelectedDevice().min,accountId:parseInt(l.getAccountId()),cvvNumber:e.cvv,redeemNow:r,promoCode:CheckOutServiceInst.getCheckOutDetails().getPromoCode(),paymentSourceId:e.id,enrollNow:n,programId:i}).then((function(e){t.debug("response from app purchase1 - ",e),a(e)})).catch((function(e){c(e)}))}))},CheckOutServiceInst.addPaymentSource=function(e,n){return t.info("CheckOutServiceInst:: Inside addPaymentSource!! ..."),a((function(a,i){var r=CheckOutServiceInst.getAddPaymentVO(e,n);e.cvv=r.cvv,t.debug(r),d.addPaymentSource(angular.merge({account_id:parseInt(l.getAccountId())},r)).then((function(e){t.debug("full credit card response ... ",e),a(e)})).catch((function(e){i(e)}))}))},CheckOutServiceInst.guestPurchase=function(e,n){return t.info("CheckOutServiceInst:: Inside guestPurchase!! ..."),t.debug("payment source - ",e),t.debug("cc fields ",n),a((function(a,i){d.guestpurchase({esn:s.getSelectedDevice().esn,min:s.getSelectedDevice().min,cart:c.getAllPlansNotEnrolled(),isdefault:!0,status:p.active,type:p.payment_type.credit_card,pymt_src_info:e,cc_fields:n,redeemNow:!0,promoCode:CheckOutServiceInst.getCheckOutDetails().getPromoCode()}).then((function(e){t.debug("guest purchase resonse - ",e),a(e)})).catch((function(e){i(e)}))}))},CheckOutServiceInst.getCartVoArray=function(e){var t=[];return angular.isDefined(e)&&0!=e.length&&angular.forEach(e,(function(e,n){var a={};a.quantity=e.quantity,a.partNumber=e.part_number,t.push(a)})),t},CheckOutServiceInst.getAddPaymentVO=function(e,n){return t.info("CheckOutServiceInst:: Inside getAddPaymentVO!! ..."),{billing_address:{firstname:e.firstname,lastname:e.lastname,address1:e.address1,address2:e.address2,city:e.city,state:e.state,zip:CheckOutServiceInst.getCheckOutDetails().getZipcode(),country:e.country,phone:e.phone},expiration_month:{id:n.expiration_month.id,label:""},number_mask:n.number_mask,nick_name:n.nick_name,expiration_year:n.expiration_year,type:n.credittype.toUpperCase(),cvv:n.ccv}},CheckOutServiceInst.validatePromoCode=function(e){if(t.info("CheckOutServiceInst:: Inside validatePromoCode!! ..."),t.info(CheckOutServiceInst.getCheckOutDetails().getPromoCode()),null!=CheckOutServiceInst.getCheckOutDetails().getPromoCode()&&""!=CheckOutServiceInst.getCheckOutDetails().getPromoCode()){var n,i=c.checkIfAutoEntollPlan()?p.promo_enrollment:p.purchase;return n=angular.equals(i,p.purchase)?""+CheckOutServiceInst.getCheckOutDetails().getTaxFields().total:void 0,t.info(i,n),angular.isDefined(s.getSelectedDevice().min)&&""==s.getSelectedDevice().min?min=void 0:min=s.getSelectedDevice().min,a((function(a,r){u.validatePromotions({min:min,esn:s.getSelectedDevice().esn,promo:CheckOutServiceInst.getCheckOutDetails().getPromoCode(),transtype:i,transactionAmount:n,cardIdentifier:e.cardIdentifier}).then((function(e){t.debug("PromoValidation Success!!"),e.promotionDiscount>0&&CheckOutServiceInst.getCheckOutDetails().calculateTax(),a(e)})).catch((function(e){CheckOutServiceInst.getCheckOutDetails().setPromoCode(void 0),r(e)}))}))}},CheckOutServiceInst.updateCreditCard=function(e){t.info("CheckOutServiceInst:: Inside updateCreditCard!! ...",e.paymentSource),ccPayment=e.paymentSource,t.debug("ccPayment --\x3e ",ccPayment);var n={address1:ccPayment.address1,address2:ccPayment.address2,city:ccPayment.city,state:ccPayment.state,zipcode:ccPayment.zip,country:ccPayment.country,phone:ccPayment.phone,firstname:ccPayment.firstname,lastname:ccPayment.lastname};return t.info("addressVO--\x3e ",n),a((function(e,t){d.updatePaymentSource({id:ccPayment.id,expiration_month:ccPayment.expiration_month,expiration_year:ccPayment.expiration_year,nick_name:ccPayment.nick_name,account_id:parseInt(l.getAccountId()),type:ccPayment.type,billing_address:n}).then((function(n){CheckOutServiceInst.getPaymentSources().then((function(t){e(t)})).catch((function(e){t(e)}))})).catch((function(e){t(e)}))}))},CheckOutServiceInst.updatePaymentDetails=function(e){t.info("CheckOutServiceInst:: Inside updatePaymentDetails!! ...",e.paymentSource);var n,i,r=e.paymentSource.billing_address,o={address1:r.address1,address2:r.address2,city:r.city,state:r.state,zip:r.zip,country:r.country,phone:r.phone,firstname:r.firstname,lastname:r.lastname};return angular.equals(e.paymentSource.type,p.payment_type.ach)?(n=void 0,i=void 0):(n=e.paymentSource.expiration_month,i=e.paymentSource.expiration_year),t.info("addressVO--\x3e ",o),a((function(t,a){d.updatePaymentSource({id:e.paymentSource.id,expiration_month:n,expiration_year:i,nick_name:e.paymentSource.nick_name,account_id:parseInt(l.getAccountId()),type:e.paymentSource.type,billing_address:o}).then((function(e){CheckOutServiceInst.getPaymentSources().then((function(e){t(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))},CheckOutServiceInst.productOrder=function(n){t.info("CheckOutServiceInst:: Inside productOrder!! ...");var o,d=[],u=c.getPlans();angular.forEach(u,(function(e,t){var n={id:""+e.plan_id,category:p.orderitemcategory,characteristicSpecification:[]};if(e.auto_refill){var a={name:p.program_id,value:""+e.program_id};n.characteristicSpecification.push(a)}else n.characteristicSpecification=void 0;d.push(n),o={id:e.part_number,name:e.plan_description1}}));var v=[];if(angular.isDefined(s.getSelectedDevice().sim)&&angular.isDefined(s.getSelectedDevice().sim.iccid)){var g={resourceType:p.simcard,serialNumber:s.getSelectedDevice().sim.iccid};v.push(g)}else v=void 0;var m,f=CheckOutServiceInst.getPaymentMean(n.paymentSource.pymt_src,n.cc_fields),h=s.getSelectedDevice().execution_plan;return(angular.equals(p.transaction_type.internal_port,s.getSelectedDevice().execution_plan)||angular.equals(p.transaction_type.external_port,s.getSelectedDevice().execution_plan))&&(m=s.getOrdemItemExt(s.getSelectedDevice().execution_plan),h=p.port_action),t.debug("Product order service inputs - ",d,v,f,m),a((function(n,a){r.run({webobjid:l.isLoggedIn()?l.getAccountId():s.getSelectedDevice().accountId,productPromotions:CheckOutServiceInst.getProductPromotions(),action:h,productOffering:o,relatedServices:d,esn:s.getSelectedDevice().esn,supportingResources:v,paymentMean:f,zip_code:CheckOutServiceInst.getProvisioningZipCode(),isRecurring:c.getAllEnrolledPlans().length>0,orderItemExtension:m},e.get("productorderact"),i.get("productorderact")).then((function(e){t.debug("Success response from produce order service - ",e),r.setSessionItem("$preConfirmation",e),n(e)})).catch((function(e){t.debug(e),a(e)}))}))},CheckOutServiceInst.getAccountId=function(){return angular.isDefined(l.getAccountId())&&null!=l.getAccountId()&&""!=l.getAccountId()?parseInt(l.getAccountId()):void 0},CheckOutServiceInst.getPaymentMean=function(e,t){return void 0!=e.id?{id:""+e.id,type:p.payment_type.credit_card,cvv:e.cvv}:{isDefault:!0,nickname:t.nick_name,type:p.payment_type.credit_card,accountHolderName:e.firstname+" "+e.lastname,firstName:e.firstname,lastName:e.lastname,creditCard:{year:t.expiration_year,month:t.expiration_month.id,cvv:t.ccv,accountNumber:t.number_mask,type:t.credittype.toUpperCase()},billingAddress:{addressLine1:e.address1,addressLine2:e.address2,city:e.city,stateOrProvince:e.state,zipCode:CheckOutServiceInst.getCheckOutDetails().getZipcode(),country:e.country}}},CheckOutServiceInst.changeEnrollment=function(e,n){return t.info("CheckOutServiceInst:: Inside changeEnrollment!! ..."),a((function(a,i){angular.isDefined(e)&&angular.isDefined(e.id)?CheckOutServiceInst.changeEnrollmentDetails(e).then((function(e){a(e)})).catch((function(e){i(e)})):CheckOutServiceInst.addPaymentSource(e,n).then((function(e){t.info("Payment ID - ",e),CheckOutServiceInst.changeEnrollmentDetails({id:e.payment_source_id,cvv:n.ccv}).then((function(e){a(e)})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))}))},CheckOutServiceInst.changeEnrollmentDetails=function(e){return t.info("CheckOutServiceInst:: Inside changeEnrollmentDetails!! ..."),a((function(n,a){var i=c.getPlans();if(t.info("Plans - ",i),null!=i&&1==i.length){t.info("Auto Refill flag - ",i[0].auto_refill);var r=""+i[0].program_id;t.info("Program ID passed - ",r),v.changeEnrollmentDetails({paymentsourceID:e.id,account_id:parseInt(l.getAccountId()),plan_id:parseInt(i[0].plan_id),cvv:e.cvv,min:s.getSelectedDevice().min,program_id:r,enrollNow:!i[0].auto_refill,isILDVas:i[0].is_ild_vas}).then((function(e){t.info("Response from changeEnrollmentDetails ",e);var a={};if(a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type,"0"==a.error_code){var i=e.svc_response;a.serviceEndDate=i.serviceEndDate,a.enrolledInAutoRefill="false"===i.enrolledInAutoRefill?"No":"Yes",a.transactionId=i.transactionDetails.transactionId?i.transactionDetails.transactionId:i.vasPlanDetails.transactionDetails.transactionId}n(a)})).catch((function(e){$errorHandler.handleError(e,$scope)}))}}))},CheckOutServiceInst.getProductPromotions=function(){t.info("CheckOutServiceInst:: Inside getProductPromotions!! ...");var e,n=CheckOutServiceInst.getCheckOutDetails().getPromoCode();if(angular.isDefined(n)&&null!=n&&""!=n){e=[];var a={id:n};e.push(a)}else e=void 0;return t.info("Product Promotions - ",e),e},CheckOutServiceInst.getProvisioningZipCode=function(){t.info("CheckOutServiceInst:: Inside getProvisioningZipCode!! ...");var e=s.getSelectedDevice().zipcode;return t.info("Device zipcode - ",e),e||!angular.equals(p.transaction_type.internal_port,s.getSelectedDevice().execution_plan)&&!angular.equals(p.transaction_type.external_port,s.getSelectedDevice().execution_plan)||(e=angular.isDefined(s.getPortupgradeDevice().zipcode)?s.getPortupgradeDevice().zipcode:p.default_zipcode),t.info("Provisioning zipcode - ",e),e},CheckOutServiceInst.calculateHppTax=function(t){return r.run(t,e.get("enrollcalctax"),i.get("enrollcalctax"))},CheckOutServiceInst.calculateHppAPPTax=function(n){return t.info("CheckOutServiceInst:: Inside calculateHppAPPTax!! ...",n),a((function(a,o){r.run({paymentSourceId:void 0,promotionCode:CheckOutServiceInst.getCheckOutDetails().getPromoCode(),account_id:CheckOutServiceInst.getAccountId(),esn:s.getSelectedDevice().esn,billingZipCode:n.zipcode,cart:n.cartplan},e.get("purchasecalctax"),i.get("purchasecalctax")).then((function(e){t.info(e.data),CheckOutServiceInst.getCheckOutDetails().addTaxes(e.data),a(CheckOutServiceInst.getCheckOutDetails().getTaxFields())})).catch((function(e){o(e)}))}))},CheckOutServiceInst.getEstimateType=function(){t.info("Inside getEstimateType method ..");var e;if(g.executionPlanExistsInDevices()?e=angular.isUndefined(g.getBanId())?p.estimate_type.activate_ban:p.estimate_type.activate_line:(e=g.getRedemptionEstimateType(),g.isDeviceActivation()?e=p.estimate_type.activate_line:g.isBanActivation()&&angular.equals(e,p.estimate_type.redeem_ban)?e="SIMPLE_MOBILE"==m.brand?p.estimate_type.redeem_ban:p.estimate_type.activate_ban:g.anyAddonPlaninCart()&&(e=p.estimate_type.activate_line)),w.min&&w.planId&&"SIMPLE_MOBILE"==m.brand){var n=s.getSelectedDevice(w.min);g.anyAddonPlaninCart()||"ACTIVE"!=n.deviceStatus?"ACTIVE"!=n.deviceStatus&&(g.setDeviceReactivation(!0),e=p.estimate_type.activate_line):(e=p.estimate_type.redeem_ban,CheckOutServiceInst.setcheckoutredemption(!0))}return t.info("Inside getEstimateType method exit ..",e),e},CheckOutServiceInst.estimateOrder=function(n){return t.info("CheckOutServiceInst:: Inside estimateOrder!! ...",g.isBrandMultiLine(),n),t.info("CheckOutServiceInst.estimateOrder::Multiline isRecurring",g.getAccountLevelAutoRefill(),g.anyDeviceEnrolledInAddonPlan(),g.getUserSelectAutoRefill()),a((function(a,o){var s,c,d,u=g.getSavedDevices();if(g.isBrandMultiLine()){var v;(g.anyDeviceEnrolledInAddonPlan()||!g.getAccountLevelAutoRefill()&&g.getUserSelectAutoRefill())&&(v={isRecurring:!0}),s={id:angular.isDefined(g.getBanId())?g.getBanId():void 0,paymentPlan:v},c=CheckOutServiceInst.getEstimateType(),d=l.isLoggedIn()?l.getAccountId():g.getDeviceAccountid(),n.zipcode=n.zipcode?n.zipcode:u[0].zipcode}else s=void 0,c=void 0,d=l.isLoggedIn()?l.getAccountId():u[0].accountId,n.zipcode=n.zipcode?n.zipcode:u[0].zipcode;n.isAddonAdded&&(c=p.estimate_type.activate_line),r.run({webobjid:d,estimate_type:c,orderItems:CheckOutServiceInst.getEstimateOrderItems(),zipcode:n.zipcode?n.zipcode:p.default_zipcode,billingAccount:s,country:n.country},e.get("estimateorder"),i.get("estimateorder")).then((function(e){t.info("Estimate order --\x3e ",e),a(e)})).catch((function(e){o(e)}))}))},CheckOutServiceInst.getdeviceorderitems=function(){if(w.min&&w.planId){var e=g.getPOorderitem(),t=[];angular.forEach(e,(function(e,n){var a={},i=[];if(angular.isDefined(e.product.productSerialNumber))var r=e.product.productSerialNumber;else if(angular.isDefined(e.supportingResources[0].serialNumber))var r=e.supportingResources[0].serialNumber;s.validateUserDevice({device:r}).then((function(n){if(a=n.svc_response,h._plans.BrandPlans&&h._plans.BrandPlans.plans){var n=h._plans.BrandPlans;a.plans=[],angular.forEach(n.plans.all,(function(t,n){t.part_number===e.productOffering.id&&(i.push(t),a.plans.push(t),c._data.plans=i)})),t.push(a)}}))}))}return CheckOutServiceInst.setorderitem(t)},CheckOutServiceInst.setorderitem=function(e){CheckOutServiceInst._checkOutDetails._orderitem=e},CheckOutServiceInst.getorderitem=function(){return CheckOutServiceInst._checkOutDetails._orderitem},CheckOutServiceInst.setcheckoutredemption=function(e){CheckOutServiceInst._checkOutDetails.checkoutredemption_flag=e},CheckOutServiceInst.getcheckoutredemption=function(){return CheckOutServiceInst._checkOutDetails.checkoutredemption_flag},CheckOutServiceInst.getEstimateOrderItems=function(){if(g.isHppEnrollFlowFlag())return f.buildHppEstimateOrderItems();var e=[],t=g.getSavedDevices(),n=1;return angular.forEach(t,(function(t,a){angular.forEach(t.plans,(function(a,i){var r;r=a.is_addon?a.isILDVas?p.orderitemildcategory:"SIMPLE_MOBILE"===m.brand&&a.is_smHppPlan?p.orderitemvascategory:p.orderitemdataaddoncategory:p.orderitemcategory;var o=[];if(a.program_id){var s={name:p.program_id,value:""+a.program_id};o.push(s)}else o=void 0;var c={id:""+a.plan_id,category:r,isRecurring:CheckOutServiceInst.getAutoRefillFlag(t,a),characteristicSpecification:o};g.getTransactionType()==p.transaction_type.telehealth_purchase&&(c.category=p.teleHealthConfig.category,c.subCategory=p.teleHealthConfig.subCategory);var l=[];l.push(c);var d={id:""+n,action:p.action_estimate,quantity:a.quantity?a.quantity:1,product:{productSerialNumber:t.min?t.min:t.esn,productCategory:t.min?p.line:p.handset,relatedServices:l},productOffering:{id:a.part_number,productSpecification:{id:a.part_class,brand:m.brand}}};n++,e.push(d)}))})),e},CheckOutServiceInst.processOrder=function(e,n){t.info("CheckOutServiceInst:: Inside processOrder!! ..."),t.info("Payment details = ",e);var i=e;C.setUserSelectedPaymentType(i),t.info("AR details = ",CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption(),g.getAccountLevelAutoRefill());var r=[],s=[],c=g.getSavedDevices();angular.isDefined(c)&&0===c.length&&(t.info("If automatic payment enrollments is checked for activations, fetch the device details from $devicesCartServices.getDeviceData()"),s=g.getDeviceData(),t.info("If automatic payment enrollments is checked for activations, fetch the react details from $devicesCartServices.getReactData()"),r=g.getReactData()),angular.isDefined(c)&&(angular.forEach(c,(function(e,n){t.info("deviceDetail -> ",e.execution_plan),angular.equals(e.min,w.min)&&g.isDeviceActivation()&&(e.execution_plan=p.transaction_type.reactivation),0!==e.amount&&(angular.equals(e.execution_plan,p.transaction_type.reactivation)?r.push(e):s.push(e))})),t.info("If automatic payment enrollments is checked for activations, set the device details to $devicesCartServices.setDeviceData()"),g.setDeviceData(s),t.info("If automatic payment enrollments is checked for activations, set the react details to $devicesCartServices.setReactData()"),g.setReactData(r));var d,u=angular.isDefined(g.getBanId())?g.getBanId():void 0,v=!1;if("TOTAL_WIRELESS"===m.brand&&g.isHppEnrollFlowFlag())v=!(!CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()&&!g.anyDeviceEnrolledInAddonPlan()),v&&g.getAccountLevelAutoRefill()&&CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()&&!g.anyDeviceEnrolledInAddonPlan()&&(v=!1),d={paymentPlan:{isRecurring:v,paymentMean:CheckOutServiceInst.getPaymentDetails(e)}};else if(!m.features.isNewPaymentAPI||"TOTAL_WIRELESS"!=m.brand&&"NET10"!=m.brand)if(o.isNullOrEmpty(e.isPaypalOrder))g.isBrandMultiLine()?(v=!(!CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()&&!g.anyDeviceEnrolledInAddonPlan()))&&g.getAccountLevelAutoRefill()&&CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()&&!g.anyDeviceEnrolledInAddonPlan()&&(v=!1):v=void 0,g.getTransactionType()==p.transaction_type.telehealth_purchase&&(v=CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()),d={id:u,paymentPlan:{isRecurring:v,paymentMean:CheckOutServiceInst.getPaymentDetails(e)}},e.isDefaultPaymentPref&&!g.isBrandMultiLine()&&(d={id:u,paymentPlan:{isRecurring:v,paymentMean:CheckOutServiceInst.getPaymentDetails(e)},customerAccount:{customerAccountExtension:[{name:"ACCOUNTPAYMENTSOURCE",value:"TRUE"}]}});else{var f=CheckOutServiceInst.getPaypalOrderDetails(e.order);d={id:u,paymentPlan:{isRecurring:!1,authorizationCode:e.order.id,paymentMean:angular.isDefined(f.payment_mean)?f.payment_mean:void 0,paymentPlanExtension:angular.isDefined(f.paymentPlanExtension)?f.paymentPlanExtension:void 0}}}else d=CheckOutServiceInst.prepareBillingAccount(e,n),d.id=u;var h=angular.isDefined(l.getAccountId())?l.getAccountId():g.getDeviceAccountid(),_=angular.isDefined(e.dapid)?e.dapid:void 0;return CheckOutServiceInst.getcheckoutredemption()&&(s=CheckOutServiceInst.getorderitem()),t.info("product order data --\x3e",d,l.getAccountId(),CheckOutServiceInst.getOrderItems()),a((function(n,a){s.length>0?CheckOutServiceInst.submitOrder({accountId:h,billing_account:d,deviceInfo:s,dealerId:_,paymentDetails:e}).then((function(i){var o=i;if(r.length>0){o.summary.productList,o.summary.banlevelInfo;CheckOutServiceInst.submitOrder({accountId:h,billing_account:d,deviceInfo:r,dealerId:_,paymentDetails:e}).then((function(e){var a=CheckOutServiceInst.mergeProductList({activationResponse:o,reactivationResponse:e});t.info(" mergedResponse Returned --\x3e ",a),n(a)})).catch((function(e){a(e)}))}else n(o)})).catch((function(e){a(e)})):r.length>0&&CheckOutServiceInst.submitOrder({accountId:h,billing_account:d,deviceInfo:r,dealerId:_,paymentDetails:e}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},CheckOutServiceInst.prepareBillingAccount=function(e,t){var n,a=!1;if(o.isNullOrEmpty(e.isPaypalOrder))g.isBrandMultiLine()&&(a=!(!CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()&&!g.anyDeviceEnrolledInAddonPlan()))&&g.getAccountLevelAutoRefill()&&CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()&&!g.anyDeviceEnrolledInAddonPlan()&&(a=!1),n={payment:{isRecurring:a,paymentMethod:CheckOutServiceInst.getPaymentDetails(e)}},e.isDefaultPaymentPref&&!g.isBrandMultiLine()&&(n={payment:{isRecurring:a,paymentMethod:CheckOutServiceInst.getPaymentDetails(e)},customerAccount:{customerAccountExtension:[{name:"ACCOUNTPAYMENTSOURCE",value:"TRUE"}]}});else{var i=g.getTaxes().data.orderPrice.total,r={};if(angular.isDefined(t)&&t&&angular.isDefined(e)&&angular.isDefined(e.paymentMethod)){var s="venmo"==e.paymentMethod.type?"Venmo":"PayPal";if(r={paymentMethod:{id:e.paymentMethod.id,type:"DIGITAL_WALLET",digitalWallet:{service:s,tokenType:"PERMANENT"},billingAddress:{zipCode:e.paymentMethod.billing_zipcode?e.paymentMethod.billing_zipcode:e.paymentMethod.billing_address.zip,country:e.paymentMethod.billing_address.country?e.paymentMethod.billing_address.country:""}}},angular.isDefined(e)&&angular.isDefined(e.deviceData)){var c=CheckOutServiceInst.mapDeviceDataToPaymentExtension(e);r.paymentExtension=c}}else angular.isDefined(e)&&angular.isDefined(e.braintreeDetails)&&(r=CheckOutServiceInst.mapBraintreePaypalDetailsToPayment(e.braintreeDetails));n={payment:{isRecurring:a,totalAmount:i,paymentMethod:angular.isDefined(r&&r.paymentMethod)?r.paymentMethod:void 0,paymentExtension:angular.isDefined(r&&r.paymentExtension)?r.paymentExtension:void 0}}}return n},CheckOutServiceInst.submitOrder=function(n){t.info("CheckOutServiceInst:: Inside submitOrder!! ... ",n,m.activation_staging);var c=n.accountId,l=n.deviceInfo,d=n.billing_account,u=n.dealerId,p=m.activation_staging?void 0:CheckOutServiceInst.getEstimateType(),v=n.paymentDetails?n.paymentDetails:void 0,f=new Date((new Date).setFullYear((new Date).getFullYear()+10));s.getSelectedDevice();o.isNullOrEmpty(n.paymentDetails.isPayalOrder)||(v=void 0);var h=[];return h=CheckOutServiceInst.getOrderItemsVoiceHPP(l,p,v),g.isBrandMultiLine()||(p=void 0),a((function(t,n){productOrder=function(t){return r.run(t,e.get("productorder").purchase,i.get("productorder"))},productOrderManageEnroll=function(t){return r.run(t,e.get("productorder").manageEnroll,i.get("productorder"))},CheckOutServiceInst.isChangePlanEvent(v)?this.productOrderManageEnroll({webobjid:c,transactionType:p,orderItems:CheckOutServiceInst.getOrderItems(l,p,v),billingAccount:d,dealerId:u}).then((function(e){r.setSessionItem("$preConfirmation",e),S.setCookie("tfUserLoggedin",f),t(e)})).catch((function(e){n(e)})):this.productOrder({webobjid:c,transactionType:p,orderItems:h,billingAccount:d,dealerId:u,customerAccount:P}).then((function(e){r.setSessionItem("$preConfirmation",e),S.setCookie("tfUserLoggedin",f),t(e)})).catch((function(e){n(e)}))}))},CheckOutServiceInst.mergeProductList=function(e){t.info("Inside mergeProductList function  --\x3e ",e);var n={summary:{productList:[],banlevelInfo:{}}},a=e.activationResponse,i=e.reactivationResponse,r=a.summary.productList,o=a.summary.banlevelInfo,s=i.summary.productList,c=i.summary.banlevelInfo,l={e911Tax:parseFloat(o.e911Tax)+parseFloat(c.e911Tax),e911label:o.e911label,rcrfTax:parseFloat(o.rcrfTax)+parseFloat(c.rcrfTax),usfTax:parseFloat(o.usfTax)+parseFloat(c.usfTax),salesTax:parseFloat(o.salesTax)+parseFloat(c.salesTax),totalTaxes:parseFloat(o.totalTaxes)+parseFloat(c.totalTaxes),total:parseFloat(o.total)+parseFloat(c.total),amount:parseFloat(o.amount)+parseFloat(c.amount),subTotal:parseFloat(o.subTotal)+parseFloat(c.subTotal),isRecurring:o.isRecurring,chargeDate:o.chargeDate,multiline_discount:parseFloat(o.multiline_discount)+parseFloat(c.multiline_discount),disc10per:parseFloat(o.disc10per)+parseFloat(c.disc10per),autorefill_discount:parseFloat(o.autorefill_discount)+parseFloat(c.autorefill_discount),employee_discount:parseFloat(o.employee_discount)+parseFloat(c.employee_discount),amazon_discount:parseFloat(o.amazon_discount)+parseFloat(c.amazon_discount),totalDiscount:parseFloat(o.totalDiscount)+parseFloat(c.totalDiscount),paymentType:o.paymentType,paymentNumber:o.paymentNumber};t.info("poProductList--\x3e ",r),t.info("reactProductList--\x3e ",s),t.info("poBanLevelTax--\x3e ",o),t.info("reactBanLevelTax--\x3e ",c);var d=[];return angular.forEach(r,(function(e,t){d.push(e)})),angular.forEach(s,(function(e,t){d.push(e)})),n.summary.productList=d,n.summary.banlevelInfo=l,t.info("mergedResponse --\x3e ",n),n},CheckOutServiceInst.getOrderItems=function(e,n,a){t.info("Inside getOrderItems method");var i=[],r=1;t.info("savedDevices passed --\x3e ",e,n);var s=g.executionPlanExistsInDevices();return t.info("execution plan exists -> ",s),angular.forEach(e,(function(e,n){if(e&&e.showDetails){var c=g.getAddonPlansInDevice(e);t.info("anyAddOnPlanInDevice exists -> ",c),angular.forEach(e.plans,(function(n,l){var d,u,v,f,h={},_=!1;n.is_addon&&(_=n.auto_refill),h.id=""+r;var y=angular.isDefined(n.quantity)?n.quantity:1;if(h.quantity=""+y,angular.isDefined(e.zipcode)&&(h.location={postalAddress:{zipcode:e.zipcode}}),t.info("Product Order Action parameter value  ===== ",u),f=CheckOutServiceInst.getActionAttributes(e,n),t.info("actionAttributes --",f),g.isBrandMultiLine()?(u=CheckOutServiceInst.getMultlineActionType(e,n),d=s?void 0:!n.is_monthly,(g.isDeviceActivation()||g.isBanActivation())&&(d=!0)):(u=f.action,d=f.redeemNow),v=angular.isDefined(f.isRecurring)?f.isRecurring:void 0,a&&CheckOutServiceInst.isChangePlanEvent(a)&&"ADD_ON_ILD"!=n.servicePlanGroup&&(u=p.transaction_type.enrollment),h.action=u,n.is_monthly&&c.length>0){var b=CheckOutServiceInst.getRelatedToDetails(e,r);b&&(h.relatedOrderItem=b)}var S={};angular.isDefined(e.min)&&!o.isNullOrEmpty(e.min)?(S.productSerialNumber=e.min,S.productCategory=p.line):angular.isDefined(e.esn)&&(S.productSerialNumber=e.esn,S.productCategory=p.handset),!g.isGroupBased()||n.isILDVas||n.is_hpp||e.group&&e.group.masterEsn&&e.group.masterEsnStatus!=p.active&&(S.productSerialNumber=e.group.masterEsn,S.productCategory=p.handset),S.productSpecification={brand:m.brand};var D,C=[];D=e.newPlan&&n.is_monthly?e.newPlan.plan_id:n.plan_id;var w=[];if(g.isBrandMultiLine())if((CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()||_)&&angular.isDefined(n.program_id)){var I={name:p.program_id,value:""+n.program_id};w.push(I)}else v=void 0,w=void 0;else if(n.program_id){var I={name:p.program_id,value:""+n.program_id};w.push(I)}else w=void 0;var P;P=n.is_hpp?p.orderitemaddoncategory:n.is_addon?n.isILDVas?p.orderitemildcategory:p.orderitemdataaddoncategory:p.orderitemcategory;var A={id:""+D,category:P,isRedeemNow:d,characteristicSpecification:w};g.isBrandMultiLine()?A.isRecurring=v:(A.isRecurring=v,angular.equals(p.transaction_type.enrollment,f.action)&&(A.isEnrollNow=f.enrollNow)),t.info("Multiline isRecurring",v,A),C.push(A),angular.equals(p.transaction_type.internal_port,h.action)||angular.equals(p.transaction_type.external_port,h.action)?h.relatedServices=C:S.relatedServices=C,angular.isDefined(e.sim)&&angular.isDefined(e.sim.iccid)&&!g.isRedemptionFlow()&&(S.supportingResources=[{resourceType:p.simcard,serialNumber:e.sim.iccid}]);var $={};if(e.newPlan&&n.is_monthly?($.id=e.newPlan.part_number,m.activation_staging||($.productSpecification={id:e.newPlan.part_class,brand:m.brand})):($.id=n.part_number,m.activation_staging||($.productSpecification={id:n.part_class,brand:m.brand})),h.productOffering=$,h.product=S,angular.isDefined(e.portInfo))if(t.info("savedDevice.portInfo --\x3e",e,e.portInfo),angular.isDefined(e.group)&&angular.isDefined(e.group.groupId)){var E=[],T={name:p.service_qulafiers.extensionsName.groupIdentifier,value:e.group.groupId};E.push(T),h.orderItemExtension=E}else{var k=e.portInfo;h.orderItemExtension=k.orderItemExtension,h.customerAccount=k.customerAccount,angular.isDefined(e.isSecurityPinSet)&&!e.isSecurityPinSet&&angular.isDefined(e.securityPin)&&(angular.isDefined(h.customerAccount)?h.customerAccount.pin=e.securityPin:h.customerAccount={pin:e.securityPin}),h.service=k.service}else if(angular.equals(p.transaction_type.phone_upgrade,e.execution_plan)){var R=e.upgradeInfo;h.orderItemExtension=R.orderItemExtension}else{if(angular.isDefined(e.group)&&angular.isDefined(e.group.groupId)){var E=[],T={name:p.service_qulafiers.extensionsName.groupIdentifier,value:e.group.groupId};E.push(T),h.orderItemExtension=E}angular.isDefined(e.isSecurityPinSet)&&!e.isSecurityPinSet&&angular.isDefined(e.securityPin)&&(h.customerAccount={pin:e.securityPin})}r++,i.push(h)}))}})),0==i.length&&(i=void 0),t.info("order_items--\x3e ",i),i},CheckOutServiceInst.getOrderItemsVoiceHPP=function(e,n,a){t.info("Inside getOrderItems method");var i=[],r=1;t.info("savedDevices passed --\x3e ",e,n);var c=g.executionPlanExistsInDevices();return t.info("execution plan exists -> ",c),angular.forEach(e,(function(e,n){if(e&&e.showDetails){var l=g.getAddonPlansInDevice(e);t.info("anyAddOnPlanInDevice exists -> ",l),angular.forEach(e.plans,(function(n,d){var u,v,f,h,_={},y=!1;angular.isDefined(n.category)&&angular.isDefined(n.category.name)&&"TELE_HEALTH"===n.category.name&&(y=!0);var b=!1;n.is_addon&&(b=n.auto_refill),_.id=""+r;var S=angular.isDefined(n.quantity)?n.quantity:1;if(_.quantity=""+S,angular.isDefined(e.zipcode)&&(_.location={postalAddress:{zipcode:e.zipcode}}),t.info("Product Order Action parameter value  ===== ",v),h=CheckOutServiceInst.getActionAttributes(e,n),t.info("actionAttributes --",h),g.isBrandMultiLine()?(v=CheckOutServiceInst.getMultlineActionType(e,n),u=c?void 0:!n.is_monthly,(g.isDeviceActivation()||g.isBanActivation())&&(u=!0)):(v=h.action,u=h.redeemNow),f=angular.isDefined(h.isRecurring)?h.isRecurring:void 0,a&&CheckOutServiceInst.isChangePlanEvent(a)&&"ADD_ON_ILD"!=n.servicePlanGroup&&(v=p.transaction_type.enrollment),_.action=v,!n.is_smHppPlan&&!y||"SIMPLE_MOBILE"!==m.brand&&"TOTAL_WIRELESS"!==m.brand||(_.action=p.purchase),n.is_monthly&&l.length>0){var D=CheckOutServiceInst.getRelatedToDetails(e,r);D&&(_.relatedOrderItem=D)}var C={};angular.isDefined(e.min)&&!o.isNullOrEmpty(e.min)?(C.productSerialNumber=e.min,C.productCategory=p.line):angular.isDefined(e.esn)&&(C.productSerialNumber=e.esn,C.productCategory=p.handset),g.isHppEnrollFlowFlag()&&"TOTAL_WIRELESS"===m.brand&&angular.isDefined(e.esn)&&(C.productSerialNumber=e.esn,C.productCategory=p.handset),!g.isGroupBased()||n.isILDVas||n.is_hpp||e.group&&e.group.masterEsn&&e.group.masterEsnStatus!=p.active&&(C.productSerialNumber=e.group.masterEsn,C.productCategory=p.handset),C.productSpecification={brand:m.brand};var w={};!n.is_smHppPlan||"SIMPLE_MOBILE"!==m.brand&&"TOTAL_WIRELESS"!==m.brand||(w=s.getHppInsuranceAddress(),C.productSpecification={brand:m.brand,deviceManufacturer:w.make,deviceModel:w.model});var I,P=[];I=e.newPlan&&n.is_monthly?e.newPlan.plan_id:n.plan_id;var A=[];if(g.isBrandMultiLine())if((CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()||b)&&angular.isDefined(n.program_id)){var $={name:p.program_id,value:""+n.program_id};A.push($)}else f=void 0,A=void 0;else if(g.isGroupBased()&&n.is_smHppPlan&&n.isMonthly)f=!0,A=void 0;else if(n.program_id){var $={name:p.program_id,value:""+n.program_id};A.push($)}else A=void 0;var E;E=n.is_hpp?p.orderitemaddoncategory:!n.is_smHppPlan&&!y||"SIMPLE_MOBILE"!==m.brand&&"TOTAL_WIRELESS"!==m.brand?n.is_addon?n.isILDVas?p.orderitemildcategory:p.orderitemdataaddoncategory:p.orderitemcategory:p.smHPPConfig.planCategory;var T={id:""+I,category:E,isRedeemNow:u,characteristicSpecification:A,subCategory:y?"TELE_HEALTH":void 0}
;if(g.isBrandMultiLine()?T.isRecurring=f:(T.isRecurring=f,n.is_hppPlan&&"TOTAL_WIRELESS"===m.brand||angular.equals(p.transaction_type.enrollment,h.action)&&(T.isEnrollNow=h.enrollNow)),n.is_smHppPlan&&"SIMPLE_MOBILE"===m.brand)T.category=p.smHPPConfig.planCategory,T.isRecurring=!1,T.isEnrollNow=!1,T.characteristicSpecification=void 0;else if(n.is_hppPlan&&"TOTAL_WIRELESS"===m.brand){var k=angular.isDefined(n.subscription_id);if(t.info("productOffering and redeemNow  ",k,n.subscription_id),angular.isDefined(n.program_id)){var A=[],$={name:p.smHPPConfig.relatedProgramId,value:n.program_id+""};A.push($),T.characteristicSpecification=A}T={id:n.plan_id+"",category:p.smHPPConfig.planCategory,isRecurring:n.auto_refill,characteristicSpecification:void 0}}t.info("Multiline isRecurring",f,T),y&&(T.isRecurring=g.getUserSelectAutoRefill(),t.info("Related ServiceVO after Telehealth recurring update",T)),P.push(T),angular.equals(p.transaction_type.internal_port,_.action)||angular.equals(p.transaction_type.external_port,_.action)?_.relatedServices=P:C.relatedServices=P,!n.is_smHppPlan||"SIMPLE_MOBILE"!==m.brand&&"TOTAL_WIRELESS"!==m.brand||(C.subCategory=e.deviceType),angular.isDefined(e.sim)&&angular.isDefined(e.sim.iccid)&&!g.isRedemptionFlow()&&(C.supportingResources=[{resourceType:p.simcard,serialNumber:e.sim.iccid}]);var R={};if(e.newPlan&&n.is_monthly?(R.id=e.newPlan.part_number,m.activation_staging||(R.productSpecification={id:e.newPlan.part_class,brand:m.brand})):(R.id=n.part_number,m.activation_staging||(R.productSpecification={id:n.part_class,brand:m.brand})),!n.is_smHppPlan&&!y||"SIMPLE_MOBILE"!==m.brand&&"TOTAL_WIRELESS"!==m.brand||(R.name=p.smHPPConfig.mobileProtection,y&&(R.name=n.plan_description1),R.productSpecification={id:n.part_class,brand:m.brand,validFor:{startDate:n.startDate,endDate:n.endDate}}),_.productOffering=R,_.product=C,angular.isDefined(e.portInfo))if(t.info("savedDevice.portInfo --\x3e",e,e.portInfo),angular.isDefined(e.group)&&angular.isDefined(e.group.groupId)){var x=[],O={name:p.service_qulafiers.extensionsName.groupIdentifier,value:e.group.groupId};x.push(O),_.orderItemExtension=x}else{var N=e.portInfo;_.orderItemExtension=N.orderItemExtension,_.customerAccount=N.customerAccount,angular.isDefined(e.isSecurityPinSet)&&!e.isSecurityPinSet&&angular.isDefined(e.securityPin)&&(angular.isDefined(_.customerAccount)?_.customerAccount.pin=e.securityPin:_.customerAccount={pin:e.securityPin}),_.service=N.service}else if(angular.equals(p.transaction_type.phone_upgrade,e.execution_plan)){var L=e.upgradeInfo;_.orderItemExtension=L.orderItemExtension}else{if(angular.isDefined(e.group)&&angular.isDefined(e.group.groupId)){var x=[],O={name:p.service_qulafiers.extensionsName.groupIdentifier,value:e.group.groupId};x.push(O),_.orderItemExtension=x}angular.isDefined(e.isSecurityPinSet)&&!e.isSecurityPinSet&&angular.isDefined(e.securityPin)&&(_.customerAccount={pin:e.securityPin})}!n.is_smHppPlan||"SIMPLE_MOBILE"!==m.brand&&"TOTAL_WIRELESS"!==m.brand||(_.customerAccount={customerAccountContact:[{contactMedium:{type:p.smHPPConfig.postal,contactDetails:[{street1:angular.isDefined(w.address1)?w.address1:void 0,street2:angular.isDefined(w.address2)?w.address2:void 0,city:angular.isDefined(w.city)?w.city:void 0,stateOrProvince:angular.isDefined(w.state)?w.state:void 0,zipcode:angular.isDefined(w.zip)?w.zip:void 0,emailAddress:angular.isDefined(w.email)?w.email:void 0}]}}],customerAccountExtension:[{name:p.portaddress.first_name,value:angular.isDefined(w.firstname)?w.firstname:void 0},{name:p.portaddress.last_name,value:angular.isDefined(w.lastname)?w.lastname:void 0}]}),r++,i.push(_)}))}})),0===i.length&&(i=void 0),t.info("order_items--\x3e ",i),i},CheckOutServiceInst.getRelatedToDetails=function(e,n){t.info("Inside getRelatedToDetails method");var a={},i=[],r=n;return a.relationshipType=p.related_to,angular.forEach(e.plans,(function(e,t){if(e.is_addon){var n={};n.name=p.order_item_id,n.value=r+1,i.push(n),r++}})),a.characteristicSpecification=i.length>0?i:void 0,t.info("Exit getRelatedToDetails method --\x3e ",a),a},CheckOutServiceInst.getPaymentDetails=function(e){t.info("Inside getPaymentDetails method ",e);var n,a,i=p.payment_type.ach,r=p.payment_type.loyalty_points,o=e.paymentSource.pymt_src;e.cc_fields&&(a=""==e.cc_fields.expiration_year?void 0:e.cc_fields);var s=e.bank_fields,c=e.loyalty_points_fields;if(t.info("Inside getPaymentDetails method ",o,e.paymentType),angular.isDefined(e.paymentType)&&angular.equals(e.paymentType,p.event.exist))n=angular.equals(o.type,i)?{id:""+o.id,type:i.toUpperCase(),billingAddress:{zipCode:o.billing_zipcode,country:o.billing_address.country},bankAccount:{type:o.accounttype}}:angular.isDefined(c)&&angular.isDefined(c)?{savePaymentInfo:!1,type:""+r}:{id:""+o.id,type:p.payment_type.credit_card,creditCard:{cvv:o.cvv},billingAddress:{zipCode:o.billing_zipcode,country:o.billing_address.country}};else{var d=l.isLoggedIn();if(CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption()&&!l.isLoggedIn())var u=!0;else u=!1;n=angular.isDefined(a)?{isDefault:!1,savePaymentInfo:d?CheckOutServiceInst.getCheckOutDetails().getSavePymtSrcToAccountFlag():u,nickname:a.nick_name,type:p.payment_type.credit_card,accountHolderName:a.address.firstname+" "+a.address.lastname,firstName:a.address.firstname,lastName:a.address.lastname,creditCard:{year:a.expiration_year,month:a.expiration_month.id,cvv:a.ccv,accountNumber:a.number_mask,type:a.credittype.toUpperCase()},billingAddress:{addressLine1:a.address.address1,addressLine2:a.address.address2,city:a.address.city,stateOrProvince:a.address.state,zipCode:a.address.zip,country:a.address.country}}:{isDefault:!1,savePaymentInfo:d?CheckOutServiceInst.getCheckOutDetails().getSavePymtSrcToAccountFlag():u,nickname:s.nick_name,type:i.toUpperCase(),firstName:s.address.firstname,lastName:s.address.lastname,bankAccount:{accountNumber:s.number_mask,routingNumber:s.routingNumber,type:s.accounttype.id},billingAddress:{addressLine1:s.address.address1,addressLine2:s.address.address2,city:s.address.city,stateOrProvince:s.address.state,zipCode:s.address.zip,country:s.address.country}}}return t.info("payment_mean --\x3e ",n),n},CheckOutServiceInst.estimateAlignmentOrder=function(){t.info("CheckOutServiceInst:: Inside estimateAlignmentOrder!! ...");var n=g.getSavedDevices();angular.isDefined(g.getBanId())&&g.getBanId();t.info(" $renewalservices.buildEstimateOrderItems() --\x3e ",f.buildEstimateOrderItems(),g.getZipCode());var s;angular.isDefined(g.getZipCode())&&!o.isNullOrEmpty(g.getZipCode())?s=g.getZipCode():angular.isDefined(n)&&n.length>0&&(s=g.setZipCode(n[0].zipcode));var c,d;return g.isBrandMultiLine()&&angular.isDefined(g.getBanId())?(c={id:angular.isDefined(g.getBanId())?g.getBanId():void 0},d=p.estimate_type.activate_line):g.isGroupBased()?d=p.estimate_type.activate_line:(c=void 0,d=void 0),a((function(n,a){r.run({webobjid:l.getAccountId(),estimate_type:d,orderItems:f.buildEstimateOrderItems(),zipcode:s,billingAccount:c},e.get("estimateorder"),i.get("estimateorder")).then((function(e){t.info("Estimate order --\x3e ",e),n(e)})).catch((function(e){a(e)}))}))},CheckOutServiceInst.checkAlignment=function(){return t.info("Inside isAutoRefillAligment method --\x3e "),a((function(e,n){var a,i={},r=!1;if(a=angular.isDefined(s.getBanDetails())&&angular.isDefined(s.getBanDetails().extensions)?s.getBanDetails().extensions.activeLines>1:g.getActiveLinesInAccount()>1,t.info("Inside isAutoRefillAligment method --\x3e ",g.executionPlanExistsInDevices(),s.getBanDetails(),g.getActiveLinesInAccount()),!g.executionPlanExistsInDevices()&&a&&g.isBrandMultiLine()){var o=g.getTaxes();g.getUserSelectAutoRefill()?(t.info("Inside isAutoRefillAligment method --\x3e 4 ",o),CheckOutServiceInst.estimateAlignmentOrder().then((function(n){t.info("Inside isAutoRefillAligment method --\x3e 5 ",n),i.futuretax_summary=n.data,i.tax_summary=o.data;var a=parseFloat(o.data.orderPrice.amount),s=parseFloat(n.data.orderPrice.amount);t.info("Inside isAutoRefillAligment method --\x3e 6 ",a,s),a!=s&&(r=!0),t.info("Inside isAutoRefillAligment method --\x3e 7 ",r),i.alignmentFlag=r,e(i)})).catch((function(e){t.info("Inside isAutoRefillAligment method ",e),n(e)}))):(i.alignmentFlag=r,e(i))}else i.alignmentFlag=r,e(i)}))},CheckOutServiceInst.isMultiLineAlignment=function(){t.info("CheckOutServiceInst::isMultiLineAlignment:: Caluclating alignment based on--\x3e ",taxesInfo);var e=!1,n=[];angular.forEach(taxesInfo.data.orderItems,(function(e,a){t.info("CheckOutServiceInst::isMultiLineAlignment:: taxorderitem--\x3e ",e.planInfo);var i={};e.planInfo.length>0&&angular.forEach(h.getMonthlyPlans(),(function(a,r){e.planInfo[0].part_number&&e.planInfo[0].part_number===a.part_number&&(i.startDate=e.planInfo[0].startDate,i.endDate=e.planInfo[0].endDate,n.push(i),t.info("CheckOutServiceInst::isMultiLineAlignment::Serviceplan found adding to decvicesdate--\x3e ",n))}))}));var a;return n.length>1&&(a=n[0].startDate,angular.forEach(n,(function(n,i){t.info("CheckOutServiceInst::isMultiLineAlignment::comparing dates-> ",n,i),i>0&&a&&n.startDate!=a&&(t.info("CheckOutServiceInst::isMultiLineAlignment::its a aligmnet-> ",n,a),e=!0)}))),e},CheckOutServiceInst.getProfileInfo=function(){return a((function(e,n){_.getProfileInfo({account_id:l.getAccountId()}).then((function(n){t.info("CheckOutServiceInst::getProfileInfo",n),e(n.billingProfileDummy)})).catch((function(e){n(e)}))}))},CheckOutServiceInst.checkoutAutoRefillOption=function(){var e={};return e=g.isBrandMultiLine()?CheckOutServiceInst.showAutoRefillBar():CheckOutServiceInst.singleLineAutoRefillOption(),t.info("CheckOutServiceInst::checkoutAutoRefillOption Response--\x3e ",e),e},CheckOutServiceInst.addDeviceWithPlan=function(){t.info("CheckOutServiceInst::addDeviceWithPlan --\x3e ",s.getSelectedDevice()),s.getSelectedDevice()&&(g.esnAlreadyExits(s.getSelectedDevice().esn)||g.addDeviceWithPlan())},CheckOutServiceInst.showAutoRefillBar=function(){t.info("CheckOutServiceInst::showAutoRefillBar");var e={showBar:!1,showBarDisable:!1,isEnrolled:!1,allowAddonAddOption:!0,showAddonArOption:!0,disableAddonArOption:!1,isIldEnrolled:!1},n=!!l.isLimitedAccess()&&l.isLimitedAccess(),a=l.isLoggedIn(),i=g.executionPlanExistsInDevices(),r=g.getAccountLevelAutoRefill(),o=!!g.getUserSelectAutoRefill()&&g.getUserSelectAutoRefill(),s=!!g.anyDeviceEnrolledInAddonPlan()&&g.anyDeviceEnrolledInAddonPlan(),c=g.isDeviceActivation(),d=g.isBanActivation(),u=g.getActiveLinesInAccount()>1,p=g.anyBasePlaninCart(),v=g.isEnrollFlowFlag();o=o||v,t.info("AR FLAGS --\x3e ",n,a,i,r,o,s,c,d,u,p,v);var m=g.getSavedDevices(),f=(m[0].lowbalance_enabled,CheckOutServiceInst.setAddonProperties());return e.allowAddonAddOption=f.allowAddonAddOption,e.showAddonArOption=f.showAddonArOption,e.disableAddonArOption=f.disableAddonArOption,e.isIldEnrolled=f.isIldEnrolled,i&&!u?(1==g.getActiveLinesInAccount()?e.showBar=!1:(e.showBar=!r,v&&(e.showBar=!1)),e.showBarDisable=!1,e.isEnrolled=r||o,e):(i&&a&&u&&(e.showBar=!1,e.showBarDisable=!1,e.isEnrolled=!1),i?e:c&&r&&!u?(e.showBar=!1,e.showBarDisable=!0,e.isEnrolled=!0,e):!c||r||u?c&&(u||g.getActiveLinesInAccount()>0)?(e.showBar=!1,e.showBarDisable=!1,e.isEnrolled=!1,e):d&&r?(e.showBar=!1,e.showBarDisable=!0,e.isEnrolled=!0,e):d&&!r?(e.showBar=!0,v&&(e.showBar=!1),e.showBarDisable=!1,e.isEnrolled=o,e):c||d||!p?e:(e.showBar=!r,v&&(e.showBar=!1),e.showBarDisable=!1,e.isEnrolled=r||o,e):(e.showBar=!0,v&&(e.showBar=!1),e.showBarDisable=!1,e.isEnrolled=o,e))},CheckOutServiceInst.singleLineAutoRefillOption=function(){t.info("CheckOutServiceInst::singleLineAutoRefillOption -- ",g.getSavedDevices());var e,n={showBar:!0,showBarDisable:!1,isEnrolled:!1,allowAddonAddOption:!0,showAddonArOption:!0,disableAddonArOption:!1,isIldEnrolled:!1},a=!1,i=!0,r=(g.executionPlanExistsInDevices(),!!g.getUserSelectAutoRefill()&&g.getUserSelectAutoRefill());if(g.getSavedDevices()){e=g.getSavedDevices()[0]}else s.getSelectedDevice()&&(e=s.getSelectedDevice());angular.isDefined(e)&&(a=e.auto_refill_enabled,e.lowbalance_enabled);var o=[],c=[],l=e.plans,d=1;l&&angular.forEach(l,(function(e,t){e.is_addon||(d=e.quantity),e.is_addon&&(e.isILDVas?c.push(e):o.push(e))})),g.isGroupBased()&&e.group&&e.group.masterEsnStatus&&"ACTIVE"!=e.group.masterEsnStatus&&(i=!1),g.getAddonPlansFromCart().length>0&&g.getAddonPlansFromCart().length===g.getSavedDevices().length?n.showBar=!1:d>1?n.showBar=!1:g.isGroupBased()&&!i?n.showBar=!1:((a||g.isEnrollFlowFlag())&&(n.showBar=!1),g.isEnrollFlowFlag()&&(n.showBarDisable=!0),(r||g.isEnrollFlowFlag())&&(n.isEnrolled=!0)),n.deviceAlreadyEnrolled=a;var u=CheckOutServiceInst.setAddonProperties();return n.allowAddonAddOption=u.allowAddonAddOption,n.showAddonArOption=u.showAddonArOption,n.disableAddonArOption=u.disableAddonArOption,n.isIldEnrolled=u.isIldEnrolled,g.setUserSelectAutoRefill(!1),t.info("Exit CheckOutServiceInst::singleLineAutoRefillOption  -- ",n),n},CheckOutServiceInst.getActionAttributes=function(e,n){t.info("Inside getActionAttributes method --1  ",e,n,e.deviceStatus,g.getRedeemNowFlag(),g.getIsChngPlanRenewal());var a={action:"",redeemNow:!1,enrollNow:!1,isRecurring:!1},i=!1;n.isILDVas&&n.is_addon&&(i=n.auto_refill);var r=!!g.getUserSelectAutoRefill()&&g.getUserSelectAutoRefill(),o=r||CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption(),s=i,c=g.isHppEnrollFlowFlag();o&&g.getAccountLevelAutoRefill()&&g.isBrandMultiLine()&&(o=!1);var l=g.executionPlanExistsInDevices();if(t.info("Inside getActionAttributes method --2  ",s,o,l,c,g.isEnrollFlowFlag()),n.is_hpp?a.isRecurring=!0:n.isILDVas&&n.is_addon?s&&(a.isRecurring=!0):o&&(a.isRecurring=!0),l?m.activation_staging&&e.execution_plan!=p.transaction_type.reactivation?a.action=p.process_action:(a.action=e.execution_plan,(angular.equals(p.transaction_type.internal_port,e.execution_plan)||angular.equals(p.transaction_type.external_port,e.execution_plan))&&(a.action=p.transaction_type.port)):(a.action=p.transaction_type.redemption,e.deviceStatus!=p.device_status.active?a.action=p.transaction_type.reactivation:n.is_hpp&&c?a.action=p.transaction_type.enrollment:n.isILDVas&&n.is_addon&&!e.lowbalance_enabled&&s?a.action=p.transaction_type.enrollment:n.isILDVas||n.is_addon||(!e.auto_refill_enabled&&o?a.action=p.transaction_type.enrollment:e.auto_refill_enabled&&(a.action=g.isEnrollFlowFlag()?p.transaction_type.enrollment:p.transaction_type.redemption))),t.info("Inside getActionAttributes method after Action  ",angular.copy(a),n),l?a.redeemNow=void 0:a.isRecurring?angular.equals(p.transaction_type.redemption,a.action)?(t.info("Inside getActionAttributes inside reedow   ",a,n,g.getRedeemNowFlag()),n.is_addon?a.redeemNow=!0:g.getRedeemNowFlag()?a.redeemNow=!0:a.redeemNow=!1,g.getRedeemNowFlag()&&(a.isRecurring=!1)):a.redeemNow=void 0:n.is_addon?a.redeemNow=!0:a.redeemNow=g.getRedeemNowFlag(),t.info("Inside getActionAttributes method after reedeem now  ",angular.copy(a)),angular.equals(p.transaction_type.enrollment,a.action)){if(n.is_hpp&&c)a.enrollNow=!0;else if(n.isILDVas&&n.is_addon)a.enrollNow=!0;else if(n.is_paygo&&o)a.enrollNow=!0;else if(a.enrollNow=!1,!g.isBrandMultiLine()&&g.getIsChngPlanRenewal()){var d=g.getRetentionMatrixDetails();console.log("retentionRes . ",d),d&&"ENROLL_NOW"==d.flow&&d.isEnollNow&&!d.isEnrollLater&&(a.enrollNow=!0)}}else a.enrollNow=void 0;return t.info("Inside getActionAttributes method after enroll now  ",angular.copy(a)),l||angular.equals(p.transaction_type.reactivation,a.action)?a.isRecurring=a.isRecurring:angular.equals(p.transaction_type.redemption,a.action)?a.isRecurring=!1:(s||o)&&g.isBrandMultiLine()?a.isRecurring=!0:a.isRecurring=void 0,t.info("Action attributes - ",angular.copy(a)),a},CheckOutServiceInst.getMultlineActionType=function(e,n){t.info("Inside getMultlineActionType method -- ",e,e.execution_plan,g.isEnrollFlowFlag(),g.executionPlanExistsInDevices(),n);var a,i=g.executionPlanExistsInDevices();if(i)m.activation_staging&&e.execution_plan!=p.transaction_type.reactivation?a=p.process_action:(a=e.execution_plan,(angular.equals(p.transaction_type.internal_port,e.execution_plan)||angular.equals(p.transaction_type.external_port,e.execution_plan))&&(a=p.transaction_type.port));else{a=p.transaction_type.redemption;var r=!!angular.isDefined(g.isDeviceActivation())&&g.isDeviceActivation(),o=!!angular.isDefined(g.isBanActivation())&&g.isBanActivation();r||o?(r||o)&&n&&!n.is_addon&&(a=p.transaction_type.reactivation):g.isEnrollFlowFlag()&&(a=n&&n.isILDVas?p.transaction_type.redemption:p.transaction_type.enrollment)}return a},CheckOutServiceInst.isChangePlanEvent=function(e){t.info("Inside isChangePlanEvent method ",e);var n=!1,a=g.getSavedDevices().length>0?g.getSavedDevices():void 0,i=g.executionPlanExistsInDevices();if(t.info("isChangePlanEvent --\x3e 2 ",a,g.isEnrollFlowFlag(),i),!i&&a&&a[0].auto_refill_enabled&&g.isEnrollFlowFlag()){var r=a[0];t.info("isChangePlanEvent --\x3e 3 ",r.servicePlanId),angular.forEach(r.plans,(function(e,a){t.info("isChangePlanEvent --\x3e 4 ",e.plan_id),e.isILDVas||e.is_addon||r.servicePlanId!=e.plan_id&&(n=!0)}))}return!n&&e&&e.changePaymentSrc&&(n=!0),n},CheckOutServiceInst.getAutoRefillFlag=function(e,n){t.info("Inside getAutoRefillFlag method --\x3e ",n,g.getUserSelectAutoRefill(),e);var a=!1,i=e.auto_refill_enabled,r=e.lowbalance_enabled,o=!1;n.isILDVas&&n.is_addon&&(o=n.auto_refill);var s=!!g.getUserSelectAutoRefill()&&g.getUserSelectAutoRefill(),c=s||CheckOutServiceInst.getCheckOutDetails().getAutoRefillOption(),l=o;if(c&&g.getAccountLevelAutoRefill()&&g.isBrandMultiLine()&&(c=!1),n.is_addon&&n.isILDVas)(r||l)&&(a=!0);else if(!n.is_addon)if(i){a=!0;var d=g.executionPlanExistsInDevices();if(!d&&e.deviceStatus==p.device_status.active){var u=g.isEnrollFlowFlag()?p.transaction_type.enrollment:p.transaction_type.redemption;u==p.transaction_type.redemption&&(a=!1)}}else c&&(a=!0);return n.is_addon&&angular.isDefined(n.isTelehealthPlan)&&n.isTelehealthPlan&&(a=n.auto_refill),t.info("Exit getAutoRefillFlag method -- ",a),a},CheckOutServiceInst.getDataAddonPlan=function(){return h.getDataAddonPlans()},CheckOutServiceInst.getILdAddonPlan=function(){var e=[];if(g.isGroupBased()){var t=h.getILdAddonPlan();t&&e.push(t)}else{var n=h.getAddonPlans();n&&e.push(n)}return e},CheckOutServiceInst.getNextChargeDate=function(){var e;if(t.info("Inside getNextChargeDate method -- ",s.getBanDetails()),angular.isDefined(s.getBanDetails())&&angular.isDefined(s.getBanDetails().renewalDate)){var n,a=[1],i=[2,3],r=new Date(s.getBanDetails().renewalDate),o=r.getDate(),c=r.getMonth(),l=r.getFullYear();if(-1!=a.indexOf(o))n=new Date(l,0==c?11:c-1,28);else if(-1!=i.indexOf(o))n=new Date(l,11==c?0:c,1);else{r.setTime(r.getTime()-2592e5),n=r}e=(new Date).getTime()-n.getTime()<0?n:new Date(s.getBanDetails().renewalDate)}return t.info("Exit getNextChargeDate method -- ",e),e},CheckOutServiceInst.getAddonPlans=function(){var e=h.getAddonPlans(),n=[];if(t.info("Inside getAddonPlans --\x3e ",e,g.getAddonPlansFromCart(),g.getSavedDevices()),e.length>0){var a=[],i=[],r=g.getSavedDevices();if(angular.forEach(r,(function(e,t){angular.forEach(e.plans,(function(t,n){t.is_addon&&!t.isILDVas&&a.push(t),t.is_addon&&t.isILDVas&&i.push(e)}))})),0==i.length||i.length!=r.length){var o=CheckOutServiceInst.getILdAddonPlan();o&&o.length>0&&n.push(h.getILdAddonPlan())}angular.forEach(e,(function(e,t){e.isILDVas||(a.length>0?angular.forEach(a,(function(t,a){e.plan_id!=t.plan_id&&n.push(e)})):n.push(e))})),t.info("filteredAddons -- ",n),e=n}return e},CheckOutServiceInst.submitPinOrder=function(e){return t.info(" submit pin order -- ",e,g.getSavedDevices(),g.getDeviceAccountid()),a((function(n,a){var r=g.getSavedDevices(),c={};s.selectDevice(r[0]),b.validatePin({pin:e.pin}).then((function(d){console.log("validate pin - ",d);var u=g.getSavedDevicesLength();if(d.allowed_capacity_lines){if((o.isNullOrEmpty(d.allowed_capacity_lines)?"":parseInt(d.allowed_capacity_lines))<u){var p=o.translateError({error_code:"11800"},i.get("serviceorderact"));a(p)}else{var v=l.isLoggedIn()?l.getAccountId():g.getDeviceAccountid(),m=r[0].groupInfo?r[0].groupInfo:r[0].group,f=m.group_id?m.group_id:m.groupId;y.processPinCheckout({webobjid:v,groupIdentifier:f,esn:r[0].esn,airtimepin:e.pin}).then((function(e){t.info("pincheckoutController::processActivation:: processStagingProvisioning response ",e),s.selectDevice(r[0]),g.clearSaveDevices(),s.isPortFlow()?(s.setPortUpgradeSummary(e.svc_response),c.redirect="PIN_PORT_CHECKOUT",n(c)):(b.setRedemptionSummary(e.svc_response),c.redirect="PIN_CHECKOUT",n(c))})).catch((function(e){t.debug(e),a(e)}))}}})).catch((function(e){t.debug(e),a(e)}))}))},CheckOutServiceInst.setAddonProperties=function(){console.log("setAddonProperties ==");var e={allowAddonAddOption:!0,showAddonArOption:!0,disableAddonArOption:!1,isIldEnrolled:!1},t=!1;if(CheckOutServiceInst.isActivationFlow()||g.isEnrollFlowFlag()||!g.anyBasePlaninCart())g.isGroupBased()&&(e.allowAddonAddOption=!1);else if(g.isBrandMultiLine()&&g.getSavedDevicesLength()>1)e.allowAddonAddOption=!1;else{if(g.isOnlyIldPlanInCart(),g.isOnlyIldPlanInCart()){var n=DevicesCartServicesInst.getSavedDevices();angular.forEach(n[0].plans,(function(e,n){e.isILDVas&&e.auto_enrollflow&&e.auto_refill&&(t=!0)}))}t&&(e.allowAddonAddOption=!1,e.showAddonArOption=!1,e.disableAddonArOption=!0)}if(g.isGroupBased()&&1==g.getSavedDevicesLength()){var n=g.getSavedDevices(),a=n[0];(a.deviceType?a.deviceType:"")==p.device_type.signal_device&&(e.allowAddonAddOption=!1)}return console.log("setAddonProperties == ",e),e},CheckOutServiceInst.dataOnlyDevicesInCart=function(){console.log("dataOnlyDevicesInCart --\x3e",g.getSavedDevices(),s.getSelectedDevice());var e=!1;return g.getSavedDevices()?e=g.dataOnlyDevicesInCart():s.getSelectedDevice()&&(e=o.isDataOnlyDevice(s.getSelectedDevice())),console.log("dataOnlyDevicesInCart --\x3e",e),e},CheckOutServiceInst.filterCartDevicesForIldEnrollment=function(){console.log("filterCartDevices -- ",g.getSavedDevices(),s.getSelectedDevice());var e=[];if(g.getSavedDevices()){var t=g.getSavedDevices();g.isGroupBased()?angular.forEach(t,(function(t,n){if(!o.isDataOnlyDevice(t))if(t.plans){var a=!1;angular.forEach(t.plans,(function(e,t){e.is_addon&&e.isILDVas&&(a=!0)})),a||e.push(t)}else e.push(t)})):o.isDataOnlyDevice(t[0])||e.push(t[0])}else if(s.getSelectedDevice()){var n=s.getSelectedDevice();o.isDataOnlyDevice(n)||e.push(n)}return console.log("filterCart - ",e),e},CheckOutServiceInst.removeDeviceFromGroup=function(e){return a((function(n,a){console.log("removeDeviceFromGroup -- ",e),s.selectDevice(e.device),y.removedStagedDevices({}).then((function(e){n(e)})).catch((function(e){t.debug(e),a(e)}))}))},CheckOutServiceInst.isActivationFlow=function(){t.info("Checkout isActivationFlow ..");var e=g.executionPlanExistsInDevices();if(t.info("Checkout isActivationFlow .1. ",e,g.isBrandMultiLine()),!g.isBrandMultiLine()&&!e)if(g.getSavedDevices()){var n=g.getSavedDevices(),a=!1;angular.forEach(n,(function(e,t){a||(a=s.isDeviceUsedOrPastDueWithLineReserve(e))})),t.info("Checkout isActivationFlow .2. ",a),e=a}else s.getSelectedDevice()&&(e=s.isDeviceUsedOrPastDueWithLineReserve(s.getSelectedDevice()),t.info("Checkout isActivationFlow .3. ",e));return e},CheckOutServiceInst.getFilteredAddons=function(){t.info("Checkout getFilteredAddons ..");var e=[];if(g.isBrandMultiLine()&&!g.isActivationFlow()){var n=g.getSavedDevices(),a=n[0],i=a.plans[0];return t.info("Checkout getFilteredAddons .2. -> ",a,i),"ADD_ON_DATA"==i.servicePlanGroup&&o.isDataOnlyDevice(a)?e:e=CheckOutServiceInst.getAddonPlans().filter((function(e){return!e.data_add_on}))}return e},CheckOutServiceInst.getPaypalOrderDetails=function(e){t.info("Inside getPaypalOrderDetails method ",e);var n;if(angular.isDefined(e)){n={};var a="";angular.isDefined(e.purchase_units)&&angular.isDefined(e.purchase_units[0])&&angular.isDefined(e.purchase_units[0].shipping)&&(a=e.purchase_units[0].shipping.name.full_name);var i=CheckOutServiceInst.getPayPalPayerDetails(e),r=CheckOutServiceInst.getPayPalOrderBillingAddress(e),o={isDefault:!1,savePaymentInfo:!1,type:p.payment_type.paypal,accountHolderName:a,firstName:i.firstName,lastName:i.lastName,email:i.payerEmailId,billingAddress:r};n.payment_mean=o;var s=CheckOutServiceInst.getPaymentPlanExtension(e);n.paymentPlanExtension=s}return t.info("orderDetails --\x3e ",n),n},CheckOutServiceInst.mapBraintreePaypalDetailsToPayment=function(e){var t,a="paypal"==n.paymentType?"PayPal":"Venmo";if(angular.isDefined(e)){t={};var i=e.tokenizePayment.details,r={isDefault:!1,savePaymentInfo:CheckOutServiceInst.getCheckOutDetails().getSavePymtSrcToAccountFlag(),type:"DIGITAL_WALLET",digitalWallet:{service:a,token:e.tokenizePayment.nonce,tokenType:"TEMPORARY",name:i.email?i.email:i.username,id:e.data?e.data.payerID?e.data.payerID:i.payerId:i.username}};angular.isDefined(i)&&(r.firstName=i.firstName?i.firstName:"No real name",r.lastName=i.lastName?i.lastName:"No real name",r.email=i.email?i.email:"default@btpayments.com"),angular.isDefined(i)&&angular.isDefined(i.billingAddress)&&(r.billingAddress={addressLine1:i.billingAddress.line1,addressLine2:i.billingAddress.line2,city:i.billingAddress.city,stateOrProvince:i.billingAddress.state,country:i.billingAddress.countryCode,zipCode:i.billingAddress.postalCode});var o=CheckOutServiceInst.mapDeviceDataToPaymentExtension(e);t.paymentMethod=r,t.paymentExtension=o}return t},CheckOutServiceInst.mapDeviceDataToPaymentExtension=function(e){var t=[];return e.deviceData&&t.push({name:"deviceData",value:e.deviceData}),t},CheckOutServiceInst.getPaymentPlanExtension=function(e){t.info("getPaymentPlanExtension --\x3e ",e);var n=[];if(angular.isDefined(e.purchase_units)&&angular.isDefined(e.purchase_units[0])){if(angular.isDefined(e.purchase_units[0].reference_id)){var a=e.purchase_units[0].reference_id;if(!o.isNullOrEmpty(a)){var i={name:"referenceID",value:a};n.push(i)}}if(angular.isDefined(e.purchase_units[0].soft_descriptor)){var r=e.purchase_units[0].soft_descriptor;if(!o.isNullOrEmpty(r)){var s={name:"softDescriptor",value:r};n.push(s)}}if(angular.isDefined(e.purchase_units[0].payments)&&angular.isDefined(e.purchase_units[0].payments.captures)){var c=e.purchase_units[0].payments.captures[0].id;if(!o.isNullOrEmpty(c)){var l={name:"captureID",value:c};n.push(l)}}if(angular.isDefined(sessionStorage.getItem("estimatezip"))){var d=sessionStorage.getItem("estimatezip");if(!o.isNullOrEmpty(d)){var u={name:"estimateZipcode",value:d};n.push(u)}}}return t.info("paymentPlanExtension --\x3e ",n),n},CheckOutServiceInst.getPayPalPayerDetails=function(e){t.info("getPayPalPayerDetails --\x3e ",e);var n={};if(angular.isDefined(e.payer)){var a,i,r;o.isNullOrEmpty(e.payer.email_address)||(a=e.payer.email_address),o.isNullOrEmpty(e.payer.name.given_name)||(i=e.payer.name.given_name),o.isNullOrEmpty(e.payer.name.surname)||(r=e.payer.name.surname),n={payerEmailId:a,firstName:i,lastName:r}}return t.info("payerVo --\x3e ",n),n},CheckOutServiceInst.getPayPalOrderBillingAddress=function(e){t.info("getPayPalOrderBillingAddress --\x3e ",e);var n,a="";return angular.isDefined(e.payer)&&angular.isDefined(e.payer.address)&&(n={},o.isNullOrEmpty(e.payer.address.country_code)||(a="US"==e.payer.address.country_code?"USA":e.payer.address.country_code),n={addressLine1:o.isNullOrEmpty(e.payer.address.address_line_1)?"":e.payer.address.address_line_1,addressLine2:o.isNullOrEmpty(e.payer.address.address_line_2)?"":e.payer.address.address_line_2,city:o.isNullOrEmpty(e.payer.address.admin_area_2)?"":e.payer.address.admin_area_2,stateOrProvince:o.isNullOrEmpty(e.payer.address.admin_area_1)?"":e.payer.address.admin_area_1,zipCode:o.isNullOrEmpty(e.payer.address.postal_code)?"":e.payer.address.postal_code,country:a}),t.info("billingAddress --\x3e ",n),n},CheckOutServiceInst}angular.module("app").factory("$checkoutService",e),e.$inject=["$svcConfig","$log","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$cartService","$userService","$paymentService","$promoService","$appConstants","$enrollmentService","$devicesCartServices","$appConfig","$renewalservices","$servicePlanSelectorService","$profileService","$actreactportUpgradeService","$redemptionService","$cookieService","$lrpEnrollment","$autopayccService","$routeParams"]})(),(function(){function e(e,t,n,a,i,r,o,s,c){return CheckScenarioInst={setExecutionPlan:function(e){CheckScenarioInst._execution_plan=e},getExecutionPlan:function(){return CheckScenarioInst._execution_plan},setFlowScenario:function(e){CheckScenarioInst._flow_scenario=e},getFlowScenario:function(){return CheckScenarioInst._flow_scenario},setBalanceId:function(e){CheckScenarioInst._balance_id=e},getBalanceId:function(){return CheckScenarioInst._balance_id},setPortBrand:function(e){CheckScenarioInst._port_brand=e},getPortBrand:function(){return CheckScenarioInst._port_brand},setActivationEligible:function(e){CheckScenarioInst._activation_eligible=e},getActivationEligible:function(){return CheckScenarioInst._activation_eligible},getRelatedParties:function(e){t.info("Inside getRelatedParties function",e);var n=[];if(angular.isDefined(e.webobjid)){var a={partyID:c.servicePartyId,individual:{id:e.webobjid}},i={party:a,roleType:s.roletypec};n.push(i)}var r={partyID:c.servicePartyId,languageAbility:c.language,partyExtension:[{name:s.partytransactionid,value:s.partytransactionval},{name:s.sourcesystem,value:c.source_system}]},o={partY:r,roleType:s.internal};return n.push(o),t.info("Final RelatedParties ",n),n},getResourceBean:function(e){t.info("Inside getResourceBean function");var n=[];if(angular.isDefined(e.pin)){var a={productIdentifier:e.pin,type:s.airtime_card};n.push(a)}if(angular.isDefined(e.min)){var i={serialNumber:e.min,name:s.currentmin,type:s.line};if(n.push(i),angular.isDefined(o.getSelectedDevice())){if(angular.isDefined(o.getSelectedDevice().esn)){var r={serialNumber:o.getSelectedDevice().esn,name:s.targetproductserialnumber,type:s.handset};n.push(r)}if(angular.isDefined(o.getSelectedDevice().sim)&&angular.isDefined(o.getSelectedDevice().sim.iccid)){var c={serialNumber:o.getSelectedDevice().sim.iccid,name:s.targetserialnumber,type:s.sim};n.push(c)}}}else if(angular.isDefined(o.getSelectedDevice())){if(angular.isDefined(o.getSelectedDevice().esn)){var l={serialNumber:o.getSelectedDevice().esn,name:s.productserialnumber,type:s.handset};n.push(l)}if(angular.isDefined(o.getSelectedDevice().sim)&&angular.isDefined(o.getSelectedDevice().sim.iccid)){var d={serialNumber:o.getSelectedDevice().sim.iccid,name:s.serialnumber,type:s.sim};n.push(d)}}return n},checkActivationScenario:function(r){return t.info("checkActivationScenario service",r),n((function(n,l){checkActivationScenario=function(t){return i.run(t,e.get("servicequalificationact"),a.get("servicequalificationact"))};var d,u=[{type:s.context,value:r.context?r.context:s.service_qulafiers.activation}];d=angular.isDefined(r.zipcode)?{postalAddress:{zipcode:r.zipcode}}:{postalAddress:{zipcode:s.default_zipcode}};var p,v=CheckScenarioInst.getResourceBean(r),g=CheckScenarioInst.getRelatedParties(r);if(r.context&&r.context==s.service_qulafiers.staging){p=[];var m={name:s.service_qulafiers.extensionsName.groupIdentifier,value:o.getSelectedDevice().group.groupId};p.push(m),v=void 0}t.info("checkActivationScenario service",u,d,v,p),this.checkActivationScenario({serviceCategory:u,relatedParties:g,service:r.service,location:d,resource:v,extension:p}).then((function(e){CheckScenarioInst._flow_scenario=e.flow_scenario,CheckScenarioInst._execution_plan=e.execution_plan,CheckScenarioInst._balance_id=e.balance_id,CheckScenarioInst._activation_eligible=e.activation_eligible,CheckScenarioInst._port_brand=e.port_brand,o.getSelectedDevice().execution_plan=e.execution_plan,o.getSelectedDevice().flow_scenario=e.flow_scenario,e.flow_scenario&&e.flow_scenario==s.flow_scenario.pin_optional?o.getSelectedDevice().noPinRequired=!0:o.getSelectedDevice().noPinRequired=!1,o.getSelectedDevice().balance_id=e.balance_id,
o.getSelectedDevice().activation_eligible=e.activation_eligible,o.getSelectedDevice().port_brand=e.port_brand,c.features.groupbased&&angular.isDefined(e.masterEsnWithPin)&&(o.getSelectedDevice().masterEsnInfo={masterEsnWithPin:e.masterEsnWithPin,masterEsnGroupId:e.masterEsnGroupId,sharedPinAvailableInAccount:e.sharedPinAvailableInAccount,action:""}),n(e)})).catch((function(e){l(e)}))}))}},CheckScenarioInst}angular.module("app").service("$checkscenario",e),e.$inject=["$svcConfig","$log","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$appConstants","$appConfig"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b,S,D,C,f,w,I,P,C,A,$){return PreConditionsInst={getRouteParams:function(){var e=i.defer();return e.resolve(u),e.promise},loggedIn:function(){var t=i.defer();return"reset"==C.search().session&&angular.isDefined(C.search().flowType)?(A.$broadcast("system-reset",{}),e.noUserLogin().then((function(){t.resolve(!1)}))):t.resolve(e.isLoggedIn()||e.isRoNsTokenAvailable()),t.promise},limitedAccess:function(){var t=i.defer();return t.resolve(e.isLimitedAccess()),t.promise},clearSession:function(){var t=i.defer();return"reset"==C.search().session?(A.$broadcast("system-reset",{}),e.noUserLogin().then((function(){t.resolve(!0)}))):t.resolve(!0),t.promise},limitedAccessDevice:function(){var e=i.defer();return e.resolve(n.getLimitedAccessDevice()),e.promise},cartplans:function(){var e=i.defer();return e.resolve(t.getPlans()),e.promise},emptyCart:function(){var e=i.defer();return e.resolve(t.emptyCart()),e.promise},serviceplandate:function(){var e=i.defer();return e.resolve(c.getRedemptionSummary()),e.promise},getManageReserveDevice:function(){var e=i.defer(),t=!1;return n.getSelectedDevice()&&!n.getSelectedDevice().esn&&n.getRedemptionDevices().length>0&&angular.forEach(n.getRedemptionDevices(),(function(e,a){!t&&e&&e.esn&&e.min==n.getSelectedDevice().min&&(n.selectDevice(e),t=!0)})),e.resolve(n.getSelectedDevice()),e.promise},selectedDevice:function(){var e=i.defer();return e.resolve(n.getSelectedDevice()),e.promise},redemptionSelectedDevice:function(){var t=i.defer();return n.getSelectedDevice()?t.resolve(n.getSelectedDevice()):e.isLoggedIn()&&PreConditionsInst.limitedAccess()?t.resolve(n.getLimitedAccessDevice()):n.getRedemptionDevices()&&1==n.getRedemptionDevices().length?t.resolve(n.getRedemptionDevices()[0]):t.resolve(void 0),t.promise},showAddLineOption:function(){var t=i.defer();return e.isLoggedIn()?n.getAccountDevices({}).then((function(e){n.getActiveGroupsAvailable()&&n.getActiveGroupsAvailable().length>0?n.getSelectedDevice().group&&n.getSelectedDevice().group.groupId?t.resolve(!1):h.features.groupbased&&!w.allowAddingLineToExistingGroup(n.getSelectedDevice())?t.resolve(!1):t.resolve(!0):t.resolve(!1)})).catch((function(e){t.reject(e)})):n.getSelectedDevice().group&&n.getSelectedDevice().group.groupId?t.resolve(!1):h.features.groupbased&&!w.allowAddingLineToExistingGroup(n.getSelectedDevice())?t.resolve(!1):t.resolve(!0),t.promise},redemptionDevices:function(){var e=i.defer(),t=angular.copy(n.getRedemptionDevices());if(h.features.refillforfriend&&t.length>0){var a={};a.showDeviceBy=v("translate")("BAT_24597"),t.push(a)}return e.resolve(angular.copy(t)),e.promise},redemptionDevicesforGroup:function(){var e=i.defer(),t=angular.copy(n.getRedemptionDevices());return e.resolve(angular.copy(t)),e.promise},hppEligibleDevices:function(){var e=i.defer(),t=[],a=!1;return angular.forEach(n.getActiveDevices(),(function(e,n){e.isHandsetProtectionEligible&&(t.push(angular.copy(e)),a=!0)})),a?t.push({min:"Enter Another Number"}):t=void 0,e.resolve(t),e.promise},payForFriend:function(){var e=i.defer(),t={};return h.features.refillforfriend?t.showDeviceBy=v("translate")("BAT_24597"):t=void 0,e.resolve(angular.copy(t)),e.promise},redemptionRequest:function(){var e=i.defer();return e.resolve(c.getRedemptionRequest()),e.promise},renewalCustAccounStatus:function(){var e=i.defer();return a.isBrandMultiLine()?e.resolve(s.getCustomerAccountStatus()):e.resolve(),e.promise},deviceEnrolledPlans:function(){var e=i.defer();return e.resolve(f.getDeviceEnrolledPlans()),e.promise},savedDevices:function(){var e=i.defer();return e.resolve(a.getSavedDevices()),e.promise},activeDevices:function(){var e=i.defer();return n.getActiveDevices().length>0?e.resolve(n.getActiveDevices()):e.resolve(n.getActiveGroupDevices()),e.promise},inactiveDevices:function(){var e=i.defer();return e.resolve(n.getInactiveDevices()),e.promise},paymentHistory:function(){var t=i.defer();return t.resolve(e.getAccountId()),t.promise},getPriorInvoices:function(){var t=i.defer();if(h.retrive_priorapril_2017_history){var n=new Date;t.resolve(e.paymenthistoryduration({account_id:e.getAccountId(),start_date:v("date")(new Date(n.getTime()-15552e6),"MM-dd-yyyy"),end_date:v("date")(n,"MM-dd-yyyy")}))}else t.resolve();return t.promise},paymentsh:function(){var t=i.defer();return e.payments({account_id:e.getAccountId()}).then((function(e){t.resolve(e)})),t.promise},getPaymentHistory:function(){var t=i.defer();return e.getPaymentHistory({accountId:e.getAccountId()}).then((function(e){t.resolve(e)})),t.promise},ticketHistory:function(){var t=i.defer();return e.tkthistory({esn:n.getSelectedDevice().esn}).then((function(e){t.resolve(e)})),t.promise},priorInvoices:function(){var t=i.defer();return h.retrive_priorapril_2017_history?l.getPriorInvoices({accountID:e.getAccountId()}).then((function(e){t.resolve(e)})):t.resolve(),t.promise},deviceCount:function(){var e=i.defer();return e.resolve(n.getDeviceCount()),e.promise},initializeSelect:function(){var e=i.defer();if(r.info("Inside initializeSelect device method",t.getPlans(),a.isAddMoreLineFlag()),a.isAddMoreLineFlag())a.setAddMoreLineFlag(!1);else{var n=t.getPlans()?t.getPlans()[0]:void 0;PreConditionsInst.sessionReset(!0),r.info("Inside initializeSelect device method",n),n&&t.addPlanToCart(n),r.info("Inside initializeSelect device method",t.getPlans())}return e.resolve(),e.promise},banDetails:function(){var e=i.defer();return e.resolve(n.getBanDetails()),e.promise},getPortUpgradeDetails:function(){var e=i.defer();return r.info("Conditions getPortUpgradeDetails ",n.getPortupgradeDevice()),e.resolve(n.getPortupgradeDevice()),e.promise},servicePlans:function(t){var n=i.defer();return D.validateAmazonSession(),e.noUserLogin().then((function(){o.getServicePlanDetails().then((function(e){n.resolve(e.plan_details)})).catch((function(e){n.reject(e),t()}))})).catch((function(e){n.reject(e),t()})),n.promise},sessionReset:function(e){var t=i.defer();r.info("Condtions sessionReset::",C.search().session,e);var o=C.search().session;return o&&-1!==o.indexOf("reset")||angular.isDefined(e)&&e?(r.info("sessionReset:: clearing the devicescart and devices"),a.emptyCart(),n.clearSelectedDevice(),t.resolve()):t.resolve(),t.promise},isCommingFromDashboard:function(){var e=i.defer();return r.info("isCommingFromDashboard::",C.search().commingfrom),C.search().commingfrom&&"dashboard"==C.search().commingfrom?(r.info("isCommingFromDashboard is true"),e.resolve(!0)):e.resolve(!1),e.promise},getUserMin:function(){var e=i.defer();return e.resolve(a.getUserSelectedMin()),e.promise},enrollFlowFlag:function(){var e=i.defer();return e.resolve(a.isEnrollFlowFlag()),e.promise},estimatePlanSelection:function(){var e=i.defer(),t={};return t.renewalType="MULTI_LINE",s.estimatePlanSelection(t).then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)})),e.promise},getAccountStatus:function(){var e=i.defer();return e.resolve(l.getAccountDetails().getAccountStatusDetails()),e.promise},getAccountDetails:function(){var e=i.defer();return n.getAccountDevices({}).then((function(n){t.emptyCart(),n.active_devices=v("orderBy")(n.active_devices,"serviceEndDate",!1),n.inactive_devices=v("orderBy")(n.inactive_devices,"serviceEndDate",!0),e.resolve(n)})).catch((function(t){e.reject(t)})),e.promise},getAccountRenewal:function(e){var t=i.defer();return n.getAccountRenewal({ban_id:e.ban_details.ban_id}).then((function(a){n.getRenewalDetails()&&(e.renewal_details=n.getRenewalDetails().renewal_details),t.resolve(e)})).catch((function(n){e.renewal_details={},t.resolve(e),p.handleError(n,e)})),t.promise},getAccountProfileInfo:function(){var t=i.defer();return d.getProfileInfo({account_id:e.getAccountId()}).then((function(e){r.info("getAccountProfileInfo",d.getProfileDetails().getProfile()),t.resolve(d.getProfileDetails().getProfile())})).catch((function(e){t.reject(e)})),t.promise},getDeviceEnrollments:function(){var t=i.defer();return g.getPaymentSource({account_id:e.getAccountId()}).then((function(e){var n={};n.pymtsources=e.pymtsources,f.preprareDeviceEnrollments(n).then((function(n){r.info("conditions::getDeviceEnrollments Response",n),n.pymtsources=e.pymtsources,t.resolve(n)})).catch((function(e){t.reject(e)}))})).catch((function(e){t.reject(e)})),t.promise},getPaymentDetails:function(){var t=i.defer();return"TOTAL_WIRELESS"!==h.brand&&"NET10"!==h.brand||!h.features.isNewPaymentAPI?g.getPaymentSource({account_id:e.getAccountId()}).then((function(e){t.resolve(e.pymtsources)})).catch((function(e){t.reject(e)})):g.getPaymentMethods({accountId:e.getAccountId()}).then((function(e){t.resolve(e.paymentMethods)})).catch((function(e){r.error("Failed to getPaymentMethods conditions",e),t.reject(e)})),t.promise},getAccountDOBMaxdate:function(){var e=i.defer(),t=new Date;return t.setFullYear(t.getFullYear()-13),t=v("date")(t,"yyyy-MM-dd"),e.resolve(t),e.promise},clearData:function(){var e=i.defer();return e.resolve(""),e.promise},stageDevice:function(){r.info("conditions::stageddevice",n.getSelectedDevice());var e=i.defer();if(h.activation_staging&&n.getSelectedDevice()){var t=n.getSelectedDevice().execution_plan,a=n.isActivationFlow();if(r.info("conditions::stageddevice activation flow",a),a&&angular.isUndefined(n.getSelectedDevice().group)&&t!=b.transaction_type.reactivation){var o={};y.stageWithPinOrPlan(o).then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)}))}else e.resolve("")}else e.resolve("");return e.promise},getmonthlyplans:function(){var e=i.defer();return e.resolve(o.getMonthlyPlans()),e.promise},getupgradeplans:function(){var e=i.defer();return e.resolve(o.getUpgradePlans()),e.promise},getbroadbandplans:function(){var e=i.defer();return e.resolve(o.getBroadbandPlans()),e.promise},getupgradeplans:function(){var e=i.defer();return e.resolve(o.getUpgradePlans()),e.promise},getAddOnPlans:function(){var e=i.defer();r.info("conditions::getAddOnPlans");var t={addon:[]},a=!1;n.getSelectedDevice()&&w.isDataOnlyDevice(n.getSelectedDevice())&&(a=!0);var s=!0;return o.getAllAddonPlans().then((function(n){r.info("conditions::getAddOnPlans",n),n&&n.length>0?angular.forEach(n,(function(e,n){e.isAddonFlow=!0,s&&e.isILDVas&&a?r.info("conditions::getAddOnPlans its a dataonly device excluding ild",e):(t.addon.push(angular.copy(e)),s=!1)})):t.addon=void 0,t.isAddonFlow=!0,r.info("conditions::getAddOnPlans/exit",t),e.resolve(t)})).catch((function(t){e.reject(t),handler()})),e.promise},addDeviceWithPlan:function(){var e=i.defer();return S.addDeviceWithPlan(),e.resolve(),e.promise},groupDevices:function(){var e=i.defer();return a.groupDevices(),e.resolve(),e.promise},getAddOnPlans:function(){var e=i.defer();r.info("conditions::getAddOnPlans");var t={addon:[]},a=!1;n.getSelectedDevice()&&w.isDataOnlyDevice(n.getSelectedDevice())&&(a=!0);var s=!0;return o.getAllAddonPlans().then((function(n){r.info("conditions::getAddOnPlans",n),n&&n.length>0?angular.forEach(n,(function(e,n){e.isAddonFlow=!0,s&&e.isILDVas&&a?r.info("conditions::getAddOnPlans its a dataonly device excluding ild",e):(t.addon.push(angular.copy(e)),s=!1)})):t.addon=void 0,t.isAddonFlow=!0,r.info("conditions::getAddOnPlans/exit",t),e.resolve(t)})).catch((function(t){e.reject(t),handler()})),e.promise},telehealthPlans:function(){var e=i.defer(),r=$.getSessionItem("telehealth");if(a.isBrandMultiLine()&&r){var o=r.device;o.showDetails=!0,n.setSelectedDevice(o),t.stagePlan(r.plan),a.setIsChngPlanRenewal(!1),S.getCheckOutDetails().setAutoRefillOption(r.auto_refill),a.setUserSelectedMin(o.min),a.setUserSelectAutoRefill(r.plan.auto_refill),a.setTransactionType(b.transaction_type.telehealth_purchase),t.addPlanToCart(r.plan);const c=r.accountDetails;a.setBanId(c.bandId),s.estimateNoPlanChange({renewalType:b.smHPPConfig.renewalType}).then((function(t){a.setSMHppEnrollFlowFlag("no"),e.resolve()})).catch((function(t){e.reject(t)}))}else e.resolve();return e.promise},getDeviceDataDetails:function(){var e=i.defer();return e.resolve(I.getDeviceData()),e.promise},getPartnerDetails:function(){var t=i.defer();if(h.features.multiline)t.resolve();else{var n=a.getAccountId(b.service_plan),r=e.getPartnerInfo();angular.isDefined(r)||w.isNullOrEmpty(n)?t.resolve():t.resolve(e.getPartnerDetails(n))}return t.promise},addDeviceToGetPartnerDiscount:function(){var t=i.defer();if(a.isDeviceEligibleForPartnerDiscount()){var r=n.getSelectedDevice(),o=!1;angular.isDefined(r)&&!w.isNullOrEmpty(r.accountStatus)&&r.accountStatus==b.no_account&&(o=!0),o?PreConditionsInst.getPartnerDetails().then((function(a){var i=e.getPartnerInfo();i&&i.isAffiliated?e.addDeviceToAccount({accountId:e.getAccountId(),esn:r.esn}).then((function(e){n.clearSelectedDevice(),r.accountStatus=b.valid_account,r.isDeviceAddedToGetPartnerDiscount=!0,n.setSelectedDevice(r),t.resolve(e)})).catch((function(e){t.resolve()})):t.resolve()})).catch((function(e){t.resolve()})):t.resolve()}else t.resolve();return t.promise},evaluate:function(e){var t=i.defer(),n={},a=e[0].handler?e[0].handler:"";return promises=e.map((function(e){return e.promise(a).then((function(t){return{result:t,key:e.value}})).catch((function(t){return{result:t,key:e.value}}))})),i.all(promises).then((function(e){angular.forEach(e,(function(e){n[e.key]=e.result})),t.resolve(n)})).catch((function(e){a(),t.reject("failed")})),t.promise},serviceEndDays:function(){var e=n.getSelectedDevice(),t=new Date(v("date")(new Date,"MM/dd/yyyy")).getTime(),a=w.tfDate(e.serviceEndDate,"MM/dd/yyyy").getTime();return parseInt((a-t)/864e5)}},PreConditionsInst}angular.module("app").service("$conditions",e),e.$inject=["$userService","$cartService","$deviceService","$devicesCartServices","$q","$log","$servicePlanSelectorService","$renewalservices","$redemptionService","$accountService","$profileService","$routeParams","$errorHandler","$filter","$paymentService","$instructionService","$enrollmentService","$appConfig","$byopCtrlService","$actreactportUpgradeService","$appConstants","$checkoutService","$cookieService","$location","$enrollmentService","$utils","$balanceenquiryservice","$dateParser","$location","$rootScope","$serviceUtils"]})(),(function(){function e(e,t,n,a,i,r,o,s){var c={getUserDetail:function(){return this._userDetails},setUserDetail:function(e){this._userDetails=e},getUserAccount:function(){return this._userAccount},setUserAccount:function(e){this._userAccount=e},emptyDetail:function(){this._userDetails=void 0,this._userAccount=void 0}};return CookieServiceInst={_cookieDetails:c},CookieServiceInst.getCookie=function(e){return r.getObject(e)},CookieServiceInst.hasCookie=function(t){return e.debug("Getting cookie ",t,r.getObject(t)),angular.isDefined(r.getObject(t))},CookieServiceInst.setCookie=function(t,n){var a=new Date,i=n?new Date(n):new Date(a.getTime()+36e5);e.info("set cookie with expiry",t,n,i),r.putObject(t,i,{expires:i,secure:!0})},CookieServiceInst.setOpinionLabCookie=function(t,n,a){e.info("$cookieService/setOpinionLabCookie",t,n,a);var s=o.opinionLabsCookie,c=angular.isDefined(r.get(s))?r.get(s):"",l=c.split("|");if(3==l.length){var d="";d=null!=t&&t.trim().length>0?t:l[0],d=null!=n&&n.trim().length>0?d+"|"+n:d+"|"+l[1],d=null!=a&&a.trim().length>0?d+"|"+a:d+"|"+l[2],c=d}else c=t+"|"+n+"|"+a;if(angular.isDefined(qualMetaData)&&(angular.isDefined(t)&&(qualMetaData.ESN=t),angular.isDefined(n)&&(qualMetaData.CELLNUM=n),angular.isDefined(a)&&(qualMetaData.EMAIL=a)),angular.isDefined(i.isLoggedIn())&&i.isLoggedIn()){var u=angular.isDefined(i.getEsn())&&""!=i.getEsn()?i.getEsn():t,p=angular.isDefined(i.getMin())&&""!=i.getMin()?i.getMin():n,v=angular.isDefined(i.getEmail())?i.getEmail():a;v=angular.isDefined(v)&&""!=v?v:void 0,c=u+"|"+p+"|"+v,angular.isDefined(qualMetaData)&&(angular.isDefined(u)&&(qualMetaData.ESN=u),angular.isDefined(p)&&(qualMetaData.CELLNUM=p),angular.isDefined(v)&&(qualMetaData.EMAIL=v))}var g=window.location.hostname;-1!==g.indexOf(".com")&&(g=CookieServiceInst.getDomainName(g)),r.put(s,c,{domain:g})},CookieServiceInst.getOpinionLabCookie=function(){var e=o.opinionLabsCookie;return r.get(e)},CookieServiceInst.setCookieForSession=function(e,t){var n=window.location.hostname;document.cookie=e+"="+t+";domain="+n+";path=/"},CookieServiceInst.getCookieValue=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},CookieServiceInst.getCookieDetials=function(){return CookieServiceInst._cookieDetails},CookieServiceInst.getDomainName=function(e){var t=e.split(".");t.shift();return"."+t.join(".")},CookieServiceInst.isKeepMeSignedIn=function(){return e.debug("$cookieService::isKeepMeSignedIn::"),checkCookiesRes={},cookiesUserDetails={},n((function(t,n){checkCookiesRes.status=!1,i.isLoggedIn()?(e.debug("$cookieService::isKeepMeSignedIn::userLoggedIn"),t(checkCookiesRes)):angular.isDefined(r.get("userNameDetails"))?(e.debug("$cookieService::isKeepMeSignedIn::cookies found setting values"),checkCookiesRes.status=!0,e.info("isKeepMeSignedIn:: cookies found setting values"),e.info(r.get("userDetails")),cookiesUserDetails.username=r.get("userNameDetails"),cookiesUserDetails.password=r.get("userPasswordDetails"),cookiesUserDetails.keepmesigned=r.get("keepMeSignedDetails"),CookieServiceInst.getCookieDetials().setUserAccount(r.get("userAccount")),i.setAccountId(CookieServiceInst.getCookieDetials().getUserAccount()),CookieServiceInst.getCookieDetials().setUserDetail(cookiesUserDetails),CookieServiceInst.getCookieDetials().getUserDetail().keepmesigned&&(e.debug("$cookieService::isKeepMeSignedIn::keepmesigned ON"),e.debug("$cookieService::isKeepMeSignedIn::renewing RO_NS token"),i.renewRoNsToken({}).then((function(n){e.debug("$cookieService::isKeepMeSignedIn::renewed RO_NS token - SUCCESS"),checkCookiesRes.status=!0,t(checkCookiesRes)})).catch((function(t){e.debug("$cookieService::isKeepMeSignedIn::renewed RO_NS token - FAILED"),n(t)})))):(e.debug("$cookieService::isKeepMeSignedIn::cookies not found"),t(checkCookiesRes))}))},CookieServiceInst.setCookies=function(t){var n=new Date,a=new Date(n.getTime()+36e5);e.info("setCookies:: Setting Cookies"),r.put("userNameDetails",t.username,{expires:a,secure:!0}),r.put("userPasswordDetails",t.password,{expires:a,secure:!0}),r.put("keepMeSignedDetails",t.keepmesigned,{expires:a,secure:!0}),r.put("userAccount",i.getAccountId(),{expires:a,secure:!0}),CookieServiceInst.getCookieDetials().setUserDetail(t),e.info("Cookies:: Setting Cookies",CookieServiceInst.getCookieDetials())},CookieServiceInst.removeCookies=function(t){e.info("remove cookie"),r.remove("userNameDetails"),r.remove("userPasswordDetails"),r.remove("usertoken"),CookieServiceInst.EmptyCookies()},CookieServiceInst.EmptyCookies=function(e){CookieServiceInst.getCookieDetials().emptyDetail()},CookieServiceInst.validateAmazonSession=function(t){return e.info("CookieServiceInst.vlaidateAmazonLogin",t),n((function(t,n){if(angular.isDefined(o.features.amazonlogin)&&o.features.amazonlogin){var a=CookieServiceInst.getCookie("tf_vnd_amz");e.info("CookieServiceInst.vlaidateAmazonLogin::got the cookie",a),a&&a.success&&a.profile&&a.profile.PrimaryEmail?(i.setAmzonUserSession(!0),s.setAmazonCookie(a),e.info("CookieServiceInst.vlaidateAmazonLogin::user and auth values set",i,s),r.remove("tf_vnd_amz")):(i.setAmzonUserSession(!1),s.setAmazonCookie(void 0))}else e.info("CookieServiceInst.vlaidateAmazonLogin::no Cookie Check required"),i.setAmzonUserSession(!1),s.setAmazonCookie(void 0)}))},CookieServiceInst}angular.module("app").factory("$cookieService",e),e.$inject=["$log","$rootScope","$q","$utils","$userService","$cookies","$appConfig","$authService"]})(),(function(){function e(e,t,n,a,i,r,o,s,c){CoverageMapInst={};return CoverageMapInst={initCoverageMap:function(e){this._data.min="",this._data.coverageurl=""},setZipcode:function(e){this._data.zipCode=e},getZipcode:function(){return this._data.zipCode},setMin:function(e){this._data.min=e},getMin:function(){return this._data.min},setCoverageurl:function(e){this._data.coverageurl=e},getCoverageurl:function(){return this._data.coverageurl},setCmapFlag:function(e){this._data.cmapFlag=e},getCmapFlag:function(){return this._data.cmapFlag},getDeviceModels:function(){return this._data.deviceModels},setDeviceModels:function(e){this._data.deviceModels=e},setDeviceBrandList:function(e){this._data.deviceBrandList=e},getDeviceBrandList:function(){return this._data.deviceBrandList},setDeviceOperatingSystemList:function(e){this._data.deviceOperatingSystemList=e},getDeviceOperatingSystemList:function(){return this._data.deviceOperatingSystemList},setDevicesFeatureList:function(e){this._data.devicesFeatureList=e},getDevicesFeatureList:function(){return this._data.devicesFeatureList},setDisplayModalAttr:function(e){angular.isUndefined(this._data.displaymodelattr)&&e?this._data.displaymodelattr=e:this._data.displaymodelattr=void 0},getDisplayModalAttr:function(){return this._data.displaymodelattr},setParentAttr:function(e){angular.isUndefined(this._data.parentAttr)&&e?this._data.parentAttr=e:this._data.parentAttr=void 0},getParentAttr:function(){return this._data.parentAttr},setDisplayModel:function(e){angular.isUndefined(this._data.displayModel)&&e?this._data.displayModel=displaymodelattr:this._data.displayModel=void 0},getDisplayModel:function(){return this._data.displayModel}},CoverageMapInst.getDeviceModelsByZipCode=function(e){return n.info("getCoverageMapByZipCode service!! ..."),a((function(n,a){coverageMapByZipCode=function(e){return r.run(e,t.get("coveragemap").cmap_byzip,i.get("coveragemap_devicemodel"))},this.coverageMapByZipCode({zipcode:e.zipCodeVo}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},CoverageMapInst.getCoverageMapDetails=function(e){n.info("getCoverageMapDetails service!! ..."),n.info("request details!! ...",e);var o={},c=[];if(angular.isDefined(e.carrierName)){n.info("request carrierName!! ...",e.carrierName);var l=[],d={name:e.carrierName,type:s.wireless};l.push(d),o={carrier:l}}else o=void 0;if(angular.isDefined(e.esn)){var u={serialNumber:e.esn,name:s.productserialnumber,type:s.handset};c.push(u)}else c=void 0;var p={postalAddress:{zipcode:angular.isDefined(e.zipcode)?e.zipcode:s.default_zipcode}};return a((function(e,n){coverageMapDetails=function(e){return r.run(e,t.get("coveragemap").cmap_dtl,i.get("coveragemap"))},this.coverageMapDetails({service:o,relatedResources:c,productOffering:void 0,location:p}).then((function(t){CoverageMapInst.setCmapFlag(!0),e(t)})).catch((function(e){n(e)}))}))},CoverageMapInst.getAddressByZip=function(e){return n.info("getAddressByZip service!! ..."),a((function(n,a){getAddressForZip=function(e){return r.run(e,t.get("ziptotech").validate_zip,i.get("validatezip"))},this.getAddressForZip({zipcode:e.zipcode}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},CoverageMapInst.getPhoneUrlbyZip=function(e){return n.info("getHrefUrlForZip service!! ..."),a((function(n,a){getphoneByZip=function(e){return r.run(e,t.get("ziptotech").ziptotech,i.get("ziptotech"))};var o={zipCode:e.zipcode,category:s.productcategory,salesChannel:s.salesChannel,service:s.service};this.getphoneByZip({criteria:o}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},CoverageMapInst}function t(){var t={};return{setData:function(e){t=e},$get:["$appConfig","$svcConfig","$log","$q","$voMapConfig","$serviceUtils","$deviceService","$appConstants","$rootScope",function(n,a,i,r,o,s,c,l,d){var u=e(n,a,i,r,o,s,c,l,d);return angular.isDefined(t)&&t?u._data=t:u._data={},d.$on("system-reset",(function(e,t){u._data={}})),d.$watch((function(){return u._data}),(function(e,t){e&&s.setSessionItem("$coveragemapService",e)}),!0),u}]}}angular.module("app").provider("$coveragemapService",t),angular.module("app").config(["$coveragemapServiceProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$coveragemapService"))}])})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p){var v;!!c.features&&c.features.multiline,!!c.features&&c.features.groupbased,c.multiline_maxcount&&c.multiline_maxcount,c.multiline_maxcount&&c.multiline_maxcount;return DevicesCartServicesInst={_data:{}},DevicesCartServicesInst._data.productSummary={},DevicesCartServicesInst._data.deviceData=[],deviceDataTemp=[],DevicesCartServicesInst.setDeviceData=function(e){DevicesCartServicesInst._data.deviceData=e},DevicesCartServicesInst.getDeviceData=function(){return deviceDataTemp=DevicesCartServicesInst._data.deviceData,DevicesCartServicesInst._data.deviceData=[],deviceDataTemp},DevicesCartServicesInst._data.reactData=[],reactDataTemp=[],DevicesCartServicesInst.setReactData=function(e){DevicesCartServicesInst._data.reactData=e},DevicesCartServicesInst.getReactData=function(){return reactDataTemp=DevicesCartServicesInst._data.reactData,DevicesCartServicesInst._data.reactData=[],reactDataTemp},DevicesCartServicesInst.emptyCart=function(){d.emptyCart(),DevicesCartServicesInst._data={},DevicesCartServicesInst._data={saveddevices:[],isBrandMultiline:!!c.features&&c.features.multiline,isGroupBased:!!c.features&&c.features.groupbased,remainingLinesAvailable:c.multiline_maxcount?c.multiline_maxcount:5,activeLinesInAccount:0,totalLinesAllowed:c.multiline_maxcount?c.multiline_maxcount:5,accountid:void 0,banDetails:{}}},DevicesCartServicesInst.setDeviceAccountid=function(e){DevicesCartServicesInst._data.accountid=e},DevicesCartServicesInst.getDeviceAccountid=function(){return DevicesCartServicesInst._data.accountid},DevicesCartServicesInst.setSMHppChangeFlag=function(e){DevicesCartServicesInst._data.SMFlagvalue=e},DevicesCartServicesInst.getSMHppChangeFlag=function(e){return DevicesCartServicesInst._data.SMFlagvalue},DevicesCartServicesInst.setUserSelectedMin=function(e){DevicesCartServicesInst._data.userMin=e},DevicesCartServicesInst.isGroupBased=function(){return DevicesCartServicesInst._data.isGroupBased},DevicesCartServicesInst.isBrandMultiLine=function(){return DevicesCartServicesInst._data.isBrandMultiline},DevicesCartServicesInst.getUserSelectedMin=function(){return DevicesCartServicesInst._data.userMin},DevicesCartServicesInst.getSavedDevices=function(){return DevicesCartServicesInst._data.saveddevices},DevicesCartServicesInst.isExistingStagedDevices=function(){return DevicesCartServicesInst._data.isExistingStagedDevices},DevicesCartServicesInst.setExistingStagedDevices=function(e){DevicesCartServicesInst._data.isExistingStagedDevices=e},DevicesCartServicesInst.setShowAchPaymentFlag=function(e){DevicesCartServicesInst._data.showAchPaymentFlag=e},DevicesCartServicesInst.getShowAchPaymentFlag=function(){return DevicesCartServicesInst._data.showAchPaymentFlag},DevicesCartServicesInst.setShowAchEnrollFlag=function(e){DevicesCartServicesInst._data.showAchEnrollFlag=e},DevicesCartServicesInst.getShowAchEnrollFlag=function(){return DevicesCartServicesInst._data.showAchEnrollFlag},DevicesCartServicesInst.clearSaveDevices=function(){a.info("clearSaveDevices:: ",DevicesCartServicesInst._data.saveddevices),DevicesCartServicesInst._data.saveddevices=[],a.info("clearSaveDevices:: ",DevicesCartServicesInst._data.saveddevices)},DevicesCartServicesInst.getSavedDevicesLength=function(){return a.info("calculating saved devices length ",DevicesCartServicesInst.getSavedDevices().length),DevicesCartServicesInst.getSavedDevices().length},DevicesCartServicesInst.setIsChngPlanRenewal=function(e){DevicesCartServicesInst._data.changePlanRenewal=e},DevicesCartServicesInst.getIsChngPlanRenewal=function(){return!!angular.isDefined(DevicesCartServicesInst._data.changePlanRenewal)&&DevicesCartServicesInst._data.changePlanRenewal},DevicesCartServicesInst.setRemainingLinesAvailable=function(e){DevicesCartServicesInst._data.remainingLinesAvailable=e},DevicesCartServicesInst.getRemainingLinesAvailable=function(){return DevicesCartServicesInst._data.remainingLinesAvailable},DevicesCartServicesInst.setActiveLinesInAccount=function(e){DevicesCartServicesInst._data.activeLinesInAccount=e},DevicesCartServicesInst.getActiveLinesInAccount=function(){return DevicesCartServicesInst._data.activeLinesInAccount},DevicesCartServicesInst.setTotalLinesAllowed=function(e){DevicesCartServicesInst._data.totalLinesAllowed=e},DevicesCartServicesInst.getTotalLinesAllowed=function(){return DevicesCartServicesInst._data.totalLinesAllowed},DevicesCartServicesInst.setBanId=function(e){DevicesCartServicesInst._data.banId=e},DevicesCartServicesInst.getBanId=function(){return DevicesCartServicesInst._data.banId},DevicesCartServicesInst.setRedeemNowFlag=function(e){DevicesCartServicesInst._data.redeemNow=e},DevicesCartServicesInst.getAccountLevelRedeemNowFlag=function(){return!!angular.isDefined(DevicesCartServicesInst._data.redeemNow)&&DevicesCartServicesInst._data.redeemNow},DevicesCartServicesInst.setAccountLevelAutoRefill=function(e){DevicesCartServicesInst._data.autoRefill=e},DevicesCartServicesInst.getAccountLevelAutoRefill=function(){return!!angular.isDefined(DevicesCartServicesInst._data.autoRefill)&&DevicesCartServicesInst._data.autoRefill},DevicesCartServicesInst.setUserSelectAutoRefill=function(e){DevicesCartServicesInst._data.userautoRefill=e},DevicesCartServicesInst.getUserSelectAutoRefill=function(){return!!angular.isDefined(DevicesCartServicesInst._data.userautoRefill)&&DevicesCartServicesInst._data.userautoRefill},DevicesCartServicesInst.setUserSelectLowBalanceEnroll=function(e){DevicesCartServicesInst._data.userSelectLowBalanceEnroll=e},DevicesCartServicesInst.getUserSelectLowBalanceEnroll=function(){return DevicesCartServicesInst._data.userSelectLowBalanceEnroll},DevicesCartServicesInst.isSingleLineacct=function(){var e=!1;return DevicesCartServicesInst.getSavedDevicesLength()&&1==DevicesCartServicesInst.getSavedDevicesLength()&&(e=!0),e},DevicesCartServicesInst.setBanReactivation=function(e){DevicesCartServicesInst._data.banactivation=e},DevicesCartServicesInst.isBanActivation=function(){return DevicesCartServicesInst._data.banactivation},DevicesCartServicesInst.setDeviceReactivation=function(e){DevicesCartServicesInst._data.deviceactivation=e},DevicesCartServicesInst.isDeviceActivation=function(){return DevicesCartServicesInst._data.deviceactivation},DevicesCartServicesInst.setAddMoreLineFlag=function(e){DevicesCartServicesInst._data.addMoreLines=e},DevicesCartServicesInst.isAddMoreLineFlag=function(){return!!angular.isDefined(DevicesCartServicesInst._data.addMoreLines)&&DevicesCartServicesInst._data.addMoreLines},DevicesCartServicesInst.setGroupSelectionFlow=function(e){DevicesCartServicesInst._data.groupSelectionFlow=e},DevicesCartServicesInst.isGroupSelectionFlow=function(){return!!angular.isDefined(DevicesCartServicesInst._data.groupSelectionFlow)&&DevicesCartServicesInst._data.groupSelectionFlow},DevicesCartServicesInst.setTaxes=function(e){DevicesCartServicesInst._data.taxes=e},DevicesCartServicesInst.getTaxes=function(){return DevicesCartServicesInst._data.taxes},DevicesCartServicesInst.setZipCode=function(e){DevicesCartServicesInst._data.zipCode=e},DevicesCartServicesInst.getZipCode=function(){return DevicesCartServicesInst._data.zipCode},DevicesCartServicesInst.setBanDetails=function(e){DevicesCartServicesInst._data.banDetails=e},DevicesCartServicesInst.getBanDetails=function(){return DevicesCartServicesInst._data.banDetails},DevicesCartServicesInst.setRedemptionEstimateType=function(e){DevicesCartServicesInst._data.rpeEstimateType=e},DevicesCartServicesInst.getRedemptionEstimateType=function(){return DevicesCartServicesInst._data.rpeEstimateType},
DevicesCartServicesInst.setAccountinfo=function(e){DevicesCartServicesInst._data.accountInfo=e},DevicesCartServicesInst.getAccountinfo=function(){return DevicesCartServicesInst._data.accountInfo},DevicesCartServicesInst.setIsChangePlan=function(e){DevicesCartServicesInst._data.isChangePlan=e},DevicesCartServicesInst.getIsChangePlan=function(){return DevicesCartServicesInst._data.isChangePlan},DevicesCartServicesInst.setSavedDevices=function(e){DevicesCartServicesInst._data.saveddevices=e},DevicesCartServicesInst.setRedemptionFlow=function(e){DevicesCartServicesInst._data.redemptionflag=e},DevicesCartServicesInst.isRedemptionFlow=function(){return!(!DevicesCartServicesInst._data||!angular.isDefined(DevicesCartServicesInst._data.redemptionflag))&&DevicesCartServicesInst._data.redemptionflag},DevicesCartServicesInst.setArAlignmentFlag=function(e){DevicesCartServicesInst._data.isArAlignment=e},DevicesCartServicesInst.getArAlignmentFlag=function(){return DevicesCartServicesInst._data.isArAlignment},DevicesCartServicesInst.setEnrollFlowFlag=function(e){DevicesCartServicesInst._data.isenrollflow=e},DevicesCartServicesInst.isEnrollFlowFlag=function(){return!!angular.isDefined(DevicesCartServicesInst._data.isenrollflow)&&DevicesCartServicesInst._data.isenrollflow},DevicesCartServicesInst.setHppEnrollFlowFlag=function(e){DevicesCartServicesInst._data.isHppenrollflow=e},DevicesCartServicesInst.isHppEnrollFlowFlag=function(){return!!angular.isDefined(DevicesCartServicesInst._data.isHppenrollflow)&&DevicesCartServicesInst._data.isHppenrollflow},DevicesCartServicesInst.setSMHppEnrollFlowFlag=function(e){DevicesCartServicesInst._data.isSMHppenrollflow=e},DevicesCartServicesInst.isSMHppEnrollFlowFlag=function(){return angular.isDefined(DevicesCartServicesInst._data.isSMHppenrollflow)&&"yes"===DevicesCartServicesInst._data.isSMHppenrollflow},DevicesCartServicesInst.setSMHppEligibleFlag=function(e){DevicesCartServicesInst._data.isSMHppEligibleFlag=e},DevicesCartServicesInst.isSMHppEligibleFlag=function(){return angular.isDefined(DevicesCartServicesInst._data.isSMHppEligibleFlag)&&"yes"==DevicesCartServicesInst._data.isSMHppEligibleFlag?DevicesCartServicesInst._data.isSMHppEligibleFlag:"no"},DevicesCartServicesInst.setManageReserveRequest=function(e){DevicesCartServicesInst._manage_request=e},DevicesCartServicesInst.getManageReserveRequest=function(){return DevicesCartServicesInst._manage_request},DevicesCartServicesInst.setRedeemNowFlag=function(e){DevicesCartServicesInst._data.redeemNowFlag=e},DevicesCartServicesInst.getRedeemNowFlag=function(){return!!angular.isDefined(DevicesCartServicesInst._data.redeemNowFlag)&&DevicesCartServicesInst._data.redeemNowFlag},DevicesCartServicesInst.setFutureChargesFlag=function(e){DevicesCartServicesInst._data.futureChargesFlag=e},DevicesCartServicesInst.getFutureChargesFlag=function(){return!!angular.isDefined(DevicesCartServicesInst._data.futureChargesFlag)&&DevicesCartServicesInst._data.futureChargesFlag},DevicesCartServicesInst.setDisplayAutoPayOption=function(e){DevicesCartServicesInst._data.displayAutoPayOption=e},DevicesCartServicesInst.getDisplayAutoPayOption=function(){return!!angular.isDefined(DevicesCartServicesInst._data.displayAutoPayOption)&&DevicesCartServicesInst._data.displayAutoPayOption},DevicesCartServicesInst.setDisplayIldAutoPayOption=function(e){DevicesCartServicesInst._data.displayIldAutoPayOption=e},DevicesCartServicesInst.getDisplayIldAutoPayOption=function(){return!!angular.isDefined(DevicesCartServicesInst._data.displayIldAutoPayOption)&&DevicesCartServicesInst._data.displayIldAutoPayOption},DevicesCartServicesInst.setTransactionType=function(e){DevicesCartServicesInst._data.transactionType=e},DevicesCartServicesInst.getTransactionType=function(){return angular.isDefined(DevicesCartServicesInst._data.transactionType)?DevicesCartServicesInst._data.transactionType:"NONE"},DevicesCartServicesInst.setPOorderitem=function(e){a.info("Inside setProductSummary"+e),DevicesCartServicesInst._data.poorderitems=e},DevicesCartServicesInst.getPOorderitem=function(){return DevicesCartServicesInst._data.poorderitems},DevicesCartServicesInst.getPortUpgradeMin=function(e){a.info("DevicesCartServicesInst::getPortUpgradeMin::!!",e);var t;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(n,i){a.info("DevicesCartServicesInst::getPortUpgradeMin::!!",n),n.esn===e.esn&&n.portupgradeMin&&(t=n.portupgradeMin)})),t},DevicesCartServicesInst.setProductSummary=function(e){a.info("Inside setProductSummary"+e),DevicesCartServicesInst._data.productSummary=e},DevicesCartServicesInst.getProductSummary=function(){return DevicesCartServicesInst._data.productSummary},DevicesCartServicesInst.clearProductSummary=function(){DevicesCartServicesInst._data.productSummary={}},DevicesCartServicesInst.checkSecurityPin=function(){return!(!l.getSelectedDevice().isSecurityPinSet&&!l.getSelectedDevice().securityPin)},DevicesCartServicesInst.setRetentionMatrixDetails=function(e){DevicesCartServicesInst._data.retentionMatrix=e},DevicesCartServicesInst.getRetentionMatrixDetails=function(){return!!angular.isDefined(DevicesCartServicesInst._data.retentionMatrix)&&DevicesCartServicesInst._data.retentionMatrix},DevicesCartServicesInst.addDeviceWithPlan=function(){if(d.getPlans().length>0&&l.hasSelectedDevice()){var e=l.getSelectedDevice();e.plans=d.getPlans(),a.info("DevicesCartServicesInst addDeviceWithPlan from cart",d.getPlans(),e,l.getPortupgradeDevice()),l.isPortFlow()?(e.portInfo=l.getPortInformation(),a.info("selectedDevice.portInfo --\x3e ",e.portInfo),angular.isDefined(l.getPortupgradeDevice())&&(a.info("selectedDevice.getPortAddress --\x3e ",l.getPortupgradeDevice()),e.zipcode=l.getPortupgradeDevice().zipcode,e.portupgradeMin=l.getPortupgradeDevice().min)):angular.equals(p.transaction_type.phone_upgrade,e.execution_plan)&&(e.upgradeInfo=l.getPortInformation()),DevicesCartServicesInst._data.saveddevices.push(e),DevicesCartServicesInst.logCartDevicesInfo(),l.clearSelectedDevice(),d.emptyCart()}else if(c.features.groupbased&&DevicesCartServicesInst.getSavedDevices()&&DevicesCartServicesInst.getSavedDevices().length>0){a.info("DevicesCartServicesInst addDevice groupbased brand and other staged devices exist ");var e=l.getSelectedDevice();DevicesCartServicesInst._data.saveddevices.push(e),DevicesCartServicesInst.logCartDevicesInfo(),l.clearSelectedDevice(),d.emptyCart()}},DevicesCartServicesInst.addDevicePlanWithTax=function(e){DevicesCartServicesInst.addDeviceWithPlan(),DevicesCartServicesInst.setTaxes(e)},DevicesCartServicesInst.addDeviceToCart=function(e){a.info("DevicesCartServicesInst addDeviceToCart::to cart",e),DevicesCartServicesInst._data.saveddevices.push(angular.copy(e)),DevicesCartServicesInst.logCartDevicesInfo()},DevicesCartServicesInst.addServicePlanToDevice=function(e){a.info("DevicesCartServicesInst addServicePlanToDevice ",e,DevicesCartServicesInst.getSavedDevices()),selectedDevice=DevicesCartServicesInst.getSavedDevices()[0],selectedDevice&&e&&(selectedDevice.plans&&selectedDevice.plans.length>0?selectedDevice.plans.push(e):(selectedDevice.plans=[],selectedDevice.plans.push(e))),DevicesCartServicesInst.clearSaveDevices(),DevicesCartServicesInst._data.saveddevices.push(selectedDevice),DevicesCartServicesInst.logCartDevicesInfo()},DevicesCartServicesInst.removeCartDevice=function(e){a.info("DevicesCartServicesInst deleting from cart");var t=DevicesCartServicesInst._data.saveddevices.indexOf(e);if(angular.isDefined(t))return DevicesCartServicesInst._data.saveddevices.splice(t,1),DevicesCartServicesInst.setRemainingLinesAvailable(DevicesCartServicesInst.getRemainingLinesAvailable()+1),DevicesCartServicesInst.getSavedDevices().length>0;DevicesCartServicesInst.logCartDevicesInfo()},DevicesCartServicesInst.removeDeviceFromCart=function(e){a.info("DevicesCartServicesInst removeDeviceFromCart ************** ::",e,DevicesCartServicesInst.getSavedDevices());var t,n=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(n,a){(n.min&&e.min&&n.min==e.min||n.esn&&e.esn&&n.esn==e.esn)&&(t=a)})),a.info("DevicesCartServicesInst removeDeviceFromCart idx ::",t),angular.isDefined(t)&&(DevicesCartServicesInst._data.saveddevices.splice(t,1),n=!0),DevicesCartServicesInst.logCartDevicesInfo(),n},DevicesCartServicesInst.logCartDevicesInfo=function(){a.debug("logCartDevicesInfo - ",DevicesCartServicesInst.getSavedDevices())},DevicesCartServicesInst.canAddMoreDevices=function(e){return a.info("Inside canAddMoreDevices method"),DevicesCartServicesInst.getRemainingLinesAvailable()>0},DevicesCartServicesInst.isFirstEsn=function(e){return a.info("Inside isFirstEsn method"),0==DevicesCartServicesInst.getActiveLinesInAccount()&&0==DevicesCartServicesInst.getSavedDevicesLength()},DevicesCartServicesInst.validateMultilineDevice=function(n){return validateMultilineDeviceRes={},validateMultilineDeviceRes.status=!1,a.info("DevicesCartServicesInst Inside validateMultilineDevice method",n),t((function(t,i){a.info("DevicesCartServicesInst Inside validateMultilineDevice lines remaining",DevicesCartServicesInst.getRemainingLinesAvailable());var r=u.isSim(n.device);l.validateUserDevice({device:n.device}).then((function(s){a.info("validateUserDevice::response",s);var d=s.svc_response;if(!d||d.esn||n.byopflow)if("BYOP"!=d.deviceType&&"BYOT"!=d.deviceType||"NET10"!==c.brand&&"SIMPLE_MOBILE"!==c.brand||!angular.equals(d.sim.carrier,p.carrier_name.tmo)||!angular.equals(p.sim_status.new_sim,d.sim.status)||!n.byopflow)if(d.isNotMigrated)if(d.flashMessage)t(s);else{a.info("DevicesCartServicesInst::Inside validateMultilineDevice lines remaining this is no migrated esn hence blocking");var g=u.getlinkfromScriptWithLinkTxt("ERROR_1985606","[TMO_URL_LINK]",c.tmobile_url_link,"VAR_5027","#HERE#");a.info("DevicesCartServicesInst::Inside validateMultilineDevice lines remaining this is no migrated",g);var m={error_code:"-999",error_message:g,error_type:"FAILURE"};i(m)}else if(e.isLoggedIn()&&d.accountId&&d.accountStatus&&d.accountStatus===p.valid_account&&e.getAccountId()!=d.accountId)a.debug("Device belongs account id not similar to logged in user ",e.getAccountId()),v=u.translateError({error_code:"-10103"},o.get("validatedevice")),i(v);else if(DevicesCartServicesInst.getDeviceAccountid()&&d.accountId&&d.accountStatus&&d.accountStatus===p.valid_account&&DevicesCartServicesInst.getDeviceAccountid()!=d.accountId)a.debug("Device belongs account id not similar account in seesion ",DevicesCartServicesInst.getDeviceAccountid()),v=u.translateError({error_code:"-10103"},o.get("validatedevice")),i(v);else if(d&&d.deviceStatus&&(d.deviceStatus===p.device_status.exchange||d.deviceStatus===p.device_status.overdue_exchange||d.deviceStatus===p.device_status.stolen||d.deviceStatus===p.device_status.risk_assestment))v=u.translateError({error_code:"-10108"},o.get("validatedevice")),i(v);else{var f=d.esn;n.byopflow&&(r?d.esn||u.isCDMACarrier(d.sim.carrier)&&angular.equals(d.sim.status,p.sim_status.new_sim)?!d.esn&&u.isCDMACarrier(d.sim.carrier)&&t(s):(v=u.translateError({error_code:"-10111"},o.get("validatedevice")),i(v)):l.isDeviceNotActive(d)?t(s):(v=u.translateError({error_code:"-10100"},o.get("validatedevice")),i(v)));var h=d.deviceStatus;h==p.device_status.new_device||h==p.device_status.used||h==p.device_status.past_due||h==p.device_status.refurbish?d.sim&&d.sim.isInValid?(v=u.translateError({error_code:"-10106"},o.get("validatedevice")),i(v)):DevicesCartServicesInst.esnAlreadyExits(f)?i(v):DevicesCartServicesInst.accountAcceptsLines(d).then((function(e){a.debug("DevicesCartServicesInst.accountAcceptsLinesr !!! ",e),e.status?(s.svc_response.noPinRequired=!1,l.selectDevice(s.svc_response),a.debug("DevicesCartServicesInst status recovey returned success call lines remaning !!! ",DevicesCartServicesInst.getRemainingLinesAvailable()),t(s)):(v=u.translateError({error_code:"-10101"},o.get("validatedevice")),i(v))})).catch((function(e){i(e)})):(v=u.translateError({error_code:"-10100"},o.get("validatedevice")),i(v))}else t(s);else v=u.translateError({error_code:"-10111"},o.get("validatedevice")),i(v)})).catch((function(e){i(e)}))}))},DevicesCartServicesInst.esnAlreadyExits=function(e){a.info("DevicesCartServicesInst Inside esnAlreadyExits method",e);var t=!1;return(DevicesCartServicesInst.isBrandMultiLine()||DevicesCartServicesInst.isGroupBased())&&DevicesCartServicesInst.getSavedDevices()&&DevicesCartServicesInst.getSavedDevices().length>0&&angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(n,i){a.info("esnAlreadyExits::!!",n.esn),n.esn==e&&(v=u.translateError({error_code:"-10102"},o.get("validatedevice")),t=!0)})),t},DevicesCartServicesInst.accountAcceptsLines=function(n){return a.info("DevicesCartServicesInst Inside accountAcceptsLines method",n),accountAcceptsLinesRes={},accountAcceptsLinesRes.status=!1,t((function(t,s){if(DevicesCartServicesInst.isBrandMultiLine()){var c,d;DevicesCartServicesInst.getSavedDevicesLength()>0?(a.info("Device already has one device in cart so check avaliability and return --\x3e ",DevicesCartServicesInst.getSavedDevicesLength(),DevicesCartServicesInst.getActiveLinesInAccount()),DevicesCartServicesInst.setRemainingLinesAvailable(DevicesCartServicesInst.getTotalLinesAllowed()-DevicesCartServicesInst.getActiveLinesInAccount()-DevicesCartServicesInst.getSavedDevicesLength()-1),DevicesCartServicesInst.getRemainingLinesAvailable()>=0?(accountAcceptsLinesRes.status=!0,t(accountAcceptsLinesRes)):t(accountAcceptsLinesRes)):(e.isLoggedIn()&&e.getAccountId()?(c=e.getAccountId(),DevicesCartServicesInst.setDeviceAccountid(void 0)):DevicesCartServicesInst.getDeviceAccountid()?c=DevicesCartServicesInst.getDeviceAccountid():n.accountStatus&&n.accountStatus===p.valid_account&&(c=n.accountId,DevicesCartServicesInst.setDeviceAccountid(n.accountId)),c?d=c:n.esn?d=n.esn:n.min?d=n.min:n.sim&&n.sim.iccid&&(d=n.sim.iccid),accountstatus=function(e){return a.info(" request value passed --\x3e ",e),c?i.run(e,r.get("custAccountStatus").accountId,o.get("accountrecoverystatus")):i.run(e,r.get("custAccountStatus").device,o.get("accountrecoverystatus"))},this.accountstatus({option:d}).then((function(e){a.info("accountstatus --\x3e ",e),DevicesCartServicesInst.setActiveLinesInAccount(e.svc_response.totalActiveLines),DevicesCartServicesInst.setRemainingLinesAvailable(DevicesCartServicesInst.getTotalLinesAllowed()-e.svc_response.totalActiveLines-DevicesCartServicesInst.getSavedDevicesLength()-1),DevicesCartServicesInst.getRemainingLinesAvailable()>=0?(accountAcceptsLinesRes.status=!0,DevicesCartServicesInst.setBanId(e.svc_response.ban_id),l.setBanId(e.svc_response.ban_id),DevicesCartServicesInst.setAccountLevelAutoRefill(e.svc_response.isEnrolled),t(accountAcceptsLinesRes)):t(accountAcceptsLinesRes)})).catch((function(e){s(e)})))}else accountAcceptsLinesRes.status=!0,t(accountAcceptsLinesRes)}))},DevicesCartServicesInst.removeDeviceForDummyAct=function(n){a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct method",n),removeDeviceForDummyActRes={},removeDeviceForDummyActRes.status=!1;var s=n.device,d=!!n.firstESN;return accountstatus=function(e){return i.run(e,r.get("custAccountStatus").device,o.get("accountrecoverystatus"))},removeDummydevice=function(e){return i.run(e,r.get("deldevicefromaccount").dummyaccount,o.get("deldevicefromaccount"))},t((function(t,i){DevicesCartServicesInst.isBrandMultiLine()||c.features.groupbased?(a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct method",s,DevicesCartServicesInst.isFirstEsn()),!DevicesCartServicesInst.isFirstEsn()||d||c.features.groupbased?(a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct:: its not the first esn"),s.accountStatus&&s.accountStatus==p.dummy_account?(a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct:: going for delete device"),this.accountstatus({option:s.esn}).then((function(r){r.svc_response.totalActiveLines>0?(a.info("DevicesCartServicesInst::removeDeviceForDummyAct::Cannot delete dummy account with active lines and this has min in reserve"),e.isLoggedIn()||DevicesCartServicesInst.getDeviceAccountid()?(a.info("DevicesCartServicesInst::removeDeviceForDummyAct::Cannot delete dummy account with active lines but the user is logged in with diffrent account hence throw error"),v=u.translateError({error_code:"-10103"},o.get("validatedevice")),i(v)):(a.info("DevicesCartServicesInst::removeDeviceForDummyAct::Cannot delete dummy account with active lines and this has min in reserve"),DevicesCartServicesInst.setDeviceAccountid(s.accountId),removeDeviceForDummyActRes.status=!0,t(removeDeviceForDummyActRes))):(a.info("DevicesCartServicesInst::removeDeviceForDummyAct::deleting device from dummy account"),e.isLoggedIn()&&!c.features.groupbased?(a.info("DevicesCartServicesInst::removeDeviceForDummyAct::adding it"),DevicesCartServicesInst.addDummyAcctDevice(n).then((function(e){a.info("DevicesCartServicesInst::removeDeviceForDummyAct::Inside addDummyAcctDevice::add device successful",e),t(e)})).catch((function(e){i(e)}))):e.isLoggedIn()&&c.features.groupbased?this.removeDummydevice({account_id:s.accountId,esn:s.esn}).then((function(e){a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct:: Delete Device Successful"),l.getSelectedDevice().accountId=void 0,l.getSelectedDevice().accountStatus=p.no_account,removeDeviceForDummyActRes.status=!0,t(removeDeviceForDummyActRes)})).catch((function(e){i(e)})):(a.info("DevicesCartServicesInst::removeDeviceForDummyAct::cannot add as user not logged in"),removeDeviceForDummyActRes.status=!0,t(removeDeviceForDummyActRes)))})).catch((function(e){i(e)}))):(removeDeviceForDummyActRes.status=!0,t(removeDeviceForDummyActRes))):(a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct:: it first ESN"),removeDeviceForDummyActRes.status=!0,t(removeDeviceForDummyActRes))):(a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct:: single line Account"),s.accountStatus&&s.accountStatus===p.dummy_account?this.removeDummydevice({account_id:s.accountId,esn:s.esn}).then((function(e){a.info("DevicesCartServicesInst Inside removeDeviceForDummyAct:: Delete Device Successful"),l.getSelectedDevice().accountId=void 0,l.getSelectedDevice().accountStatus=p.no_account,removeDeviceForDummyActRes.status=!0,t(removeDeviceForDummyActRes)})).catch((function(e){i(e)})):(removeDeviceForDummyActRes.status=!0,t(removeDeviceForDummyActRes)))}))},DevicesCartServicesInst.checkDeviceAccount=function(t){if(a.info("Inside DevicesCartServicesInst  EcheckDeviceAccount",t),t.accountStatus&&t.accountStatus===p.valid_account){if(e.isLoggedIn()&&t.accountId&&e.getAccountId()!=t.accountId)return a.debug("User logged in and Device belongs to different account throw aerror !!! "),v=u.translateError({error_code:"-10103"},o.get("validatedevice")),!1;if(DevicesCartServicesInst.getActiveLinesInAccount()&&t.accountId&&DevicesCartServicesInst.getActiveLinesInAccount()!=t.accountId)return a.debug("User logged in and Device belongs to different account throw aerror !!! "),v=u.translateError({error_code:"-10103"},o.get("validatedevice")),!1}return!0},DevicesCartServicesInst.addDummyAcctDevice=function(n){return a.info("DevicesCartServicesInst:addDummyAcctDevice ",n,l.getSelectedDevice()),addSummydeviceRes={status:!1},t((function(t,n){selecteddevice=l.getSelectedDevice(),selecteddevice.accountStatus&&selecteddevice.accountStatus===p.dummy_account&&selecteddevice.deviceStatus!=p.device_status.active?l.addDevices({device:l.getSelectedDevice().esn}).then((function(n){a.info("DevicesCartServicesInst:addDummyAcctDevice::AdddeviceSuccesful",n),l.getSelectedDevice().accountId=e.getAccountId(),l.getSelectedDevice().accountStatus=p.valid_account,addSummydeviceRes.status=!0,t(addSummydeviceRes)})).catch((function(e){n(e)})):t(addSummydeviceRes)}))},DevicesCartServicesInst.addDeviceCheck=function(n){a.info("addDeviceCheck --\x3e ",n);var i={};return i.status=!1,v=void 0,t((function(t,r){l.validateUserDevice({device:n.device,noCache:n.noCache}).then((function(d){a.info("response from validate device $utils.isSim(request.device) --\x3e ",d,u.isSim(n.device));var g=d.svc_response;if(g&&g.isNotMigrated){a.info("DevicesCartServicesInst::Inside validateMultilineDevice lines remaining this is no migrated esn hence blocking");var m=u.getlinkfromScriptWithLinkTxt("ERROR_1985606","[TMO_URL_LINK]",c.tmobile_url_link,"VAR_5027","#HERE#");a.info("DevicesCartServicesInst::Inside validateMultilineDevice lines remaining this is no migrated",m);r({error_code:"-999",error_message:m,error_type:"FAILURE"})}else g&&g.deviceStatus&&g.deviceStatus===p.device_status.stolen||g.deviceStatus===p.device_status.risk_assestment?(a.debug("Device is in invalid status ",g.deviceStatus),v=u.translateError({error_code:"-10114"},o.get("validatedevice")),r(v)):g&&g.accountId?g.accountStatus&&g.accountStatus===p.valid_account?e.getAccountId()===g.accountId?(a.debug("Device belongs to same account throw any error !!! "),v=u.translateError({error_code:"20301"},o.get("accountrecoverystatus")),r(v)):(a.info("Device belongs to different valid account !!! "),v=u.translateError({error_code:"-10103"},o.get("validatedevice")),r(v)):g.accountStatus&&g.accountStatus===p.dummy_account?(a.info("Device belongs to dummy account!!! "),a.info("active Device belongs to dummy account!!! Check the account status"),s.accountRecoveryStatus({option:g.esn}).then((function(e){a.info("Dummy response from accountstatus ",e),e.totalActiveLines>1?(a.info("Dummy response from accountstatusalready active line present "),v=u.translateError({error_code:"20303"},o.get("accountrecoverystatus")),r(v)):g.deviceStatus&&g.deviceStatus==p.device_status.active?(a.info("active Device belongs to dummy account!!! check if current account has room to add this device"),l.getBanDetails()&&angular.isDefined(l.getBanDetails().extensions)&&l.getBanDetails().extensions.activeLines==DevicesCartServicesInst.getTotalLinesAllowed()?(a.info("active Device belongs to dummy account!!! Ban Already full"),v=u.translateError({error_code:"20303"},o.get("accountrecoverystatus")),r(v)):g.esn?g&&g.deviceStatus&&(g.deviceStatus!=p.device_status.active||u.isDataOnlyDevice(g))?(a.debug("Device is in inactive status ",g.deviceStatus),i.status=!1,t(i)):(i.status=!0,t(i)):(a.debug("Sim is not married to the esn",g),v=u.translateError({error_code:"-10109"},o.get("validatedevice")),r(v))):u.isSim(n.device)&&!g.esn?(a.debug("Sim is not married to the esn"),v=u.translateError({error_code:"-10109"},o.get("validatedevice")),r(v)):g&&g.deviceStatus&&(g.deviceStatus!=p.device_status.active||u.isDataOnlyDevice(g))?(a.debug("Device is in inactive status ",g.deviceStatus),i.status=!1,t(i)):(i.status=!0,t(i))})).catch((function(e){r(e)}))):g.esn?g&&g.deviceStatus&&(g.deviceStatus!=p.device_status.active||u.isDataOnlyDevice(g))?(a.debug("Device is in inactive status ",g.deviceStatus),i.status=!1,t(i)):(i.status=!0,t(i)):(a.debug("Sim is not married to the esn",g),v=u.translateError({error_code:"-10109"},o.get("validatedevice")),r(v)):g.esn?g&&g.deviceStatus&&(g.deviceStatus!=p.device_status.active||u.isDataOnlyDevice(g))?(a.debug("Device is in inactive status ",g.deviceStatus),i.status=!1,t(i)):(i.status=!0,t(i)):(a.debug("Sim is not married to the esn",g),v=u.translateError({error_code:"-10109"},o.get("validatedevice")),r(v))})).catch((function(e){r(e)}))}))},DevicesCartServicesInst.removePlanFromDevice=function(e,t){a.info("DevicesCartServicesInst removePlanFromDevice method 111--\x3e ",e,t,DevicesCartServicesInst.getSavedDevices());var n,i,r,o=DevicesCartServicesInst.getDeviceWithBasePlan();return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(a,o){angular.equals(a.esn,e)&&(r=a,angular.forEach(a.plans,(function(e,a){angular.equals(e.plan_id,t.plan_id)&&(i=a,n=e)})))})),!(!angular.isDefined(i)||!angular.isDefined(r))&&(r.plans.splice(i,1),o?DevicesCartServicesInst.getDeviceWithBasePlan():r.plans&&r.plans.length>0)},DevicesCartServicesInst.removeDevicePlan=function(e,t){a.info("DevicesCartServicesInst removeDevicePlan ",e,t),angular.forEach(e.plans,(function(n,a){angular.equals(n.plan_id,t.plan_id)&&e.plans.splice(a,1)})),l.selectDevice(e)},DevicesCartServicesInst.changeDevicePlan=function(e,t){a.info("DevicesCartServicesInst::changeDevicePlan ",e,DevicesCartServicesInst.getSavedDevices(),t),DevicesCartServicesInst.isBrandMultiLine()&&DevicesCartServicesInst.getSavedDevicesLength()>1?(DevicesCartServicesInst.removeDeviceFromCart(e),DevicesCartServicesInst.removeDevicePlan(e,t),DevicesCartServicesInst.setIsChngPlanRenewal(!0)):(DevicesCartServicesInst.removeDevicePlan(e,t),DevicesCartServicesInst.clearSaveDevices(),DevicesCartServicesInst.setIsChngPlanRenewal(!0),DevicesCartServicesInst.setEnrollFlowFlag(!1))},DevicesCartServicesInst.anyAddonPlaninCart=function(){var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.forEach(t.plans,(function(t,n){angular.isDefined(t.is_addon)&&t.is_addon&&!e&&(e=!0)}))})),e},DevicesCartServicesInst.anyBasePlaninCart=function(){var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.forEach(t.plans,(function(t,n){angular.isDefined(t.is_monthly)&&t.is_monthly&&(e=!0)}))})),e},DevicesCartServicesInst.getTransactionProductsInCart=function(){var e=[];return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.forEach(t.plans,(function(n,a){e.push({sku:n.part_number,name:n.plan_name,category:"Plans",price:n.price,quantity:n.quantity,deviceBrand:t.brand,deviceModel:t.devicePartClass})}))})),e},DevicesCartServicesInst.isPaymentSourceAvailable=function(){a.info("Inside isPaymentSourceAvailable method");var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){if(angular.equals(t.accountStatus,p.valid_account)){!!angular.isDefined(t.hasPaymentSource)&&t.hasPaymentSource&&(e=!0)}})),e},DevicesCartServicesInst.executionPlanExistsInDevices=function(){a.info("Inside executionPlanExistsInDevices method");var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.isDefined(t.execution_plan)&&(e=!0)})),a.info("Exit executionPlanExistsInDevices method --\x3e ",e),e},DevicesCartServicesInst.isAddMoreDeviceApplicable=function(){a.info("Inside isAddMoreDeviceApplicable method");var e,t=!1;if(angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(n,a){angular.isDefined(n.execution_plan)&&(t=!0,e=n.plans)})),a.info("Inside isAddMoreDeviceApplicable isAddMoreDeviceApplicable ",t,c.features.groupbased),t&&(c.features.groupbased||c.features.multiline))if(c.features.groupbased){var n=DevicesCartServicesInst.getGroupBasedStagedPlan();!n||n.numberOfLines>DevicesCartServicesInst.getSavedDevices().length||(t=!1)}else t=DevicesCartServicesInst.showAddMoreOption();else!t||c.features.groupbased||c.features.multiline||(t=!1);return a.info("Exit isAddMoreDeviceApplicable method --\x3e ",t),t},DevicesCartServicesInst.isAddMoreDeviceApplicablePin=function(e){a.info("Inside isAddMoreDeviceApplicablePin method ",DevicesCartServicesInst.getSavedDevices());var t,n=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(e,n){e&&angular.isDefined(e.servicepinRes)&&(t=e.servicepinRes)})),a.info("Inside isAddMoreDeviceApplicable selctedPin ",t),t&&t.allowed_capacity_lines>DevicesCartServicesInst.getSavedDevices().length?n=!0:e&&e>0&&(n=!0),a.info("Exit isAddMoreDeviceApplicablePin method --\x3e ",n),n},DevicesCartServicesInst.isDeviceStagedWithPin=function(){a.info("Inside isDeviceStagedWithPin method");var e=!1;return c.activation_staging&&angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){t&&(angular.isDefined(t.servicepin)||t.stagedWithPin)&&(e=!0)})),a.info("Exit isDeviceStagedWithPin method --\x3e ",e),e},DevicesCartServicesInst.getGroupInfo=function(){a.info("Inside getGroupInfo method");var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){t&&angular.isDefined(t.group)&&(e=t.group)})),a.info("Exit getGroupInfo method --\x3e ",e),e},DevicesCartServicesInst.addToSavedDeviceList=function(){a.info("Inside DevicesCartServicesInst :: addToSavedDeviceList");var e=!1;l.getSelectedDevice()&&angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){a.info("Inside DevicesCartServicesInst :: addToSavedDeviceList loop ::",t,l.getSelectedDevice()),t&&t.esn==l.getSelectedDevice().esn&&(e=!0)})),!e&&l.getSelectedDevice()&&DevicesCartServicesInst.getSavedDevices().push(l.getSelectedDevice())},DevicesCartServicesInst.getGroupBasedStagedPlan=function(){a.info("Inside getGroupBasedStagedPlan method");var e;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.isDefined(t.plans)&&t.plans.length>0&&(e=t.plans[0])})),a.info("Exit getGroupBasedStagedPlan method selctedPlan --\x3e ",e),e},DevicesCartServicesInst.getAddonPlansFromCart=function(){var e=[];return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.forEach(t.plans,(function(t,n){angular.isDefined(t.is_addon)&&t.is_addon&&e.push(t)}))})),e},DevicesCartServicesInst.getMultiLineDeviceType=function(){var e=DevicesCartServicesInst.getSavedDevices(),t=!1,n=!1;return angular.forEach(e,(function(e,a){e.deviceType&&"SMARTPHONE"===e.deviceType&!t&&(t=!0),e.deviceType&&"BYOP"===e.deviceType&!n&&(n=!0)})),t&&n?"BOTH":n?"BYOP":"SMARTPHONE"},DevicesCartServicesInst.getMultiLineActivationType=function(){var e=!1,t=!1,n=DevicesCartServicesInst.getSavedDevices();return angular.forEach(n,(function(n,a){!n.execution_plan||n.execution_plan!==p.transaction_type.activation&&n.execution_plan!==p.transaction_type.reactivation||e||(e=!0),!n.execution_plan||n.execution_plan!==p.transaction_type.internal_port&&n.execution_plan!==p.transaction_type.external_port||t||(t=!0)})),e&&t?"MULTI_ACTIVATION_TYPE":t?"PORT":"ACTIVATION"},DevicesCartServicesInst.isArAlignmentFlow=function(){a.info("Inside isArAlignmentFlow method");var e=!!angular.isDefined(DevicesCartServicesInst.getTaxes());if(a.info("Inside isArAlignmentFlow method --\x3e 1 ",e),a.info("Inside isArAlignmentFlow method --\x3e 2 ",DevicesCartServicesInst.getUserSelectAutoRefill()),a.info("Inside isArAlignmentFlow method --\x3e 3 ",DevicesCartServicesInst.executionPlanExistsInDevices()),a.info("Inside isArAlignmentFlow method --\x3e 4- ",l.getBanDetails()),!DevicesCartServicesInst.executionPlanExistsInDevices()&&e&&DevicesCartServicesInst.getUserSelectAutoRefill()){var t=!1;return angular.isDefined(l.getBanDetails())&&angular.isDefined(l.getBanDetails().extensions)&&(t=l.getBanDetails().extensions.activeLines>1),t}return!1},DevicesCartServicesInst.isAutoRefillOptionAllowed=function(){a.info("Inside isAutoRefillOptionAllowed method");var t=!1,n=DevicesCartServicesInst.executionPlanExistsInDevices();return e.isLimitedAccess()||(n?t=!angular.isDefined(DevicesCartServicesInst.getBanId())||!(DevicesCartServicesInst.getActiveLinesInAccount()>0):DevicesCartServicesInst.getAccountLevelAutoRefill()||(t=!!angular.isDefined(DevicesCartServicesInst.getUserSelectAutoRefill())&&DevicesCartServicesInst.getUserSelectAutoRefill())),a.info("Exit isAutoRefillOptionAllowed method --\x3e ",t),t},DevicesCartServicesInst.disableAutoRefillOption=function(){a.info("Inside disableAutoRefillOption method");var e=!1;return DevicesCartServicesInst.executionPlanExistsInDevices()&&DevicesCartServicesInst.getAccountLevelAutoRefill()&&(e=!0),a.info("Exit disableAutoRefillOption method --\x3e ",e),e},DevicesCartServicesInst.autoRefillAssignment=function(){a.info("Inside autoRefillAssignment method");var e=angular.isDefined(DevicesCartServicesInst.getUserSelectAutoRefill())&&DevicesCartServicesInst.getUserSelectAutoRefill()||DevicesCartServicesInst.getAccountLevelAutoRefill();return a.info("Inside autoRefillAssignment method --\x3e ",e),e},DevicesCartServicesInst.showAddMoreOption=function(){
return a.info("Inside showAddMoreOption method --\x3e ",DevicesCartServicesInst.canAddMoreDevices(),DevicesCartServicesInst.anyAddonPlaninCart(),DevicesCartServicesInst.executionPlanExistsInDevices(),DevicesCartServicesInst.isRedemptionFlow()),DevicesCartServicesInst.canAddMoreDevices()&&!DevicesCartServicesInst.anyAddonPlaninCart()&&DevicesCartServicesInst.executionPlanExistsInDevices()&&!DevicesCartServicesInst.isRedemptionFlow()&&!e.isLimitedAccess()},DevicesCartServicesInst.isActivationFlow=function(){a.info("devicecartservices isactivationflow --\x3e ",DevicesCartServicesInst.getSavedDevices());var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){!angular.isDefined(t.execution_plan)||t.execution_plan!==p.transaction_type.activation&&t.execution_plan!==p.transaction_type.reactivation&&t.execution_plan!==p.transaction_type.internal_port&&t.execution_plan!==p.transaction_type.phone_upgrade&&t.execution_plan!==p.transaction_type.external_port||(e=!0)})),e},DevicesCartServicesInst.removeDeviceFromAccount=function(n){return a.info("DeviceCartServices removeDeviceFromAccount service!! ..."),t((function(t,c){var d=!DevicesCartServicesInst.isSingleLineacct();a.info("DeviceCartServices removeDeviceFromAccount isMultilineAccount!! ...",d),removedevice=function(e){return angular.isDefined(e.min)?i.run(e,r.get("deldevicefromaccount").min,o.get("deldevicefromaccount")):i.run(e,r.get("deldevicefromaccount").esn,o.get("deldevicefromaccount"))},this.removedevice({account_id:n.account_id,esn:n.esn,min:n.min}).then((function(n){DevicesCartServicesInst.removeDeviceFromCart(l.getSelectedDevice()),a.info("DeviceCartServices removeDeviceFromAccount deletd succezsful!! ...",n),s.accountRecoveryStatus({accountid:e.getAccountId()}).then((function(e){a.info("DeviceCartServices removeDeviceFromAccount Accounttstatus retuned succezsful!! ...",e),DevicesCartServicesInst.setAccountinfo(e),t(n)})).catch((function(e){c(e)}))})).catch((function(e){c(e)}))}))},DevicesCartServicesInst.getDeviceFromCart=function(e){var t;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(n,a){n.esn==e||n.min==e?t=n:n.sim&&n.sim.iccid&&n.sim.iccid==e&&(t=n)})),t},DevicesCartServicesInst.getGroupCapacity=function(){if(DevicesCartServicesInst.getSavedDevices()&&DevicesCartServicesInst.getSavedDevices().length>0){a.info("pincheckoutController::getGroupCapacity :: Staged devices  $devicesCartServices.getSavedDevices() ",DevicesCartServicesInst.getSavedDevices());var e=DevicesCartServicesInst.getSavedDevices()[0].group;a.info("pincheckoutController::init::  Avialable capacity is  groupDevices !!! ",e);return e.availableCapacity}},DevicesCartServicesInst.refreshSavedDeviceList=function(){var e=DevicesCartServicesInst.getSavedDevices();DevicesCartServicesInst.clearSaveDevices(),a.info("DevicesCartServicesInst::refreshSavedDeviceList :: After clearing saved devices  ",DevicesCartServicesInst.getSavedDevices(),e),validatedevices=[];var n=!1;return e&&e.length>0&&angular.forEach(e,(function(e,t){e&&(a.info("DevicesCartServicesInst::refreshSavedDeviceList ::device to refresh  ",e),l.clearSelectedDevice(),validatedevices.push(l.validateUserDevice({device:e.esn}).then((function(t){a.info("DevicesCartServicesInst::refreshSavedDeviceList ::validate user device response  ",t.svc_response,e),e.stagedWithPin&&(n=!0),e.stagedWithPin||n?t.svc_response.stagedWithPin=!0:e.servicepin&&(t.svc_response.stagedWithPin=!0),e.execution_plan&&(t.svc_response.execution_plan=e.execution_plan),DevicesCartServicesInst._data.saveddevices.push(t.svc_response),a.info("DevicesCartServicesInst::refreshSavedDeviceList :: Saved devices list   ",DevicesCartServicesInst.getSavedDevices())})).catch((function(e){reject(e)}))))})),t.all(validatedevices)},DevicesCartServicesInst.groupDevices=function(){if(e.isLoggedIn()&&DevicesCartServicesInst.isGroupBased()){var t=DevicesCartServicesInst.getSavedDevices();if(!DevicesCartServicesInst.isOnlyIldPlanInCart()){var n=t[0];DevicesCartServicesInst.clearSaveDevices(),DevicesCartServicesInst._data.saveddevices.push(n);var a=n.groupInfo?n.groupInfo:n.group,i=a.group_id?a.group_id:a.groupId,r=l.getAllDevicesByGroupId(i);angular.forEach(r,(function(e,t){n.esn!=e.esn&&DevicesCartServicesInst._data.saveddevices.push(e)}))}}},DevicesCartServicesInst.getDeviceWithBasePlan=function(){var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.forEach(t.plans,(function(t,n){t.is_addon||(e=!0)}))})),e},DevicesCartServicesInst.anyDeviceEnrolledInAddonPlan=function(){var e=!1;return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){angular.forEach(t.plans,(function(t,n){angular.isDefined(t.is_addon)&&t.is_addon&&(e||(e=t.auto_refill))}))})),e},DevicesCartServicesInst.dataOnlyDevicesInCart=function(){var e=!1,t=[],n=[];return angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(e,a){u.isDataOnlyDevice(e)?n.push(e):t.push(e)})),0==t.length&&n.length>0&&(e=!0),e},DevicesCartServicesInst.getAddonPlansInDevice=function(e){var t=[];return e.plans&&angular.forEach(e.plans,(function(e,n){e.is_addon&&t.push(e)})),t},DevicesCartServicesInst.isAddonPlansInSavedDevice=function(){var e=!1;return a.info("DevicesCartServicesInst DevicesCartServicesInst.getSavedDevices() method --\x3e ",DevicesCartServicesInst.getSavedDevices()),DevicesCartServicesInst.getSavedDevices()&&angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(t,n){t.plans&&angular.forEach(t.plans,(function(t,n){t.is_addon&&(e=!0)}))})),e},DevicesCartServicesInst.addServicePlanToGroup=function(){if(d.getPlans().length>0&&DevicesCartServicesInst.getSavedDevicesLength()>0){var e=DevicesCartServicesInst.getSavedDevices();e[0].plans||(e[0].execution_plan=p.transaction_type.activation,e[0].plans=d.getPlans()),DevicesCartServicesInst.clearSaveDevices(),DevicesCartServicesInst._data.saveddevices=e}},DevicesCartServicesInst.removePlanFromGroup=function(e){a.info("DevicesCartServicesInst removePlanFromGroup method --\x3e ",e);var t=e.plans,n=DevicesCartServicesInst._data.saveddevices.indexOf(e);if(angular.isDefined(n))return DevicesCartServicesInst._data.saveddevices.splice(n,1),DevicesCartServicesInst.getSavedDevices().length>0&&(DevicesCartServicesInst._data.saveddevices[0].plans=t,!0)},DevicesCartServicesInst.isOnlyIldPlanInCart=function(){var e=!1;if(DevicesCartServicesInst.isSingleLineacct()&&DevicesCartServicesInst.anyAddonPlaninCart()){var t=DevicesCartServicesInst.getSavedDevices();if(t[0].plans){var n=[],a=[];angular.forEach(t[0].plans,(function(e,t){e.is_addon&&(e.isILDVas?a.push(e):n.push(e))})),0!=a.length&&0==n.length&&(e=!0)}}return e},DevicesCartServicesInst.anyIldPlanInCart=function(){var e=!1,t=DevicesCartServicesInst.getSavedDevices();return angular.forEach(t,(function(t,n){t.plans&&angular.forEach(t.plans,(function(t,n){t.is_addon&&t.isILDVas&&!e&&(e=!0)}))})),e},DevicesCartServicesInst.allIldPlansEnrolled=function(){var e=!0,t=DevicesCartServicesInst.getSavedDevices();return angular.forEach(t,(function(t,n){t.plans&&angular.forEach(t.plans,(function(t,n){t.is_addon&&t.isILDVas&&!t.auto_refill&&(e=!1)}))})),e},DevicesCartServicesInst.checkACHConditions=function(){return a.info("checkACHConditions successful"),t((function(e,t){checkACHConditions=function(e){return i.run(e,r.get("pymtacheligibility"),o.get("pymtacheligibility"))},this.checkACHConditions().then((function(t){angular.isDefined(t.show_achbilling)&&"TRUE"===t.show_achbilling?DevicesCartServicesInst.setShowAchPaymentFlag(!0):DevicesCartServicesInst.setShowAchPaymentFlag(!1),angular.isDefined(t.show_achapp)&&"TRUE"===t.show_achapp?DevicesCartServicesInst.setShowAchEnrollFlag(!0):DevicesCartServicesInst.setShowAchEnrollFlag(!1),e(t)})).catch((function(e){t(e)}))}))},DevicesCartServicesInst.getAccountId=function(t){var n;return t===p.fromcheckout?e.isLoggedIn()&&angular.isDefined(e.getAccountId())?n=e.getAccountId():angular.forEach(DevicesCartServicesInst.getSavedDevices(),(function(e,t){angular.isDefined(e.accountId)&&(n=e.accountId)})):n=e.isLoggedIn()&&angular.isDefined(e.getAccountId())?e.getAccountId():angular.isDefined(l.getSelectedDevice())&&angular.isDefined(l.getSelectedDevice().accountId)?l.getSelectedDevice().accountId:void 0,n},DevicesCartServicesInst.updateDeviceAccountStatusInCart=function(e,t){var n=DevicesCartServicesInst.getSavedDevices();angular.forEach(n,(function(n,a){n.esn===e.esn&&(n.accountStatus=t)})),DevicesCartServicesInst.clearSaveDevices(),DevicesCartServicesInst.setSavedDevices(n)},DevicesCartServicesInst.isDeviceEligibleForPartnerDiscount=function(){var e=!1;return c.features.multiline||DevicesCartServicesInst.isHppEnrollFlowFlag()||(e=!0),e},DevicesCartServicesInst}function t(){var t={};return{setData:function(e){t=e},$get:["$userService","$q","$rootScope","$log","$serviceUtils","$svcConfig","$voMapConfig","$accountService","$appConfig","$deviceService","$cartService","$utils","$appConstants",function(n,a,i,r,o,s,c,l,d,u,p,v,g){var m=e(n,a,i,r,o,s,c,l,d,u,p,v,g);return angular.isDefined(t)&&t?m._data=t:m._data={saveddevices:[],isBrandMultiline:!!d.features&&d.features.multiline,isGroupBased:!!d.features&&d.features.groupbased,remainingLinesAvailable:d.multiline_maxcount?d.multiline_maxcount:5,activeLinesInAccount:0,totalLinesAllowed:d.multiline_maxcount?d.multiline_maxcount:5,accountid:void 0,banDetails:{}},i.$on("system-reset",(function(e,t){m._data={},m._data={saveddevices:[],isBrandMultiline:!!d.features&&d.features.multiline,isGroupBased:!!d.features&&d.features.groupbased,remainingLinesAvailable:d.multiline_maxcount?d.multiline_maxcount:5,activeLinesInAccount:0,totalLinesAllowed:d.multiline_maxcount?d.multiline_maxcount:5,accountid:void 0,banDetails:{}}})),i.$watch((function(){return m._data}),(function(e,t){e&&o.setSessionItem("$devicesCartServices",e)}),!0),m}]}}angular.module("app").provider("$devicesCartServices",t),angular.module("app").config(["$devicesCartServicesProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$devicesCartServices"))}])})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d){return DeviceServiceInst={_data:{active_devices:[],active_groups:[],pastduedevices:[],inactiveDevices:[],invalidStatusDevices:[],redemptionDevices:[],ildEligibleDevices:[],active_group_devices:[],active_group_available:[],allDevices:[],lrpDetails:{},hppInsuranceAddress:{},hppCreditCardAddress:{}},emptyDevices:function(){DeviceServiceInst._data={active_devices:[],pastduedevices:[],inactiveDevices:[],invalidStatusDevices:[],redemptionDevices:[],ildEligibleDevices:[],allDevices:[],lrpDetails:{},hppInsuranceAddress:{},hppCreditCardAddress:{}}},initComingFrom:function(){this._comingFrom=""},setComingFrom:function(e){this._comingFrom=e},getComingFrom:function(){return this._comingFrom},setRoute:function(e){this._routeName=e},getRoute:function(){return this._routeName},clearRoute:function(){this._routeName=""},setCallAuthentication:function(e){this._callAuthentication=e},getCallAuthentication:function(){return this._callAuthentication},setAuthenticationFlag:function(e){this._authenticationFlag=e},getAuthenticationFlag:function(){return this._authenticationFlag},setVerificationFlag:function(e){this._verificationFlag=e},getVerificationFlag:function(){return this._verificationFlag},setSeePlansFlag:function(e){this._data.seePlansFlag=e},getSeePlansFlag:function(){return this._data.seePlansFlag},getHppDetails:function(){return DeviceServiceInst._data.Hppdetails},setHppDetails:function(e){DeviceServiceInst._data.Hppdetails=e},getHppDevice:function(){return DeviceServiceInst._data.Hppdevice},setAutoPayFlag:function(e){DeviceServiceInst._data.autoPayFlag=e},getAutoPayFlag:function(){return DeviceServiceInst._data.autoPayFlag},setCheckoutFlowFlag:function(e){DeviceServiceInst._data.checkoutFlowFlag=e},getCheckoutFlowFlag:function(){return DeviceServiceInst._data.checkoutFlowFlag},setHppDevice:function(e){DeviceServiceInst._data.Hppdevice=e},setAddLine:function(e){this._isAddLine=e},isAddLine:function(){return this._isAddLine},setCurrentMin:function(e){DeviceServiceInst._data.current_min=e},getCurrentMin:function(){return DeviceServiceInst._data.current_min},setLRPDetails:function(e){return a.lrpDetails=e,DeviceServiceInst._data.lrpDetails=e},setMin:function(e){DeviceServiceInst._data.min=e},getMin:function(){return DeviceServiceInst._data.min},setIsBanCarrierPedning:function(e){DeviceServiceInst._data.isBanCarrierPending=e},isBanCarrierPedning:function(){return DeviceServiceInst._data.isBanCarrierPending},setAllLinesAutoRefilllEnabled:function(e){DeviceServiceInst._data.allLineAREnabled=e},setAddMoreLineFlag:function(e){DeviceServiceInst._data.addMoreLines=e},isAddMoreLineFlag:function(){return!!angular.isDefined(DeviceServiceInst._data.addMoreLines)&&DeviceServiceInst._data.addMoreLines},isAllLinesAutoRefilllEnabled:function(){return!!angular.isDefined(DeviceServiceInst._data.allLineAREnabled)&&DeviceServiceInst._data.allLineAREnabled},selectDevice:function(e){DeviceServiceInst._data.device=e},hasSelectedDevice:function(){return angular.isDefined(DeviceServiceInst._data.device)},getSelectedDevice:function(){return DeviceServiceInst._data.device},setSelectedDevice:function(e){DeviceServiceInst._data.device=e},clearSelectedDevice:function(){DeviceServiceInst._data.device=void 0},getActiveDevices:function(){return DeviceServiceInst._data.active_devices},getActiveGroups:function(){return DeviceServiceInst._data.active_groups},getInactiveGroups:function(){return DeviceServiceInst._data.inactive_groups},getActiveGroupDevices:function(){return DeviceServiceInst._data.active_group_devices},setActiveDevices:function(e){DeviceServiceInst._data.active_devices=e},setActiveGroups:function(e){DeviceServiceInst._data.active_groups=e},setInactiveGroups:function(e){DeviceServiceInst._data.inactive_groups=e},getAllDevices:function(){return DeviceServiceInst._data.allDevices},setAllDevices:function(e){DeviceServiceInst._data.allDevices=e},setActiveGroupDevices:function(e){DeviceServiceInst._data.active_group_devices=e},setActiveGroupsAvailable:function(e){DeviceServiceInst._data.active_group_available=e},getActiveGroupsAvailable:function(){return DeviceServiceInst._data.active_group_available},getPastDueDevices:function(){return DeviceServiceInst._data.pastduedevices},getRedemptionDevices:function(){return DeviceServiceInst._data.redemptionDevices},setRedemptionDevices:function(e){DeviceServiceInst._data.redemptionDevices=e},getIldEligibleDevices:function(){return DeviceServiceInst._data.ildEligibleDevices},setIldEligibleDevices:function(e){DeviceServiceInst._data.ildEligibleDevices=e},getPastDueDevices:function(){return DeviceServiceInst._data.pastduedevices},setLimitedAccessDevice:function(e){DeviceServiceInst._data.limitedDevice=e},getLimitedAccessDevice:function(){return DeviceServiceInst._data.limitedDevice},setPastDueDevices:function(e){DeviceServiceInst._data.pastduedevices=e},getInactiveDevices:function(){return DeviceServiceInst._data.inactiveDevices},setInvalidStatusDevices:function(e){DeviceServiceInst._data.invalidStatusDevices=e},getInvalidStatusDevices:function(){return DeviceServiceInst._data.invalidStatusDevices},setInactiveDevices:function(e){DeviceServiceInst._data.inactiveDevices=e},getRefreshedDevice:function(){return DeviceServiceInst._data.refreshedDevice},setRefreshedDevice:function(e){DeviceServiceInst._data.refreshedDevice=e},clearActiveDevice:function(){this._data.active_devices=[]},deviceCount:function(e){DeviceServiceInst._data.device_count=e},getDeviceCount:function(){return this._data.device_count},setDeviceType:function(e){this._data.device_type=e},getDeviceType:function(){return this._data.device_type},setPortupgradeDevice:function(e){this._data.portupgrade_device=e},getPortupgradeDevice:function(){return this._data.portupgrade_device},setLastFourDigits:function(e){this._data.lastfour_digits=e},getLastFourDigits:function(){return this._data.lastfour_digits},setPortUpgradeSummary:function(e){this._data.portupgrade_summary=e},getPortUpgradeSummary:function(){return this._data.portupgrade_summary},getPaypalSuccessDetails:function(){return this._data.paypal_details},setPaypalSuccessDetails:function(e){this._data.paypal_details=e},clearPaypalSuccessDetails:function(){this._data.paypal_details=void 0},getFlashDetails:function(){return this._data.flash_message},setFlashDetails:function(e){this._data.flash_message=e},clearFlashDetails:function(){this._data.flash_message=void 0},setPortAddress:function(e,t,n,a,i,r,o,s,c,l,d,u,p){this._data.portaddress={fname:e,lname:t,phone:n,address1:a,address2:i,city:r,state:o,zipcode:s,unitno:c,housenumber:l,streetname:d,streetdir:u,streettype:p}},getPortAddress:function(){return this._data.portaddress},setAccountDetails:function(e,t,n,a,i){this._data.portaccount={fullname:e,carriertype:t,accnumber:n,acckey:a,accpin:i}},getAccountDetails:function(){return this._data.portaccount},setRenewalDetails:function(e){DeviceServiceInst._data.renewal_details=e},getRenewalDetails:function(){return DeviceServiceInst._data.renewal_details},setBanDetails:function(e){DeviceServiceInst._data.ban_details=e},getBanDetails:function(){return DeviceServiceInst._data.ban_details},setPortDetails:function(e){this._portDetails=e},getPortDetails:function(){return this._portDetails},set2fa_requiredfor_upgrade:function(e){this.mfa_required_upgrade=e},get2fa_requiredfor_upgrade:function(){return this.mfa_required_upgrade},setBanId:function(e){DeviceServiceInst._data.banid=e},getBanId:function(){return DeviceServiceInst._data.banid},setMyDeviceFlag:function(e){this._addMyDeviceFlag=e},getMyDeviceFlag:function(){return this._addMyDeviceFlag},clearMyDeviceFlag:function(){this._addMyDeviceFlag=""},setParamsForCode:function(e){this.params_for_code=e},getParamsForCode:function(){return this.params_for_code},setExistingGroup:function(e){DeviceServiceInst._data.group=e},getExistingGroup:function(){return DeviceServiceInst._data.group},setShopPlansFlow:function(e){DeviceServiceInst._data.shopPlansPageFlow=e},getShopPlansFlow:function(){var e=DeviceServiceInst._data.shopPlansPageFlow;return this.resetShopPlansFlow(),e},resetShopPlansFlow:function(){DeviceServiceInst._data.shopPlansPageFlow=!1},getSupportingResources:function(e){n.info("Inside getSupportingResources function");var t=[];if(!s.isNullOrEmpty(e)){var a={resourceType:l.airtime_card,serialNumber:e};t.push(a)}if(!s.isNullOrEmpty(DeviceServiceInst.getSelectedDevice().sim)){var i={resourceType:l.sim,serialNumber:DeviceServiceInst.getSelectedDevice().sim.iccid};t.push(i)}if(!s.isNullOrEmpty(DeviceServiceInst.getSelectedDevice().min)){var r={resourceType:l.line,serialNumber:DeviceServiceInst.getSelectedDevice().min};t.push(r)}return t},getOrdemItemExt:function(e){n.info("Inside getResourceBean function");var t,a=[];if(angular.isDefined(DeviceServiceInst.getCurrentMin())&&(t={name:l.currentmin,value:DeviceServiceInst.getCurrentMin()},a.push(t)),angular.isDefined(DeviceServiceInst.getLastFourDigits())){var i={name:l.handset_lastfour,value:DeviceServiceInst.getLastFourDigits()};a.push(i)}if(angular.equals(e,l.transaction_type.internal_port)||angular.equals(e,l.transaction_type.external_port)){var r={name:l.current_service_provider,value:DeviceServiceInst.getSelectedDevice().port_brand};a.push(r)}if(angular.isDefined(DeviceServiceInst.getAccountDetails())){var o={name:l.portdetails.carriertype,value:DeviceServiceInst.getAccountDetails().carriertype};a.push(o);var s={name:l.portdetails.accountnumber,value:DeviceServiceInst.getAccountDetails().accnumber};a.push(s);var c={name:l.portdetails.key,value:DeviceServiceInst.getAccountDetails().acckey};a.push(c);var d={name:l.portdetails.ssnlastfour,value:DeviceServiceInst.getAccountDetails().accpin};a.push(d)}if(angular.isDefined(DeviceServiceInst.getPortAddress())){var u={name:l.portaddress.firstname,value:DeviceServiceInst.getPortAddress().fname};a.push(u);var p={name:l.portaddress.lastname,value:DeviceServiceInst.getPortAddress().lname};a.push(p);var v={name:l.portaddress.line1,value:DeviceServiceInst.getPortAddress().address1};a.push(v);var g={name:l.portaddress.line2,value:DeviceServiceInst.getPortAddress().address2};a.push(g);var m={name:l.portaddress.city,value:DeviceServiceInst.getPortAddress().city};a.push(m);var f={name:l.portaddress.state,value:DeviceServiceInst.getPortAddress().state};a.push(f);var h={name:l.portaddress.zip,value:DeviceServiceInst.getPortAddress().zipcode};if(a.push(h),angular.isDefined(DeviceServiceInst.getPortAddress().unitno)){var _={name:l.portaddress.unitno,value:DeviceServiceInst.getPortAddress().unitno};a.push(_)}if(angular.isDefined(DeviceServiceInst.getPortAddress().housenumber)){var y={name:l.portaddress.houseno,value:DeviceServiceInst.getPortAddress().housenumber};a.push(y)}if(angular.isDefined(DeviceServiceInst.getPortAddress().streetname)){var b={name:l.portaddress.streetname,value:DeviceServiceInst.getPortAddress().streetname};a.push(b)}if(angular.isDefined(DeviceServiceInst.getPortAddress().streetdir)){var S={name:l.portaddress.streetdir,value:DeviceServiceInst.getPortAddress().streetdir};a.push(S)}if(angular.isDefined(DeviceServiceInst.getPortAddress().streettype)){var D={name:l.portaddress.streettype,value:DeviceServiceInst.getPortAddress().streettype};a.push(D)}if(angular.isDefined(DeviceServiceInst.getPortAddress().phone)){var C={name:l.portaddress.contactphone,value:DeviceServiceInst.getPortAddress().phone};a.push(C)}}return a},getRelatedServices:function(e){n.info("Inside getResourceBean function");var t=[];if(angular.isDefined(e)){var a={id:""+e,category:l.service_plan};t.push(a)}return t},getOrderItems:function(t,a,i,r,o){n.info("Inside getResourceBean function",o);var s,c=[];s=angular.equals(i,l.transaction_type.internal_port)||angular.equals(i,l.transaction_type.external_port)?"PORT":i;var d={action:s},u={postalAddress:{zipcode:r}},p=DeviceServiceInst.getSupportingResources(t),v=DeviceServiceInst.getRelatedServices(a),g=DeviceServiceInst.getOrdemItemExt(i),m=DeviceServiceInst.getSelectedDevice().esn,f={productSerialNumber:m,productCategory:l.productcategory,productSpecification:{brand:e.brand}};if(p.length>0&&(f.supportingResources=p),v.length>0&&(f.relatedServices=v),s===l.transaction_type.redemption||s===l.transaction_type.reactivation){var h=[],_={isRedeemNow:o};h.push(_),f.relatedServices=h}d.product=f;var y={pin:DeviceServiceInst.getSelectedDevice().securityPin};return DeviceServiceInst.getSelectedDevice()&&DeviceServiceInst.getSelectedDevice().securityPin&&!DeviceServiceInst.getSelectedDevice().isSecurityPinSet&&(d.customerAccount=y),d.location=u,g.length>0&&(d.orderItemExtension=g),c.push(d),n.info("Inside getResourceBean function orderitems",c),c},getbalance:function(e){return n.info("getbalance service!! ..."),i((function(n,a){getbalinqry=function(e){return o.run(e,t.get("getbalinqry").esn,r.get("getbalinqry"))},reqbenfbal=function(e){return o.run(e,t.get("reqbenfbal").v2,r.get("reqbenfbal"))},this.getbalinqry(e).then((function(t){this.reqbenfbal({esn:e.esn,transaction_id:t.transaction_id,background:e.background}).then((function(e){n(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))},getDataUsage:function(e){return n.info("getDataUsage service!! ...",e),i((function(n,a){getdatausage=function(e){return o.run(e,t.get("getdatausage").esn,r.get("getdatausage"))},this.getdatausage({min:e.min,type:e.type,background:e.background}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getApnSettings:function(e){return o.run(e,t.get("apnsettings").apn,r.get("apnsettings"))},setHandsetProtectionProgramsDetails:function(e){this._data.hppprograms=e},getHandsetProtectionProgramsDetails:function(){return n.info("getHandsetProtectionProgramsDetails hppdetails!! ..."+this._data.hppprograms),this._data.hppprograms},setHppInsuranceAddress:function(e){DeviceServiceInst._data.hppInsuranceAddress=e},getHppInsuranceAddress:function(){return DeviceServiceInst._data.hppInsuranceAddress},setHppCreditCardAddress:function(e){DeviceServiceInst._data.hppCreditCardAddress=e},getHppCreditCardAddress:function(){return DeviceServiceInst._data.hppCreditCardAddress},getHandsetProtectionPrograms:function(e){return o.run(e,t.get("easyexchange").easyexchange,r.get("easyexchange"))},isDeviceHppEnrolled:function(){n.info("Inside isDeviceHppEnrolled method -- ",DeviceServiceInst.getSelectedDevice());var e=!1;return angular.isDefined(DeviceServiceInst.getSelectedDevice())&&DeviceServiceInst.getSelectedDevice().isHandsetProtectionEnrolled&&(e=!0),n.info("Exit isDeviceHppEnrolled method --\x3e ",e),e},validateUserDevice:function(e){var a={};return n.info("Validatedevice service!! ..."),i((function(i,c){if(validatedevice=function(e){return o.run(e,t.get("validatedevice").valdevice,r.get("validatedevice"))},validatedeviceesn=function(e){return o.run(e,t.get("validatedevice").valdeviceesn,r.get("validatedevice"))},validatedevicesim=function(e){return o.run(e,t.get("validatedevice").validatedevicesim,r.get("validatedevice"))},n.info("Checking selected device !! ",e),n.info(DeviceServiceInst.getSelectedDevice()),!e.noCache&&angular.isDefined(DeviceServiceInst.getSelectedDevice())&&(DeviceServiceInst.getSelectedDevice().min===e.device||DeviceServiceInst.getSelectedDevice().esn===e.device||DeviceServiceInst.getSelectedDevice().sim&&DeviceServiceInst.getSelectedDevice().sim.iccid===e.device))a.svc_response=DeviceServiceInst.getSelectedDevice(),angular.isDefined(DeviceServiceInst.getSelectedDevice().flashMessage)&&DeviceServiceInst.setFlashDetails(a.svc_response.flashMessage),angular.isDefined(a.svc_response.min)?d.setOpinionLabCookie(a.svc_response.esn,a.svc_response.min,""):d.setOpinionLabCookie(a.svc_response.esn,"",""),a.error_code="0",n.info("Validatedevice service reruning device already present!! ..."),n.info(a),i(a);else{n.info("Same device does not exist in session or noCache is set in request - calling Validatedevice service ");var l=s.getInputType(e.device);angular.equals(l,"MIN")?this.validatedevice({min:e.device,background:e.background}).then((function(e){DeviceServiceInst._data.device=e.svc_response,angular.isDefined(e.svc_response.flashMessage)&&DeviceServiceInst.setFlashDetails(e.svc_response.flashMessage),angular.isDefined(e.svc_response.esn)?d.setOpinionLabCookie(e.svc_response.esn,e.svc_response.min,""):d.setOpinionLabCookie("",e.svc_response.min,""),i(e)})).catch((function(e){c(e)})):angular.equals(l,"ESN")?this.validatedeviceesn({min:e.device}).then((function(e){DeviceServiceInst._data.device=e.svc_response,angular.isDefined(e.svc_response.flashMessage)&&DeviceServiceInst.setFlashDetails(e.svc_response.flashMessage),angular.isDefined(e.svc_response.min)?d.setOpinionLabCookie(e.svc_response.esn,e.svc_response.min,""):d.setOpinionLabCookie(e.svc_response.esn,"",""),i(e)})).catch((function(e){c(e)})):this.validatedevicesim({min:e.device}).then((function(e){DeviceServiceInst._data.device=e.svc_response,angular.isDefined(e.svc_response.flashMessage)&&DeviceServiceInst.setFlashDetails(e.svc_response.flashMessage),angular.isDefined(e.svc_response.min)?d.setOpinionLabCookie(e.svc_response.esn,e.svc_response.min,""):angular.isDefined(e.svc_response.esn)&&d.setOpinionLabCookie(e.svc_response.esn,"",""),i(e)})).catch((function(e){c(e)}))}}))},provisioningWithPin:function(e){return n.info("activationPin service!! ...",e),i((function(n,a){pinprovisioning=function(e){return o.run(e,t.get("serviceorderact"),r.get("serviceorderact"))};var i=DeviceServiceInst.getOrderItems(e.airtimepin,e.serviceplanid,e.action,e.zip_code,e.isRedeemNow),s=[];s=angular.isDefined(e.promo)?[{id:e.promo}]:void 0,this.pinprovisioning({webobjid:e.webobjid?e.webobjid:DeviceServiceInst.getSelectedDevice().accountId,order_items:i,prod_promos:s}).then((function(e){var t=new Date((new Date).setFullYear((new Date).getFullYear()+10));d.setCookie("tfUserLoggedin",t),n(e)})).catch((function(e){a(e)}))}))},removeUserDevice:function(e){return n.info("removeUserDevice service!! ..."),i((function(n,a){removedevice=function(e){return o.run(e,t.get("deldevice").esn,r.get("deldevice"))},this.removedevice({account_id:e.account_id,esn:e.esn}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},sendVerificationCode:function(e){return n.info("sendVerificationCode service!! ..."),i((function(n,a){sendVerificationCode=function(e){return o.run(e,t.get("sendVerificationCode").smsVerification,r.get("sendVerificationCode"))},this.sendVerificationCode({min:e.min,initialrequestvalue:e.initialrequestvalue,type:e.type}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},validateVerificationCode:function(e){return n.info("validateVerificationCode service!! ..."),i((function(n,a){validateVerificationCode=function(e){return o.run(e,t.get("validateVerificationCode").smsValidation,r.get("validateVerificationCode"))},this.validateVerificationCode({min:e.min,verificationCode:e.verificationCode}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},requestCode:function(e){return i((function(n,a){requestCode=function(e){return o.run(e,t.get("sendVerificationCode").requestCode,r.get("sendVerificationCode"))},this.requestCode({min:e.min,type:e.type,resourceCategory:e.resourceCategory}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},validateCode:function(e){return i((function(n,a){validateCode=function(e){return o.run(e,t.get("validateVerificationCode").validateCode,r.get("validateVerificationCode"))},this.validateCode({min:e.min,type:e.type,verificationCode:e.verificationCode,resourceCategory:e.resourceCategory}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getRewardBenefits:function(e){return n.info("getRewardBenefits service!! ..."),i((function(n,a){rewardbenefits=function(e){return o.run(e,t.get("upgradepoints"),r.get("upgradepoints"))},this.rewardbenefits({esn:e.esn}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getaccessToken:function(e){return n.info("getaccessToken service!! ..."),i((function(n,a){accesstoken=function(e){return o.run(e,t.get("accesstoken"),r.get("accesstoken"))},this.accesstoken({subscriberid:e.subscriberid}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},addDevices:function(e){return n.info("addUserDevice service!! ..."),i((function(n,a){validatedevice=function(e){return o.run(e,t.get("validatedevice").valdevice,r.get("validatedevice"))},adddevice=function(e){return o.run(e,t.get("adddevice").account,r.get("adddevice"))};var i=e.device,l=e.device,d=e.device,u=e.securityPin,p=s.getInputType(e.device);angular.equals(p,"MIN")?this.validatedevice({min:e.device}).then((function(e){"0"!=e.error_code?a(error):this.adddevice({account_id:c.getAccountId(),esn:e.svc_response.esn,min:i,securityPin:u}).then((function(e){n(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)})):(angular.equals(p,"ESN")?d=void 0:l=void 0,this.adddevice({account_id:c.getAccountId(),esn:l,iccid:d,securityPin:u}).then((function(e){n(e)})).catch((function(e){a(e)})))}))},getAccountDevices:function(a){n.info("getAccountDevices service!! ...");var s={};return i((function(a,i){getaccountdevices=function(e){return o.run(e,t.get("accountdetails").accountdevices,r.get("accountdevices"))},getlimitedaccountdevices=function(e){return o.run(e,t.get("accountdetails").min,r.get("accountdevices"))},c.isLimitedAccess()?this.getlimitedaccountdevices({min:c.getEmail()}).then((function(t){n.info("accountdetails-limited",t),DeviceServiceInst.setActiveDevices(t.active_devices),DeviceServiceInst.setAllDevices(t.all_devices),DeviceServiceInst.setActiveGroupDevices(t.active_group_devices),DeviceServiceInst.setActiveGroups(t.active_groups),DeviceServiceInst.setInactiveGroups(t.inactive_groups),DeviceServiceInst.setActiveGroupsAvailable(t.active_group_available),DeviceServiceInst.setRedemptionDevices(t.redemption_devices),DeviceServiceInst.setIldEligibleDevices(t.ildeligible_devices),DeviceServiceInst.setPastDueDevices(t.pastdue_devices),DeviceServiceInst.setInactiveDevices(t.inactive_devices),DeviceServiceInst.setInvalidStatusDevices(t.invalid_devices),DeviceServiceInst.deviceCount(t.device_count),
DeviceServiceInst.setBanDetails(t.ban_details),DeviceServiceInst.setAllLinesAutoRefilllEnabled(t.allLinesAutoRefill),DeviceServiceInst.getRedemptionDevices().length>0&&DeviceServiceInst.setLimitedAccessDevice(DeviceServiceInst.getRedemptionDevices()[0]),n.info("accountdetails-limited device",DeviceServiceInst.getLimitedAccessDevice()),s=t,e.features.multiline&&s.ban_details&&s.ban_details.ban_id?DeviceServiceInst.getAccountRenewal({ban_id:s.ban_details.ban_id}).then((function(e){s.renewal_details=e.renewal_details,a(s)})).catch((function(e){a(s)})):a(s)})).catch((function(e){i(e)})):this.getaccountdevices({account_id:c.getAccountId()}).then((function(t){n.info("accountdetails",t),DeviceServiceInst.setActiveDevices(t.active_devices),DeviceServiceInst.setAllDevices(t.all_devices),DeviceServiceInst.setActiveGroupDevices(t.active_group_devices),DeviceServiceInst.setActiveGroups(t.active_groups),DeviceServiceInst.setInactiveGroups(t.inactive_groups),DeviceServiceInst.setActiveGroupsAvailable(t.active_group_available),DeviceServiceInst.setRedemptionDevices(t.redemption_devices),DeviceServiceInst.setIldEligibleDevices(t.ildeligible_devices),DeviceServiceInst.setPastDueDevices(t.pastdue_devices),DeviceServiceInst.setInactiveDevices(t.inactive_devices),DeviceServiceInst.setInvalidStatusDevices(t.invalid_devices),DeviceServiceInst.deviceCount(t.device_count),DeviceServiceInst.setBanDetails(t.ban_details),DeviceServiceInst.setLRPDetails(t.lrp_information),s=t,e.features.multiline&&s.ban_details&&s.ban_details.ban_id?DeviceServiceInst.getAccountRenewal({ban_id:s.ban_details.ban_id}).then((function(e){s.renewal_details=e.renewal_details,a(s)})).catch((function(e){a(s)})):a(s)})).catch((function(e){i(e)}))}))},getAccountRenewal:function(e){return n.info("getAccountRenewal service!! ..."),i((function(a,i){accountrenewal=function(e){return o.run(e,t.get("getaccountrenewal"),r.get("getaccountrenewal"))};var s;DeviceServiceInst.getRedemptionDevices().length>0&&(s=DeviceServiceInst.getRedemptionDevices()[0].zipcode),s=s||l.default_zipcode,this.accountrenewal({ban_id:e.ban_id,zipcode:s}).then((function(e){n.info("account renewal",e),DeviceServiceInst.setRenewalDetails(e.renewal_details),a(e)})).catch((function(e){i(e)}))}))},setSimToDevice:function(e){angular.isDefined(DeviceServiceInst.getSelectedDevice().sim)||(DeviceServiceInst.getSelectedDevice().sim={iccid:""}),DeviceServiceInst.getSelectedDevice().sim.iccid=e},validatePortUpgrade:function(e){return n.info("validatePortUpgrade service!! ..."),i((function(n,a){validatedevice=function(e){return o.run(e,t.get("validatedevice").valdevice,r.get("validatedevice"))},validatedeviceport=function(e){return o.run(e,t.get("validatedevice").valdeviceport,r.get("validatedevice"))},angular.isDefined(e.port_brand)?this.validatedeviceport({min:e.device,port_brand:e.port_brand}).then((function(e){DeviceServiceInst._data.portupgrade_device=e.svc_response,n(e)})).catch((function(e){a(e)})):this.validatedevice({min:e.device}).then((function(e){DeviceServiceInst._data.portupgrade_device=e.svc_response,n(e)})).catch((function(e){a(e)}))}))},isActivationFlow:function(e){var t;return!(!(t=e||DeviceServiceInst.getSelectedDevice())||!angular.isDefined(t.execution_plan)||t.execution_plan!==l.transaction_type.activation&&t.execution_plan!==l.transaction_type.reactivation&&t.execution_plan!==l.transaction_type.internal_port&&t.execution_plan!==l.transaction_type.phone_upgrade&&t.execution_plan!==l.transaction_type.external_port)},isDeviceUsedOrPastDueWithLineReserve:function(e){if(e){var t=e.deviceStatus;if(n.info("device status - ",t),(t==l.device_status.used||t==l.device_status.past_due)&&1==e.reservedLine)return!0}return!1},isDeviceNewOrRefurbishWithLineReserve:function(e){var t=e.deviceStatus;return n.info("device status - ",t),(t==l.device_status.new_device||t==l.device_status.refurbish)&&1==e.reservedLine},isDeviceNotActive:function(e){if(e){var t=e.deviceStatus;if(n.info("device status - ",t),angular.equals(l.device_status.new_device,t)||angular.equals(l.device_status.used,t)||angular.equals(l.device_status.past_due,t)||angular.equals(l.device_status.refurbish,t))return!0}return!1},removeDeviceFromAccount:function(e){return n.info("removeDeviceFromAccount service!! ..."),i((function(n,a){removedevice=function(e){return o.run(e,t.get("deldevicefromaccount").esn,r.get("deldevicefromaccount"))},this.removedevice({account_id:e.account_id,esn:e.esn}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},removeGroupFromAccount:function(e){return n.info("removeGroupFromAccount service!! ..."),i((function(n,a){removegroup=function(e){return o.run(e,t.get("deldevice").group,r.get("deldevice"))},this.removegroup({group_id:e.device.group.groupId,esn:e.device.esn}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},removeDeviceFromGroup:function(e){return n.info("removeDeviceFromGroup service!! ..."),i((function(n,a){removefromgroup=function(e){return o.run(e,t.get("deldevice").remove_from_group,r.get("deldevice"))},this.removefromgroup({esn:e.esn,account_id:e.account_id}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},isPortFlow:function(){n.info("Inside isPortFlow method -- ",DeviceServiceInst.getSelectedDevice());var e=!1;return DeviceServiceInst.getSelectedDevice()&&(angular.equals(l.transaction_type.internal_port,DeviceServiceInst.getSelectedDevice().execution_plan)||angular.equals(l.transaction_type.external_port,DeviceServiceInst.getSelectedDevice().execution_plan))&&(e=!0),n.info("Exit isPortFlow method --\x3e ",e),e},relatedPartiesDetails:function(t){n.info("relatedPartiesDetails service!! ... --\x3e ",t);var a={};t.isPortFlow?(a.id=t.webobjid,angular.isDefined(DeviceServiceInst.getPortAddress())&&(a.firstName=DeviceServiceInst.getPortAddress().fname,a.lastName=DeviceServiceInst.getPortAddress().lname)):a.id=t.webobjid;var i=[{party:{partyID:l.partyida,individual:a},roleType:l.roletypec},{party:{partyID:l.partyida,languageAbility:e.language,partyExtension:[{name:l.partytransactionid,value:l.partytransactionval},{name:l.sourcesystem,value:e.source_system}]},roleType:l.roletypeint}];return n.info("relatedPartiesDetails service!! ... --\x3e ",i),i},getOrdemItemExtension:function(){n.info("Inside getOrdemItemExtension function --\x3e ",DeviceServiceInst.getAccountDetails(),DeviceServiceInst.getLastFourDigits(),DeviceServiceInst.getCurrentMin());var e=[];if(angular.isDefined(DeviceServiceInst.getCurrentMin())){var t={name:l.currentmin,value:DeviceServiceInst.getCurrentMin()};e.push(t)}if(angular.isDefined(DeviceServiceInst.getLastFourDigits())){var a={name:l.handset_lastfour,value:DeviceServiceInst.getLastFourDigits()};e.push(a)}if(angular.isDefined(DeviceServiceInst.getAccountDetails())){var i={name:l.portdetails.accountnumber,value:DeviceServiceInst.getAccountDetails().accnumber};e.push(i);var r={name:l.portdetails.accountsecret,value:DeviceServiceInst.getAccountDetails().acckey};e.push(r)}return n.info("Exit getOrdemItemExtension function --\x3e ",e),e},getCustomerAccount:function(){n.info("Inside getCustomerAccount method --\x3e",DeviceServiceInst.getPortAddress());var t,a=[];if(angular.isDefined(DeviceServiceInst.getPortAddress())){if(angular.isDefined(DeviceServiceInst.getPortAddress().fname)&&angular.isDefined(DeviceServiceInst.getPortAddress().lname)){var i={name:l.portaddress.firstname,value:DeviceServiceInst.getPortAddress().fname};a.push(i);var r={name:l.portaddress.lastname,value:DeviceServiceInst.getPortAddress().lname};a.push(r);var o={name:l.portaddress.first_name,value:DeviceServiceInst.getPortAddress().fname};a.push(o);var s={name:l.portaddress.last_name,value:DeviceServiceInst.getPortAddress().lname};a.push(s)}var c={name:l.portdetails.lastfourssn,value:DeviceServiceInst.getAccountDetails().acckey};a.push(c)}return n.info("Inside getCustomerAccount method customer_extn --\x3e",a),t=angular.isDefined(DeviceServiceInst.getPortAddress())&&e.features.multiline?{customerAccountContact:[{contactMedium:{contactDetails:[{city:DeviceServiceInst.getPortAddress().city,zipcode:DeviceServiceInst.getPortAddress().zipcode,stateOrProvince:DeviceServiceInst.getPortAddress().state,street1:DeviceServiceInst.getPortAddress().address1,street2:DeviceServiceInst.getPortAddress().address2}],type:l.portdetails.postalAddress}},{contactDetails:[{number:DeviceServiceInst.getPortAddress().phone}],type:l.telephone_number}],customerAccountExtension:a}:angular.isDefined(DeviceServiceInst.getPortAddress())?{customerAccountContact:[{contactMedium:{contactDetails:[{city:DeviceServiceInst.getPortAddress().city,postcode:DeviceServiceInst.getPortAddress().zipcode,stateOrProvince:DeviceServiceInst.getPortAddress().state,street1:DeviceServiceInst.getPortAddress().address1,street2:DeviceServiceInst.getPortAddress().address2}],type:l.postalAddress}},{contactDetails:[{number:DeviceServiceInst.getPortAddress().phone}],type:l.telephone_number}],customerAccountExtension:a}:void 0,n.info("Exit getCustomerAccount method --\x3e ",t),t},getServiceDetails:function(){n.info("Inside getServiceDetails function --\x3e ");var e;return e=angular.isDefined(DeviceServiceInst.getSelectedDevice().port_brand)&&angular.isDefined(DeviceServiceInst.getAccountDetails())?{carrier:[{name:DeviceServiceInst.getSelectedDevice().port_brand,value:DeviceServiceInst.getAccountDetails().carriertype}]}:angular.isDefined(DeviceServiceInst.getPortupgradeDevice())?{carrier:[{name:DeviceServiceInst.getPortupgradeDevice().brand,type:l.wireless}]}:void 0,n.info("Inside getServiceDetails function --\x3e ",e),e},getPortInformation:function(){n.info("Inside setPortInformation method --\x3e ");var e={orderItemExtension:DeviceServiceInst.getOrdemItemExtension(),customerAccount:DeviceServiceInst.getCustomerAccount(),service:DeviceServiceInst.getServiceDetails()};return n.info("Exit setPortInformation method  -> ",e),e},clearDeviceOTAByMin:function(e){return n.info("deviceservice::clearDeviceOTA",e),i((function(n,a){clearOTASvc=function(e){return o.run(e,t.get("clearota").esn,r.get("clearota"))},this.clearOTASvc({min:e.min}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getDevicesByGroupId:function(e){console.log("getDevicesByGroupId --\x3e ",DeviceServiceInst.getActiveGroupDevices());var t=[];return angular.forEach(DeviceServiceInst.getActiveGroupDevices(),(function(n,a){var i=n.groupInfo?n.groupInfo:n.group;(i.group_id?i.group_id:i.groupId)==e&&t.push(n)})),t},getAllDevicesByGroupId:function(e){var t=[],n=DeviceServiceInst.getActiveGroups(),a=DeviceServiceInst.getInactiveGroups(),i=[];return angular.merge(i,n,a),angular.forEach(i,(function(n,a){angular.forEach(n.devices,(function(n,a){var i=n.groupInfo?n.groupInfo:n.group;(i.group_id?i.group_id:i.groupId)===e&&t.push(n)}))})),t},getGroupInfoByESN:function(e){var t=DeviceServiceInst.getActiveGroups(),n=DeviceServiceInst.getInactiveGroups(),a=[];angular.merge(a,t,n);var i=void 0;return angular.forEach(a,(function(t,n){angular.isUndefined(i)&&angular.forEach(t.devices,(function(t,n){angular.isDefined(t)&&t.esn&&t.esn===e&&(i=t.group)}))})),i},getDeviceDetails:function(e){var t=DeviceServiceInst.getActiveGroups(),a=DeviceServiceInst.getInactiveGroups(),i=[];n.info("Inside getDeviceDetails function --\x3e  existingdevice ",e,t,a),angular.merge(i,t,a);var r=void 0;angular.forEach(i,(function(t,a){angular.isUndefined(r)&&angular.forEach(t.devices,(function(t,a){angular.isDefined(t)&&t.esn&&(n.info("Inside getDeviceDetails function --\x3e  device.esn, existingdevice.esn ",t.esn,e.esn),t.esn===e.esn&&(r=t,e.stagedWithPin?r.stagedWithPin=e.stagedWithPin:e.servicepin&&(r.stagedWithPin=!0),n.info("Inside getDeviceDetails function --\x3e  Setting refreshed device deviceDt ",r),DeviceServiceInst.setRefreshedDevice(r)))}))}))},updateDependencies:function(){DeviceServiceInst.setLRPDetails(DeviceServiceInst._data.lrpDetails)},checkLrpReactivationScenario:function(){var e=!1,t=DeviceServiceInst.getInactiveDevices();return t&&1==t.length&&t[0].execution_plan===l.transaction_type.reactivation&&t[0].reservedLine&&(e=!0),e},getProductOfferingPrograms:function(e){return i((function(n,a){getProductOffering=function(e){return o.run(e,t.get("productoffering").productoffering,r.get("productoffering"))},this.getProductOffering(e).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getDeviceVasPlanInfo:function(e){return n.info("getDeviceVasPlanInfo service!! ..."),i((function(a,i){getenrolledvasplans=function(e){return o.run(e,t.get("getVasPlan").get_vas_plans,r.get("getVasPlan").get_vas_plans)},angular.isDefined(e.esn)&&this.getenrolledvasplans(e).then((function(e){n.info("getDeviceVasPlans service response!! ...",e),a(e)})).catch((function(e){i(e)}))}))},isDeviceOnLifeline:function(e){return!("TOTAL_WIRELESS"!=e.brand||!angular.isDefined(e.servicePlanPartNumber)||"TWAPP00350SL"!==e.servicePlanPartNumber)},isTransactionAllowed:function(t,n){var a={isTransactionAllowed:!0,errorScriptId:""};if(e.features.groupbased&&t){var i=angular.isDefined(t.reserveCount)?parseInt(t.reserveCount):0,r=!(!n&&!angular.isDefined(DeviceServiceInst.getExistingGroup()));n&&angular.isDefined(t.deviceType)&&t.deviceType==l.device_type.signal_device?(a.isTransactionAllowed=!1,a.errorScriptId="ERROR_1986158"):i>0&&r&&(a.isTransactionAllowed=!1,angular.isDefined(DeviceServiceInst.getExistingGroup())?a.errorScriptId="ACRE_1149":a.errorScriptId="ACRE_1148")}return a},appleCareEligibility:function(e){var a={};return n.info("Validatedevice service!! ..."),i((function(i,c){if(validatedevice=function(e){return o.run(e,t.get("validatedevice").valdevice,r.get("validatedevice"))},n.info("Checking selected device !! ",e),n.info(DeviceServiceInst.getSelectedDevice()),!e.noCache&&angular.isDefined(DeviceServiceInst.getSelectedDevice())&&(DeviceServiceInst.getSelectedDevice().min===e.device||DeviceServiceInst.getSelectedDevice().esn===e.device||DeviceServiceInst.getSelectedDevice().sim&&DeviceServiceInst.getSelectedDevice().sim.iccid===e.device))a.svc_response=DeviceServiceInst.getSelectedDevice(),angular.isDefined(DeviceServiceInst.getSelectedDevice().flashMessage)&&DeviceServiceInst.setFlashDetails(a.svc_response.flashMessage),angular.isDefined(a.svc_response.min)?d.setOpinionLabCookie(a.svc_response.esn,a.svc_response.min,""):d.setOpinionLabCookie(a.svc_response.esn,"",""),a.error_code="0",n.info("Validatedevice service reruning device already present!! ..."),n.info(a),i(a);else{n.info("Same device does not exist in session or noCache is set in request - calling Validatedevice service ");var l=s.getInputType(e.device);angular.equals(l,"MIN")?this.validatedevice({min:e.device,background:e.background}).then((function(e){DeviceServiceInst._data.device=e.svc_response,angular.isDefined(e.svc_response.flashMessage)&&DeviceServiceInst.setFlashDetails(e.svc_response.flashMessage),angular.isDefined(e.svc_response.esn)?d.setOpinionLabCookie(e.svc_response.esn,e.svc_response.min,""):d.setOpinionLabCookie("",e.svc_response.min,""),i(e)})).catch((function(e){c(e)})):angular.equals(l,"ESN")?this.validatedeviceesn({min:e.device}).then((function(e){DeviceServiceInst._data.device=e.svc_response,angular.isDefined(e.svc_response.flashMessage)&&DeviceServiceInst.setFlashDetails(e.svc_response.flashMessage),angular.isDefined(e.svc_response.min)?d.setOpinionLabCookie(e.svc_response.esn,e.svc_response.min,""):d.setOpinionLabCookie(e.svc_response.esn,"",""),i(e)})).catch((function(e){c(e)})):this.validatedevicesim({min:e.device}).then((function(e){DeviceServiceInst._data.device=e.svc_response,angular.isDefined(e.svc_response.flashMessage)&&DeviceServiceInst.setFlashDetails(e.svc_response.flashMessage),angular.isDefined(e.svc_response.min)?d.setOpinionLabCookie(e.svc_response.esn,e.svc_response.min,""):angular.isDefined(e.svc_response.esn)&&d.setOpinionLabCookie(e.svc_response.esn,"",""),i(e)})).catch((function(e){c(e)}))}}))},isDeviceStatusValid:function(){if(angular.isDefined(DeviceServiceInst.getSelectedDevice())){var e=DeviceServiceInst.getSelectedDevice().deviceStatus;if(n.info("device status - ",e),angular.equals(l.device_status.exchange,e)||angular.equals(l.device_status.overdue_exchange,e)||angular.equals(l.device_status.stolen,e)||angular.equals(l.device_status.risk_assestment,e))return!1}return!0},isDeviceStatusNew:function(){if(angular.isDefined(DeviceServiceInst.getSelectedDevice())){var e=DeviceServiceInst.getSelectedDevice().deviceStatus;if(n.info("device status - ",e),angular.equals(e,l.device_status.new_device))return!0}return!1},isCarrierPending:function(){if(angular.isDefined(DeviceServiceInst.getSelectedDevice())){var e=DeviceServiceInst.getSelectedDevice().transactionPending;if(n.info("device transactionPending - ",e),angular.isDefined(e)&&angular.equals(e,l.device_status.carrier_pending))return!0}return!1},isOtaPending:function(){if(angular.isDefined(DeviceServiceInst.getSelectedDevice())){var e=DeviceServiceInst.getSelectedDevice().transactionPending;if(n.info("device transactionPending - ",e),angular.isDefined(e)&&angular.equals(e,l.device_status.ota_pending))return!0}return!1},isSimDiffBrand:function(){var t=DeviceServiceInst.getSelectedDevice().brand;return n.info("device brand - ",t),!(!angular.isDefined(t)||!angular.equals(t,e.brand))},isDeviceHppAppleCareEligible:function(){var e=DeviceServiceInst.isDeviceActiveLessThanMonth(device),t=DeviceServiceInst.getSelectedDevice().manufacturer,a=DeviceServiceInst.getSelectedDevice().deviceStatus;return n.info("device status - ",a),angular.isDefined(t)&&angular.equals(t,l.manufacturer.apple)&&(angular.equals(a,l.device_status.new_device)||e)},isDeviceActiveLessThanMonth:function(){var e=DeviceServiceInst.getSelectedDevice().activationDate;if(angular.isDefined(e)){var t=(new Date).getTime()-2592e6;if(new Date(e).getTime()>t)return!0}return!1}},DeviceServiceInst}function t(){var t={};return{setData:function(e){t=e},$get:["$appConfig","$svcConfig","$log","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$userService","$appConstants","$cookieService",function(n,a,i,r,o,s,c,l,d,u,p){var v=e(n,a,i,r,o,s,c,l,d,u,p);return angular.isDefined(t)&&t&&(v._data=t,v.updateDependencies()),r.$on("system-reset",(function(e,t){v._data={},v._data={active_devices:[],pastduedevices:[],inactiveDevices:[],invalidStatusDevices:[],redemptionDevices:[],ildEligibleDevices:[],allDevices:[],lrpDetails:{}},v.updateDependencies()})),r.$watch((function(){return v._data}),(function(e,t){e&&c.setSessionItem("$deviceService",e)}),!0),v}]}}angular.module("app").provider("$deviceService",t),angular.module("app").config(["$deviceServiceProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$deviceService"))}])})(),(function(){function e(e,t,n,a,i,r,o){function s(i,s,c){e.debug("$done/processOutcome",i,s);var l=n.current.$$route,d=a.redirects,u=void 0;o.isLoggedIn()||"/myaccount/paymentmethod"===l.originalPath&&r.setRoute(l.originalPath),angular.isDefined(d[i])?(e.debug("$done/processOutcome/globalredirect",i,s),u=d[i]):"function"==typeof l.on&&angular.isDefined(l.on()[i])&&(e.debug("$done/processOutcome/redirect",i,s),u=l.on()[i]),angular.isDefined(u)&&(e.debug("$done/processOutcome/url",u),!a.features.isHomeNew||"/"!==u&&"/home"!==u?(datastore[u]=c,t.url(u),angular.isDefined(s)&&(e.debug("$done/processOutcome/params",s),t.search(angular.merge(t.search(),s)))):window.location.href="/")}return this._store={},i.$on("$routeChangeError",(function(e,t,n,a){console.log(a),s(a,{},{})})),datastore=this._store,{redirect:s,getData:function(e){return angular.isDefined(datastore[e])?datastore[e]:{}}}}angular.module("app").service("$done",e),e.$inject=["$log","$location","$route","$appConfig","$rootScope","$deviceService","$userService"]})(),(function(){function e(e,t,n,a,i,r){return DownloadServiceInst={downloadInvoiceFile:function(a){n.debug("$appConfig.invoice_download_url ",t.invoice_download_url,a.fileURL);var i=t.invoice_download_url+a.fileURL;return n.debug("File URL to download the invoice is ",i),e({headers:{"Allowed-Grant":"RO"},method:"GET",responseType:"blob",url:i}).then((function(e){n.debug("Invoice file download respose is  ",e);var t=new Blob([e.data],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)n.debug("Opening in IE "),window.navigator.msSaveOrOpenBlob(t,"InvoiceFile.pdf");else{n.debug("Opening in NON IE ");var a=URL.createObjectURL(t),i=document.createElement("a");document.body.appendChild(i),i.download="InvoiceFile.pdf",i.href=a,i.click()}}))}},DownloadServiceInst}angular.module("app").service("$downloadservice",e),e.$inject=["$http","$appConfig","$log","$serviceUriConfig","$location","$sce"]})(),(function(){function e(e,t,n,a,i){return EmailServiceInst={getEmailBody:function(){return e.get(t.email_body_location).then((function(e){return e.data}))},sendemail:function(e){return i.run(e,n.get("sendemail").sendemail,a.get("sendemail"))}},EmailServiceInst}angular.module("app").service("$emailservice",e),e.$inject=["$http","$appConfig","$svcConfig","$voMapConfig","$serviceUtils"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g){var m;return EnrollmentServiceInst={setEnrolledDetails:function(e){EnrollmentServiceInst.enrolled_plan=e},enrolledPlan:function(){return EnrollmentServiceInst.enrolled_plan},setEnrolledSummary:function(e){EnrollmentServiceInst.enrollSummary=e},getEnrolledSummary:function(){return EnrollmentServiceInst.enrollSummary},clearSelectedDevice:function(){EnrollmentServiceInst.enrolled_plan=void 0},getEnrollmentServicePlans:function(n){return t.info("getEnrollmentServicePlans service!! ..."),a((function(t,a){enrollserviceplan=function(t){return i.run(t,e.get("enrollserviceplan").plans,c.get("enrollserviceplan"))};var r={smartphoneplans:[],paygoplans:[],addons:[]};s.validateUserDevice({device:n.min}).then((function(e){this.enrollserviceplan({min:n.min}).then((function(e){angular.forEach(e.service_plans,(function(e,t){e.recurring_plan&&!e.ild_sup?"SmartPhone Only Plans"===e.plan_type?r.smartphoneplans.push(e):r.paygoplans.push(e):e.ild_sup&&r.addons.push(e)})),e.plan_details=r,t(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))},enrollmentCheckout:function(e){return t.info("enrollmentCheckout service!! ..."),a((function(n,a){var i=e.data,r=EnrollmentServiceInst.enrolled_plan,c={status:"success"};angular.isDefined(s.getSelectedDevice().auto_refill_enabled)&&s.getSelectedDevice().auto_refill_enabled?(t.debug(EnrollmentServiceInst.enrolled_plan),angular.isDefined(r)&&r.programId===i.program_id?(t.info("Current program id and Destination progid are same"),m={error_code:"999",error_message:"Current program id and Destination programid are same Please select a Different  Plan"},t.info(m),a(m)):(o.emptyCart(),o.addPlanToCart(i),n(c))):(o.emptyCart(),o.addPlanToCart(i),n(c))}))},changeEnrollmentDetails:function(n){return t.info("changeEnrollmentDetails service!! ...",n),a((function(a,r){enrollplanchange=function(t){return i.run(t,e.get("enrollplanchange"),c.get("enrollplanchange"))},productOrderManageEnroll=function(t){return i.run(t,e.get("productorder").manageEnroll,c.get("productorder"))};var o;n.address,n.cc_fields,n.paymentsourceID;if(d.features.groupbased){var s=!!n.isVas&&n.isVas;(n.isILDVas||s)&&(o={},o.planId=n.plan_id,o.programId=""+n.program_id)}else n.isILDVas&&(o={},o.planId=n.plan_id,o.programId=""+n.program_id);t.info("changeEnrollmentDetails service vas program!! ...",o),this.enrollplanchange({paymentSourceId:n.paymentsourceID,accountId:n.account_id,cvv:n.cvv,enrollNow:n.enrollNow,servicePlanId:n.plan_id,min:n.min,programId:n.program_id,vasProgram:o,isILDVas:n.isILDVas,planCategory:n.isHppPlan?l.orderitemaddoncategory:void 0}).then((function(e){a(e)})).catch((function(e){r(e)}))}))},enrollIntoHpp:function(t){return i.run(t,e.get("enrollIntoPlan"),c.get("enrollIntoPlan"))},getDeenrollmentReasons:function(n){return t.info("getDeenrollmentReasons service!! ..."),a((function(t,n){deenrollreasons=function(t){return i.run(t,e.get("deenroll").deenrolreasons,c.get("deenrolreasons"))},this.deenrollreasons({}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},deenrollAutorefill:function(n){return t.info("deenrollAutorefill service!! ...",n),a((function(t,a){deenroll=function(t){return i.run(t,e.get("deenroll").cancelenroll,c.get("cancelenroll"))},this.deenroll({email:n.email,reason:n.reason,billingAccount:n.billing_account}).then((function(e){t(e)})).catch((function(e){a(e)}))}))},deEnrollDevice:function(n){return t.debug("$enrollmentService/deEnrollDevice/entry",n),a((function(a,r){deenroll=function(t){return i.run(t,e.get("deenroll_device"),c.get("deenroll_device"))},this.deenroll(n).then((function(e){t.debug("$enrollmentService/deEnrollDevice/resolved",e),a(e)})).catch((function(e){t.debug("$enrollmentService/deEnrollDevice/rejected",e),r(e)}))}))},getDeviceEnrolledPlans:function(n){return t.info("getDeviceEnrolledPlans service!! ...",n),a((function(a,r){var o,d,u=angular.copy(n.device);u?(o=u.esn,d=!!n.background&&n.background):n.esn&&(o=n.esn,d=!!n.background&&n.background,o=s.getSelectedDevice()?s.getSelectedDevice()?s.getSelectedDevice().esn:void 0:g.get(l.session.device)?g.get(l.session.device).esn:void 0),getenrolledplans=function(t){return i.run(t,e.get("getenrolledplans"),c.get("getenrolledplans"))},angular.isDefined(o)&&this.getenrolledplans({esn:o,background:d||!1}).then((function(e){if(t.info("getDeviceEnrolledPlans service response!! ...",e,u),n&&n.paymentsrcid)if(e.enrollments=[],e.ildPlan&&e.basePlan&&e.basePlan.pymt_src.id==e.ildPlan.pymt_src.id&&e.ildPlan.pymt_src.id==n.paymentsrcid){var i;u&&(i=angular.copy(u),u.plans=[],u.plans.push(e.basePlan),i.plans=[],u.plans.push(e.ildPlan)),e.enrollments.push(angular.merge({plan:e.basePlan,pymt_src:e.basePlan.pymt_src,device:u})),e.enrollments.push(angular.merge({plan:e.ildPlan,pymt_src:e.ildPlan.pymt_src,device:i})),t.info("getDeviceEnrolledPlans service response::base plan and ILD plan pymetsrc id matched!! ...",angular.copy(e),angular.copy(u)),a(e)}else e.ildPlan&&e.ildPlan.pymt_src.id==n.paymentsrcid?(u&&(u.plans=[],u.plans.push(e.ildPlan)),e.enrollments.push(angular.merge({plan:e.ildPlan,pymt_src:e.ildPlan.pymt_src,device:u})),t.info("getDeviceEnrolledPlans service response::ILD plan pymetsrc id matched!! ...",angular.copy(e),angular.copy(u)),a(e)):e.basePlan&&e.basePlan.pymt_src.id==n.paymentsrcid?(u&&(u.plans=[],u.plans.push(e.basePlan)),e.enrollments.push(angular.merge({plan:e.basePlan,pymt_src:e.basePlan.pymt_src,device:u})),t.info("getDeviceEnrolledPlans service response::Base plan pymetsrc id matched!! ...",angular.copy(e),angular.copy(u)),a(e)):a(e);else a(e)})).catch((function(e){r(e)}))}))},getDeviceEnrolledHppPlans:function(n){return t.info("getDeviceEnrolledHppPlans service!! ...",n),a((function(a,r){var o=n.device?n.device.esn:n.esn;getenrolledhppplans=function(t){return i.run(t,e.get("getHppenrollPlan"),c.get("getHppenrollPlan"))},o&&this.getenrolledhppplans({esn:o}).then((function(e){t.info("getDeviceEnrolledPlans service response!! ...",e),a(e)})).catch((function(e){r(e)}))}))},getHppProgramsByDevice:function(n){return t.info("getHppProgramsByDevice service ...",n),a((function(a,r){getHppPrograms=function(t){return i.run(t,e.get("hppPrograms").bymin,c.get("hppPrograms"))},this.getHppPrograms({min:n.min}).then((function(e){t.info("getHppProgramsByDevice service response!! ...",e),a(e.programs)})).catch((function(e){r(e)}))}))},verifyEnrollmentDevice:function(e){return t.debug("enrollmentService::verifyEnrollmentDevice::",e),a((function(n,a){s.validateUserDevice(e).then((function(e){t.log("enrollmentService::verifyEnrollmentDevice:: validateuserdevice response",e.svc_response);var i=e.svc_response,r=i?i.deviceStatus:void 0;i&&i.transactionPending;i&&r&&r==l.device_status.active?i.flashMessage?(i.flow="FLASHMESSAGE",n(i)):i.isHandsetProtectionEligible?(i.flow="HPPELIGIBLE",n(i)):i.isHandsetProtectionEnrolled?(m=p.translateError({error_code:"-10117"},c.get("validatedevice")),s.clearSelectedDevice(),a(m)):i.hppeligiblemessage?(m=p.translateError({error_code:i.hppeligiblemessage},c.get("validatedevice")),s.clearSelectedDevice(),a(m)):(m=p.translateError({error_code:"-10116"},c.get("validatedevice")),s.clearSelectedDevice(),a(m)):angular.equals(i.hppeligiblemessage,12208)?(m=p.translateError({error_code:i.hppeligiblemessage},c.get("validatedevice")),s.clearSelectedDevice(),a(m)):(m=p.translateError({error_code:"-10108"},c.get("validatedevice")),s.clearSelectedDevice(),a(m))})).catch((function(e){a(e)}))}))},enrollIntoWifiCalling:function(n){return t.info("EnrollmentService/enrollIntoWifiCalling/entry",n),a((function(a,r){enrollwifi=function(t){return i.run(t,e.get("serviceorderact"),c.get("serviceorderact"))};var o=[{action:l.wificall_enrollment,product:{productSerialNumber:n.esn,productCategory:l.productcategory,productSpecification:{brand:d.brand}}}];this.enrollwifi({order_items:o}).then((function(e){t.info("EnrollmentService/enrollIntoWifiCalling/exit",e),t.info("EnrollmentService/enrollIntoWifiCalling/exit",e.svc_response.wifiIns),EnrollmentServiceInst.setEnrolledSummary(e.svc_response.wifiIns),t.info("EnrollmentService/enrollIntoWifiCalling/exit",EnrollmentServiceInst.getEnrolledSummary()),a(e)})).catch((function(e){r(e)}))}))},preprareDeviceEnrollments:function(e){t.info("enrollmentService::preprareDeviceEnrollments::",e,s.getSelectedDevice());var n={};n.protectionplan={},n.multilineView=!1;var i=!0,r=s.getSelectedDevice();return e&&e.device&&(r=e.device,s.selectDevice(r)),n.protectionplan.isHandsetProtectionEligible=!!r&&r.isHandsetProtectionEligible,n.protectionplan.isHandsetProtectionEnrolled=!!r&&r.isHandsetProtectionEnrolled,a((function(a,o){v.isBrandMultiLine()?(t.info("enrollmentService::preprareDeviceEnrollments::its a multiline brand with enrollment",s.getBanDetails()),EnrollmentServiceInst.prepareMultilineEnrollments(e).then((function(e){a(e)})).catch((function(e){o(e)}))):(!r&&e.esn?s.getAllDevices()&&s.getAllDevices().length>0&&angular.forEach(s.getAllDevices(),(function(t,n){t&&t.esn==e.esn&&(r=angular.copy(t),e.device=angular.copy(t))})):e.device=angular.copy(r),r&&r.isEnrolled?((r&&"HOTSPOT"==r.deviceType||"BYOT"==r.deviceType)&&(i=!1),r.plans=[],t.info("enrollmentService::preprareDeviceEnrollments::Has device enrolled getting the enrollment details",r),r.auto_refill_enabled||r.lowbalance_enabled?(t.info("enrollmentService::preprareDeviceEnrollments::devcice either has base or ild enrollment",r),EnrollmentServiceInst.getDeviceEnrolledPlans(e).then((function(o){t.info("enrollmentService::preprareDeviceEnrollments::getDeviceEnrolledPlans Returned",o),o.enrollments&&(n.enrollments=o.enrollments),r.auto_refill_enabled?(n.baseplan=o.basePlan,r.plans.push(n.baseplan)):n.baseplan=u.getPlanByDevice(r),r.lowbalance_enabled||o.ildPlan?(n.ildplan=o.ildPlan,r.plans.push(n.ildplan)):n.ildplan=i?u.getILdAddonPlan():void 0,r.isHandsetProtectionEnrolled?EnrollmentServiceInst.getDeviceEnrolledHppPlans(e).then((function(i){if(t.info("enrollmentService::preprareDeviceEnrollments::getDeviceEnrolledHppPlans Returned",i),i.hppplan&&i.hppplan.paymentsource_id){var o;angular.forEach(e.pymtsources,(function(e,t){!o&&e&&i.hppplan.paymentsource_id==e.id&&(o=angular.copy(e))})),i.hppplan.pymt_src=o,n.protectionplan=i.hppplan,r.plans.push(n.protectionplan)}e&&e.paymentsrcid&&i.hppplan&&i.hppplan.paymentsource_id==e.paymentsrcid&&n.enrollments?n.enrollments.push(angular.merge({plan:i.hppplan,pymt_src:i.hppplan.pymt_src,device:angular.copy(r)})):e&&e.paymentsrcid&&i.hppplan&&i.hppplan.paymentsource_id==e.paymentsrcid&&(n.enrollments=[],n.enrollments.push(angular.merge({plan:i.hppplan,pymt_src:i.hppplan.pymt_src,device:angular.copy(r)}))),n.protectionplan.isHandsetProtectionEligible=!0,n.protectionplan.isHandsetProtectionEnrolled=!0,r&&r.plans&&r.plans.length>0&&s.selectDevice(angular.copy(r)),n.device=angular.copy(r),a(n)})).catch((function(e){n.protectionplan.isHandsetProtectionEligible=!1,n.protectionplan.isHandsetProtectionEnrolled=!1,r&&r.plans&&r.plans.length>0&&s.selectDevice(angular.copy(r)),n.device=angular.copy(r),a(n)})):(r&&r.plans&&0==r.plans.length&&(r.plans=void 0),n.device=angular.copy(r),a(n))})).catch((function(e){o(e)
}))):r.isHandsetProtectionEnrolled?EnrollmentServiceInst.getDeviceEnrolledHppPlans(e).then((function(o){if(t.info("enrollmentService::preprareDeviceEnrollments::getDeviceEnrolledHppPlans Returned",o),o.hppplan&&o.hppplan.paymentsource_id){var c;angular.forEach(e.pymtsources,(function(e,t){!c&&e&&o.hppplan.paymentsource_id==e.id&&(c=angular.copy(e))})),o.hppplan.pymt_src=c,n.protectionplan=o.hppplan,s.getSelectedDevice().plans.push(n.protectionplan)}n.protectionplan=o.hppplan,e&&e.paymentsrcid&&o.hppplan&&o.hppplan.paymentsource_id==e.paymentsrcid&&(n.enrollments=[],n.enrollments.push(angular.merge({plan:o.hppplan,pymt_src:o.hppplan.pymt_src,device:angular.copy(r)}))),n.protectionplan.isHandsetProtectionEligible=!0,n.baseplan=u.getPlanByDevice(r),n.device=angular.copy(r),n.ildplan=i?u.getILdAddonPlan():void 0,n.protectionplan.isHandsetProtectionEligible=!0,n.protectionplan.isHandsetProtectionEnrolled=!0,a(n)})).catch((function(e){n.protectionplan.isHandsetProtectionEligible=!1,n.baseplan=u.getPlanByDevice(r),n.device=angular.copy(r),n.ildplan=i?u.getILdAddonPlan():void 0,n.protectionplan.isHandsetProtectionEnrolled=!1,a(n)})):(n.baseplan=u.getPlanByDevice(r),n.device=angular.copy(r),n.ildplan=i?u.getILdAddonPlan():void 0,a(n))):(n.baseplan=u.getPlanByDevice(r),n.device=angular.copy(r),n.ildplan=i?u.getILdAddonPlan():void 0,a(n)))}))},prepareMultilineEnrollDevice:function(e){t.info("enrollmentService::prepareMultilineEnrollDevice",e);var n={};n.multilineView=!1;var a=e.device,i=!0;if(n.device=a,n.protectionplan={},n.protectionplan.isHandsetProtectionEligible=!1,a.plans=[],e.isSingleLineAcct){var r=u.getPlanByDevice(a);if(n.baseplan=angular.copy(r),a.auto_refill_enabled){n.enrollments=[];var o;a&&a.paymentSourceId&&(angular.forEach(e.pymtsources,(function(e,t){!o&&e&&a.paymentSourceId==e.id&&(o=angular.copy(e))})),r.pymt_src=o),r.auto_refill=!0,r.nextChargeDate=s.getRenewalDetails().next_charge_date,n.baseplan=r,a.plans=[],a.plans.push(r),angular.isDefined(e.paymentsrcid)&&angular.isDefined(a.paymentSourceId)&&e.paymentsrcid==a.paymentSourceId?n.enrollments.push(angular.merge({plan:n.baseplan,pymt_src:n.baseplan.pymt_src,device:a})):n.enrollments.push(angular.merge({plan:n.baseplan,pymt_src:e.requestedPymtSource,device:a})),a.plans.push(n.baseplan)}}if((a&&"HOTSPOT"==a.deviceType||"BYOT"==a.deviceType)&&(i=!1),n.ildplan=i?u.getILdAddonPlan():void 0,a.lowbalance_enabled&&i){var o;n.enrollments||(n.enrollments=[]),n.ildplan.auto_refill=!0,a&&a.ildPaymentSourceId&&(angular.forEach(e.pymtsources,(function(e,t){!o&&e&&a.ildPaymentSourceId==e.id&&(o=angular.copy(e))})),n.ildplan.pymt_src=o),a.plans=[],a.plans.push(n.ildplan),e.paymentsrcid&&e.paymentsrcid==a.ildPaymentSourceId&&n.enrollments.push(angular.merge({plan:n.ildplan,pymt_src:n.ildplan.pymt_src,device:a}))}return s.getRedemptionDevices()&&s.getRedemptionDevices().length>0&&angular.forEach(s.getRedemptionDevices(),(function(t,i){a.esn!=t.esn&&t.lowbalance_enabled&&e.paymentsrcid==t.ildPaymentSourceId&&(n.enrollments||(n.enrollments=[]),t.plans=[],t.plans.push(u.getILdAddonPlan()),n.enrollments.push(angular.merge({plan:u.getILdAddonPlan(),pymt_src:e.requestedPymtSource,device:t})))})),a.plans&&0==a.plans.length&&(a.plans=void 0),n.device=angular.copy(a),t.info("enrollmentService::prepareMultilineEnrollDevice Response",n,a),n},prepareMultilineEnrollments:function(e){prepareMultilineEnrollmentsRes={},prepareMultilineEnrollmentsRes.multilineView=!1,t.info("enrollmentService::prepareMultilineEnrollment",e);var n=angular.copy(s.getSelectedDevice());t.info("enrollmentService::prepareMultilineEnrollments::Renewal Details and device",s.getRenewalDetails(),n);var i=!1;s.getBanDetails()&&(i=s.getBanDetails().isEnrolled,v.setBanId(s.getBanDetails().ban_id));var r=!0;s.getBanDetails().extensions&&s.getBanDetails().extensions.activeLines>1&&(r=!1),r||n||!i||(prepareMultilineEnrollmentsRes.multilineView=!0);var o;return a((function(a,i){if(e&&e.paymentsrcid&&angular.forEach(e.pymtsources,(function(t,n){t&&e.paymentsrcid==t.id&&(o=angular.copy(t))})),prepareMultilineEnrollmentsRes.multilineView){var c;prepareMultilineEnrollmentsRes.renewalDetails=s.getRenewalDetails(),angular.forEach(s.getRedemptionDevices(),(function(e,t){!c&&e&&e.auto_refill_enabled&&(c=angular.copy(e))})),t.info("enrollmentService::prepareMultilineEnrollments::devicereceived",c);var l;c&&c.paymentSourceId&&angular.forEach(e.pymtsources,(function(e,t){!l&&e&&c.paymentSourceId==e.id&&(l=angular.copy(e))})),c.plans=[],c.plans.push(u.getPlanByDevice(c)),prepareMultilineEnrollmentsRes.renewalDetails.pymt_src=l,prepareMultilineEnrollmentsRes.device=c,e&&e.paymentsrcid&&(prepareMultilineEnrollmentsRes.enrollments=[],c.paymentSourceId==e.paymentsrcid&&prepareMultilineEnrollmentsRes.enrollments.push(angular.merge({plan:prepareMultilineEnrollmentsRes.renewalDetails,pymt_src:prepareMultilineEnrollmentsRes.renewalDetails.pymt_src,device:c})),s.getRedemptionDevices()&&s.getRedemptionDevices().length>0&&angular.forEach(s.getRedemptionDevices(),(function(t,n){t.lowbalance_enabled&&e.paymentsrcid==t.ildPaymentSourceId&&(t.plans=[],t.plans.push(u.getILdAddonPlan()),prepareMultilineEnrollmentsRes.enrollments.push(angular.merge({plan:u.getILdAddonPlan(),pymt_src:o,device:t})))}))),t.info("enrollmentService::prepareMultilineEnrollments::finalresponse",prepareMultilineEnrollmentsRes),a(prepareMultilineEnrollmentsRes)}else if(n||r){var d={};d.device=n||angular.copy(s.getActiveDevices()[0]),d.isSingleLineAcct=r,d.pymtsources=e.pymtsources,d.paymentsrcid=e.paymentsrcid,d.requestedPymtSource=o,s.selectDevice(d.device),prepareMultilineEnrollmentsRes=EnrollmentServiceInst.prepareMultilineEnrollDevice(d),prepareMultilineEnrollmentsRes.renewalDetails=s.getRenewalDetails(),a(prepareMultilineEnrollmentsRes)}else e&&e.paymentsrcid&&(s.getRedemptionDevices()&&s.getRedemptionDevices().length>0&&angular.forEach(s.getRedemptionDevices(),(function(t,n){t.lowbalance_enabled&&e.paymentsrcid==t.ildPaymentSourceId&&(prepareMultilineEnrollmentsRes.enrollments||(prepareMultilineEnrollmentsRes.enrollments=[]),t.plans=[],t.plans.push(u.getILdAddonPlan()),prepareMultilineEnrollmentsRes.enrollments.push(angular.merge({plan:u.getILdAddonPlan(),pymt_src:o,device:t})))})),a(prepareMultilineEnrollmentsRes))}))},deenrollVasPlan:function(t){var n=EnrollmentServiceInst.deenrollVasRequest(t);return a((function(t,a){deenrollvasplans=function(t){return i.run(t,e.get("getVasPlan").cancel_vas_plan,c.get("getVasPlan").cancel_vas_plan)},this.deenrollvasplans(n).then((function(e){t(e)})).catch((function(e){a(e)}))}))},deenrollVasRequest:function(e){var t={};t.webobjid=e.accountId;var n=[],a={category:"VAS",status:"CANCEL",id:e.vasPlan.subscription_id,serviceSpecification:{id:e.vasPlan.part_number,brand:e.vasPlan.brand},supportingResource:{resourceIdentifier:e.esn,resourceType:l.productcategory}};if(n.push(a),t.service=n,e.address){var i=[],r={addressType:"BILLING",address:{firstName:e.address.firstname,lastName:e.address.lastname,addressLine1:e.address.address1,addressLine2:e.address.address2,city:e.address.city,stateOrProvince:e.address.state,zipCode:e.address.zipcode,country:e.address.country}};i.push(r),t.location=i}var o=[];return e.address&&(o.push({emailAddress:e.address.emailAddress}),t.contact=o),t},changeHppEnrollment:function(t){return a((function(n,a){enrollchangehpp=function(t){return i.run(t,e.get("enrollchangehpp"),c.get("enrollchangehpp"))},this.enrollchangehpp(t).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},EnrollmentServiceInst}angular.module("app").service("$enrollmentService",e),e.$inject=["$svcConfig","$log","$rootScope","$q","$serviceUtils","$paymentService","$cartService","$deviceService","$voMapConfig","$appConstants","$appConfig","$servicePlanSelectorService","$utils","$devicesCartServices","$sessionService"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l){var d,u={getEmail:function(){return this._email},getName:function(){return this._Name},getTfPassword:function(){return this._password},setTfPassword:function(e){this._password=e},setDetails:function(e){this._email=e.fb_email,this._name=e.fb_name},emptyDetails:function(){this._email=void 0,this._name=void 0,this._password=void 0,l.setFBToken(void 0)}};return FacebookServiceInst={_userDetails:u},FacebookServiceInst.getUserDetails=function(){return FacebookServiceInst._userDetails},FacebookServiceInst.initfacebook=function(){n.info("inside initfacebook init Facebook!!"),FB.init({appId:e.fb_appId,status:!1,xfbml:!1,cookie:!0,version:e.fb_sdkversion}),n.info("inside initfacebook init Facebook Completed!!")},FacebookServiceInst.checkfacebooklogin=function(e){return n.info("inside checkfacebooklogin"),i((function(e,t){FacebookServiceInst.initfacebook(),FB.login((function(t){n.info("checkfacebooklogin complted",t),e(t)}))}))},FacebookServiceInst.facebooklogin=function(e){return i((function(e,t){"undefined"!=typeof FB?(n.info("facebooklogin: user is not connected"),FacebookServiceInst.initfacebook(),FB.login((function(t){n.info(t),"connected"===t.status&&(n.info("facebooklogin: user is connected now"),FB.api("/me",{locale:"en_US",fields:"name, email"},(function(a){n.info(a),e(angular.merge(t,{fb_email:a.email,fb_name:a.name}))})))}),{scope:"email"})):(n.info("facebooklogin: Facebook cannot be Initialized"),d=c.translateError({error_code:"89239"},r.get("login")),n.info(d),t(d))}))},FacebookServiceInst.getfbuserdetails=function(e){return i((function(e,t){FB.api("/me",{locale:"en_US",fields:"id,name,first_name,email,last_name,gender,link,locale,age_range,token_for_business"},(function(t){n.info("Got FB User Info"),n.info(t),e(t)}))}))},FacebookServiceInst.verifyfblink=function(e){var a={};return i((function(i,u){checkfblinkstatus=function(e){return o.run(e,t.get("oauth").fblinking,r.get("fblinking"))},FacebookServiceInst.facebooklogin(e).then((function(e){a.status=!1,n.info("verifyfblink: user  got connected"),n.info(e),FacebookServiceInst.getUserDetails().setDetails(e),l.setFBToken(e.authResponse.accessToken),n.info("Inside FBlogin: Going For FB Tracfone linkingstatus Service!!"),this.checkfblinkstatus().then((function(t){if(n.info(t),angular.isDefined(t.linkInfo.access_token)&&angular.isDefined(t.linkInfo.account_id)){FacebookServiceInst.fblogout();var p=new Date;p=new Date(p.getTime()+1e3*(t.linkInfo.expires_in-60)),s.emptyDetails(void 0);var v={};v.account_id=t.linkInfo.account_id,v.email=e.fb_email,v.ro_expiry=p,s.setDetails(v),o.setSessionItem("$userService",UserServiceInst.getUserInfo()),s.startRoTimer(new Date(p).getTime()-(new Date).getTime()),l.setCCPToken({token:t.linkInfo.access_token,expiry_date:p.getTime(),refresh_token:void 0,limitedAccess:!1}),o.setSessionItem("$authService",l._data),n.info("Got FB TF RO NEW token"),FacebookServiceInst.fblogout(),a.status=!0,i(a)}else angular.isDefined(t.linkInfo.linkedStatus)&&"unlinked"===t.linkInfo.linkedStatus?(a.status=!1,a.fb_email=e.fb_email,s.setFBAcLoggedInNotLinked(!0),i(a)):(d=c.translateError({error_code:"5000"},r.get("fblinking")),n.info(d),FacebookServiceInst.fblogout(),u(d));i(t)})).catch((function(e){FacebookServiceInst.fblogout(),u(e)}))})).catch((function(e){u(e)}))}))},FacebookServiceInst.verifyfblinkupdateaccount=function(e){var a={};return i((function(i,s){checkfblinkstatus=function(e){return o.run(e,t.get("oauth").fblinking,r.get("fblinking"))},FacebookServiceInst.facebooklogin(e).then((function(e){a.status=!1,n.info("verifyfblinkupdateaccount: user  got connected"),n.info(e),FacebookServiceInst.getUserDetails().setDetails(e),l.setFBToken(e.authResponse.accessToken),n.info("Inside FBlogin: Going For FB Tracfone linkingstatus Service!!"),this.checkfblinkstatus().then((function(t){n.info(t),angular.isDefined(t.linkInfo.access_token)&&angular.isDefined(t.linkInfo.account_id)?(a.status=!0,i(a)):angular.isDefined(t.linkInfo.linkedStatus)&&"unlinked"===t.linkInfo.linkedStatus?(a.status=!1,a.fb_email=e.fb_email,i(a)):(d=c.translateError({error_code:"5000"},r.get("fblinking")),n.info(d),FacebookServiceInst.fblogout(),s(d)),i(t)})).catch((function(e){FacebookServiceInst.fblogout(),s(e)}))})).catch((function(e){s(e)}))}))},FacebookServiceInst.fblogout=function(){n.info("Facebooklogout called :: Logging out of facebook"),l.setFBToken(void 0),FacebookServiceInst.getUserDetails().emptyDetails(),FB.logout((function(){n.info("Facebooklogout called :: Logging out of facebook::finally")}))},FacebookServiceInst.linkaccounts=function(e){return linkaccountsResponse={},i((function(t,a){n.info("FacebookServiceInst.linkaccounts::Going for Ro token",e),s.userLogin(e).then((function(i){n.info("getrotoken:RO Login Succesfully returned"),n.info(i),FacebookServiceInst.getUserDetails().getEmail()===s.getEmail()?(n.info("both fb and tf emails are same going for linking"),FacebookServiceInst.updateandlinkaccts({accountid:s.getAccountId(),updateprofile:!1}).then((function(e){n.info("linkfbandtfaccts:Linking service returned",e),s.setFBAcLoggedInNotLinked(!1),linkaccountsResponse=e,n.info("linkfbandtfaccts:linkaccountsResponse",linkaccountsResponse),linkaccountsResponse.status&&(n.info("Account Linked Succesfully service returned "),FacebookServiceInst.fblogout(),t(linkaccountsResponse))})).catch((function(e){a(e)}))):(n.info("both fb and tf emails are not same going for sync"),FacebookServiceInst.getUserDetails().setTfPassword(e.password),linkaccountsResponse.status=!1,t(linkaccountsResponse))})).catch((function(e){a(e)}))}))},FacebookServiceInst.updateandlinkaccts=function(e){return updateandlinkacctsResponse={},i((function(t,a){e.updateprofile&&e.email===FacebookServiceInst.getUserDetails().getEmail()?(n.info("updateandlinkaccts::Update profile Is required"),s.updatecustlogin({accountid:s.getAccountId(),email_id:FacebookServiceInst.getUserDetails().getEmail(),password:FacebookServiceInst.getUserDetails().getTfPassword()}).then((function(e){if(n.info("updateandlinkaccts::Update customer login email service returned "),n.info(e),n.debug("Update login info response ",e),e.svc_response&&e.svc_response.access_token){var i=new Date;i=new Date(i.getTime()+1e3*(e.svc_response.expires_in-90)),s.setDetails(angular.merge({account_id:e.svc_response.accountId,email:e.svc_response.email,ro_expiry:i,limitedAccess:!1})),o.setSessionItem("$userService",s.getUserInfo()),s.startRoTimer(new Date(i).getTime()-(new Date).getTime()),l.setROToken({token:e.svc_response.access_token,expiry_date:i.getTime(),refresh_token:e.svc_response.refresh_token}),o.setSessionItem("$authService",l._data),n.info("userService::UserPasswordLogin::rotoken",l.getROToken())}n.info("updateandlinkaccts::Going for Linking the account "),FacebookServiceInst.linkFBTFAccts({}).then((function(e){n.info("linkfbandtfaccts:Linking service returned"),n.info(e),t(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))):(n.info("updateandlinkaccts::Going for Linking the account with no profile updates"),FacebookServiceInst.linkFBTFAccts({}).then((function(e){n.info("linkfbandtfaccts:Linking service returned"),n.info(e),t(e)})).catch((function(e){a(e)})))}))},FacebookServiceInst.linkFBTFAccts=function(e){return linkFBTFAcctsResponse={},i((function(e,a){linkaccts=function(e){return o.run(e,t.get("linkfbtfacct"),r.get("linkfbtfacct"))},this.linkaccts({accountid:s.getAccountId()}).then((function(t){n.info("linkfbandtfaccts:Linking service returned"),n.info(t),FacebookServiceInst.fblogout(),angular.isDefined(t.svc_response)&&"true"===t.svc_response.status?(linkFBTFAcctsResponse.status=!0,e(linkFBTFAcctsResponse)):(d=c.translateError({error_code:"89236"},r.get("linkfbtfacct")),n.info(d),a(d))})).catch((function(e){a(e)}))}))},FacebookServiceInst.createSocialMediaAcct=function(e){return i((function(a,i){createSocialMediaAcctSvc=function(e){return o.run(e,t.get("createuseracct").createfbacct,r.get("createfbacct"))},FacebookServiceInst.getfbuserdetails().then((function(t){this.createSocialMediaAcctSvc({esn:e.esn,email:e.email,password:e.password,dateOfBirth:e.dateOfBirth,securityCode:e.securityCode,zipcode:e.zipcode,fb_userid:t.id,fb_username:t.name,fb_email:t.email,fb_first_name:t.first_name,fb_last_name:t.last_name,fb_gender:t.gender,fb_ageRange:t.age_range,fb_link:t.link,fb_locale:t.locale,fb_buisnesstoken:t.token_for_business}).then((function(e){n.info("createSocialMediaAcctSvc:service returned"),n.info(e),FacebookServiceInst.fblogout(),a(e)})).catch((function(e){FacebookServiceInst.fblogout(),i(e)}))})).catch((function(e){i(e)}))}))},FacebookServiceInst}angular.module("app").factory("$facebookService",e),e.$inject=["$appConfig","$svcConfig","$log","$rootScope","$q","$voMapConfig","$serviceUtils","$userService","$utils","$authService"]})(),(function(){function e(e,t,n,a,i,r,o,s,c){return GuardsInst={loggedInUser:function(){var a=n.defer(),i=e.getUserInfo();return angular.isDefined(i)&&angular.isDefined(i.account_id)?a.resolve(i):a.reject(t.errors.user.loginuser),a.promise},userName:function(){var e=n.defer(),a=i.get(r.session.username);return angular.isDefined(a)?e.resolve(a):e.reject(t.errors.user.loginuser),e.promise},userAccount:function(){var e=n.defer();return a.getAccountDevices({}).then((function(t){e.resolve(t)})).catch((function(n){e.reject(t.errors.user.account)})),e.promise},wifiEligibility:function(){var e=n.defer(),a=i.get(r.session.wifieligibility);return angular.isDefined(a)?e.resolve(a):e.reject(t.errors.wic.noeligibilityfound),e.promise},deviceInSession:function(){var e=n.defer(),a=i.get(r.session.device);return angular.isDefined(a)?e.resolve(a):e.reject(t.errors.nodeviceinsession),e.promise},emailOrDeviceInSession:function(){var e,a=n.defer(),l=i.get(r.session.username);o.getAccountDetails().getAccountStatusDetails()&&o.getAccountDetails().getAccountStatusDetails().loginInput&&(e=o.getAccountDetails().getAccountStatusDetails().loginInput);var d=i.get(r.session.device);return s.info("Guard::emailOrDeviceInSession",l,e),l&&c.isEmail(l)?a.resolve(l):e?(i.set(r.session.username,e),a.resolve(e)):angular.isDefined(d)&&angular.isDefined(d.min)?a.resolve(d.min):a.reject(t.errors.user.loginuser),a.promise},isUserLoggedIn:function(){var a=n.defer();return e.initAuth().then((function(){e.isLoggedIn()?a.resolve():a.reject(t.signin)})),a.promise}},GuardsInst}angular.module("app").service("$guards",e),e.$inject=["$userService","$appRoutes","$q","$deviceService","$sessionService","$appConstants","$accountService","$log","$utils"]})(),(function(){function e(e,t,n,a,i,r,o,s,c){return IldinternationalrateServiceInst={ildRatesJson:function(){return r((function(n,a){return s.run({brand:e.brand,sourceSystem:e.source_system,category:e.ild_category,language:e.language},t.get("ildinternationalrates"),o.get("ildinternationalrates")).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},IldinternationalrateServiceInst}angular.module("app").service("$ildinternationalrateservice",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l){return serviceInst={getInstructionDetails:function(){return this._instructions},setInstructionDetails:function(e){this._instructions=e},getInstructions:function(e){return n.info("instruction service!! ..."),r((function(n,a){getInstruct=function(e){return s.run(e,t.get("instructionservices"),o.get("instructionservices"))},this.getInstruct({scriptId:e.scriptId,partClass:e.partClass}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},serviceInst}angular.module("app").service("$instructionService",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$deviceService"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v){return LrpEnrollmentInst={_data:{lrpDetails:{},claimPoints:{}},emptyLrp:function(){LrpEnrollmentInst._data={lrpDetails:{}}},setLRPDetails:function(e){if(LrpEnrollmentInst._data.lrpDetails.isDataAvailable=!1,e&&e.customerAccountDetails)return LrpEnrollmentInst._data.lrpDetails=e.customerAccountDetails,LrpEnrollmentInst._data.lrpDetails.isDataAvailable=!0,e.customerAccountDetails.loyalty&&c.isLoggedIn()&&(a.lrpDetails=e.customerAccountDetails.loyalty,a.lrpDetails.isLRPEnrolled=e.customerAccountDetails.loyalty.isEnrolled),LrpEnrollmentInst._data.lrpDetails},getLRPDetails:function(){return LrpEnrollmentInst._data.lrpDetails.isDataAvailable||a.lrpDetails&&(LrpEnrollmentInst._data.lrpDetails.isDataAvailable=!0,LrpEnrollmentInst._data.lrpDetails.loyalty={},LrpEnrollmentInst._data.lrpDetails.loyalty.isEnrolled=a.lrpDetails.isLRPEnrolled),LrpEnrollmentInst._data.lrpDetails},setClaimedPoints:function(e){LrpEnrollmentInst._data.claimPoints=e},getClaimedPoints:function(){return LrpEnrollmentInst._data.claimPoints&&LrpEnrollmentInst._data.claimPoints.pointsAccrued?LrpEnrollmentInst._data.claimPoints:void 0},lrpServiceCall:function(e){return console.log("Lrp Service service!! ...",e),i((function(a,i){lrpservice=function(e){return o.run(e,t.get("lrpservice").lrpservice,r.get("lrpservice"))};var d={};if(d.resourceIdentifier=void 0,d.resourceCategory=l.handset,d.type=l.serialnumber,c.isLoggedIn())console.log("LRP Using EMAIL"),d.resourceIdentifier=c.getEmail(),s.isEmail(d.resourceIdentifier)?(d.resourceCategory=l.email_ID,d.type=l.email_ID,console.log("Is Email",d.resourceIdentifier)):(d.resourceCategory=l.min,d.type=l.min);else{var v=c.getEsn();!v&&p.getSavedDevices()[0]&&p.getSavedDevices()[0].esn&&(v=p.getSavedDevices()[0].esn),!v&&u.hasSelectedDevice()&&(v=u.getSelectedDevice().esn),v||console.log("LRP ESN cannot be determined...",p,u,c),d.resourceIdentifier=v}console.log("Request Params LRP:",d),this.lrpservice(d).then((function(e){console.log("Inside LRP service response",e),LrpEnrollmentInst._data.lrpDetails=e.svc_response,a(LrpEnrollmentInst._data.lrpDetails)})).catch((function(e){i(e)})),n.info("Checking lrp service results !! ",e)}))},redirectAugeo:function(s){return i((function(i,c){augeotoken=function(e){return o.run(e,t.get("oauthtoken").oauth_token,r.get("oauthtoken"))},angular.isDefined(e.rewards)&&e.rewards.augeoEndPoint&&""!==e.rewards.augeoEndPoint?this.augeotoken().then((function(e){var t="?language=en";"es"===a.lang&&(t="?language=es"),n.info("Augeo redirect --\x3e",e,t);var r=document.createElement("form");r.method="POST";var o=s?s.redirect_uri||window.config.app.rewards.augeoEndPoint:window.config.app.rewards.augeoEndPoint;r.action=o+t;var c=document.createElement("input");c.type="text",c.name="access_token",c.value=e.access_token,r.appendChild(c);var o=document.createElement("input");o.type="text",o.name="endpoint_url",o.value=window.config.app.endpoint,r.appendChild(o);var l=document.createElement("input");l.type="text",l.name="brand_name",l.value=window.config.app.brand,r.appendChild(l);var d=document.createElement("input");d.type="text",d.name="source_system",d.value=window.config.app.source_system,r.appendChild(d),document.body.appendChild(r),a.showSpinner=!0,r.submit(),i(e)})).catch((function(e){c(e)})):v.url("myaccount/dashboard")}))},hasEnoughLoyaltyPoints:function(e,t){var n=!1;return e-t>0&&(n=!0),n}},LrpEnrollmentInst}function t(){var t={};return{setData:function(e){t=e},$get:["$appConfig","$svcConfig","$log","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$userService","$appConstants","$cookieService","$deviceService","$devicesCartServices","$location",function(n,a,i,r,o,s,c,l,d,u,p,v,g,m){var f=e(n,a,i,r,o,s,c,l,d,u,p,v,g,m);return angular.isDefined(t)&&t&&(f._data=t),r.$on("system-reset",(function(e,t){f._data={},f._data={lrpDetails:{}}})),r.$watch((function(){return f._data}),(function(e,t){e&&c.setSessionItem("$lrpEnrollment",e)}),!0),f}]}}angular.module("app").provider("$lrpEnrollment",t),angular.module("app").config(["$lrpEnrollmentProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$lrpEnrollment"))}])})(),(function(){function e(e,t,n,a,i){var r={};return r.getDeviceDetails=function(e){return n.run(e,a.get("byopmakemodel").byopmakemodel,i.get("byopmakemodel"))},r}angular.module("app").service("$makemodelService",e),e.$inject=["$log","$q","$serviceUtils","$svcConfig","$voMapConfig"]})(),(function(){function e(t,n,a,i,r,o,s,c,l,d){var u={};return NapServiceInst={_napService:u},NapServiceInst.getNapService=function(){return e._napService},NapServiceInst.verifyTechnology=function(e){a.info("verifyTechnology service!! ...",e);var t=!!angular.isDefined(e.defaultzip)&&e.defaultzip;return r((function(i,r){verifyTechnology=function(e){return s.run(e,n.get("servicequalificationact"),o.get("servicequalificationact"))};var c=[{type:l.context,value:l.service_qulafiers.technology}],d={postalAddress:{zipcode:e.zipcode}},u=NapServiceInst.getResourceBean(e.min);a.info(c),a.info(d),a.info(u),this.verifyTechnology({serviceCategory:c,location:d,resource:u}).then((function(e){i(e)})).catch((function(e){t?(a.info("verifyTechnology service failed for default zip going for prutoreico check ...",e),d={postalAddress:{zipcode:l.default_prutoricozip}},this.verifyTechnology({serviceCategory:c,location:d,resource:u}).then((function(e){i(e)})).catch((function(e){r(e)}))):r(e)}))}))},NapServiceInst.getResourceBean=function(e,t){var n=[],a={serialNumber:d.getSelectedDevice().esn,name:l.productserialnumber,type:l.handset};if(n.push(a),angular.isDefined(d.getSelectedDevice().sim)&&angular.isDefined(d.getSelectedDevice().sim.iccid)){var i={serialNumber:d.getSelectedDevice().sim.iccid,name:l.serialnumber,type:l.sim};n.push(i)}return n},NapServiceInst}angular.module("app").service("$napService",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$q","$voMapConfig","$serviceUtils","$utils","$appConstants","$deviceService"]})(),(function(){function e(e,t){function n(e,t){for(var n=0;n<e.length;n++){if(t(e[n]))return e[n]}}function a(e){return function(t){return t.name===e}}var i=[{name:"coveragemapController",file:"coveragemap/coveragemap_controller.js"},{name:"coveragemapDeviceModelsController",file:"coveragemap/coveragemap_devicemodels_controller.js"},{name:"wcmController",file:"wcm/wcm_controller.js"},{name:"surveyController",file:"survey/survey_controller.js"},{name:"collectWicDevice",file:"wificalling/collectdevice/collectdevice_controller.js"},{name:"collectAddressController",file:"wificalling/collectaddress/collectaddress_controller.js"},{name:"wifiConfirmationController",file:"wificalling/confirmation/confirmation_controller.js"},{name:"activationwithpin",file:"upgrades/confirmation/activationwithpin_controller.js"},{name:"autorefillController",file:"autorefill/autorefill_controller.js"},{name:"serviceplanController",file:"rpe/service_plans/serviceplan_controller.js"},{name:"checkoutController",file:"rpe/checkout/checkout_controller.js"},{name:"confirmationController",file:"rpe/confirmation/confirmation_controller.js"},{name:"redemptionconfirmationcontroller",file:"rpe/confirmation/redemptionconfirmation/redemptionconfirmation_controller.js"},{name:"redemptioncontroller",file:"rpe/redemption/redemption_controller.js"},{name:"renewaloptionscontroller",file:"rpe/renewal/renewaloptions_controller.js"},{name:"addnowcontroller",file:"rpe/retentionmatrix/warningmessages/addnow/addnow_controller.js"},{name:"enrollnowcontroller",file:"rpe/retentionmatrix/warningmessages/enrollnow/enrollnow_controller.js"},{name:"applynowcontroller",file:"rpe/retentionmatrix/warningmessages/applynow/applynow_controller.js"},{name:"forgotusernameController",file:"myaccount/accountrecovery/forgotusername/forgotusername_controller.js"},{name:"collectPasswordCtrl",file:"myaccount/login/collectpassword/collectpassword_controller.js"},{name:"resetPasswordCtrl",file:"myaccount/accountrecovery/forgotpassword/resetpassword_controller.js"},{name:"collectVerificationCtrl",file:"myaccount/accountrecovery/collectverification/collectverification_controller.js"},{name:"selectActiveDeviceCtrl",file:"myaccount/accountrecovery/selectactivedevice/selectactivedevices_controller.js"},{name:"collectSecurityCtrl",file:"myaccount/accountrecovery/collectsecurity/collectsecurity_controller.js"},{name:"updateAccountcontroller",file:"myaccount/accountrecovery/updateaccount/updateaccount_controller.js"},{name:"createUserAccController",file:"myaccount/createaccount/createaccount_controller.js"},{name:"fbLinkingAcctController",file:"myaccount/login/fblinking/fblinking_controller.js"},{name:"fbEmailSyncController",file:"myaccount/login/fbtfemailsync/fbtfemailsync_controller.js"},{name:"dashboardController",file:"myaccount/dashboard/mydevices/dashboard_controller.js"},{name:"myprofileController",file:"myaccount/profile/myprofile_controller.js"},{name:"paymentmethodController",file:"myaccount/paymentmethod/pymtmethod_controller.js"},{name:"paymenthistoryController",file:"myaccount/paymenthistory/pymthist_controller.js"},{name:"devicehistoryController",file:"myaccount/dashboard/devicehistory/devicehistory_controller.js"},{name:"manageenrollcontroller",file:"rpe/enrollments/enrollmanage/manageenroll_controller.js"},{name:"managereservecontroller",file:"rpe/redemption/managereserve/managereserve_controller.js"},{name:"apnController",file:"apn/apn_controller.js"},{name:"updateBrowserController",file:"updatebrowser/updatebrowser_controller.js"},{name:"unsubscribeController",file:"emailsubscribe/unsubscribe_controller.js"},{name:"trackTicketshome",file:"tracktickets/trackticketshome_controller.js"},{name:"trackTicketSelectDevice",file:"tracktickets/ttselectdevice/ttselectdevice_controller.js"},{name:"ttSearchResults",file:"tracktickets/searchresults/searchresults_controller.js"},{name:"trackticketupdateaddress",file:"tracktickets/updateaddress/updateaddress_controller.js"},{name:"easyExchangeController",file:"protectyourphone/easyexchange_controller.js"},{name:"selectHppPlanController",file:"protectyourphone/selecthppplan/selecthppplan_controller.js"},{name:"hppConfirmationController",file:"protectyourphone/hppconfirmation/hppconfirmation_controller.js"},{name:"biLoginController",file:"balanceinquiry/bilogin/bilogin_controller.js"},{name:"biSelectDeviceController",file:"balanceinquiry/biSelectdevice/biSelectdevice_controller.js"},{name:"biCollectSimSerialController",file:"balanceinquiry/collectsimserialnumber/collectsimserialnumber_bi_controller.js"},{name:"balanceDetailsController",file:"balanceinquiry/balancedetails/balancedetails_controller.js"},{name:"purchasesummarycontroller",file:"rpe/confirmation/purchaseconfirmation/purchaseconfirmation_controller.js"},{name:"simexchangecontroller",file:"simexchange/simexchange_controller.js"},{name:"airtimeserviceplanController",file:"selectplan/airtimeserviceplan_controller.js"},{name:"activationinstructionscontroller",file:"activation/instructions/activationinstructions_controller.js"},{name:"collectcurrentprovidercontroller",file:"ports/collectcurrentprovider_controller.js"},{name:"verifyaddresscontroller",file:"activation/shippingaddress/verify_address_controller.js"},{name:"upgradeinstructionscontroller",file:"activation/upgradeinstructions/upgradeinstructions_controller.js"},{name:"keepcollectphonecontroller",file:"activation/collectphonenumber/keepcollectphone_controller.js"},{name:"byopcollectsimController",file:"activation/collectsim/byop/byopcollectsim_controller.js"},{name:"checkcoveragecontroller",file:"activation/collectsim/byop/checkcoverage/coverage_check_controller.js"},{name:"byopcollectesnController",file:"activation/collectesn/byop/byopcollectesn_controller.js"},{name:"carriercompatiblesimcontroller",file:"activation/collectsim/byop/checkeligible/collectcompatiblesim_controller.js"},{name:"selectdevicecontroller",file:"activation/selectdevice/selectdevice_controller.js"},{name:"collecttracfoneesnController",file:"activation/collectesn/collectesn_controller.js"},{name:"internalportUpgrade",file:"activation/internalport/internalport_upgrade_controller.js"},{name:"selectdevicetypecontroller",file:"activation/selectdevice/selectdevicetype_controller.js"},{name:"currentlyactivecontroller",file:"activation/phonestatus/currentlyactive_controller.js"},{name:"phoneeligibilitycontroller",file:"activation/phonestatus/phoneeligibility_controller.js"},{name:"collectsimcontroller",
file:"activation/collectsim/branded/collectsim_controller.js"},{name:"shippingaddresscontroller",file:"activation/shippingaddress/shippingaddress_controller.js"},{name:"pincheckoutController",file:"selectplan/pincheckout_controller.js"},{name:"collectminexchange",file:"activation/collectminexchange/collectminexchange_controller.js"},{name:"selectgroupcontroller",file:"activation/selectgroup/select_group_controller.js"},{name:"easyRedeemController",file:"rpe/checkout/easyredeem_controller.js"}];return $ocLazyLoadCtrlServiceInst={load:function(r,o){var s="#{VERSION_REPlACE}#"===t.tfApp.resourceVersion?"":t.tfApp.resourceVersion,c=o?r:"app/controllers/"+n(i,a(r)).file;return c=s?c+"?v="+s:c,e.load([c])}},$ocLazyLoadCtrlServiceInst}angular.module("app").service("$ocLazyLoadCtrlService",e),e.$inject=["$ocLazyLoad","$window"]})(),(function(){function e(e,t,n,a,i,r,o,s,c){return PaymentSourceServiceInst={selectedPaymentSource:function(e){PaymentSourceServiceInst._payment=e},getSelectedPaymentSource:function(){return PaymentSourceServiceInst._payment},emptySelectedPaymentSource:function(){PaymentSourceServiceInst._payment=null},allPaymentSources:function(){return PaymentSourceServiceInst._allpayments},getPaymentSource:function(e){return a((function(n,a){getPayment=function(e){return r.run(e,t.get("payments"),i.get("payments"))},this.getPayment({account_id:e.account_id}).then((function(e){PaymentSourceServiceInst._allpayments=e.pymtsources,n(e)})).catch((function(e){a(e)}))}))},getPaymentMethods:function(e){return a((function(n,a){(function(e){return r.run(e,t.get("getPaymentMethod"),i.get("getPaymentMethod"))})({accountId:e.accountId}).then((function(e){PaymentSourceServiceInst._allpayments=e.paymentMethods,n(e)})).catch((function(e){a(e)}))}))},delPaymentMethod:function(e){return a((function(n,a){(function(e){return r.run(e,t.get("delPaymentMethod"),i.get("delPaymentMethod"))})({accountId:e.accountId,id:e.id}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},getPaymentClientToken:function(e){return a((function(e,n){(function(e){return r.run(e,t.get("paymentMgmtClientToken"),i.get("paymentMgmtClientToken"))})().then((function(t){e(t)})).catch((function(e){n(e)}))}))},calculateTax:function(e){var n,a;return angular.forEach(e.cart,(function(e,t){e.auto_refill?(a=angular.isDefined(a)?a:[],a.push({programId:e.program_id})):(n=angular.isDefined(n)?n:[],n.push({quantity:e.quantity,partNumber:e.part_number}))})),e.billingZipCode="33178",angular.isDefined(a)?(e.program_id=a[0].programId,r.run(e,t.get("enrollcalctax"),i.get("enrollcalctax"))):(e.cart=n,r.run(e,t.get("purchasecalctax"),i.get("purchasecalctax")))},purchase:function(e){return PaymentSourceServiceInst._purchasePlan(e),1!=e.cart.length||e.isILDVas?r.run(e,t.get("multiappPurchase"),i.get("multiappPurchase")):r.run(e,t.get("appPurchase"),i.get("appPurchase"))},guestpurchase:function(e){return PaymentSourceServiceInst._purchasePlan(e),0==e.cart.length&&(e.cart=void 0),r.run(e,t.get("guestappPurchase"),i.get("guestappPurchase"))},updatePaymentSource:function(e){return n.info("updatePaymentSource service!! ...",e),a((function(n,a){if(updpymtsrc=function(e){return r.run(e,t.get("updpymtsrc").cc,i.get("updpymtsrc"))},updpymtsrcach=function(e){return r.run(e,t.get("updpymtsrc").ach,i.get("updpymtsrc"))},angular.equals(e.type,c.payment_type.ach))this.updpymtsrcach(e).then((function(e){n(e)})).catch((function(e){a(e)}));else if(angular.isDefined(e.expiration_year)&&angular.isDefined(e.expiration_month)){var s=new Date,l=s.getUTCMonth(),d=s.getUTCFullYear(),u=new Date(d,l),p=new Date(e.expiration_year,+e.expiration_month.id-1);p>=u?this.updpymtsrc(e).then((function(e){n(e)})).catch((function(e){a(e)})):(generror=o.translateError({error_code:"11105"},i.get("addpymtsrc")),a(generror))}else generror=o.translateError({error_code:"11105"},i.get("addpymtsrc")),a(generror)}))},_purchasePlan:function(e){var t,a=[],i=!1;angular.forEach(e.cart,(function(e,n){if(angular.isDefined(e.ild_sup)&&e.ild_sup){var r={};i=!0,t=angular.isDefined(t)?t:[],r.quantity=e.quantity,r.partNumber=e.part_number,r.vasPlanId=e.plan_id,e.auto_refill&&(r.programId=e.program_id+""),t.push(r)}else a.push({quantity:e.quantity,servicePlanId:e.plan_id,partNumber:e.part_number})})),i&&0==a.length?e.isILDVas=!0:e.isILDVas=!1,1==a.length?(e.servicePlanId=a[0].servicePlanId,e.partNumber=a[0].partNumber):e.isILDVas&&angular.isDefined(t)&&(e.partNumber=t[0].partNumber),n.info("request.newcart is  !!! ",a),e.cart=a,e.vasPlans=t,e.is_ild=i},addPaymentSource:function(e){return n.info("addPaymentSource service!! ..."),a((function(a,s){addpymtsrc=function(e){return r.run(e,t.get("addpymtsrc").cc,i.get("addpymtsrc"))},addpymtsrcach=function(e){return r.run(e,t.get("addpymtsrc").ach,i.get("addpymtsrc"))};var c=e;if(n.debug("cc_fields in service...",c),angular.isDefined(c.expiration_month)&&angular.isDefined(c.expiration_year)){var l=new Date,d=l.getUTCMonth(),u=l.getUTCFullYear(),p=new Date(u,d);new Date(c.expiration_year,+c.expiration_month.id-1)>=p?this.addpymtsrc(c).then((function(e){a(e)})).catch((function(e){s(e)})):(generror=o.translateError({error_code:"11105"},i.get("addpymtsrc")),s(generror))}else n.info("selected account type",c.accounttype),c.accounttype&&""!=c?this.addpymtsrcach(c).then((function(e){a(e)})).catch((function(e){s(e)})):(generror=o.translateError({error_code:"11105"},i.get("addpymtsrc")),s(generror))}))},delPaymentSource:function(e){return n.info("deletePaymentSource service!! ..."),a((function(a,o){delpymtsrc=function(e){return r.run(e,t.get("delpymtsrc"),i.get("delpymtsrc"))},n.debug("cc_fields in service..."+e),this.delpymtsrc({account_id:e.accountId,source_id:e.source_id}).then((function(e){a(e)})).catch((function(e){o(e)}))}))}},PaymentSourceServiceInst}angular.module("app").service("$paymentService",e),e.$inject=["$appConfig","$svcConfig","$log","$q","$voMapConfig","$serviceUtils","$utils","$userService","$appConstants"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u){return PortServiceInst={},PortServiceInst.setCarriers=function(e){PortServiceInst._carriers=[],PortServiceInst._carriers=e},PortServiceInst.getCarriers=function(){return PortServiceInst._carriers},PortServiceInst.setAddress1=function(e){PortServiceInst._address1=e},PortServiceInst.setAddress2=function(e){PortServiceInst._address2=e},PortServiceInst.setCity=function(e){PortServiceInst._city=e},PortServiceInst.setState=function(e){PortServiceInst._state=e},PortServiceInst.setZipCode=function(e){PortServiceInst._zipcode=e},PortServiceInst.getAddress1=function(){return PortServiceInst._address1},PortServiceInst.getAddress2=function(){return PortServiceInst._address2},PortServiceInst.getCity=function(){return PortServiceInst._city},PortServiceInst.getState=function(){return PortServiceInst._state},PortServiceInst.getZipCode=function(){return PortServiceInst._zipcode},PortServiceInst.getPortCarriers=function(e){return n.info("PortServiceInst:: Inside getPortCarriers!! ..."),n.debug(e),i((function(e,n){o.run({category:u.port_carriers},t.get("portcarriers"),r.get("portcarriers")).then((function(t){PortServiceInst.setCarriers(t.port_carriers),e(t)})).catch((function(e){n(e)}))}))},PortServiceInst.getPortCarrierDetails=function(e){return n.info("PortServiceInst:: Inside getPortCarrierDetails!! ..."),n.debug(e),i((function(n,a){o.run({carrierName:e.carrierName,carrierType:e.carrierType,category:u.port_carriers},t.get("portcarriersdetails"),r.get("portcarriersdetails")).then((function(e){PortServiceInst.setCarriers(e.port_carriers),n(e)})).catch((function(e){a(e)}))}))},PortServiceInst.checkPortCoverage=function(e){return n.info("checkPortCoverage service!! ..."),i((function(a,i){checkPortCoverage=function(e){return o.run(e,t.get("servicequalificationact"),r.get("servicequalificationact"))};var s=[{type:u.context,value:u.port_coverage}],c={postalAddress:{zipcode:e.port_zipcode}},l=d.getResourceBean(e);n.info(s),n.info(c),n.info(l),this.checkPortCoverage({serviceCategory:s,location:c,resource:l}).then((function(e){if("qualified"==e.qualification_result)a(e);else{var t={error_code:"999",error_message:"Current Phone number is not eligible for PORT.Please select a different phone"};n.info(t),i(t)}})).catch((function(e){i(e)}))}))},PortServiceInst}angular.module("app").service("$portservice",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$napService","$checkscenario","$appConstants"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u){var p={getProfile:function(){return this._profile},setProfile:function(e){this._profile=e},getLoginInfo:function(){return this._loginInfo},setLoginInfo:function(e){this._loginInfo=e},getContactInfo:function(){return this._contactInfo},setContactInfo:function(e){this._contactInfo=e},emptyProfile:function(){this._profile=void 0},setCommPref:function(e){this._commPref=e},getCommPref:function(){return this._commPref}};return ProfileServiceInst={_profileDetails:p},ProfileServiceInst.getProfileDetails=function(){return ProfileServiceInst._profileDetails},ProfileServiceInst.getProfileInfo=function(e){return r((function(n,a){angular.isDefined(e)&&angular.isDefined(e.account_id)||(e={account_id:l.getAccountId()}),getprofile=function(e){return s.run(e,t.get("profile").accountprofile,o.get("profile"))},this.getprofile(e).then((function(e){angular.isDefined(e.contact.firstname)&&isNaN(e.contact.firstname)||(e.contact.first_name="Not Provided"),angular.isDefined(e.contact.lastname)&&isNaN(e.contact.lastname)||(e.contact.last_name="Not Provided"),isNaN(e.contact.address1)||isNaN(e.contact.address2)||(e.contact.address1="Not Provided",e.contact.address2=""),ProfileServiceInst.getProfileDetails().setProfile(e),angular.isDefined(e.contact)&&ProfileServiceInst.editContactDetails(),angular.isDefined(e.commpref)&&(ProfileServiceInst.getProfileDetails().setCommPref(angular.copy(e.commpref)),e.commpref=ProfileServiceInst.editCommPreferences()),n(e)})).catch((function(e){a(e)}))}))},ProfileServiceInst.editContactDetails=function(){var e,t={};return t=ProfileServiceInst.getProfileDetails().getProfile().contact,t.dob_date={},e=t.dob,t.dob=new Date(e),t.dob_date.maxdate=new Date(e),t.dob_date.maxdate.setFullYear(t.dob_date.maxdate.getFullYear()-13),"Not Provided"===t.firstname&&(t.firstname=null),"Not Provided"===t.lastname&&(t.lastname=null),"Not Provided"===t.address1&&(t.address1=""),t.firstname&&!isNaN(t.firstname)&&(t.firstname=null),t.lastname&&!isNaN(t.lastname)&&(t.lastname=null),n.info("editCotactDeatils::",t),ProfileServiceInst.getProfileDetails().setContactInfo(t),t},ProfileServiceInst.editLoginDetails=function(){},ProfileServiceInst.editCommPreferences=function(){var e=ProfileServiceInst.getProfileDetails().getCommPref();n.info("editCommPreferences::",e);var t=[],a={};if(angular.isDefined(e.esn)&&e.esn.length>0&&(angular.forEach(e.esn,(function(e,n){var a={sms:!1,voice:!1,allowcommpref:!0};angular.isDefined(e.product.productSerialNumber)&&(a.product_serial_number=e.product.productSerialNumber,angular.isDefined(e.product.supportingResources)&&angular.isDefined(e.product.supportingResources[0])&&angular.isDefined(e.product.supportingResources[0].serialNumber)&&(a.min=e.product.supportingResources[0].serialNumber),a.product_ismin=!!c.isMin(a.min),angular.isDefined(e.product.productSpecification)&&angular.forEach(e.product.productSpecification,(function(e,t){angular.equals(e.name,u.productspecification.allowcommunucationpreferences)&&angular.equals(e.value,"false")&&(a.allowcommpref=!1),angular.equals(e.name,u.productspecification.devicefamily)&&(a.devicefamily=e.value)}))),angular.isDefined(e.product.contactMedium)&&angular.forEach(e.product.contactMedium,(function(e,t){angular.equals(e.type,u.communicationmedium.text)&&angular.equals(e.isPreferred,"true")&&(a.sms=!0),angular.equals(e.type,u.communicationmedium.voice)&&angular.equals(e.isPreferred,"true")&&(a.voice=!0)})),a.allowcommpref&&t.push(a)})),a.esn=t),angular.isDefined(e.acc)&&e.acc.length>0){var i={email:!1,mail:!1};angular.forEach(e.acc,(function(e,t){angular.equals(e.type,u.communicationmedium.email)&&angular.equals(e.isPreferred,"true")&&(i.email=!0),angular.equals(e.type,u.communicationmedium.mail)&&angular.equals(e.isPreferred,"true")&&(i.mail=!0)})),a.acc=i,n.info("editCommPreferences::",a)}return a},ProfileServiceInst.getSecurityQuestions=function(){return r((function(e,n){getsecquestions=function(e){return s.run(e,t.get("profile").secquestions,o.get("secquestions"))},this.getsecquestions({background:!0}).then((function(t){e(t)})).catch((function(e){n(e)}))}))},ProfileServiceInst.updateLoginDetails=function(e){return r((function(a,i){updlogin=function(e){return s.run(e,t.get("updlogininfo"),o.get("updlogininfo"))};var r=e.login_details;this.updlogin({account_id:l.getAccountId(),email:r.email,password:r.password,new_password:r.new_password,security_pin:r.security_code,question_id:r.security_question,security_answer:r.security_answer}).then((function(e){if(n.debug("Update Login details res ",e),e.svc_response&&e.svc_response.access_token){var t=new Date;t=new Date(t.getTime()+1e3*(e.svc_response.expires_in-90)),l.setDetails(angular.merge({account_id:e.svc_response.accountId,email:e.svc_response.email,ro_expiry:t,limitedAccess:!1})),s.setSessionItem("$userService",l.getUserInfo()),l.startRoTimer(new Date(t).getTime()-(new Date).getTime()),d.setROToken({token:e.svc_response.access_token,expiry_date:t.getTime(),refresh_token:e.svc_response.refresh_token}),s.setSessionItem("$authService",d._data),n.info("userService::UserPasswordLogin::rotoken",d.getROToken()),n.info("$userService.getAccountId() !! ",l.getAccountId())}a(e)})).catch((function(e){i(e)}))}))},ProfileServiceInst.updateContactDetails=function(e){return r((function(n,a){updprofile=function(e){return s.run(e,t.get("updprofile"),o.get("updprofile"))};var i=e.contact_form;this.updprofile({account_id:l.getAccountId(),first_name:i.firstname,last_name:i.lastname,dob:i.dob,phone:i.phone,address1:i.address1,address2:i.address2,city:i.city,state:i.state,password:i.password,zipcode:i.zip,offers:i.offers+"",savings:i.savings+""}).then((function(e){ProfileServiceInst.editContactDetails(),n(e)})).catch((function(e){a(e)}))}))},ProfileServiceInst.updateCommPreferences=function(e){return r((function(a,i){updatecommpreferences=function(e){return s.run(e,t.get("updatecommpref"),o.get("updatecommpref"))};var r=e.commpref,c=ProfileServiceInst.getProfileDetails().getCommPref(),l=ProfileServiceInst.getProfileDetails().getProfile().login.email;angular.isDefined(c.esn)&&c.esn.length>0&&angular.forEach(c.esn,(function(e,t){angular.isDefined(c.esn[t].product.productSerialNumber)&&angular.forEach(r.esn,(function(e,n){angular.equals(c.esn[t].product.productSerialNumber,r.esn[n].product_serial_number)&&angular.forEach(c.esn[t].product.contactMedium,(function(e,a){angular.equals(c.esn[t].product.contactMedium[a].type,u.communicationmedium.text)&&(c.esn[t].product.contactMedium[a].isPreferred=r.esn[n].sms.toString()),angular.equals(c.esn[t].product.contactMedium[a].type,u.communicationmedium.voice)&&(c.esn[t].product.contactMedium[a].isPreferred=r.esn[n].voice.toString())}))}))})),angular.isDefined(c.acc)&&c.acc.length>0&&angular.forEach(c.acc,(function(e,t){angular.equals(c.acc[t].type,u.communicationmedium.email)&&(c.acc[t].isPreferred=r.acc.email.toString()),angular.equals(c.acc[t].type,u.communicationmedium.mail)&&(c.acc[t].isPreferred=r.acc.mail.toString())})),this.updatecommpreferences({login_emailid:l,customer_products:c.esn,customer_account_contact:c.acc}).then((function(e){n.debug("Update Login details res ",e),ProfileServiceInst.editContactDetails(),a(e)})).catch((function(e){n.warn(e),$scope.$ctrl.showError({error:e})}))}))},ProfileServiceInst}angular.module("app").service("$profileService",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$userService","$authService","$appConstants"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l){return serviceInst={getFlashDetails:function(){return this._profile},setFlashDetails:function(e){this._profile=e},clearFlashDetails:function(){this._profile=void 0},validatePromotions:function(e){return n.info("promotion service!! ..."),r((function(n,a){validatePromo=function(e){return s.run(e,t.get("validatepromo"),o.get("validatepromo"))},this.validatePromo({esn:e.esn,min:e.min,promo:e.promo,pin:e.pin,transtype:e.transtype,transactionAmount:e.transactionAmount,cardIdentifier:e.cardIdentifier}).then((function(e){n(e)})).catch((function(e){a(e)}))}))}},serviceInst}angular.module("app").service("$promoService",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$deviceService"]})(),(function(){function e(e,t,n){var a;return{setResponse:function(e){a=e},getResponse:function(){return a}}}angular.module("app").service("$reCaptchaService",e),e.$inject=["$appConfig","$log","$rootScope"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m){return RedemptionServiceInst={setRedemptionSummary:function(e){RedemptionServiceInst._summary=e},getRedemptionSummary:function(){return RedemptionServiceInst._summary},setRedemptionRequest:function(e){RedemptionServiceInst._request=e},getRedemptionRequest:function(){return RedemptionServiceInst._request},setRedemptionPin:function(e){RedemptionServiceInst._redemption_pin=e},getRedemptionPin:function(){return RedemptionServiceInst._redemption_pin},redeemPinValidations:function(a){n.info("redemptionservice::redeemPinValidations",a);var i={};i.flow="PROCESSED";var v;return r((function(r,m){redeemPinService=function(e){return s.run(e,t.get("redeempin").pin,o.get("redeempin"))};var f,h=a.min,_=a.promo;angular.isDefined(a.pin)&&(f={pinCard:a.pin});angular.isDefined(a.byPassFlash)&&a.byPassFlash,angular.isDefined(a.esn)?angular.isDefined(_)?d.validatePromotions({min:h,esn:svc_esn,promo:_,transtype:"REDEMPTION",cardIdentifier:f}).then((function(e){n.debug("PromoValidation Success!!"),this.redeemPinService({esn:a.esn,min:a.min,promo:a.promo,pin:a.pin}).then((function(e){r(e)})).catch((function(e){m(e)}))})).catch((function(e){m(e)})):this.redeemPinService({esn:a.esn,min:a.min,promo:a.promo,pin:a.pin}).then((function(e){r(e)})).catch((function(e){m(e)})):(n.info("Redemption service Validate device response ..."),l.validateUserDevice({device:a.min}).then((function(f){n.info("Validate device response ...");var h=f.svc_response,_=h.esn;if(a.esn=_,n.info("Validate device esn ...",a,h),n.debug(h.flashMessage,d.getFlashDetails()),h&&h.deviceStatus==p.device_status.risk_assestment||h.deviceStatus==p.device_status.stolen||h.invalid_device||h.deviceStatus==p.device_status.exchange||h.deviceStatus==p.device_status.overdue_exchange)v=c.translateError({error_code:"-10108"},o.get("validatedevice")),l.clearSelectedDevice(),m(v);else if(!e.features.groupbased||h.group&&h.group.groupId&&h.min)if(h&&h.transactionPending&&"CARRIERPENDING"===h.transactionPending||h.activationPending)v=c.translateError({error_code:"10201"},o.get("accountdevices")),l.clearSelectedDevice(),m(v);else if(h&&h.transactionPending&&"OTAPENDING"==h.transactionPending)f.flow="OTAPENDING",l.clearSelectedDevice(),r(f);else if(h&&h.isNotMigrated){n.info("RedemptionService::Inside redeemPinValidations  no migrated esn hence blocking");var y=c.getlinkfromScriptWithLinkTxt("ERROR_1985606","[TMO_URL_LINK]",e.tmobile_url_link,"VAR_5027","#HERE#");n.info("RedemptionService::Inside redeemPinValidations this is no migrated",y);var b={error_code:"-999",error_message:y,error_type:"FAILURE"};l.clearSelectedDevice(),m(b)}else if(h&&h.flashMessage)f.flow="FLASHMESSAGE",r(f);else{d.clearFlashDetails(),l.clearFlashDetails();new Date;RedemptionServiceInst.validatePin({pin:a.pin}).then((function(d){accountstatus=function(e){return s.run(e,t.get("custAccountStatus").device,o.get("accountrecoverystatus"))},this.accountstatus({option:_}).then((function(t){n.info("Response --\x3e ",t),g.setActiveLinesInAccount(t.svc_response.totalActiveLines),h.deviceStatus===p.device_status.past_due||h.deviceStatus===p.device_status.used||h.deviceStatus===p.device_status.refurbish?t.svc_response.totalActiveLines<=4||!e.features.multiline?d.planTypeAddon?(v=c.translateError({error_code:"-10101"},o.get("serviceplan")),l.clearSelectedDevice(),m(v)):f.svc_response.reservedLine?u.checkActivationScenario({zipcode:f.svc_response.zipcode}).then((function(e){n.info("Validation with Pin was succesful.!!",d),l.provisioningWithPin({min:h.min,action:e.execution_plan,airtimepin:a.pin,zip_code:h.zipcode,isRedeemNow:!0}).then((function(e){n.debug("Redemption sucessfuly done !!  "),RedemptionServiceInst.setRedemptionSummary(e.svc_response),r(e)})).catch((function(e){m(e)}))})).catch((function(e){m(e)})):(v=c.translateError({error_code:"-10100"},o.get("validatedevice")),l.clearSelectedDevice(),m(v)):(v=c.translateError({error_code:"-10101"},o.get("validatedevice")),l.clearSelectedDevice(),m(v)):(n.info("Validation with Pin was succesful.!!",d),n.info("RedemptionService::RetentionMatrix Verification Going for retention Matrix"),RedemptionServiceInst.getRetentionMatrix({pinCard:a.pin,device:l.getSelectedDevice().esn,context:p.retention_context.redemption}).then((function(t){if(n.info("RedemptionService::getRetentionMatrix Succesfull",t),i.flow=t.flow,t.showRetentionWarnigs)l.getSelectedDevice().airtimepin=a.pin,r(i);else{var o=void 0;o=!(!angular.isUndefined(e.features.groupbased)&&e.features.groupbased||!angular.isUndefined(e.features.multiline)&&e.features.multiline)||d.planTypeAddon,(t.isBoth||t.isAddLater)&&(o=!1),RedemptionServiceInst.redeemDeviceWithPin({min:h.min,action:p.transaction_type.redemption,airtimepin:a.pin,zip_code:h.zipcode,isRedeemNow:o}).then((function(e){n.info("Redemption sucessfuly done !!  "),r(e)})).catch((function(e){m(e)}))}})).catch((function(e){m(e)})))})).catch((function(e){m(e)}))})).catch((function(e){m(e)}))}else v=c.translateError({error_code:"-10119"},o.get("validatedevice")),l.clearSelectedDevice(),m(v)})).catch((function(e){m(e)})))}))},validatePin:function(e){return n.info("validatePin service!! 3 ..."),r((function(a,i){validatePinService=function(e){return s.run(e,t.get("servicequalificationact"),o.get("servicequalificationact"))},n.debug("$deviceService.getSelectedDevice() validate PIN !!! "),n.debug(l.getSelectedDevice());var r=[{type:p.context,value:p.service_compatibility}];this.validatePinService({resource:u.getResourceBean(e),serviceCategory:r}).then((function(e){a(e)})).catch((function(e){i(e)}))}))},getManageReserveList:function(e){return r((function(a,i){n.info("getManageReserveList -- "),manageReserveEsn=function(e){return s.run(e,t.get("managereserve").managereserveesn,o.get("managereserve"))},manageReserveMin=function(e){return s.run(e,t.get("managereserve").managereservemin,o.get("managereserve"))};var r=c.getInputType(e.device),l={device:e.device,reserves:[]};angular.equals(r,"ESN")?this.manageReserveEsn({device:e.device}).then((function(e){n.info("Manage reserver response --\x3e ",e),"0"==e.error_code&&(l.reserves=e.response),a(l)})).catch((function(e){i(e)})):angular.equals(r,"MIN")&&this.manageReserveMin({device:e.device}).then((function(e){"0"==e.error_code&&(l.reserves=e.response),a(l)})).catch((function(e){i(e)}))}))},getRetentionMatrix:function(n){getRetentionMatrixRes={},getRetentionMatrixRes.retentionWarings=!1,getRetentionMatrixRes.flow="PROCEED_FINAL";var a=n.retentionMatrixCheck;return r((function(i,r){if(retentionByEsn=function(e){return s.run(e,t.get("retentionmatrix").retentionbyesn,o.get("retentionmatrix"))},retentionByMin=function(e){return s.run(e,t.get("retentionmatrix").retentionbymin,o.get("retentionmatrix"))},angular.isUndefined(a)&&(a=!0),angular.isDefined(e.features.retentionMatrix)&&e.features.retentionMatrix&&(n.pinCard||n.servicePlanId)&&a||n.forceCall){var l=c.getInputType(n.device),d={};n.pinCard?d.pinCard=n.pinCard:n.servicePlanId&&(d.servicePlanId=n.servicePlanId),angular.equals(l,"ESN")?this.retentionByEsn({device:n.device,context:n.context,planIdentifier:d}).then((function(e){i(e)})).catch((function(e){r(e)})):angular.equals(l,"MIN")&&this.retentionByMin({device:n.device,context:n.context,planIdentifier:d}).then((function(e){i(e)})).catch((function(e){r(e)}))}else i(getRetentionMatrixRes)}))},redeemPinCardFromReserve:function(e){return r((function(t,a){n.info("response from redeemPinCardFromReserve --\x3e ",e),RedemptionServiceInst.moveReservedPIN({device:e.device,pinCard:e.pinCard}).then((function(i){n.info("response from moveReservedPIN --\x3e ",i),angular.equals(i.error_code,"0")&&RedemptionServiceInst.redeemReservedCard({device:e.device}).then((function(e){n.info("response from redeemReservedCard --\x3e ",e),t(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))},moveReservedPIN:function(e){return r((function(n,a){movereserveByEsn=function(e){return s.run(e,t.get("movereservepin").movereservebyesn,o.get("movereservepin"))},movereserveByMin=function(e){return s.run(e,t.get("movereservepin").movereservebymin,o.get("movereservepin"))};var i=c.getInputType(e.device);angular.equals(i,"ESN")?this.movereserveByEsn({device:e.device,pinCard:e.pinCard}).then((function(e){n(e)})).catch((function(e){a(e)})):angular.equals(i,"MIN")&&this.movereserveByMin({device:e.device,pinCard:e.pinCard}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},redeemReservedCard:function(e){return r((function(n,a){redeemcardByEsn=function(e){return s.run(e,t.get("redeemreservecard").redeemcardbyesn,o.get("redeemreservecard"))},redeemcardByMin=function(e){return s.run(e,t.get("redeemreservecard").redeemcardbymin,o.get("redeemreservecard"))};var i=c.getInputType(e.device);angular.equals(i,"ESN")?this.redeemcardByEsn({device:e.device,redeemNow:!0}).then((function(e){n(e)})).catch((function(e){a(e)})):angular.equals(i,"MIN")&&this.redeemcardByMin({device:e.device,redeemNow:!0}).then((function(e){n(e)})).catch((function(e){a(e)}))}))},redeemDeviceWithPin:function(e){return n.info("Redemptionservice:redeemDeviceWithPin ",e),r((function(t,a){l.provisioningWithPin(e).then((function(e){n.info("Redemptionservice:redeemDeviceWithPin sucessfuly done !!  ",e),RedemptionServiceInst.setRedemptionSummary(e.svc_response),t(e)})).catch((function(e){a(e)}))}))}},RedemptionServiceInst}angular.module("app").service("$redemptionService",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$promoService","$checkscenario","$appConstants","$dateParser","$devicesCartServices","$lrpEnrollment"]})(),(function(){function e(e,t,n,a,r,o,s,c,l,d,u,p,v,g,m,f,h){var _;return RenewalServiceInst={_data:{},blockAutoRefill:!1,clearSaveDevices:!0},RenewalServiceInst.setAccountid=function(e){RenewalServiceInst._data.accountid=e},RenewalServiceInst.getAccountid=function(){return RenewalServiceInst._data.accountid},RenewalServiceInst.setAutoPayFlow=function(e){RenewalServiceInst._data.autopay=e},RenewalServiceInst.isAutoPayFlow=function(){return!!angular.isDefined(RenewalServiceInst._data.autopay)&&RenewalServiceInst._data.autopay},RenewalServiceInst.VerifyDeviceForRenewal=function(e){return verifyDeviceForRenewalRes={},verifyDeviceForRenewalRes.isSingleLineAcct=!1,t.info("RenewalServiceInst Inside VerifyDeviceForRenewal method",e),a((function(n,a){if(e.device){var i;i=e.device.min?e.device.min:e.device.esn?e.device.esn:e.device;e.plan&&e.plan.isILDVas&&!0,s.validateUserDevice({device:i}).then((function(i){t.info("validateUserDevice Service retuned ",i,l.isEnrollFlowFlag(),l.isRedemptionFlow());var r=i.svc_response;if("NET10"!==r.brand||u.isLoggedIn()||!r.isPlanNotAvailable||RenewalServiceInst.blockAutoRefill)if("TOTAL_WIRELESS"==r.brand&&angular.isUndefined(g.getPlanByDevice(r))&&0==s.getShopPlansFlow())s.clearSelectedDevice(),a({error_translate:"ERROR_1986065"});else if(r.isNotMigrated){t.info("RenewalServiceInst::Inside VerifyDeviceForRenewal lines remaining this is no migrated esn hence blocking");var o=d.getlinkfromScriptWithLinkTxt("ERROR_1985606","[TMO_URL_LINK]",v.tmobile_url_link,"VAR_5027","#HERE#");t.info("RenewalServiceInst::Inside VerifyDeviceForRenewal lines remaining this is non migrated",o);var m={error_code:"-999",error_message:o,error_type:"FAILURE"};s.clearSelectedDevice(),a(m)}else if(l.isEnrollFlowFlag()&&r&&r.deviceStatus!=p.device_status.active)!l.isEnrollFlowFlag()||r.deviceStatus!==p.device_status.new_device&&r.deviceStatus!==p.device_status.stolen&&r.deviceStatus!==p.device_status.risk_assestment?(t.info("RenewalServiceInst.VerifyDeviceForRenewal::Device Present and but not in good state",r),_=d.translateError({error_code:"-10113"},c.get("validatedevice")),s.clearSelectedDevice(),l.setEnrollFlowFlag(!1),a(_)):(t.info("RenewalServiceInst.VerifyDeviceForRenewal::Device Present and but not in good state",r),_=d.translateError({error_code:"-10108"},c.get("validatedevice")),s.clearSelectedDevice(),l.setEnrollFlowFlag(!1),a(_));else if(r.deviceStatus===p.device_status.new_device||d.isNullOrEmpty(r.deviceStatus)||!angular.isDefined(r.deviceStatus))_=d.translateError({error_code:"-10108"},c.get("validatedevice")),a(_);else if(!v.features.groupbased||r.group&&r.group.groupId&&r.min)if(r.activationPending||r.transactionPending&&"CARRIERPENDING"==r.transactionPending)_=d.translateError({error_code:"10201"},c.get("accountdevices")),s.clearSelectedDevice(),a(_);else if(r.flashMessage)verifyDeviceForRenewalRes.flow="FLASH_MESSAGE",n(verifyDeviceForRenewalRes);else if(r.isSafelink&&!s.isDeviceOnLifeline(r))verifyDeviceForRenewalRes.flow="SAFELINK_PHONE",n(verifyDeviceForRenewalRes);else if(r.transactionPending&&"OTAPENDING"==r.transactionPending)verifyDeviceForRenewalRes.flow="OTAPENDING",n(verifyDeviceForRenewalRes);else if(!l.getIsChngPlanRenewal()&&l.isEnrollFlowFlag()&&r.auto_refill_enabled)_=d.translateError({error_code:"10204"},c.get("accountdevices")),s.clearSelectedDevice(),a(_);else if(r&&s.isDeviceUsedOrPastDueWithLineReserve(r)&&g.isAddonPlan(e.plan))_=d.translateError({error_code:"-10102"},c.get("serviceplan")),a(_);else{var h=p.retention_context.purchase;l.setRedemptionFlow(!0),l.setDeviceAccountid(r.accountId),l.setZipCode(r.zipcode),l.setUserSelectedMin(r.min),i.renewalType="PROCEED_FINAL";var y=e.plan?e.plan:void 0;l.isEnrollFlowFlag()?(l.setUserSelectAutoRefill(!0),r.auto_refill_enabled&&(e.retentionMatrixCheck=!1),l.setRedemptionFlow(!1),h=p.retention_context.enrollment):l.getUserSelectAutoRefill()?h=p.retention_context.purchase_enrollment:RenewalServiceInst.isPlanChanged(y,r)&&(h=p.retention_context.switch_plan),g.isSelectedPlanCompartible(e.plan).then((function(o){t.info("RenewalServiceInst.isserviceplancompartible",o),o?(t.info("RenewalServiceInst::verifyDeviceForRenewal:: Going for retention Matrix"),f.getRetentionMatrix({servicePlanId:e.plan?e.plan.plan_id:void 0,device:r.esn,context:h,retentionMatrixCheck:e.retentionMatrixCheck}).then((function(r){t.info("RenewalServiceInst::getRetentionMatrix",r),e.retentionMatrixCheck&&l.setRetentionMatrixDetails(r),r.showRetentionWarnigs?n(r):(t.info("RenewalServiceInst::verifyDeviceForRenewal:: Going for discount eligibility Check"),r&&e.retentionMatrixCheck&&!r.isBoth&&(r.isAddNow||r.isApplyNow)?l.setRedeemNowFlag(!0):r&&"BOTH"==r.flow&&r.isEnollNow&&r.isEnrollLater?(t.info("retentionx matrix with enroll both status "),l.setEnrollFlowFlag(!0)):r&&"ENROLL_ON_DUE_DATE"==r.flow&&!r.isEnollNow&&(t.info("retentionx matrix with enroll on due date status "),l.setEnrollFlowFlag(!0)),t.info("RenewalServiceInst::verifyDeviceForRenewal:: Going for discount eligibility Check::Reedeemnowflag",l.getRedeemNowFlag()),RenewalServiceInst.validatePlanDiscount({plan:e.plan,discountEligible:e.discountEligible}).then((function(r){t.info("RenewalServiceInst::Verifydevicerenewal:: Discount is eligibilty response",r),r.isDevicePlanDiscountEligible?(t.info("RenewalServiceInst::Verifydevicerenewal:: Show the discount Popup"),n(r)):l.isBrandMultiLine()?(t.info("RenewalServiceInst.VerifyDeviceForRenewal::its multiline brand"),RenewalServiceInst.getRenewalAccountStatus({plan:e.plan}).then((function(e){
i.renewalType=e.renewalType,i.isSingleLineAcct=e.isSingleLineAcct,n(i)})).catch((function(e){a(e)}))):(t.info("RenewalServiceInst.VerifyDeviceForRenewal::its singline brand"),RenewalServiceInst.getSingleLineAccountStatus({plan:e.plan}).then((function(e){t.info("RenewalServiceInst.getSingleLineAccountStatus --\x3e ",e),i.isSingleLineAcct=!0,i.renewalType="PROCEED_FINAL",n(i)})).catch((function(e){a(e)})))})).catch((function(e){a(e)})))})).catch((function(e){a(e)}))):(_=d.translateError({error_code:"-10102"},c.get("serviceplan")),a(_))})).catch((function(e){a(e)}))}else _=d.translateError({error_code:"-10119"},c.get("validatedevice")),s.clearSelectedDevice(),a(_);else r.showBlockerPopup=!0,RenewalServiceInst.blockAutoRefill=!0,r.isSafelink&&!s.isDeviceOnLifeline(r)&&(r.flow="SAFELINK_PHONE"),n(r)})).catch((function(e){a(e)}))}else u.isLoggedIn()?(t.info("user is logged in bandetails ",s.getBanDetails()),RenewalServiceInst.getRenewalAccountStatus({plan:e.plan}).then((function(e){n(e)})).catch((function(e){a(e)}))):(_=d.translateError({error_code:"12400"},c.get("validatedevice")),a(_))}))},RenewalServiceInst.calcTaxForInactiveDevice=function(e){t.info("calcultaeTaxesForInvativeDevive::Loggedin Get the Devices to reactivated ",e);var n={};return n.status=!1,l.clearSaveDevices(),e.renewalType="DEVICE_ACTIVATION",a((function(a,i){t.info("calcultaeTaxesForInvativeDevice device::Device Pastdue or used its device::going for reactivation calctaxes"),RenewalServiceInst.isaddOnSelected(e.plan)?(_=d.translateError({error_code:"-10101"},c.get("serviceplan")),s.clearSelectedDevice(),i(_)):(e.plan&&o.addPlanToCart(e.plan),0==e.totalActiveLines?(l.clearSaveDevices(),t.info("calcTaxForInactiveDevice::Loggedin Get the Devices to reactivated "),RenewalServiceInst.estimateChangePlanSelection().then((function(e){t.info("calcTaxForInactiveDevice::estimateChangePlanSelection Estimate order Returned --\x3e ",e),n.status=!0,0==l.getSavedDevicesLength()?(_=d.translateError({error_code:"-10106"},c.get("validatedevice")),i(_)):l.isSingleLineacct()?(l.setBanReactivation(!1),l.setDeviceReactivation(!0),e.renewalType="DEVICE_ACTIVATION",l.setUserSelectAutoRefill(!1),e.isSingleLineAcct=!0,a(e)):(l.setBanReactivation(!0),e.renewalType="BAN_ACTIVATION",e.isSingleLineAcct=!1,l.setDeviceReactivation(!1),l.setUserSelectAutoRefill(!1),a(e))})).catch((function(e){i(e)}))):e.totalActiveLines<=4?(t.info("calcultaeTaxesForInvativeDevice device::Ban has the room to activate this inactive device"),s.getSelectedDevice().isredemptionFlow=!0,e.plan||(t.info("calcultaeTaxesForInvativeDevice device::Plan is not Defined selecting exiting plan for ",s.getSelectedDevice().servicePlanId),o.addPlanToCart(g.getPlanByPlanId(s.getSelectedDevice().servicePlanId))),e.renewalType="SINGLE_LINE",RenewalServiceInst.estimateNoPlanChange(e).then((function(r){t.info("RenewalServiceInst::estimateNoPlanChange Estimate order Returned --\x3e ",r),n.status=!0,0==l.getSavedDevicesLength()?(_=d.translateError({error_code:"-10106"},c.get("validatedevice")),i(_)):(0==e.totalActiveLines?(r.isSingleLineAcct=!0,l.setUserSelectAutoRefill(void 0)):(r.isSingleLineAcct=!1,l.setUserSelectAutoRefill(!1)),l.setBanReactivation(!1),l.setDeviceReactivation(!0),r.renewalType="DEVICE_ACTIVATION",a(r))})).catch((function(e){i(e)}))):(_=d.translateError({error_code:"-10101"},c.get("accountrecoverystatus")),i(_)))}))},RenewalServiceInst.getRenewalType=function(e){t.info("RenewalServiceInst.getRenewalType::",e);var n={};return a((function(a,i){n.isSingleLineAcct=!(e.totalActiveLines>1);var r=!!u.isLoggedIn();r&&u.isLimitedAccess()&&(r=!1),n.renewalType="PROCEED_FINAL";var o=s.getSelectedDevice();t.info("RenewalServiceInst.getRenewalType::",e,o),o&&o.deviceStatus==p.device_status.active?(t.info("RenewalServiceInst.getRenewalType::Device Present and active",o),e.plan&&RenewalServiceInst.isaddOnSelected(e.plan)?(t.info("RenewalServiceInst.getRenewalType::Device Present and active and Addon plan go to checkout",e.plan),n.renewalType="PROCEED_FINAL",n.isSingleLineAcct=!0,t.info("RenewalServiceInst.getRenewalType::Device Present and active and Addon plan go to checkout",n),a(n)):(t.info("RenewalServiceInst.getRenewalType::Device Present and active do as directed",e.plan,n),a(n))):o&&(o.deviceStatus==p.device_status.used||o.deviceStatus==p.device_status.past_due||o.deviceStatus==p.device_status.refurbish)&&o.reservedLine?(t.info("RenewalServiceInst.getRenewalType::Device Present and but not in good state",o),RenewalServiceInst.calcTaxForInactiveDevice({totalActiveLines:e.totalActiveLines,plan:e.plan,loggedin:r}).then((function(e){a(e)})).catch((function(e){i(e)}))):o?(t.info("RenewalServiceInst.getRenewalType::Device Present and but not in good state",o),_=d.translateError({error_code:"-10108"},c.get("validatedevice")),s.clearSelectedDevice(),i(_)):0==e.totalActiveLines?(l.setBanReactivation(!1),t.info("accountstatus Caluclating the taxes for reactivation"),RenewalServiceInst.estimatePlanSelection().then((function(e){t.info("getRenewalType::estimatePlanSelection::Got the devices to activated"),l.isSingleLineacct()?(n.renewalType="DEVICE_ACTIVATION",n.isSingleLineAcct=!0,l.setDeviceReactivation(!0),l.setBanReactivation(!1),a(n)):(n.renewalType="BAN_ACTIVATION",n.isSingleLineAcct=!1,l.setBanReactivation(!0),l.setDeviceReactivation(!1),l.setUserSelectAutoRefill(!1),a(n))})).catch((function(e){i(e)}))):e.totalActiveLines>1&&u.isLimitedAccess()?RenewalServiceInst.estimatePlanSelection().then((function(e){t.info("getRenewalType::estimatePlanSelection::Got the taxes for Limited access"),n.renewalType="PROCEED_FINAL",a(n)})).catch((function(e){i(e)})):a(n)}))},RenewalServiceInst.getCustomerAccountStatus=function(n){t.info("RenewalServiceInst::getCustomerAccountStatus :: ",n);var i;return a((function(n,a){var o=s.getSelectedDevice();t.info("getCustomerAccountStatus::user not logged in or device present ",o),o&&o.accountStatus&&o.accountStatus===p.valid_account?accountid=o.accountId:accountid=u.getAccountId(),accountid?i=accountid:o.min?i=o.min:o.esn?i=o.esn:o.sim&&o.sim.iccid&&(i=o.sim.iccid),accountstatus=function(n){return t.info(" request value passed --\x3e ",n),accountid?r.run(n,e.get("custAccountStatus").accountId,c.get("accountrecoverystatus")):r.run(n,e.get("custAccountStatus").device,c.get("accountrecoverystatus"))},t.info("RenewalServiceInst::going for CustomerAccountStatus service ",i),this.accountstatus({option:i}).then((function(e){t.info("RenewalServiceInst::CustomerAccountStatus service Retuned ",e),e=e.svc_response,e.inputvalue=o?o.min:u.getEmail(),l.setAccountinfo(e),n(e)})).catch((function(e){a(e)}))}))},RenewalServiceInst.getRenewalAccountStatus=function(e){return t.info("RenewalServiceInst::getRenewalAccountStatus :: ",e),a((function(n,a){RenewalServiceInst.getCustomerAccountStatus(e).then((function(i){if(t.info("RenewalServiceInst:;accountstatus service Retuned ",i,l.getIsChngPlanRenewal()),l.setBanId(i.ban_id),l.setAccountLevelAutoRefill(i.isEnrolled),l.setActiveLinesInAccount(i.totalActiveLines),i.isEnrolled&&l.isEnrollFlowFlag()&&!o.isAddonPlanInCart()&&!l.getIsChngPlanRenewal())_=d.translateError({error_code:"10204"},c.get("accountdevices")),s.clearSelectedDevice(),a(_);else if(0==i.totalActiveLines&&l.isEnrollFlowFlag())_=d.translateError({error_code:"-10113"},c.get("validatedevice")),s.clearSelectedDevice(),a(_);else if(i.isBanCarrierPending||i.isBanActivationProgress)_=d.translateError({error_code:"-10108"},c.get("validatedevice")),s.clearSelectedDevice(),a(_);else{var r=i.totalActiveLines;RenewalServiceInst.getRenewalType({totalActiveLines:r,plan:e?e.plan:void 0}).then((function(e){e.totalActiveLines=r,n(e)})).catch((function(e){s.clearSelectedDevice(),a(e)}))}})).catch((function(e){a(e)}))}))},RenewalServiceInst.isChangePlan=function(e){var n=!1,a=o.getPlans();return selecteddevice=s.getSelectedDevice(),t.info("RenewalServiceInst ::isChangePlan::",e,selecteddevice,a),selecteddevice&&selecteddevice.servicePlanId&&(e&&selecteddevice.servicePlanId>0&&selecteddevice.servicePlanId!=e.plan_id&&!RenewalServiceInst.isaddOnSelected(e)?n=!0:a.length>0&&selecteddevice.servicePlanId!=a[0].plan_id&&(n=!0)),n},RenewalServiceInst.isaddOnSelected=function(e){var t=!1;return e&&e.is_addon&&(t=!0),t},RenewalServiceInst.estimatePlanSelection=function(n){return estimatePlanSelectionlRes={},estimatePlanSelectionlRes.status=!1,t.info("RenewalServiceInst Inside estimatePlanSelection method",n,s.getBanDetails()),estimateBan=function(t){return r.run(t,e.get("estimateorder"),c.get("estimateorder"))},a((function(e,a){var i,r=!1;u.isLoggedIn()?(i=u.getAccountId(),s.getBanDetails().isBanCarrierPending?(_=d.translateError({error_code:"10201"},c.get("accountdevices")),l.setEnrollFlowFlag(!1),a(_)):l.isEnrollFlowFlag()&&0==s.getRedemptionDevices().length?(_=d.translateError({error_code:"10203"},c.get("accountdevices")),l.setEnrollFlowFlag(!1),a(_)):(l.setAccountLevelAutoRefill(l.getAccountLevelAutoRefill()?l.getAccountLevelAutoRefill():s.getBanDetails().isEnrolled),l.setBanId(l.getBanId()?l.getBanId():s.getBanDetails().ban_id),s.getRedemptionDevices().length>0&&!l.getZipCode()&&l.setZipCode(s.getRedemptionDevices()[0].zipcode),m.getAccountDetails()&&m.getAccountDetails().getAccountStatusDetails()&&l.isEnrollFlowFlag()&&(t.info("RenewalServiceInst::setting device info for Enroll flag",m.getAccountDetails().getAccountStatusDetails()),l.setAccountinfo(m.getAccountDetails().getAccountStatusDetails())),r=!0)):(i=l.getDeviceAccountid(),r=!0);var o,v;if(l.isBrandMultiLine()&&angular.isDefined(l.getBanId())){var g;(l.anyDeviceEnrolledInAddonPlan()||l.getUserSelectAutoRefill())&&(g={isRecurring:!0}),o={id:angular.isDefined(l.getBanId())?l.getBanId():void 0,paymentPlan:g},v=p.estimate_type.redeem_ban}else o=void 0,v=void 0;r&&(t.info("RenewalServiceInst::estimatePlanSelection its single line with Plan selected Going for estimate order",n),this.estimateBan({webobjid:i,estimate_type:v,billingAccount:o,zipcode:l.getZipCode()?l.getZipCode():p.default_zipcode}).then((function(n){t.info("RenewalServiceInst::estimatePlanSelection Estimate order Returned --\x3e ",n),estimatePlanSelectionlRes.taxDetails=n.data,l.setTaxes(n),l.setRedemptionEstimateType(p.estimate_type.redeem_ban),angular.isDefined(l.getTaxes())&&angular.isDefined(l.getTaxes().data)&&(l.clearSaveDevices(),s.clearSelectedDevice(),angular.forEach(l.getTaxes().data.orderItems,(function(e,t){var n=angular.copy(e);l.addDeviceToCart(n)}))),estimatePlanSelectionlRes.status=!0,e(estimatePlanSelectionlRes)})).catch((function(e){a(e)})))}))},RenewalServiceInst.estimateChangePlanSelection=function(n){return t.info("inside estimateChangePlanSelection method --\x3e ",s.getSelectedDevice()),estimatePlanSelectionlRes={},estimatePlanSelectionlRes.status=!1,estimateBan=function(t){return r.run(t,e.get("estimateorder"),c.get("estimateorder"))},a((function(e,a){var r=s.getSelectedDevice();if(r){l.removeDeviceFromCart(r),l.setZipCode(r.zipcode?r.zipcode:void 0);var c=o.getPlans().length>0?o.getPlans()[0]:void 0;if(t.info("estimateChangePlanSelection::selected Plan in the Cart --\x3e ",c),!c||r.servicePlanId==c.plan_id&&r.part_number==c.part_number){var d=g.getPlanByDevice(r);d&&(r.plans=[],r.plans.push(d)),r.isNewPlan=!1}else r.plans=o.getPlans(),r.isNewPlan=!0;l.addDeviceToCart(r),o.emptyCart(),s.clearSelectedDevice()}var m;u.isLoggedIn()?(m=u.getAccountId(),l.setAccountLevelAutoRefill(l.getAccountLevelAutoRefill()?l.getAccountLevelAutoRefill():s.getBanDetails().isEnrolled),l.setBanId(l.getBanId()?l.getBanId():s.getBanDetails().ban_id),s.getRedemptionDevices().length>0&&!l.getZipCode()&&l.setZipCode(s.getRedemptionDevices()[0].zipcode)):m=l.getDeviceAccountid();var f,h;if(l.isBrandMultiLine()&&l.getBanId()){var _;(l.anyDeviceEnrolledInAddonPlan()||l.getUserSelectAutoRefill())&&(_={isRecurring:!0}),f={id:angular.isDefined(l.getBanId())?l.getBanId():void 0,paymentPlan:_},h=p.estimate_type.redeem_ban}else f=void 0,h=void 0;t.info("RenewalServiceInst::estimateChangePlanSelecttion Multile with chnage plan order",n),this.estimateBan({webobjid:m,estimate_type:h,billingAccount:f,zipcode:l.getZipCode()?l.getZipCode():p.default_zipcode,orderItems:RenewalServiceInst.buildChangePlanEstimateOrderItems(n)}).then((function(n){if(t.info("RenewalServiceInst::estimateChangePlanSelection Estimate order Returned --\x3e ",n),"SIMPLE_MOBILE"===v.brand)for(i=0;i<n.data.orderItems.length;i++){if(n.data.orderItems[i].isPlanNotAvailable){estimatePlanSelectionlRes.showBlockerPopup=!0;break}estimatePlanSelectionlRes.showBlockerPopup=!1}l.setTaxes(n),l.setRedemptionEstimateType(p.estimate_type.redeem_ban),angular.isDefined(l.getTaxes())&&angular.isDefined(l.getTaxes().data)&&(l.clearSaveDevices(),s.clearSelectedDevice(),angular.forEach(l.getTaxes().data.orderItems,(function(e,t){var n=angular.copy(e);l.addDeviceToCart(n)}))),estimatePlanSelectionlRes.status=!0,e(estimatePlanSelectionlRes)})).catch((function(e){a(e)}))}))},RenewalServiceInst.buildEstimateOrderItems=function(e){t.info("RenewalServiceInst::buildEstimateOrderItems estimate order");var n=[],a=l.getSavedDevices(),i=1;return s.setCheckoutFlowFlag(!0),t.info("buildEstimateOrderItems --\x3e ",a),angular.forEach(a,(function(e,a){var r;t.info("new plan is available --\x3e ",e.newPlan);var o={},s={};if(angular.isDefined(e.newPlan)){t.info("new plan is available");var c=e.newPlan;c.is_addon&&(r=c.quantity),o.id=""+i,o.action=p.action_estimate,o.quantity=r,s.id=c.part_number,s.productSpecification={id:c.part_class,brand:v.brand},s.supportingResources=[{serialNumber:e.min,resourceType:"LINE"}],o.productOffering=s,i++,n.push(o)}else t.info("old plan is available --\x3e ",e.plans),angular.forEach(e.plans,(function(a,c){o={},s={},t.info("Plans in the cart to be added for orderitem --\x3e ",a),a.is_addon&&(r=a.quantity),o.id=""+i,o.action=p.action_estimate,o.quantity=r,s.id=a.part_number,s.productSpecification={id:a.part_class,brand:v.brand},s.supportingResources=[{serialNumber:e.min,resourceType:"LINE"}],o.productOffering=s,i++,n.push(o)}));t.info("RenewalServiceInst::buildEstimateOrderItems final order item::",n)})),n},RenewalServiceInst.buildDeviceEstimateOrderItems=function(e){t.info("RenewalServiceInst::buildDeviceEstimateOrderItems estimate order",e);var n,a=[],i=1,r=angular.copy(e);t.info("new plan is available --\x3e ",r);var o={},c={};return s.setCheckoutFlowFlag(!0),t.info("RenewalServiceInst::buildEstimateOrderItems for estimating Multiline brand"),t.info("Non Multiline Plans  --\x3e ",r),angular.forEach(r.plans,(function(e,s){o={},c={},t.info("Plans in the cart to be added for orderitem --\x3e ",e);var d;r.min?(d={},d={productSerialNumber:r.min,productCategory:"LINE"}):(d={},d={productSerialNumber:r.esn,productCategory:"HANDSET"});var u,g=d;u=e.is_addon?e.isILDVas?p.orderitemildcategory:"SIMPLE_MOBILE"===v.brand&&e.is_smHppPlan?p.orderitemvascategory:p.orderitemdataaddoncategory:p.orderitemcategory;var m=[],f={name:p.program_id,value:""+e.program_id};m.push(f);var h={id:""+e.plan_id,category:u,characteristicSpecification:m};l.getTransactionType()==p.transaction_type.telehealth_purchase&&(h.category=p.teleHealthConfig.category,h.subCategory=p.teleHealthConfig.subCategory),h.isRecurring=RenewalServiceInst.getAutoRefillFlag(r,e);var _=[];_.push(h),g.relatedServices=_,t.info("product in the cart to be added for orderitem --\x3e ",g),n=e.quantity,o.id=""+i,o.action=p.action_estimate,o.quantity=n,c.id=e.part_number,c.productSpecification={id:e.part_class,brand:v.brand},o.productOffering=c,o.product=g,i++,a.push(o)})),t.info("RenewalServiceInst::buildEstimateOrderItems final order item::",a),a},RenewalServiceInst.buildChangePlanEstimateOrderItems=function(e){t.info("RenewalServiceInst::buildChangePlanEstimateOrderItems estimate order",e);var n=[],a=l.getSavedDevices(),i=1;return t.info("buildChangePlanEstimateOrderItems --\x3e ",a),angular.forEach(a,(function(e,a){angular.forEach(e.plans,(function(a,r){if(e.isNewPlan){orderItem={},productOffering={},t.info("Plans in the cart to be added for orderitem --\x3e ",a);var o;e.min?(o={},o={productSerialNumber:e.min,productCategory:"LINE"}):(o={},o={productSerialNumber:e.esn,productCategory:"HANDSET"});var s,c=o;s=a.is_addon?a.isILDVas?p.orderitemildcategory:"SIMPLE_MOBILE"===v.brand&&a.is_smHppPlan?p.orderitemvascategory:p.orderitemdataaddoncategory:p.orderitemcategory;var d=[],u={name:p.program_id,value:""+a.program_id};d.push(u);var g={id:""+a.plan_id,category:s,characteristicSpecification:d};l.getTransactionType()==p.transaction_type.telehealth_purchase&&(g.category=p.teleHealthConfig.category,g.subCategory=p.teleHealthConfig.subCategory),g.isRecurring=RenewalServiceInst.getAutoRefillFlag(e,a);var m=[];m.push(g),c.relatedServices=m,t.info("product in the cart to be added for orderitem --\x3e ",c),planQuantity=a.quantity,orderItem.id=""+i,orderItem.action=p.action_estimate,orderItem.quantity=planQuantity,productOffering.id=a.part_number,productOffering.productSpecification={id:a.part_class,brand:v.brand},orderItem.productOffering=productOffering,orderItem.product=c,i++,n.push(orderItem),t.info("Chnageplan orderitem--\x3e ",orderItem)}}))})),t.info("Chnageplan final orderitems--\x3e ",n),0==n.length&&(n=void 0),n},RenewalServiceInst.estimateNoPlanChange=function(n){estimateNoPlanChange={},estimateNoPlanChange.status=!1;var i=l.anyDeviceEnrolledInAddonPlan();return l.clearSaveDevices(),t.info("RenewalServiceInst Inside estimateNoPlanChange method",n),estimateBan=function(t){return r.run(t,e.get("estimateorder"),c.get("estimateorder"))},n||(n={}),u.isLoggedIn()?(accountId=u.getAccountId(),l.setAccountLevelAutoRefill(l.getAccountLevelAutoRefill()?l.getAccountLevelAutoRefill():!!s.getBanDetails()&&s.getBanDetails().isEnrolled),l.setBanId(l.getBanId()?l.getBanId():s.getBanDetails()?s.getBanDetails().ban_id:s.getBanId()?s.getBanId():void 0),s.getRedemptionDevices().length>0&&!l.getZipCode()&&l.setZipCode(s.getRedemptionDevices()[0].zipcode)):accountId=l.getDeviceAccountid(),a((function(e,a){if(o.isAddonPlanInCart()&&o.getPlans().length>0||"SINGLE_LINE"===n.renewalType||"DEVICE_ACTIVATION"===n.renewalType){t.info("RenewalServiceInst::estimateNoPlanChange its addon plan Purchase with singleline",o.getPlans());var r=s.getSelectedDevice(),c=o.isAddonPlanInCart();r.plans=angular.copy(o.getPlans()),l.addDeviceToCart(r),s.clearSelectedDevice(),o.emptyCart(),!accountId&&r&&r.accountId&&(accountId=r.accountId),t.info("RenewalServiceInst::estimateNoPlanChange its single line with addons in cart",r,l.getSavedDevices(),l.getBanId(),c,i,l.getUserSelectAutoRefill());var d,u;if(l.isBrandMultiLine()&&angular.isDefined(l.getBanId())){var g;(i||l.getUserSelectAutoRefill())&&(g=!0),d={id:l.getBanId()?l.getBanId():void 0,isRecurring:g},u=p.estimate_type.activate_line,r&&r.deviceStatus==p.device_status.active&&!c&&(u=p.estimate_type.redeem_ban)}else"SIMPLE_MOBILE"===v.brand&&angular.isDefined(r)&&angular.isDefined(r.selectedHPPPlan)?(d={id:l.getBanId()?l.getBanId():""},u=p.estimate_type.activate_line):(d=void 0,u=void 0);var m;m=n.zipcode?n.zipcode:r.zipcode?r.zipcode:l.getZipCode(),this.estimateBan({webobjid:accountId,estimate_type:u,billingAccount:d,zipcode:m||p.default_zipcode,orderItems:RenewalServiceInst.buildDeviceEstimateOrderItems(r)}).then((function(n){t.info("RenewalServiceInst::estimateNoPlanChange Estimate order Returned --\x3e ",n,r),l.clearSaveDevices(),l.setTaxes(n),l.setRedemptionEstimateType(u),l.isBrandMultiLine()&&!c?l.getTaxes()&&l.getTaxes().data&&angular.forEach(l.getTaxes().data.orderItems,(function(e,t){var n=angular.copy(e);l.addDeviceToCart(n)})):(l.clearSaveDevices(),l.addDeviceToCart(r)),s.setCheckoutFlowFlag(!0),n.status=!0,e(n)})).catch((function(e){a(e)}))}else"MULTI_LINE"===n.renewalType||"BAN_ACTIVATION"===n.renewalType?(t.info("RenewalServiceInst:: estimateNoPlanChange MULTI_LINE not logged in  method calling estimatePlanSelection"),RenewalServiceInst.estimateChangePlanSelection().then((function(n){t.info("RenewalServiceInst::estimateNoPlanChange estimatePlanSelection  Returned --\x3e ",n),s.setCheckoutFlowFlag(!0),n.status=!0,e(n)})).catch((function(e){a(e)}))):e(estimateNoPlanChange)}))},RenewalServiceInst.estimateNoPlanChangeHpp=function(n){estimateNoPlanChange={},estimateNoPlanChange.status=!1;var i=l.anyDeviceEnrolledInAddonPlan();return l.clearSaveDevices(),t.info("RenewalServiceInst Inside estimateNoPlanChange method",n),estimateBan=function(t){return r.run(t,e.get("estimateorder"),c.get("estimateorder"))},n||(n={}),u.isLoggedIn()?(accountId=u.getAccountId(),l.setAccountLevelAutoRefill(l.getAccountLevelAutoRefill()?l.getAccountLevelAutoRefill():!!s.getBanDetails()&&s.getBanDetails().isEnrolled),l.setBanId(l.getBanId()?l.getBanId():s.getBanDetails()?s.getBanDetails().ban_id:void 0),angular.isDefined(s.getRedemptionDevices())&&s.getRedemptionDevices().length>0&&!l.getZipCode()&&l.setZipCode(s.getRedemptionDevices()[0].zipcode)):accountId=l.getDeviceAccountid(),a((function(e,a){if(o.isAddonPlanInCart()&&o.getPlans().length>0||"SINGLE_LINE"===n.renewalType||"DEVICE_ACTIVATION"===n.renewalType){t.info("RenewalServiceInst::estimateNoPlanChange its addon plan Purchase with singleline",o.getPlans());var r=s.getSelectedDevice(),c=o.isAddonPlanInCart();r.plans=angular.copy(o.getPlans()),l.addDeviceToCart(r),!accountId&&r&&r.accountId&&(accountId=r.accountId),t.info("RenewalServiceInst::estimateNoPlanChange its single line with addons in cart",r,l.getSavedDevices(),l.getBanId(),c,i,l.getUserSelectAutoRefill());var d,u;if(l.isBrandMultiLine()&&angular.isDefined(l.getBanId())){var g;(i||l.getUserSelectAutoRefill())&&(g=!0),d={id:l.getBanId()?l.getBanId():void 0,isRecurring:g},u=p.estimate_type.activate_line,r&&r.deviceStatus==p.device_status.active&&!c&&(u=p.estimate_type.redeem_ban)}else"SIMPLE_MOBILE"===v.brand&&angular.isDefined(r)&&angular.isDefined(r.selectedHPPPlan)?(d={id:l.getBanId()?l.getBanId():""},u=p.estimate_type.activate_line):(d=void 0,u=void 0);var m;m=n.zipcode?n.zipcode:r.zipcode?r.zipcode:l.getZipCode(),this.estimateBan({webobjid:accountId,estimate_type:u,billingAccount:d,zipcode:m||p.default_zipcode,orderItems:RenewalServiceInst.buildDeviceEstimateOrderItems(r)}).then((function(n){t.info("RenewalServiceInst::estimateNoPlanChange Estimate order Returned --\x3e ",n,r),l.clearSaveDevices(),l.setTaxes(n),l.setRedemptionEstimateType(u),l.isBrandMultiLine()&&!c?l.getTaxes()&&l.getTaxes().data&&angular.forEach(l.getTaxes().data.orderItems,(function(e,t){var n=angular.copy(e);l.addDeviceToCart(n)})):(l.clearSaveDevices(),l.addDeviceToCart(r)),s.setCheckoutFlowFlag(!0),n.status=!0,e(n)})).catch((function(e){a(e)}))}else"MULTI_LINE"===n.renewalType||"BAN_ACTIVATION"===n.renewalType?(t.info("RenewalServiceInst:: estimateNoPlanChange MULTI_LINE not logged in  method calling estimatePlanSelection"),RenewalServiceInst.estimateChangePlanSelection().then((function(n){t.info("RenewalServiceInst::estimateNoPlanChange estimatePlanSelection  Returned --\x3e ",n),s.setCheckoutFlowFlag(!0),n.status=!0,e(n)})).catch((function(e){a(e)}))):e(estimateNoPlanChange)}))},RenewalServiceInst.showTaxErrorPopup=function(){var e=!1,t=!1;return angular.forEach(l.getSavedDevices(),(function(e,n){!t&&e&&e.showDetails&&(t=!0)})),t||l.getTaxes()&&l.getTaxes().data&&l.getTaxes().data.noTaxRetuned&&(e=!0),e},RenewalServiceInst.getSingleLineAccountStatus=function(n){t.info("getSingleLineAccountStatus :: ",n);var i;return a((function(n,a){var o=s.getSelectedDevice();t.info("getSingleLineAccountStatus::user not logged in or device present ",o),o&&o.accountStatus&&o.accountStatus===p.valid_account?accountid=o.accountId:accountid=u.getAccountId(),accountid?i=accountid:o.min?i=o.min:o.esn?i=o.esn:o.sim&&(i=o.sim),accountstatus=function(n){return t.info(" request value passed --\x3e ",n),accountid?r.run(n,e.get("accountStatus").accountId,c.get("accountrecoverystatus")):r.run(n,e.get("accountStatus").device,c.get("accountrecoverystatus"))},t.info("going for getSingleLineAccountStatus - accountstatus service ",i),this.accountstatus({option:i}).then((function(e){t.info("getSingleLineAccountStatus - accountstatus service Retuned ",e),e=e.svc_response,e.inputvalue=o?o.min:u.getEmail(),l.setBanId(e.ban_id),l.setAccountLevelAutoRefill(e.isEnrolled),l.setAccountinfo(e),l.setActiveLinesInAccount(e.totalActiveLines),n(e)})).catch((function(e){a(e)}))}))},RenewalServiceInst.getAutoRefillFlag=function(e,n){t.info("Inside getAutoRefillFlag method --\x3e ",n,l.getUserSelectAutoRefill(),e);var a=!1,i=e.auto_refill_enabled,r=e.lowbalance_enabled,o=!1;n.isILDVas&&n.is_addon&&(o=n.auto_refill);var s=!!l.getUserSelectAutoRefill()&&l.getUserSelectAutoRefill();if(n.isILDVas&&n.is_addon)(r||o)&&(a=!0);else if(s=s||l.isEnrollFlowFlag(),i){a=!0;var c=l.executionPlanExistsInDevices();if(!c&&e.deviceStatus==p.device_status.active){var d=l.isEnrollFlowFlag()?p.transaction_type.enrollment:p.transaction_type.redemption;d==p.transaction_type.redemption&&(a=!1)}}else s&&(a=!0);return t.info("Exit getAutoRefillFlag method -- ",a),a},RenewalServiceInst.estimateHppTax=function(n){return estimateHppTaxRes={},t.info("RenewalServiceInst::estimateHppTaxRes",n,s.getSelectedDevice(),l.isEnrollFlowFlag(),o.getStagedHppPlan()),estimateHppTaxRes.status=!1,l.clearSaveDevices(),t.info("RenewalServiceInst Inside estimateNoPlanChange method",n),estimateBan=function(t){return r.run(t,e.get("estimateorder"),c.get("estimateorder"))},a((function(e,n){var a=angular.copy(s.getSelectedDevice()),i=angular.copy(o.getStagedHppPlan());if(a.plans=[],a.plans.push(i),a.todaysDate=new Date,i.is_annual){var r=new Date((new Date).setFullYear((new Date).getFullYear()+1));r.setDate(r.getDate()-1),a.enrollEndDate=r}if(i.is_monthly){var r=new Date((new Date).setMonth((new Date).getMonth()+1));r.setDate(r.getDate()-1),a.enrollEndDate=r}l.addDeviceToCart(a),s.clearSelectedDevice(),o.clearStagedHppPlan(),this.estimateBan({webobjid:a.accountId,zipcode:a.zipcode,orderItems:RenewalServiceInst.buildHppEstimateOrderItems()}).then((function(n){t.info("RenewalServiceInst::estimateHppTax Estimate order Returned --\x3e ",n),l.setTaxes(n),l.setHppEnrollFlowFlag(!0),l.setEnrollFlowFlag(!0),estimateHppTaxRes.status=!0,e(estimateHppTaxRes)})).catch((function(e){n(e)}))}))},RenewalServiceInst.buildHppEstimateOrderItems=function(e){buildHppEstimateOrderItems={},t.info("RenewalServiceInst::buildHpporderitems",l.isEnrollFlowFlag(),l.getSavedDevices());var n=[];return angular.forEach(l.getSavedDevices(),(function(e,a){angular.forEach(e.plans,(function(a,i){var r=angular.copy(e),o=angular.copy(a),s={};productOffering={},t.info("Plans in the cart to be added for orderitem --\x3e ",o);var c={productSerialNumber:r.esn,productCategory:"HANDSET"},l=p.orderitemaddoncategory,d=[],u={name:p.program_id,value:""+o.program_id};d.push(u);var g={id:"",category:l,characteristicSpecification:d,isRecurring:!0},m=[];m.push(g),c.relatedServices=m,t.info("product in the cart to be added for HPP orderitem --\x3e ",c),s.id="",s.action=p.action_estimate,productOffering.productSpecification={id:"",brand:v.brand},s.productOffering=productOffering,s.product=c,n.push(s)}))})),t.info("Final Order for HPP orderitem --\x3e ",n),n},RenewalServiceInst.validatePlanDiscount=function(n){validatePlanDiscountRes={flow:"PROCEED_FINAL",isDevicePlanDiscountEligible:!1},t.info("RenewalServiceInst::validatePlanDiscount",n,s.getSelectedDevice(),l.isEnrollFlowFlag()),n||(n={});var i=s.getSelectedDevice();return a((function(a,o){if(valdiateDiscount=function(t){return r.run(t,e.get("servicequalificationact"),c.get("servicequalificationact"))},n.plan&&n.plan.isMultiLineEnrollDisc&&n.discountEligible&&i&&!i.auto_refill_enabled&&!l.isEnrollFlowFlag()){t.info("RenewalServiceInst::validatePlanDiscount:: its a dscount plan need to check eligibility"),u.isLoggedIn()?n.webobjid=u.getAccountId():n.webobjid=s.getSelectedDevice()?s.getSelectedDevice().accountId:void 0;var d=[{type:p.context,value:p.service_qulafiers.discount_eligible}],v={id:n.plan.plan_id+"",category:p.service_plan};this.valdiateDiscount({relatedParties:h.getRelatedParties(n),resource:h.getResourceBean(n),serviceCategory:d,service:v}).then((function(e){e?(validatePlanDiscountRes.isDevicePlanDiscountEligible=!0,validatePlanDiscountRes.flow="FAMILY_PLAN_POPUP",a(validatePlanDiscountRes)):a(validatePlanDiscountRes)})).catch((function(e){o(e)}))}else a(validatePlanDiscountRes)}))},RenewalServiceInst.validateIldAvailability=function(n){return t.info("RenewalServiceInst::validateIldAvailability",n),a((function(a,i){validateIld=function(t){return r.run(t,e.get("ildservicequalification"),c.get("ildservicequalification"))},this.validateIld({intphone:n.intphone}).then((function(e){t.info("RenewalServiceInst::validateIldAvailability service response",e),_=e.qualified?d.translateError({error_code:"10101"},c.get("ildservicequalification")):d.translateError({error_code:"10102"},c.get("ildservicequalification")),e.showMessage=_,a(e)})).catch((function(e){i(e)}))}))},RenewalServiceInst.isPlanChanged=function(e,n){var a=!1;return t.info("isPlanChanged --\x3e  ",a,e,n,l.executionPlanExistsInDevices()),e&&n&&l.getIsChngPlanRenewal()&&!e.is_addon&&n.auto_refill_enabled&&(a=!0),t.info("isPlanChanged --\x3e  ",a),a},RenewalServiceInst.setIsPlanNotAvailable=function(e){RenewalServiceInst.blockAutoRefill=e},RenewalServiceInst.setClearSaveDevices=function(e){RenewalServiceInst.clearSaveDevices=e},RenewalServiceInst}angular.module("app").service("$renewalservices",e),e.$inject=["$svcConfig","$log","$rootScope","$q","$serviceUtils","$cartService","$deviceService","$voMapConfig","$devicesCartServices","$utils","$userService","$appConstants","$appConfig","$servicePlanSelectorService","$accountService","$redemptionService","$checkscenario"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p){return servicePlanInst={_plans:{BrandPlans:{}},_devicePlans:{DevicePlans:{}}},servicePlanInst.setSPExpiry=function(e){(new Date).getTime()<new Date(e).getTime()?servicePlanInst.startSPTimer(new Date(e).getTime()-(new Date).getTime()):servicePlanInst.spExpiring()},servicePlanInst.getSPExpiry=function(){return servicePlanInst._plans.sp_expiry},servicePlanInst.startSPTimer=function(e){n.info("SP Timer Expiring in Mins ",e/6e4),servicePlanInst._plans.sptimer=u(servicePlanInst.spExpiring,e,1)},servicePlanInst.stopSPTimer=function(){servicePlanInst._plans.sptimer&&u.cancel(servicePlanInst._plans.sptimer)},servicePlanInst.spExpiring=function(){n.info("SP spExpiring Cleaning Plans"),servicePlanInst.stopSPTimer(),servicePlanInst._plans={BrandPlans:{}},n.info("SP spExpiring Regenrating Plans"),servicePlanInst.getServicePlanDetails()},servicePlanInst.clearDevicePlans=function(){n.info("SP Cleaning device Plans"),servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans&&(servicePlanInst._devicePlans={})},servicePlanInst.getMonthlyPlans=function(){return e.deviceplans&&servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans?servicePlanInst._devicePlans.DevicePlans.plans.monthly:servicePlanInst._plans.BrandPlans.plans.monthly},servicePlanInst.getUpgradePlans=function(){return e.deviceplans&&servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans?servicePlanInst._devicePlans.DevicePlans.plans.upgrade:servicePlanInst._plans.BrandPlans.plans.upgrade},servicePlanInst.getBroadbandPlans=function(){return e.deviceplans&&servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans?servicePlanInst._devicePlans.DevicePlans.plans.dataOnly:servicePlanInst._plans.BrandPlans.plans.dataOnly},servicePlanInst.getHotspotPlans=function(){return e.deviceplans&&servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans?servicePlanInst._devicePlans.DevicePlans.plans.hotspot:servicePlanInst._plans.BrandPlans.plans.hotspot},servicePlanInst.getHomePhonePlans=function(){return e.deviceplans&&servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans?servicePlanInst._devicePlans.DevicePlans.plans.homephone:servicePlanInst._plans.BrandPlans.plans.homephone},servicePlanInst.getPaygoPlans=function(){
return e.deviceplans&&servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans?servicePlanInst._devicePlans.DevicePlans.plans.paygo:servicePlanInst._plans.BrandPlans.plans.paygo},servicePlanInst.getAllPlans=function(){return n.info("getallPlans",servicePlanInst._devicePlans,servicePlanInst._plans),servicePlanInst._devicePlans&&servicePlanInst._devicePlans.DevicePlans&&servicePlanInst._devicePlans.DevicePlans.plans?servicePlanInst._devicePlans.DevicePlans.plans.all:servicePlanInst._plans.BrandPlans.plans.all},servicePlanInst.getPlanByPlanId=function(e){var t;return e&&angular.forEach(servicePlanInst.getAllPlans(),(function(n,a){e===n.plan_id&&(t=angular.copy(n))})),t},servicePlanInst.getAllPlanByPlanId=function(e){var t;return n.info("getAllPlanByPlanId service!!",e,servicePlanInst.getAllPlans()),e&&angular.forEach(servicePlanInst.getAllPlans(),(function(n,a){e==n.plan_id?t=angular.copy(n):angular.isDefined(n.recurringPlanId)&&e==n.recurringPlanId&&(t=angular.copy(n))})),n.info("getAllPlanByPlanId service!!",t),t},servicePlanInst.getAllPlanByESN=function(){return r((function(e,a){serviceplanByESN=function(e){return s.run(e,t.get("serviceplan").byesn,o.get("serviceplan"))};var r={monthly:[],addon:[]};i.lang;this.serviceplanByESN({device:d.getSelectedDevice().esn}).then((function(t){n.info("serviceplanselector Response",t),servicePlanInst._devicePlans.esn=d.getSelectedDevice().esn,servicePlanInst._devicePlans.DevicePlans=t,r=servicePlanInst.getPlansForBrand(servicePlanInst._devicePlans.DevicePlans),n.info("serviceplanselector final Device plans",r),t.plan_details=angular.copy(r),e(t)})).catch((function(e){a(e)}))}))},servicePlanInst.getAllPlanByPartNumber=function(e){var t;return n.info("serviceplanselector::getAllPlanByPartNumber",e,servicePlanInst.getAllPlans()),e&&angular.forEach(servicePlanInst.getAllPlans(),(function(n,a){e!=n.part_number&&e!=n.part_class||(t=angular.copy(n))})),n.info("serviceplanselector::getAllPlanByPartNumber service!!",t),t},servicePlanInst.getPlanByDevice=function(e){var t=void 0;return n.info("getPlanByDevice service!!",e,servicePlanInst.getAllPlans()),e&&(e.servicePlanId&&angular.forEach(servicePlanInst.getAllPlans(),(function(n,a){e.servicePlanId==n.plan_id?t=n:n.recurringPlanId&&e.servicePlanId==n.recurringPlanId&&(t=angular.copy(n))})),!t&&e.servicePlanPartNumber&&angular.forEach(servicePlanInst.getAllPlans(),(function(n,a){e.servicePlanPartNumber==n.part_number&&(t=angular.copy(n))}))),t&&!t.enrollmentPromoPrice&&e.enrollmentPromoPrice>0&&(t.enrollmentPromoPrice=e.enrollmentPromoPrice),n.info("getPlanByDevice service!!",t),t},servicePlanInst.getAddonPlans=function(){var e;return servicePlanInst._plans.BrandPlans.plans&&servicePlanInst._plans.BrandPlans.plans.all&&angular.forEach(servicePlanInst._plans.BrandPlans.plans.all,(function(t,n){t.is_addon&&(e||(e=[]),e.push(angular.copy(t)))})),e},servicePlanInst.getDataAddonPlans=function(){var e;return servicePlanInst._plans.BrandPlans.plans&&servicePlanInst._plans.BrandPlans.plans.all&&angular.forEach(servicePlanInst._plans.BrandPlans.plans.all,(function(t,n){t.is_addon&&"ADD_ON_DATA"==t.servicePlanGroup&&(e||(e=[]),e.push(angular.copy(t)))})),e},servicePlanInst.getAllAddonPlans=function(){var e;return r((function(t,a){servicePlanInst.getServicePlanDetails().then((function(a){n.info("serviceplanselector::getAllAddonPlans",a),a.plans&&a.plans.all&&angular.forEach(a.plans.all,(function(t,n){t.is_addon&&(e||(e=[]),e.push(angular.copy(t)))})),t(e)})).catch((function(e){a(e)}))}))},servicePlanInst.getILdAddonPlan=function(){n.info("getILdAddonPlan service!! ...",servicePlanInst._plans.BrandPlans.plans.ildaddon);var e;return servicePlanInst._plans.BrandPlans.plans&&servicePlanInst._plans.BrandPlans.plans.all&&angular.forEach(servicePlanInst._plans.BrandPlans.plans.all,(function(t,n){t.is_addon&&t.isILDVas&&(e=angular.copy(t))})),n.info("getILdAddonPlan service!! got the ild plan",e),e},servicePlanInst._plans.BrandPlans={monthly:[],addon:[]},servicePlanInst.getServicePlans=function(){return r((function(n,a){serviceplanByBrand=function(e){return s.run(e,t.get("serviceplan").brand,o.get("serviceplan"))};var r=i.lang;this.serviceplanByBrand().then((function(t){var a=new Date;a=new Date(a.getTime()+60*e.SP_timer_hours*60*1e3),servicePlanInst._plans.sp_expiry=a,servicePlanInst.startSPTimer(new Date(a).getTime()-(new Date).getTime()),servicePlanInst._plans.BrandPlans=t,servicePlanInst._plans.BrandPlans.spLang=r,plan_details=servicePlanInst.getPlansForBrand(servicePlanInst._plans.BrandPlans),t.plan_details=angular.copy(plan_details),n(t)})).catch((function(e){a(e)}))}))},servicePlanInst.getServicePlanDetails=function(){return n.info("getServicePlanDetails service!! ...",d.hasSelectedDevice()),r((function(a,r){serviceplanByBrand=function(e){return s.run(e,t.get("serviceplan").brand,o.get("serviceplan"))},serviceplanByESN=function(e){return s.run(e,t.get("serviceplan").byesn,o.get("serviceplan"))};var c={monthly:[],addon:[]},l={},u=i.lang,v=!0;servicePlanInst._plans&&servicePlanInst._plans.BrandPlans&&servicePlanInst._plans.BrandPlans.spLang==u&&(v=!1),n.info("serviceplanselector::Device level plans neede?",e.deviceplans,d.hasSelectedDevice(),d.isActivationFlow(),p.isRedemptionFlow(),p.isEnrollFlowFlag()),e.deviceplans&&d.hasSelectedDevice()&&(d.isActivationFlow()||p.isRedemptionFlow()||p.isEnrollFlowFlag())?servicePlanInst._devicePlans&&servicePlanInst._devicePlans.esn==d.getSelectedDevice().esn&&servicePlanInst._devicePlans.DevicePlans?(n.info("serviceplanselector::Device level plans needed Plans for this devic already fetched Retruning same plans",servicePlanInst._devicePlans.esn,servicePlanInst._devicePlans.DevicePlans),l=servicePlanInst._devicePlans.DevicePlans,a(l)):(n.info("serviceplanselector::Device level plans needed calling service plan selector based on device esn"),this.serviceplanByESN({device:d.getSelectedDevice().esn}).then((function(e){n.info("serviceplanselector Response",e),servicePlanInst._devicePlans.esn=d.getSelectedDevice().esn,servicePlanInst._devicePlans.DevicePlans=e,c=servicePlanInst.getPlansForBrand(servicePlanInst._devicePlans.DevicePlans),n.info("serviceplanselector final Device plans",c),e.plan_details=angular.copy(c),a(e)})).catch((function(e){r(e)}))):!v&&servicePlanInst._plans.BrandPlans&&servicePlanInst._plans.BrandPlans.plans?(n.info("serviceplanselector Response",servicePlanInst._plans.BrandPlans),l=servicePlanInst._plans.BrandPlans,l.plan_details=servicePlanInst.getPlansForBrand(servicePlanInst._plans.BrandPlans),a(l)):this.serviceplanByBrand().then((function(t){n.info("serviceplanselector Response",t);var i=new Date;i=new Date(i.getTime()+60*e.SP_timer_hours*60*1e3),servicePlanInst._plans.sp_expiry=i,servicePlanInst.startSPTimer(new Date(i).getTime()-(new Date).getTime()),servicePlanInst._plans.BrandPlans=t,servicePlanInst._plans.BrandPlans.spLang=u,c=servicePlanInst.getPlansForBrand(servicePlanInst._plans.BrandPlans),n.info("serviceplanselector final plans",c),t.plan_details=angular.copy(c),a(t)})).catch((function(e){r(e)}))}))},servicePlanInst.getPlansForBrand=function(t){var a={},i=d.getSelectedDevice();if(n.info("servcieplanselector::getPlansForBrand",t,i),i&&i.deviceType){if(i.deviceType==l.device_type.smartphone||i.deviceType==l.device_type.byop?(a.monthly=angular.copy(t.plans.monthly),t.plans.smDataOnly&&t.plans.smDataOnly.length>0&&(a.smDataOnly=t.plans.smDataOnly)):i.deviceType==l.device_type.ppe?a.paygo=angular.copy(t.plans.paygo):i.deviceType==l.device_type.hotspot||i.deviceType==l.device_type.byot?(a.hotspot=angular.copy(t.plans.hotspot),t.plans.smDataOnly&&t.plans.smDataOnly.length>0&&(a.smDataOnly=t.plans.smDataOnly)):i.deviceType==l.device_type.homephone?a.homephone=angular.copy(t.plans.homephone):i.deviceType==l.device_type.carsmart?a.carsmart=angular.copy(t.plans.carsmart):i.deviceType==l.device_type.signal_device&&(a.signaldevice=angular.copy(t.plans.signaldevice)),i.deviceType==l.device_type.smartphone&&"Y"==i.nonPpeFeaturedPhone&&(a.paygo=angular.copy(t.plans.paygo)),!d.isActivationFlow()){n.info("device --\x3e ",i);var r=!1;if(n.info("rewards --\x3e ",i.retrewards),i.retrewards&&i.retrewards.totalPoints){var o=parseInt(i.retrewards.totalPoints);o>0&&o<19&&(r=!0)}n.info("Upgrade points available --\x3e ",r),r&&(n.info("Upgrade plans available  --\x3e ",t.plans.upgrade),angular.forEach(t.plans.upgrade,(function(e,t){i.deviceType==l.device_type.smartphone||i.deviceType==l.device_type.byop?a.monthly.push(angular.copy(e)):a.paygo.push(angular.copy(e))})))}if(angular.isDefined(e.features.groupbased)&&e.features.groupbased)if(i.deviceType==l.device_type.smartphone||i.deviceType==l.device_type.byop){var s=_.groupBy(a.monthly,"monthly_individual");a.monthly_individual=s.individual?s.individual:[];var c=_.groupBy(a.monthly,"monthly_shared");a.monthly_shared=c.shared?c.shared:[];var u=_.groupBy(a.monthly,"monthly_extended");a.monthly_extended=u.extended?u.extended:[]}else if(i.deviceType==l.device_type.ppe){var s=_.groupBy(a.paygo,"monthly_individual");a.monthly_individual=s.individual?s.individual:[];var c=_.groupBy(a.paygo,"monthly_shared");a.monthly_shared=c.shared?c.shared:[];var u=_.groupBy(a.paygo,"monthly_extended");a.monthly_extended=u.extended?u.extended:[];var p=[];t.plans.addon&&p.push(t.plans.addon),a.monthly=[],t.plans.addon&&angular.forEach(t.plans.addon,(function(e,t){a.monthly.push(e)})),t.plans.ildaddon&&angular.forEach(t.plans.ildaddon,(function(e,t){a.monthly.push(e)}))}else if(i.deviceType==l.device_type.hotspot){var s=_.groupBy(a.hotspot,"monthly_individual");a.monthly_individual=s.individual?s.individual:[];var c=_.groupBy(a.hotspot,"monthly_shared");if(a.monthly_shared=c.shared?c.shared:[],a.hotspot){var u=_.groupBy(a.hotspot,"monthly_extended");angular.isDefined(u)&&(a.monthly_extended=u.extended?u.extended:[])}a.monthly=t.plans.addon}else if(i.deviceType==l.device_type.signal_device){var v=_.groupBy(a.signaldevice,"monthly_signal_device");a.signaldevice=v.individual?v.individual:[]}}else if(t.plans.monthly&&t.plans.monthly.length>0&&(a.monthly=angular.copy(t.plans.monthly)),t.plans.paygo&&t.plans.paygo.length>0&&(a.paygo=angular.copy(t.plans.paygo)),t.plans.hotspot&&t.plans.hotspot.length>0&&(a.hotspot=angular.copy(t.plans.hotspot)),t.plans.homephone&&t.plans.homephone.length>0&&(a.homephone=angular.copy(t.plans.homephone)),t.plans.carsmart&&t.plans.carsmart.length>0&&(a.carsmart=angular.copy(t.plans.carsmart)),t.plans.signaldevice&&t.plans.signaldevice.length>0&&(a.signaldevice=angular.copy(t.plans.signaldevice)),t.plans.smDataOnly&&t.plans.smDataOnly.length>0&&(a.smDataOnly=t.plans.smDataOnly),angular.isDefined(e.features.groupbased)&&e.features.groupbased&&t.plans.monthly&&t.plans.monthly.length>0){var s=_.groupBy(a.monthly,"monthly_individual");a.monthly_individual=s.individual?s.individual:[];var c=_.groupBy(a.monthly,"monthly_shared");a.monthly_shared=c.shared?c.shared:[];var u=_.groupBy(a.monthly,"monthly_extended");a.monthly_extended=u.extended?u.extended:[]}return a},servicePlanInst.isSelectedPlanCompartible=function(a){n.info("servicePlanInst.isSelectedPlanCompartible::",a);var i=!1;return serviceplanByESN=function(e){return s.run(e,t.get("serviceplan").byesn,o.get("serviceplan"))},r((function(t,r){a?e.deviceplans&&d.hasSelectedDevice()?(n.info("serviceplanselector::Device level plans needed calling service plan selector based on device esn"),servicePlanInst.getServicePlanDetails().then((function(e){n.info("serviceplanselector Device plansResponse",e),angular.forEach(e.plans.all,(function(e,r){e.part_number&&a.part_number==e.part_number&&!i&&(n.info("serviceplanselector::Device level is compartible"),i=!0,t(!0))})),t(i)})).catch((function(e){r(e)}))):d.hasSelectedDevice()&&a.isILDVas&&c.isDataOnlyDevice(d.getSelectedDevice())?(n.info("serviceplanselector::Device level ild is not compartible",d.getSelectedDevice()),t(!1)):e.features.multiline&&d.hasSelectedDevice()?this.serviceplanByESN({device:d.getSelectedDevice().esn}).then((function(e){n.info("serviceplanselector Response",e),angular.forEach(e.plans.all,(function(e,t){e.part_number&&a.part_number==e.part_number&&!i&&(n.info("serviceplanselector::Device level is compartible"),i=!0)})),t(i)})).catch((function(e){r(e)})):t(!0):t(!0)}))},servicePlanInst.isCurrentPlanCapacity=function(e){n.info("inside isCurrentPlanCapacity",e),servicePlanInst._devicePlans={};var t=servicePlanInst.getPlanByDevice(e),a=t.plan_id,i=t;return r((function(e,t){servicePlanInst.getServicePlanDetails().then((function(t){n.info("inside isCurrentPlanCapacity response",t);var r,o=t.plan_details;r=angular.isDefined(o.monthly_individual[0])?o.monthly_individual[0]:o.monthly_shared[0],1!=o.monthly_individual.length&&1!=o.monthly_shared.length||(n.info("current and reserve plan id",a,r.plan_id),a!=r.plan_id&&(i=r)),e(i)})).catch((function(e){t(e)}))}))},servicePlanInst.isAddonPlan=function(e){n.info("service plan selector isAddonPlan  - ",e);var t=!1;return e&&(t=e.is_addon),t},servicePlanInst.showDeviceTypePlanFilter=function(){n.info("showDeviceTypePlanFilter  -- ",e.features.multiline,d.isActivationFlow(),d.getSelectedDevice());var t={showServicePlanFilterOption:!1,showDeviceType:"smartphone"};if((e.features.multiline||e.features.groupbased)&&(t.showServicePlanFilterOption=!0,(d.isActivationFlow()||angular.isDefined(d.getSelectedDevice()))&&(t.showServicePlanFilterOption=!1),angular.isDefined(d.getSelectedDevice()))){var a=d.getSelectedDevice();a.deviceType==l.device_type.carsmart&&(t.showDeviceType=l.device_type.carsmart),a.deviceType==l.device_type.signal_device&&(t.showDeviceType=l.device_type.signal_device)}return t},servicePlanInst}function t(){var t={};return{setData:function(e){t=e},$get:["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$appConstants","$deviceService","$interval","$devicesCartServices",function(n,a,i,r,o,s,c,l,d,u,p,v,g){var m=e(n,a,i,r,o,s,c,l,d,u,p,v,g);return i.info("get _plans::",t),angular.isDefined(t)&&t?(m._plans=t,m._plans.sp_expiry&&v((function(){m.setSPExpiry(m._plans.sp_expiry)}),1,1)):m._plans={BrandPlans:{}},o.$on("change-language",(function(e,t){i.info("Serviceplanselector::change of language",e,t),!0===o.authinit&&m.getServicePlanDetails()})),o.$watch((function(){return m._plans}),(function(e,t){e&&l.setLocalStorageItem("$servicePlanSelectorService",e)}),!0),m}]}}angular.module("app").service("$servicePlanSelectorService",e),e.$inject=["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils","$appConstants","$deviceService","$interval","$devicesCartServices"],angular.module("app").provider("$servicePlanSelectorService",t),angular.module("app").config(["$servicePlanSelectorServiceProvider","$tfsessionProvider",function(e,t){e.setData(t.getLocalObject("$servicePlanSelectorService"))}])})(),(function(){function e(e,t,n,a,i){var r={};return SessionServiceInst={_data:r},SessionServiceInst.get=function(e){return angular.isDefined(SessionServiceInst._data[e])?SessionServiceInst._data[e]:void 0},SessionServiceInst.set=function(e,t){SessionServiceInst._data[e]=t},SessionServiceInst.delete=function(e){delete SessionServiceInst._data[e]},SessionServiceInst}function t(){var t={};return{setData:function(e){t=e},$get:["$appConfig","$log","$rootScope","$q","$serviceUtils",function(n,a,i,r,o){var s=e(n,a,i,r);return angular.isDefined(t)&&t&&(s._data=t),i.$on("system-reset",(function(e,t){s._data={}})),i.$watch((function(){return s._data}),(function(e,t){e&&o.setSessionItem("$sessionService",e)}),!0),s}]}}angular.module("app").provider("$sessionService",t),angular.module("app").config(["$sessionServiceProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$sessionService"))}])})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d){return UserServiceInst={},UserServiceInst={payments:function(e){return s.run(e,t.get("payments"),o.get("payments"))},paymenthistory:function(e){return s.run(e,t.get("pmthist").device,o.get("pmthist"))},paymenthistoryduration:function(e){return s.run(e,t.get("pmthist").account,o.get("pmthist"))},getPaymentHistory:function(e){return s.run(e,t.get("pymtHistory").order,o.get("pymtHistory"))},paymentdetails:function(e){return s.run(e,t.get("pmtdet"),o.get("pmtdet"))},txnshistory:function(e){return s.run(e,t.get("txnshist").v2,o.get("txnshist"))},tkthistory:function(e){return s.run(e,t.get("tkthist").esn,o.get("tkthist"))},updatenickname:function(e){return s.run(e,t.get("updnickname").esn,o.get("updnickname").device)},updategroupnickname:function(e){return s.run(e,t.get("updnickname").group,o.get("updnickname").group)},updatesecuritypin:function(e){return s.run(e,t.get("updatesecuritypin").min,o.get("updatesecuritypin"))},clearota:function(e){return s.run(e,t.get("clearota").esn,o.get("clearota"))},updatecustlogin:function(e){return s.run(e,t.get("updatecustlogin").updatecustlogin,o.get("updatecustlogin"))},isFBAcLoggedInNotLinked:function(){if(this._userInfo)return this._userInfo.isFBAcLoggedInNotLinked},setFBAcLoggedInNotLinked:function(e){this._userInfo&&(this._userInfo.isFBAcLoggedInNotLinked=e)},setAmzonUserSession:function(e){this._userInfo&&(this._userInfo.amazonUserSession=e)},isAmazonUserSession:function(){if(this._userInfo)return this._userInfo.amazonUserSession},getEmail:function(){if(this._userInfo)return this._userInfo.email},setEmail:function(e){this._userInfo&&(this._userInfo.email=e)},getPassword:function(){if(this._userInfo)return this._userInfo.password},setPassword:function(){this._userInfo.password=void 0},getAccountId:function(){return!!this._userInfo&&this._userInfo.account_id},setMin:function(e){this._userInfo.min=e},getMin:function(){if(this._userInfo)return this._userInfo.min},setEsn:function(e){this._userInfo.esn=e},getEsn:function(){if(this._userInfo)return this._userInfo.esn},setAccountId:function(e){this._userInfo.account_id=e},isLimitedAccess:function(){return!!this._userInfo&&this._userInfo.limitedAccess},setPartnerInfo:function(e){this._userInfo.partnerInfo=e},getPartnerInfo:function(){if(this._userInfo)return this._userInfo.partnerInfo?this._userInfo.partnerInfo:void 0},setDetails:function(e){angular.isDefined(this._userInfo)?angular.merge(this._userInfo,e):this._userInfo=e},emptyDetails:function(e){n.debug("$userService::emptyDetails::Removing all items in $userService and $authService"),this._userInfo={},l.setROToken(void 0),l.setRONSToken(void 0),l.setCCPToken(void 0),l.setCCToken(void 0),s.removeSessionItem("$userService"),s.removeSessionItem("$authService"),s.removeLocalStorageItem("$authService.localData")},emptyTokenDetails:function(e){var t=r.defer();return n.debug("$userService::emptyDetails::Removing all Items expect Local storage $userService and $authService"),this._userInfo={},l.setROToken(void 0),l.setCCPToken(void 0),UserServiceInst.stopRoTimer(),UserServiceInst.ccutokenExpiring(),t.promise},getUserInfo:function(){return!!this._userInfo&&this._userInfo},isLoggedIn:function(){return!(!angular.isDefined(UserServiceInst.getUserInfo())||!UserServiceInst.getUserInfo().account_id||!angular.isDefined(l.getROToken())&&!angular.isDefined(l.getCCPToken()))},isOnlyLoggedInAlways:function(){var e=l.getROToken(),t=l.getRONSToken();return angular.isUndefined(e)&&angular.isDefined(t)},setCCExpiry:function(e){UserServiceInst._userInfo.cc_expiry=e,(new Date).getTime()<new Date(e).getTime()?this.startCCUTimer(new Date(e).getTime()-(new Date).getTime()):UserServiceInst.ccutokenExpiring()},setROExpiry:function(e){UserServiceInst._userInfo.ro_expiry=e,(new Date).getTime()<new Date(e).getTime()?this.startRoTimer(new Date(e).getTime()-(new Date).getTime()):UserServiceInst.rotokenExpiring()},setRONSExpiry:function(e){UserServiceInst._userInfo.rons_expiry=e,(new Date).getTime()<new Date(e).getTime()?this.startRONSTimer(new Date(e).getTime()-(new Date).getTime()):UserServiceInst.ronstokenExpiring()},getCCExpiry:function(){return UserServiceInst._userInfo.cc_expiry},getROExpiry:function(){return UserServiceInst._userInfo.ro_expiry},startRoTimer:function(e){n.info(e/6e4),this._rotimer=c(this.rotokenExpiring,e,1)},stopRoTimer:function(){this._rotimer&&c.cancel(this._rotimer)},startRONSTimer:function(e){n.info("RONS TIMER",e/6e4),this._ronstimer=c(this.ronstokenExpiring,e,1)},stopRONSTimer:function(){this._rotimer&&c.cancel(this._ronstimer)},rotokenExpiring:function(e){n.info("UserServiceInst::rotokenExpiring",e,l.getROToken()),l.getROToken()&&l.getROToken().refresh_token?UserServiceInst.generateROFromRefreshToken().then((function(e){})).catch((function(e){UserServiceInst.stopRoTimer(),i.$broadcast("rosessionExpiring")})):(UserServiceInst.stopRoTimer(),i.$broadcast("rosessionExpiring"))},ronstokenExpiring:function(){n.info("RONStoken Expiring",l.getRONSToken()),l.getRONSToken()&&l.getRONSToken().refresh_token?UserServiceInst.initRoNs().then((function(e){})).catch((function(e){UserServiceInst.stopRONSTimer(),UserServiceInst.emptyDetails(),i.$broadcast("rosessionExpiring")})):(n.info("Rotoken Expiring does not has refresh token",l.getROToken()),UserServiceInst.stopRONSTimer(),UserServiceInst.emptyDetails(),i.$broadcast("rosessionExpiring"))},startCCUTimer:function(e){n.info(e/6e4),this._ccutimer=c(this.ccutokenExpiring,e,1)},stopCCUTimer:function(){this._ccutimer&&c.cancel(this._ccutimer)},ccutokenExpiring:function(){var e=r.defer();return UserServiceInst.stopCCUTimer(),l.setCCToken(void 0),UserServiceInst.noUserLogin().then((function(){e.resolve()})),e.promise},isRoNsTokenAvailable:function(){var e=l.getRONSToken();return angular.isDefined(e)&&angular.isDefined(e.token)},getRoNsToken:function(e){var n=r.defer();return s.run(e,t.get("oauth").ro_ns,o.get("authrons")).then((function(e){var t=new Date;t.setSeconds(t.getSeconds()+(e.expires_in-60)),l.setRONSToken({token:e.access_token,expiry_date:t.getTime(),refresh_token:e.refresh_token,account_id:UserServiceInst.getAccountId()}),s.setLocalStorageItem("$authService.localData",l._localData),n.resolve(e)})).catch((function(e){n.reject(e)})),n.promise},renewRoNsToken:function(){var e=r.defer(),a=l.getRONSToken();return n.debug("$userService::renewRoNsToken::Request",a),s.run(a,t.get("oauth").refresh,o.get("authrefresh")).then((function(t){n.debug("$userService::renewRoNsToken::Response",t);var i=new Date;i.setSeconds(i.getSeconds()+(t.expires_in-60)),UserServiceInst.setAccountId(a.account_id),l.setRONSToken({token:t.access_token,expiry_date:i.getTime(),refresh_token:t.refresh_token,account_id:UserServiceInst.getAccountId()}),UserServiceInst.startRONSTimer(new Date(i).getTime()-(new Date).getTime()),s.setLocalStorageItem("$authService.localData",l._localData),e.resolve(l.getRONSToken()),n.debug(l._data)})).catch((function(t){e.reject(t)})),e.promise},handleRoTokenExpiry:function(){var e=l.getROToken(),t=l.getROToken(),n=new Date,a=new Date(e.expiry_date);n.getTime()>a.getTime()&&l.setROToken(void 0),a=new Date(t.expiry_date),n.getTime()>a.getTime()&&l.setCCPToken(void 0)},handleRoNsTokenExpiry:function(){var e=l.getRONSToken(),t=new Date,n=new Date(e.expiry_date);t.getTime()>n.getTime()&&$scope.renewRoNsToken()},disableKeepMeSignedIn:function(){l.setRONSToken(void 0),s.setSessionItem("$authService",l._data)},signout:function(){UserServiceInst.emptyTokenDetails()},initAuth:function(){var e=r.defer(),t=new Date,n=l.getROToken(),a=l.getCCPToken();if(angular.isDefined(n)){new Date(n.expiry_date).getTime()<t.getTime()&&l.setROToken(void 0)}if(angular.isDefined(a)){new Date(a.expiry_date).getTime()<t.getTime()&&l.setCCPToken(void 0)}if(n||a)UserServiceInst.getEmail()&&d.isEmail(UserServiceInst.getEmail())?i.$broadcast("loginSuccess",UserServiceInst.getEmail()):i.$broadcast("loginSuccess","");else{if(UserServiceInst._userInfo&&UserServiceInst.getCCExpiry()){var o=new Date(UserServiceInst.getCCExpiry());UserServiceInst.setCCExpiry(o.getTime())}UserServiceInst.initRoNs()}return UserServiceInst.noUserLogin().then((function(){e.resolve()})),e.promise},initRoNs:function(){var e=r.defer(),t=l.getRONSToken(),n=new Date;if(angular.isDefined(t)){var a=new Date(t.expiry_date);UserServiceInst.setAccountId(t.account_id),a.getTime()<n.getTime()?UserServiceInst.renewRoNsToken().then((function(t){e.resolve()})).catch((function(t){e.resolve()})):(UserServiceInst.startRONSTimer(a.getTime()-(new Date).getTime()),e.resolve())}else e.resolve();return e.promise},userLogin:function(e){return response={},r((function(a,r){e.password?(n.debug("$userService::userPasswordLogin::LOGIN - DATA",e),s.run(e,t.get("oauth").ro,o.get("login")).then((function(t){var r=new Date;r=new Date(r.getTime()+1e3*(t.expires_in-90)),UserServiceInst.setDetails(angular.merge({account_id:t.account_id,email:e.email,ro_expiry:r,limitedAccess:!1,emailId:t.email.toLowerCase()})),s.setSessionItem("$userService",UserServiceInst.getUserInfo()),UserServiceInst.startRoTimer(new Date(r).getTime()-(new Date).getTime()),l.setROToken({token:t.access_token,expiry_date:r.getTime(),refresh_token:t.refresh_token}),s.setSessionItem("$authService",l._data),n.info("userService::UserPasswordLogin::rotoken",l.getROToken(),UserServiceInst.getUserInfo()),response.status="success",e.email&&d.isEmail(e.email)?i.$broadcast("loginSuccess",e.email):i.$broadcast("loginSuccess",""),a(response)})).catch((function(e){r(e),UserServiceInst.noUserLogin()}))):(e.password=e.pinPassed,s.run(e,t.get("oauth").pinro,o.get("login")).then((function(t){var r=new Date;r=new Date(r.getTime()+1e3*(t.expires_in-90)),UserServiceInst.setDetails(angular.merge({account_id:t.account_id,email:e.email,ro_expiry:r,limitedAccess:!0})),s.setSessionItem("$userService",UserServiceInst.getUserInfo()),UserServiceInst.startRoTimer(new Date(r).getTime()-(new Date).getTime()),l.setROToken({token:t.access_token,expiry_date:r.getTime(),refresh_token:t.refresh_token}),s.setSessionItem("$authService",l._data,UserServiceInst.getUserInfo()),n.info("userService::UserPinLogin::rotoken ",l.getROToken()),response.status="success",e.email&&d.isEmail(e.email)?i.$broadcast("loginSuccess",e.email):i.$broadcast("loginSuccess",""),a(response)})).catch((function(e){r(e),UserServiceInst.noUserLogin()})))}))},noUserLogin:function(){return response={},r((function(e,n){l.getCCToken()?(response.status="success",e(response)):s.run(null,t.get("oauth").cc,o.get("cc")).then((function(t){var n=new Date;n=new Date(n.getTime()+1e3*(t.expires_in-60)),UserServiceInst.setDetails(angular.merge({cc_expiry:n})),s.setSessionItem("$userService",UserServiceInst.getUserInfo()),UserServiceInst.startCCUTimer(new Date(n).getTime()-(new Date).getTime()),l.setCCToken(t.access_token),s.setSessionItem("$authService",l._data),response.status="success",e(response)})).catch((function(e){n({})}))}))},keepmeSignedIn:function(e){return response={},r((function(n,a){s.run(e,t.get("oauth").ro_ns,o.get("authrons")).then((function(e){n(response)})).catch((function(e){a({})}))}))},isKeepMeSignedIn:function(){return n.debug("$userservice::isKeepMeSignedIn::"),iskeepMeSignedinResponse={},r((function(e,t){iskeepMeSignedinResponse.status=!1,UserServiceInst.isLoggedIn()?e(iskeepMeSignedinResponse):UserServiceInst.isRoNsTokenAvailable()?(iskeepMeSignedinResponse.status=!0,UserServiceInst.initRoNs().then((function(){iskeepMeSignedinResponse.status=!0,e(iskeepMeSignedinResponse)}))):e(iskeepMeSignedinResponse)}))},generateROFromRefreshToken:function(){var e=r.defer(),a={};return a=l.getROToken(),a.isLimitedAccess=UserServiceInst.isLimitedAccess(),n.info("userService::renewRoToken::Request",a),s.run(a,t.get("oauth").authrorefresh,o.get("authrefresh")).then((function(t){var a=new Date;a=new Date(a.getTime()+1e3*(t.expires_in-90)),UserServiceInst._userInfo.ro_expiry=a,s.setSessionItem("$userService",UserServiceInst.getUserInfo()),UserServiceInst.startRoTimer(new Date(a).getTime()-(new Date).getTime()),l.setROToken({token:t.access_token,expiry_date:a.getTime(),refresh_token:t.refresh_token}),s.setSessionItem("$authService",l._data),response.status="success",e.resolve(l.getROToken()),n.info(l._data)})).catch((function(t){e.reject(t)})),e.promise},getPartnerDetails:function(e){var n=r.defer(),a={accountId:e};return s.run(a,t.get("partnermembers"),o.get("partnermembers")).then((function(e){UserServiceInst.setPartnerInfo({partnerName:e.partnerName,isAffiliated:e.isAffiliated}),n.resolve(e)})).catch((function(e){n.reject(e)})),n.promise},addDeviceToAccount:function(e){n.info("addDeviceToAccount service!! ...");var a=r.defer(),i={esn:e.esn,accountId:e.accountId};return s.run(i,t.get("adddevicetoaccount"),o.get("adddevicetoaccount")).then((function(e){a.resolve(e)})).catch((function(e){a.reject(e)})),a.promise}},UserServiceInst}function t(){var t={};return{setData:function(e){t=e},$get:["$appConfig","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$interval","$authService","$utils",function(n,a,i,r,o,s,c,l,d,u,p){var v=e(n,a,i,r,o,s,c,l,d,u,p);return angular.isDefined(t)&&t?(v._userInfo=t,t.ro_expiry?d((function(){v.setROExpiry(t.ro_expiry)}),1,1):t.cc_expiry&&d((function(){v.setCCExpiry(t.cc_expiry)}),1,1)):v._userInfo={},o.$watch((function(){return UserServiceInst._userInfo}),(function(e,t){e&&l.setSessionItem("$userService",e)}),!0),o.$on("system-reset",(function(e,t){v.emptyDetails(),v.stopRoTimer(),v._data={}})),v}]}}angular.module("app").provider("$userService",t),angular.module("app").config(["$userServiceProvider","$tfsessionProvider",function(e,t){e.setData(t.getObject("$userService"))}])})(),(function(){function e(e,t,n,a,i,r,o,s,c){var l={},d=l;return l.eligibilityCheck=function(t){var n=a.defer();return i.validateUserDevice({device:t.min}).then((function(t){e.debug("deviceService/validateUserDevice/success",t);var a=t.svc_response;a&&"ACTIVE"!=a.deviceStatus?(e.warn("wificallingService/device/notactive"),generror=c.translateError({error_code:"-999"},s.get("wifi_eligibility")),n.reject(generror)):(e.warn("wificallingService/device/active"),d.wifiQualificationCheck(a).then((function(e){n.resolve({device:a,wifieligibility:e})})).catch((function(e){n.reject(e)})))})).catch((function(e){n.reject(e)})),n.promise},l.wifiQualificationCheck=function(e){return r.run({device:e},o.get("servicequalificationact"),s.get("wifi_eligibility"))},l}angular.module("app").service("$wificallingService",e),e.$inject=["$log","$appConfig","$rootScope","$q","$deviceService","$serviceUtils","$svcConfig","$voMapConfig","$utils"]})(),(function(){function e(e,t,n,a){return{getStateAndCityFromZip:function(i,r){var o={state:"",city:""},s=t.defer();e.info("$zipcodeService.getStateAndCityFromZip service!! ...");var c=n.zipCodeGoogleSearchUrl+i+"&components=country:"+r;return angular.isDefined(a.defaults.headers.common["P-Session-ID"])&&delete a.defaults.headers.common["P-Session-ID"],delete a.defaults.headers.common["X-Requested-With"],a({method:"GET",url:c}).then((function(t){if(t.data){if(t.data.results.length>0){var n=t.data.results[0].address_components.filter((function(e){return"administrative_area_level_1"==e.types[0]})),r=t.data.results[0].formatted_address.split(","),c=t.data.results[0].address_components.filter((function(e){return"postal_code"==e.types[0]}));if(0==c.length)o.city="",o.state="",s.reject("Zip code is not valid");else{c[0].short_name!=i&&(s.reject("Zip code is not valid"),o.city="",o.state="");var l=r[r.length-1].trim();0==n.length?(o.city="",o.state=""):o.state="USA"==l||"US"==l||"Canada"==l?r.length>1?n[0].short_name:"":r.length>1?n[0].long_name:"",o.city=t.data.results[0].address_components.length>1?t.data.results[0].address_components[1].long_name:"",o.city=isNaN(o.city)?o.city:""}}else o.state="",o.city="";a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}else e.info(t.statusText),a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";s.resolve(o)}),(function(e){s.reject(e)})),s.promise}}}angular.module("app").factory("$zipcodeService",e),e.$inject=["$log","$q","$appConfig","$http"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l){var d;return zipcodeValidationServiceInst={validateZipCode:function(e,t,a){var i=e,t=t,a=a;return o((function(e,r){return c.run({zipCode:i,retryCounter:t,sourceSystem:a
},n.get("zipcodeValidationServ"),s.get("zipcodeValidationServ")).then((function(t){e(t)})).catch((function(e){r(e)}))}))},setPlaceOrderValidity:function(e){d=e},getPlaceOrderValidity:function(){return disableplaceorder=d,disableplaceorder}},zipcodeValidationServiceInst}angular.module("app").service("$zipcodeValidationService",e),e.$inject=["$appConfig","$appConstants","$svcConfig","$log","$apiService","$rootScope","$q","$voMapConfig","$serviceUtils","$utils"]})(),(function(){function e(e,t){return{serviceplans:{promise:e.servicePlans,value:"serviceplans",handler:function(e){}},cartplans:{promise:e.cartplans,value:"cartplans",handler:function(e){t.url("serviceplan")}},selectedDevice:{promise:e.selectedDevice,value:"selectedDevice"},savedDevices:{promise:e.savedDevices,value:"savedDevices"},loggedIn:{promise:e.loggedIn,value:"loggedIn"},limitedAccess:{promise:e.limitedAccess,value:"limitedAccess"},getUserMin:{promise:e.getUserMin,value:"userMin"},estimatePlan:{promise:e.estimatePlanSelection,value:"estimatePlan",handler:function(e){}},stageDevice:{promise:e.stageDevice,value:"stageDevice"},monthlyplans:{promise:e.getmonthlyplans,value:"monthly"},upgradeplans:{promise:e.getupgradeplans,value:"upgrade"},broadbandplans:{promise:e.getbroadbandplans,value:"broadband"},addonPlans:{promise:e.getAddOnPlans,value:"serviceplans",handler:function(e){}},sessionReset:{promise:e.sessionReset,value:"sessionReset"},addDeviceWithPlan:{promise:e.addDeviceWithPlan,value:"addDeviceWithPlan"},groupDevices:{promise:e.groupDevices,value:"groupDevices"},addonPlans:{promise:e.getAddOnPlans,value:"serviceplans",handler:function(e){}},telehealthPlans:{promise:e.telehealthPlans,value:"telehealthPlans",handler:function(e){}},getPartnerDetails:{promise:e.getPartnerDetails,value:"getPartnerDetails"},addDeviceToGetPartnerDiscount:{promise:e.addDeviceToGetPartnerDiscount,value:"addDeviceToGetPartnerDiscount"}}}angular.module("app").factory("$appConditions",e),e.$inject=["$conditions","$location"]})(),(function(){function e(){return{account:"ACCOUNT",dummy_account:"DUMMY_ACCOUNT",valid_account:"VALID_ACCOUNT",available:"AVAILABLE",non_available:"NOT_AVAILABLE",active:"ACTIVE",inactive:"INACTIVE",no_account:"NO_ACCOUNT",non_smartphone:"NON_SMARTPHONE",smartphone:"SMARTPHONE",fromcheckout:"checkout",partyidc:"CUST_HASH",partyidcbo:"CBO",roletypec:"customer",roletypea:"application",facilityNumber:"facilityNumber",employeeDiscount:"employeeDiscount",employee_Discount:"EMPLOYEE_DISCOUNT",roletypeint:"internal",roletypereferrer:"referrer",partyida:"SMWEB",partytransactionid:"partyTransactionID",partytransactionval:"web_1231234234424",sourcesystem:"sourceSystem",productcategory:"HANDSET",orderitemcategory:"SERVICE_PLAN",airtimecard:"AIRTIME_CARD",simcard:"SIM_CARD",simsize:"SIM_SIZE",simsize_nano:"NANO",simsize_dual:"DUAL",simsize_trio:"TRIO",externalid:"123456",context:"context",activation:"ACTIVATION",ach_eligibility:"ACH_ELIGIBILITY",productserialnumber:"productSerialNumber",serialnumber:"serialNumber",targetproductserialnumber:"targetProductSerialNumber",targetserialnumber:"targetSerialNumber",sim:"SIM_CARD",handset:"HANDSET",currentmin:"currentMin",line:"LINE",sms:"SMS",esn:"ESN",min:"MIN",simtype:"SIM",default_zipcode:"33178",technology:"TECHNOLOGY",default_country:"USA",clientAppName:"com.tracfone.wfm.myaccount",clientAppVersion:"4",deviceModel:"samsung_SAMSUNG-SM-G850A",OSVersion:"android_19",port_coverage:"PORT_COVERAGE",port_carriers:"PORT_CARRIERS",service_prvoviders:"SERVICE_PROVIDERS",byop_register:"REGISTER",branding_phone:"BRANDING",airtime_card:"AIRTIME_CARD",handset_lastfour:"handsetLast4Digits",service_plan:"SERVICE_PLAN",service_compatibility:"SERVICE_COMPATIBILITY",fgt_dummy_email_err_cde:"10300",current_service_provider:"currentServiceProvider",lrp_projection:"LRP",lrp_partner:"AUGEO",lrp_token_type:"oauth",email_ID:"EMAILID",min:"MIN",products:"products",productCat:"productCategory",brand:"brand",source:"source",device_status:{new_device:"NEW",used:"USED",past_due:"PASTDUE",refurbish:"REFURBISH",active_undefined:"undefined",active:"ACTIVE",ACTIVATION_PROGRESS:"ACTIVATION IN PROGRESS",PORT_IN_PROGRESS:"PORT IN PROGRESS",UPGRADE_IN_PROGRESS:"UPGRADE IN PROGRESS",risk_assestment:"RISK ASSESMENT",stolen:"STOLEN",REACTIVATION_PROGRESS:"REACTIVATION IN PROGRESS",overdue_exchange:"OVERDUE EXCHANGE",exchange:"EXCHANGE",ota_pending:"OTA_PENDING",carrier_pending:"CARRIERPENDING"},manufacturer:{apple:"APPLE"},sim_status:{new_sim:"SIM NEW"},technology_type:{cdma:"CDMA",gsm:"GSM"},carrier_name:{att:"AT&T",tmo:"TMO",vzw:"VZW",spt:"SPT",unl:"UNLOCK",clr:"CLR"},transaction_type:{activation:"ACTIVATION",reactivation:"REACTIVATION",internal_port:"INTERNAL_PORT",phone_upgrade:"PHONE_UPGRADE",external_port:"EXTERNAL_PORT",port:"PORT",redemption:"REDEMPTION",enrollment:"ENROLLMENT",telehealth_purchase:"TELEHEALTH_PURCHASE"},service_providers:{ATT:"AT&T",TMO:"T-Mobile",VERIZON:"Verizon",SPRINT:"Sprint",MULTI_CARRIER:"MULTI CARRIER",NOT_ELIGIBLE:"NOT ELIGIBLE"},service_qulafiers:{staging:"STAGE_VALIDATION",activation:"ACTIVATION",technology:"TECHNOLOGY",discount_eligible:"DISCOUNT_ELIGIBILITY",extensionsName:{groupIdentifier:"groupIdentifier"}},have_phone:"PHONE",have_tablet:"TABLET",byop:"BYOP",byod:"BYOD",byot:"BYOT",carrier:"CARRIER",promo_enrollment:"PROMOENROLLMENT",purchase:"PURCHASE",coming_from:{sim_collection_page:"sim_collection_page",esn_collection_page:"esn_collection_page",dashboard:"dashboard",transfer_services_confirm:"transfer_services_confirm",transfer_services_menu:"transfer_services_menu"},program_id:"relatedProgramId",upgrade_type:{esn_exchange:"ESN EXCHANGE"},portaddress:{line1:"currentAddressLine1",line2:"currentAddressLine2",city:"currentAddressCity",state:"currentAddressState",zip:"currentAddressZip",houseno:"houseNumber",streetname:"streetName",streettype:"streetType",streetdir:"direction",unitno:"unitNumber",contactphone:"contactPhone",firstname:"currentFirstName",lastname:"currentLastName",first_name:"firstName",last_name:"lastName"},portdetails:{serviceprovider:"currentServiceProvider",carriertype:"currentCarrierType",pin:"currentPin",accountnumber:"currentAccountNumber",accountsecret:"currentAccountSecret",ssnlastfour:"ssnLast4Digits",lastfourssn:"last4DigitsOfSSN",key:"currentVKey",fullname:"currentFullName",postalAddress:"postalAddress"},shipping_address:{case_title:"LTE SIM not in Kit",case_type:"Warehouse"},event:{exist:"EXIST",add:"ADD"},error_code:{four_o_o_four:"4004",one_o_six_o_four:"10604"},units_info:{sms_units:"0"},brandName:"brandName",roletypeagent:"agent",telephone_number:"telephoneNumber",email:"email",shipping:"SHIPPING",flow_scenario:{pin_required:"PIN Is Required",pin_not_required:"PIN Is Not Required",pin_optional:"PIN Is Optional"},port_action:"PORT",process_action:"PROCESS",route_param:{pin:"PIN_FLOW"},pending_min:"Pending",email_div:"#emailContent",closing_tags:"</body></html>",email_from:"promotions@tracfonemail.com",email_subject:"Email your Transaction Summary",email_dquote_symbol:'"',email_dquote_replace:'"',email_percentage_symbol:"%",email_percentage_replace:"%25",email_base_path:"https://sitz.myfamilymobile.com",flow_type:{collect_sim:"COLLECT_SIM",verify_scenario:"VERIFY_SCENARIO",collect_min:"COLLECT_MIN",select_device_type:"SELECT_DEVICE_TYPE",keep_number:"KEEP_NUMBER",post_check_scenario:"POST_CHECK_SCENARIO",pin_flow:"PIN_FLOW",check_byop_status:"CHECK_BYOP_STATUS",pin_required:"PIN_REQUIRED",invalid_account:"INVALID_ACCOUNT",collect_pin:"COLLECT_PIN",sprint_customer_confirmation_alert:"SPRINT_CONFIRMATION",sim_not_required:"SIM_NOT_REQUIRED",byop_not_eligible:"BYOP_NOT_ELIGIBLE",pin_checkout:"PIN_CHECKOUT",invalid_login_redirect:"INVALID_LOGIN_REDIRECT_TO_DASHBOARD",shared_plan_process_action:"SHARED_PLAN_PROCESS_ACTION",shared_plan_port_post_process_action:"SHARED_PLAN_PORT_POST_PROCESS_ACTION"},coverage_map:"COVERAGE_MAP",salesChannel:"BRIGHTPOINT",service:"TR",internal:"internal",wireless:"WIRELESS",qualified:"qualified",unqualified:"unqualified",phonemodel:"model",email_offers:"ALL",action_estimate:"ESTIMATE",estimate_type:{activate_line:"ACTIVATE_LINE",reactivate_line:"REACTIVATE_LINE",activate_ban:"ACTIVATE_BAN",redeem_line:"REDEEM_LINE",redeem_ban:"REDEEM_BAN"},address_type:"BILLING",payment_type:{credit_card:"CREDITCARD",ach:"ach",loyalty_points:"LOYALTYPOINTS",paypal:"PAYPAL"},ban:"BAN",multiline_discount:"MULTILINE_DISCOUNT",disc10per:"DISC10PER",employee_discount:"EMPLOYEE_DISCOUNT",amazon_discount:"AMAZON_DISCOUNT",autorefill_discount:"AUTOREFILL_DISCOUNT",ACTIVATION_INST_SCRIPT:"STR_8158",UPGRADE_INST_SCRIPT:"PU_103",PORT_INST_SCRIPT:"STR_8159",related_to:"relatedTo",order_item_id:"orderItemId",add_on:"addons",program_type:"UPGRADE_PLANS",benefit_type:"UPGRADE_BENEFITS",default_bal:"LINE",all_bal:"ALL",ild_bal:"ILD",retention_matrix:{add_now:"ADD_NOW",add_to_reserve:"ADD_TO_RESERVE",both:"BOTH"},retention_context:{manage_reserve:"MANAGE_RESERVE",redemption:"REDEMPTION",purchase:"PURCHASE",enrollment:"ENROLL_IN_AUTO_REFILL",purchase_enrollment:"PURCHASE_WITH_ENROLLMENT",switch_plan:"SWITCH_PLAN",apply_now:"APPLY_NOW"},orderitemildcategory:"ILD_ADDON",orderitemaddoncategory:"ADDON_PLAN",orderitemdataaddoncategory:"DATA_ADDON",orderitemvascategory:"VAS",session:{username:"USER_NAME",device:"DEVICE",wifieligibility:"WIC_ELIGIBILITY",pin:"REDEMPTION_PIN",promo:"PROMO",context:"CONTEXT",hpplan:"HPPPLANS"},brandNT:"NET10",brandSM:"SIMPLE_MOBILE",brandTW:"TOTAL_WIRELESS",wifi_eligibility:"WIFICALL_ELIGIBILITY",seoConfig:"seo",e911:"E911",wificall_enrollment:"WIFICALL_ENROLLMENT",device_type:{basicphone:"basicphone",smartphone:"SMARTPHONE",ppe:"FEATURE_PHONE",byop:"BYOP",hotspot:"HOTSPOT",byot:"BYOT",carconnect:"CAR_CONNECT",homecenter:"HOME_CENTER",homephone:"HOMEPHONE",homealert:"HOME_ALERT",carsmart:"carsmart",m2m_data:"M2M_DATA",signal_device:"M2M_WER_PERS"},bi_timeout:"timeout",communicationmedium:{email:"email",mail:"postalAddress",text:"text",voice:"voice"},productspecification:{allowcommunucationpreferences:"allowCommunucationPreferences",devicefamily:"deviceFamily"},model_type:{flip:"Flip"},hide_carsmart:!1,smHPPConfig:{renewalType:"SINGLE_LINE",planCategory:"VAS",planSubCategory:"INSURANCE",planStatus:{available:"AVAILABLE",enrolled:"ENROLLED",enrolled_scheduled:"ENROLL_SCHEDULED",suspended:"SUSPENDED",suspended_pay_reject:"SUSPENDED_PAY_REJECT"},eligible_for_enrollment:"ELIGIBLE_FOR_ENROLLMENT",manage_enrollment:"MANAGE_ENROLLMENT",Deenrollment:"System Deenrollment",planType:"planType",addOns:"Add Ons",deviceType:"deviceType",relatedProgramId:"relatedProgramId",planId:"planId",subscriptionId:"subscriptionId",isRecurring:"isRecurring",isDue:"isDue",nextChargeDate:"nextChargeDate",vasScriptId:"vasScriptId",days:{month:"MONTHLY"},currencyCode:"USD",accountmail:"ACCOUNTEMAIL",action:"PURCHASE",deviceManufacturer:"Apple",deviceModel:"IPHONE 6",mobileProtection:"Mobile Protect",productSpecification:{id:"SMMPEW13MT5"},postal:"postal",accountId:"609393179",billingAccountId:"0250002423",productOffering:{id:"SMMPEWPBT1INDVE",specification:{id:"SMMPEW24MT1"}},multiline:"MULTI_LINE",banActivation:"BAN_ACTIVATION",vendor:"vendor"},fbmessangerLinks:{TOTAL_WIRELESS:"https://m.me/totalwireless",SIMPLE_MOBILE:"https://m.me/simplemobile",NET10:"https://m.me/NET10Wireless"},tmoByopConfig:{tmoServiceCategory:"ESN_COMPATIBILITY",serviceCharacteristicsValue:"Yes",byop_eligibility:"BYOP_ELIGIBILITY"},teleHealthConfig:{category:"VAS",subCategory:"TELE_HEALTH"},retailers:{amzn:"AMZN",walmart_com:"WMT_COM"}}}angular.module("app").factory("$appConstants",e),e.$inject=[]})(),(function(){var e={userloggedin:"alreadyloggedin",userloggedout:"userloggedout",home:"home",smserviceplan:"purchaseplan",renewal:"renewal",accountaccess_checkout:"logincheckout",redemptionconfirmation:"redemptionsuccess",accountrecovery:"accountrecovery",accessaccount:"accessaccount",dashboard:"dashboard",accountcheckpoints:"accountcheckpoints",devicelist:"devicelist",verificationcode:"verificationcode",loginwithmin:"loginwithmin",updateaccount:"updateaccount",fbemailsync:"fbemailsync",redirectsurvey:"redirectsurvey",tracktickets:{login:{selectdevice:"selectdevice.login.trackticket"},notloggedin:{tracktickethome:"notloggedin.trackticket"},searchresults:"searchresults.trackticket"},rpe:{redemption:{redemptionsuccess:"redemptionsuccess.redemption.rpe",redemptionfailure:"redemptionfailure.redemption.rpe",purchaseplan:"purchaseplan.redemption.rpe",renewal:"renewal.redemption.rpe",checkout:"checkout.redemption.rpe",logincheckout:"logincheckout.redemption.rpe",collectminpinpromo:"collectminpinpromo.redemption.rpe",managestash:"managestash.redemption.rpe",addnow:"addnow.redemption.rpe",applynow:"applynow.redemption.rpe",enrollnow:"enrollnow.redemption.rpe",purchase:"purchase.redemption.rpe"}},sessiontimeout:{logout:"logout.sessiontimeout",stayloggedin:{getusername:"getusername.stayloggedin.sessiontimeout",getpassword:"getpassword.stayloggedin.sessiontimeout"}},alreadyloggedin:"alreadyloggedin",balanceinquiry:{notloggedin:"notloggedin.balanceinquiry",login:{selectdevice:"selectdevice.login.balanceinquiry",deviceselected:"deviceselected.login.balanceinquiry"},selectdevice:{deviceselected:"deviceselected.selectdevice.balanceinquiry"},balancedetails:{done:"done.balancedetails.balanceinquiry"},collectSimSerial:"collectSimSerial.balanceinquiry",manageDataLimit:{updateDataLimit:"updateDataLimit.manageDataLimit.balanceinquiry",collectmin:"collectmin.manageDataLimit.balanceinquiry"}},myaccount:{getusername:{invalidemail:"invalidemail.getusername.myaccount",dummymin:{secpinanswer:"secpinanswer.dummymin.getusername.myaccount",actdvcavailable:"actdvcavailable.dummymin.getusername.myaccount",verifycode:"verifycode.dummymin.getusername.myaccount",updateaccount:"updateaccount.dummymin.getusername.myaccount",verifyzipcode:"verifyzipcode.dummymin.getusername.myaccount"},validemailmin:"validemailmin.getusername.myaccount",failure:"failure.myaccount"},failure:"failure.myaccount",getsecpinanswer:{success:"success.getsecpinanswer.myaccount"},selectactdvc:{success:"success.selectactdvc.myaccount"},getverifycode:{success:{checkpointsavail:"checkpointsavail.success.getverifycode.myaccount",checkpointsnotavail:"checkpointsnotavail.success.getverifycode.myaccount"}},getpassword:{validpwd:"validpwd.getusername.myaccount"},forgotpassword:{passwordsent:"passwordsent.forgotpassword.myaccount",resetpassword:"resetpassword.forgotpassword.myaccount",loginpage:"loginpage.forgotpassword.myaccount"},fblogin:{success:"success.fblogin.myaccount",failure:"failure.fblogin.myaccount",syncemail:"syncemail.fblogin.myaccount"},adddevice:{devicestatus:{active:"active.devicestatus.adddevice.myaccount",inactive:"inactive.devicestatus.adddevice.myaccount"},deviceadded:"myaccount.adddevice.deviceadded"},dashboard:{bandetails:{actrenewal:"actrenewal.bandetails.dashboard.myaccount",svcrenewal:"svcrenewal.bandetails.dashboard.myaccount",mldmanageenroll:"mldmanageenroll.bandetails.dashboard.myaccount"},alloptions:{managereserve:"managereserve.alloptions.dashboard.myaccount",manageenroll:"manageenroll.alloptions.dashboard.myaccount",addserviceplan:"addserviceplan.alloptions.dashboard.myaccount",protectphone:"protectphone.alloptions.dashboard.myaccount",buyaddons:{success:"success.buyaddons.alloptions.dashboard.myaccount"},purchase:"purchase.alloptions.dashboard.myaccount",addonpurchase:"addonpurchase.alloptions.dashboard.myaccount"},pastdue:{activatedevice:"activatedevice.pastdue.dashboard.myaccount"},hotflash:{redirect:"redirect.hotflash.dashboard.myaccount"},buyserviceplan:"buyserviceplan.dashboard.myaccount",getbalance:"getbalance.dashboard.myaccount",refill:"refill.dashboard.myaccount"},createaccount:{createnewaccount:"createaccount.activation"},paymentmethod:"paymentmethod.myaccount"},activation:{deviceselection:{selectdevice:{byop:"byop.selectdevice.activation",branded:{esn:"esn.branded.selectdevice.activation",sim:"sim.branded.selectdevice.activation"},device:"device.selectdevice.activation",hotspot:"hotspot.selectdevice.activation"},selecttypedevice:{byop:"byop.selectdevice.activation",branded:"branded.selectdevice.activation"},skiptocheckout:"skiptocheckout.deviceselection.activation"},termsconditionspopup:{closebutton:"closebutton.termsconditionspopup.activation",declinebutton:"declinebutton.termsconditionspopup.activation"},byopcollectesn:{collectesnvzw:"collectesn.byopcollectesn.activation",collectesnspt:"collectesn.byopcollectesn.activation"},byopcollectsim:{eligiblecdma:"eligiblecdma.byopcollectsim.activation",removedvcdummyact:{serviceplanpin:"serviceplanpin.removedvcdummyact.byopcollectsim.activation",createactcheckbyopstat:"createactcheckbyopstat.removedvcdummyact.byopcollectsim.activation",instructions:"instructions.removedvcdummyact.byopcollectsim.activation"},neworrefurbish:{collectmin:"collectmin.neworrefurbish.byopcollectsim.activation",keeporcollectphone:"keeporcollectphone.neworrefurbish.byopcollectsim.activation"},compatible:{carriers:"carriers.compatible.activation"}},internalportflow:{selectserviceplan:"selectserviceplan.internalportflow.activation",createaccount:"createaccount.internalportflow.activation",upgradeinstructions:"upgradeinstructions.internalportflow.activation",airtimepin:"airtimepin.internalportflow.activation"},compatiblesim:{collectesn:"collectesn.compatiblesim.activation",carrier:"carrier.compatiblesim.activation",unlock:"unlock.compatiblesim.activation"},carrier:{noteligible:"noteligible.carrier.activation",unlock:{closebutton:"closebutton.unlock.carrier.activation"}},shopsim:{carrier:{verizon:"verizon.carrier.shopsim.activation",att:"att.carrier.shopsim.activation",tmo:"tmo.carrier.shopsim.activation"}},selectsimsize:{phone:"phone.selectsimsize.activation",tablet:"tablet.selectsimsize.activation"},deviceagreement:{accept:"accept.deviceagreement.activation",decline:"decline.deviceagreement.activation"},hotspot:{zipcode:{internalport:"internalport.zipcode.hotspot.activation",pinserviceplan:"pinserviceplan.zipcode.hotspot.activation",serviceplan:"serviceplan.zipcode.hotspot.activation",portupgrade:"portupgrade.zipcode.hotspot.activation",portupgradeinstructions:"portupgradeinstructions.zipcode.hotspot.activation",pininstructions:"pininstructions.zipcode.hotspot.activation",checkout:"checkout.zipcode.hotspot.activation",externalport:"externalport.zipcode.hotspot.activation",createnewaccount:"createaccount.zipcode.hotspot.activation"}},byot:"byot.activation",currentlyactive:"currentlyactive.activation",selectdevicetype:"selectdevicetype.activation",phoneeligibility:"phoneeligibility.activation",externalport:"externalport.activation",internalport:"internalport.activation",pinserviceplan:"pinserviceplan.activation",serviceplan:"serviceplan.activation",portupgrade:"portupgrade.activation",portupgradeinstructions:"portupgradeinstructions.activation",collectlastfourdigits:"collectlastfourdigits.activation",instructions:"activation.instructions",confirmation:"confirmation.activation",confirmationpin:"confirmationpin.activation",purchasesummary:"purchasesummary.activation",checkout:"checkout.activation",purchase:"purchase.activation",pincheckout:"pincheckout.activation",pincheckoutlogin:"pincheckout.login",selectgrouplogin:"selectgroup.login",planservice:"planservice.activation",skiptocheckout:"skiptocheckout.activation",selectgroup:"selectgroup.activation",shippingaddress:{collect:"collect.shippingaddress.activation",confirmed:"confirmed.shippingaddress.activation"},airtimepin:"airtimepin.activation",transfermyservice:{confirmed:"confirmed.transfermyservice.activation"}},createaccount:"createaccount",checkout:"activation.checkout",wic:{collectdevice:{validdevice:"validdevice.collectdevice.wic"},collectaddress:{validaddress:"validaddress.collectaddress.wic"},enrollment:{success:"success.enrollment.wic"},confirmation:{enrollnew:"enrollnew.confirmation.wic"},wifinotcapable:{shopphone:"shopphone.wifinotcapable.wic"}},protectyourphone:{faqs:"faqs.protectyourphone",checkout:"checkout.protectyourphone",confirmation:"confirmation.protectyourphone",selectplan:{faqs:"faqs.selectplan.protectyourphone"}},errors:{user:{loginuser:"loginuser.user.errors",account:"account.user.errors"},nodeviceinsession:"nodeviceinsession.errors",wic:{noeligibilityfound:"noeligibilityfound.wic.errors"}},unsubscribe:{email:{cancel:"cancel.email.unsubscribe",continue:"continue.email.unsubscribe",success:"success.email.unsubscribe"}},easyExchange:{show:"show.easyExchange",select:{program:"program.select.easyExchange"}},ubi:{addonpurchase:"addonpurchase.ubi",autorefill:"autorefill.ubi",refill:"refill.ubi"},asurion:{hppplans:"asurion.hppplans",redemption:"asurion.hppplans.redemption",redemptionmoreinfo:"asurion.hppplans.redemptionmoreinfo"},hpp:{plans:"hpp.plans",landing:"hpp.landing"}};angular.module("app").constant("$appRoutes",e)})(),(function(){angular.module("app").factory("httpRequestInterceptor",["$rootScope","$authService","$appConfig","$q","$window",function(e,t,n,a,i){return{request:function(e){var n=t.getFBToken(),a=t.getROToken(),i=t.getCCPToken(),r=t.getCCToken(),o=t.getRONSToken();return angular.isDefined(r)&&angular.isDefined(e.headers["Allowed-Grant"])&&-1!==e.headers["Allowed-Grant"].indexOf("CCU")&&(e.headers.Authorization="Bearer  "+encodeURIComponent(r)),angular.isDefined(n)&&angular.isDefined(e.headers["Allowed-Grant"])&&-1!==e.headers["Allowed-Grant"].indexOf("CCU")&&(e.headers.FBToken=encodeURIComponent(n)),angular.isDefined(o)&&angular.isDefined(e.headers["Allowed-Grant"])&&-1!==e.headers["Allowed-Grant"].indexOf("NS")&&(e.headers.Authorization="Bearer  "+encodeURIComponent(o.token)),angular.isDefined(i)&&angular.isDefined(e.headers["Allowed-Grant"])&&-1!==e.headers["Allowed-Grant"].indexOf("CCP")&&(e.headers.Authorization="Bearer  "+encodeURIComponent(i.token)),angular.isDefined(a)&&angular.isDefined(e.headers["Allowed-Grant"])&&-1!==e.headers["Allowed-Grant"].indexOf("RO")&&(e.headers.Authorization="Bearer  "+encodeURIComponent(a.token)),angular.isDefined(e.headers["Allowed-Grant"])&&delete e.headers["Allowed-Grant"],e},responseError:function(e){switch(e.status){case 404:if(e.config&&e.config.url&&e.config.url.startsWith(n.wcmBaseUrl)){var t=!1;angular.forEach(n.excl_img_extns,(function(n,a){e.config.url.endsWith(n)&&(t=!0)})),0==t&&(i.location.href="/server_error.html")}break;default:e.config&&e.config.url.startsWith(n.wcmBaseUrl)&&(i.location.href="/server_error.html")}return a.reject(e)}}}]),angular.module("app").config(["$httpProvider",function(e){e.interceptors.push("httpRequestInterceptor")}])})(),(function(){angular.module("app").config(["$httpProvider",function(e){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}])})(),(function(){function e(e,t,n,a,i,r,o){return serviceInst={_data:{},clearError:function(e){e.error={}},saveError:function(e,t){angular.isUndefined(serviceInst._data)&&(serviceInst._data={}),serviceInst._data[e]=t},getError:function(e){return t.debug("$errorHandler::getError::",e,serviceInst._data),serviceInst._data&&serviceInst._data[e]?serviceInst._data[e]:void 0},handleError:function(t,a,s){if(void 0==s&&(s=!0),angular.isDefined(a))0==t.error_code?delete a.error:(angular.isDefined(t.headers)&&angular.isDefined(t.data)&&null!=t.data&&angular.isDefined(t.data.status)&&angular.isDefined(t.data.status.code)&&e.AUTH_FAILURE==t.data.status.code&&(t.error_message="Invalid Session.",o((function(){n.tf={},$location.url("/createaclogin")}),2e3,1)),s&&r.scrollTo(0,0),a.error=t),o((function(){var e=document.getElementsByClassName("errormsg-primary");e&&e.length>1&&-1!==document.body.className.indexOf("modal-open")&&angular.element(e[1]).addClass("ng-hide");var t=angular.element(document.getElementsByClassName("errormsg-primary"));t=t.not(".ng-hide");var n=t&&t.offset().top?t.offset().top:0;r.scrollTo(0,n)}),500,1),a.error=t;else{i.open({animation:!1,templateUrl:"app/views/shared/errordialog_view.html",controller:"errorDialogController",size:"md",windowTopClass:"tf-modal",resolve:{error:function(){return t}}})}},hideError:function(){var e=angular.element(document.getElementsByClassName("errormsg-primary"));e=e.addClass("ng-hide")}},serviceInst}angular.module("app").factory("$errorHandler",e),e.$inject=["$appConfig","$log","$rootScope","$q","$uibModal","$window","$interval"]})(),(function(){angular.module("app").controller("errorDialogController",["$scope","$userService","$rootScope","$log","$uibModalInstance","$appConfig","$location","$interval","error",function(e,t,n,a,i,r,o,s,c){e.close=function(){i.dismiss("cancel")},e.init=function(){angular.isDefined(c.headers)&&angular.isDefined(c.data)&&null!=c.data&&angular.isDefined(c.data.status)&&angular.isDefined(c.data.status.code)&&r.AUTH_FAILURE==c.data.status.code&&(e.error_message="Invalid Session.",s((function(){n.tf={},o.url("/createaclogin")}),1e3,1)),angular.isDefined(c.error_message)&&(e.error_message=c.error_message)}}])})(),(function(){angular.module("app").config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"config/lang/",suffix:".json"})}])})(),(function(){function e(){return{home:"/home",my_account:{dashboard:"/myaccount/dashboard",linkfbtfacct:"/myaccount/linkfbtfacct"},shop_sim:{ATT:"http://www.tracfone-orders.com/bpdirect/tracfone/Start.do?action=view&market=GSM4&siteType=TR&productFamily=SimCards",TMO:"http://www.tracfone-orders.com/bpdirect/tracfone/Start.do?action=view&market=GSM5&siteType=TR&productFamily=SimCards",WFMTMO:"https://www.walmart.com/ip/Walmart-Family-Mobile-Bring-Your-Own-Phone-SIM-Kit-T-Mobile-GSM-Compatible/790837672",VZN:"http://www.tracfone-orders.com/bpdirect/tracfone/Start.do?action=view&locale=en&siteType=TR&market=CDMAV&gotoPhonelist=true&productFamily=&AID=&__utma=18401020.1797748312.1422303044.1436799405.1436806932.136&__utmb=18401020.3.10.1436806932&__utmc=18401020&__utmx=-&__utmz=&__utmv=-&__utmk=213911959&city=null&state=null",TWVZN:"https://shop.totalwireless.com/shop/en/totalwireless/byop?locale=en"},shop_phones:{phones:"/shop/phones?"}}}angular.module("app").factory("$locationUriConfig",e),e.$inject=[]})(),(function(){function e(e,t,n,a,i,r,o){return MapperUtilsInst={mapDevice:function(o,s){var c={};c.esn=o.esn,c.deviceStatus=o.deviceStatus,c.banid=o.paymentSourceId,c.servicePlanId=o.servicePlanId,c.servicePlanName=o.servicePlanName,c.servicePlanDescription=o.servicePlanDescription,c.servicePlanDescription2=o.servicePlanDescription2,c.servicePlanDescription3=o.servicePlanDescription3,c.servicePlanDescription4=o.servicePlanDescription4,c.enrollmentPromoPrice=o.enrollmentPromoPrice,c.servicePlanPartNumber=o.planPartNumber,c.shortDesc=o.shortDescription,c.serviceEndDate=o.serviceEndDate,c.currentPlanEndDate=o.currentPlanEndDate,c.auto_refill_enabled=!!angular.isDefined(o.autoRefillStatus)&&o.autoRefillStatus,c.paymentSourceId=o.paymentSourceId,c.lowbalance_enabled=!!angular.isDefined(o.lowBalanceRefillStatus)&&o.lowBalanceRefillStatus,c.ildPaymentSourceId=c.ildPaymentSourceId?c.ildPaymentSourceId:void 0,c.auto_refill_next_charge_date=a(o.nextChargeDate,"MM-dd-yyyy"),c.reserveCount=o.reserveCount,c.accountStatus="VALID_ACCOUNT",c.deviceNickname=o.deviceNickname,c.devicePartClass=o.devicePartClass,c.deviceType=o.deviceType,c.isHandsetProtectionEligible=o.isHandsetProtectionEligible,c.isHandsetProtectionEnrolled=!!angular.isDefined(o.isHandsetProtectionEnrolled)&&o.isHandsetProtectionEnrolled,c.reservedLine=o.reservedLine,c.brand=e.brand,c.accountId=t.getAccountId(),c.inquiryType=o.inquiryType,c.primaryDevice=o.primaryDevice,c.zipcode=o.zipcode,c.show_details=!1,c.showDetails=!0,c.technology=o.technology,c.isSimRequired=!1,c.isNotMigrated=!1,c.isRetailerNameAmazon=!!angular.isDefined(o.isRetailerNameAmazon)&&o.isRetailerNameAmazon,c.retailerName=angular.isDefined(o.retailerName)?o.retailerName:void 0,c.isSafelink=!!angular.isDefined(o.isSafelink)&&o.isSafelink,c.isEnrolled=!1,c.planPrice=o.planPrice,c.highSpeedData=o.highSpeedData,c.discountGiven=o.discountGiven,c.leaseStatus=o.leaseStatus,c.leaseStatusDescription=o.leaseStatusDescription,c.leaseApplicationNumber=o.leaseApplicationNumber,c.isPlanNotAvailable=!(!o.isPlanNotAvailableChannel&&!o.isNotPlanAvailableChannel),(c.auto_refill_enabled||c.lowbalance_enabled||c.isHandsetProtectionEnrolled)&&(c.isEnrolled=!0),0==c.enrollmentPromoPrice&&(c.enrollmentPromoPrice=void 0),o.lifecycleStatus&&(c.deviceStatus=o.lifecycleStatus,c.transactionPending=o.lifecycleStatus),e.device_tutorial&&c.devicePartClass&&(c.tutorialLink=e.device_tutorial+"custId="+c.devicePartClass,"es_ES"==i.lang_key&&(c.tutorialLink=e.device_tutorial+"custId="+c.devicePartClass+"S")),n.isMin(o.min)?(c.min=o.min,c.isMinAvailable=!0):(c.isMinAvailable=!1,c.min=void 0),c.min||"ACTIVE"==c.deviceStatus||!1!==c.reservedLine||(c.min="");var l=o.sim?o.sim:void 0;if(l&&l.status&&("SIM EXPIRED"===l.status||"SIM DAMAGED"===l.status||"SIM VOID"===l.status)?l.isInValid=!0:l&&l.status&&"NOT MIGRATED"===l.status&&(c.isNotMigrated=!0,l.isInValid=!1),c.sim=l,angular.isDefined(o.rewards)&&(c.retrewards=o.rewards),o.securityPin?(c.isSecurityPinSet=!0,c.securityPin=o.securityPin):c.isSecurityPinSet=!1,angular.isDefined(o.groupInfo)&&(c.group=MapperUtilsInst.mapGroup(o.groupInfo,s),c.group_Id=c.group?c.group.groupId:"inactive"),c.isFlashHot=!1,angular.isDefined(o.flashMessage)&&(c.flashMessage=o.flashMessage,c.flashMessage.isFlashHot&&(c.isFlashHot=!0)),c.technology&&"GSM"===c.technology&&c.sim&&!c.sim.iccid?c.isSimRequired=!0:c.technology&&"GSM"===c.technology&&!c.sim&&(c.isSimRequired=!0),angular.isDefined(o.paymentSourceId)?(c.hasPaymentSource=!0,c.paymentSourceId=o.paymentSourceId):c.hasPaymentSource=!1,c.balance_details={inprogress:!1,available:!1},"STOLEN"==c.deviceStatus||"RISK_ASSESMENT"==c.deviceStatus?c.invalid_device=!0:c.invalid_device=!1,"ACTIVATION IN PROGRESS"==c.deviceStatus||"PORT IN PROGRESS"==c.deviceStatus||"UPGRADE IN PROGRESS"==c.deviceStatus||"REACTIVATION IN PROGRESS"==c.deviceStatus?c.activationPending=!0:c.activationPending=!1,c.svcpstDueEndDtinFuture=!1,c.serviceEndDate){var d=new Date,u=c.serviceEndDate;a(c.serviceEndDate,"MM-dd-yyyy")>d&&(c.svcpstDueEndDtinFuture=!0),c.serviceEndDate=a(c.serviceEndDate,"MM-dd-yyyy");var p=new Date(r("date")(d,"MM/dd/yyyy")).getTime(),v=n.tfDate(u,"MM/dd/yyyy").getTime(),g=parseInt((v-p)/864e5);c.daysRemaining=g}"NEW"!=c.deviceStatus&&"REFURBISH"!=c.deviceStatus&&"PASTDUE"!=c.deviceStatus&&"USED"!=c.deviceStatus||(c.showActivateButton=!0),e.features.isGsmBrandOnly&&n.isNullOrEmpty(o.deviceNickname)?c.showDeviceBy=n.getShowDeviceBy(c):c.showDeviceBy=o.deviceNickname;var m=!!angular.isDefined(o.isFlipPhone)&&o.isFlipPhone;if(c.nonPpeFeaturedPhone=m?"Y":"N",angular.isDefined(o.HPPDetails)&&(c.HPPDetails=o.HPPDetails),angular.isDefined(o.vas)){var f=o.vas;c.vas=f,angular.forEach(f,(function(e,t){"TELE_HEALTH"==e.name&&(c.teleHealth={enrollmentStatus:e.enrollmentStatus,autoEnrolled:e.isEnrolled})}))}return c.isArAllowed=!angular.isDefined(o.enrollmentEligibility)||o.enrollmentEligibility,c.retailerName="",c.isEbbEnrolled=!1,angular.isDefined(o.retailerName)&&(c.retailerName=o.retailerName,c.isEbbEnrolled="EBB"===c.retailerName,c.isEbbEnrolled&&(c.auto_refill_enabled=!0)),c.isPseudo=!!o.isPseudo&&o.isPseudo,c},mapGroup:function(e,t){var n={};return e.masterEsn?(n.groupId=e.groupId,n.groupName=e.groupName,n.groupStatus=e.groupStatus,n.masterEsn=e.masterEsn,n.masterEsnStatus=MapperUtilsInst.getMasterEsnStatus(e.masterEsn,t),n.groupLeaseApplicationNumber=e.groupLeaseApplicationNumber,n.groupPlanId=e.groupPlanId,n.numberOfLines=e.numberOfLines,n.groupDeviceCount=e.groupDeviceCount,n.availableCapacity=e.availableCapacity,n.isArAllowed=!0,n.retailerName="",n.isEbbEnrolled=!1,angular.forEach(t,(function(e,t){angular.isDefined(e.enrollmentEligibility)&&(n.isArAllowed=e.enrollmentEligibility,!n.isArAllowed&&angular.isDefined(e.retailerName)&&(n.retailerName=e.retailerName,n.isEbbEnrolled="EBB"===n.retailerName))})),n):void 0},getMasterEsnStatus:function(e,t){var n
;if(e&&t)return angular.forEach(t,(function(t,a){t.esn&&t.esn==e&&(n=t.deviceStatus)})),n},mapDeviceGroup:function(e,t){var n=_.groupBy(e,t),a=[],i=[],r=[],o=[],s=[];return angular.forEach(n,(function(e,t){if("inactive"!==t){var n={},c=e[0].group.masterEsn;n.group=e.filter((function(e){return e.esn==c}))[0],n.group.group.groupStatus=n.group.deviceStatus,e.filter((function(e){void 0!=e.isFlashHot&&(e.isFlashHot||(n.group.isAllDevicesHotFlash=!1),e.isFlashHot&&void 0==n.group.isAllDevicesHotFlash&&(n.group.isAllDevicesHotFlash=!0))}));var l=e.filter((function(e){return e.vasInfo&&e.vasInfo.isDeviceHppEligible}));n.group.group.showHppDetails=l.length>0,n.devices=e,"ACTIVE"==n.group.group.groupStatus||"CARRIER_PENDING"==n.group.group.groupStatus||"OTAPENDING"==n.group.group.groupStatus?(a.push(n),o=_.concat(o,e),n.group.group.availableCapacity>0&&s.push(n)):i.push(n)}else r=e})),{activeGroup:a,inactiveGroup:i,inactiveDevices:r,activeGroupDevices:o,activeGroupsAvailable:s}},mapBanDetails:function(e){var t={};if(angular.isDefined(e)){if(t.ban_id=e.id,t.status=e.accountStatus,t.name=e.name,t.mincaptured=!1,e.customerBill){var n=e.customerBill.paymentDueDate;if(n){var a=n;t.renewalDate=a}}if(e.billingAccountExtension){var i=e.billingAccountExtension;t.extensions={},t.extensions.totalLines=i.totalLines?parseInt(i.totalLines):0,t.extensions.availableLines=i.availableLines?parseInt(i.availableLines):0,t.extensions.activeLines=i.activeLines?parseInt(i.activeLines):0}return 0==t.extensions.activeLines&&(t.isAllInactive=!0),t}return t},mapDeviceBanDetails:function(e,t){t.isBanCarrierPending=!1,t.isBanActivationProgress=!1,t.redemption_devices_hotflash=!1,e.auto_refill_enabled&&(t.paymentSourceId=e.paymentSourceId),!e.auto_refill_enabled||e.isEbbEnrolled||t.isEnrolled||(t.isEnrolled=!0),t.isBanActivationProgress||"ACTIVATION IN PROGRESS"!=e.deviceStatus&&"PORT IN PROGRESS"!=e.deviceStatus&&"UPGRADE IN PROGRESS"!=e.deviceStatus&&"REACTIVATION IN PROGRESS"!=e.deviceStatus||(t.isBanActivationProgress=!0),"CARRIERPENDING"!=e.deviceStatus||t.isBanCarrierPending||(t.isBanCarrierPending=!0),"ACTIVE"!=e.deviceStatus&&"PASTDUE"!=e.deviceStatus&&"CARRIERPENDING"!=e.deviceStatus&&"USED"!=e.deviceStatus||!e.isMinAvailable&&!e.reservedLine||!e.isFlashHot||(t.redemption_devices_hotflash=!0),t&&angular.isDefined(t.extensions)&&1==t.extensions.activeLines?(t.isArAllowed=!angular.isDefined(e.isArAllowed)||e.isArAllowed,t.retailerName=angular.isDefined(e.retailerName)?e.retailerName:"",t.isEbbEnrolled="EBB"===t.retailerName):(t.isArAllowed=!0,t.isEbbEnrolled=!1)},checkIfAutoRefillAllowed:function(e){if(e.retailerName){var t=e.retailerName;if(t==o.retailers.amzn||t==o.retailers.walmart_com)return!1}},mapHppDetail:function(e){var t=["SUSPENDED","SUSPENDED_PAY_REJECT","SUSPENDED_DEACT"],n=["DEENROLLED","DEENROLL_SCHEDULED","READYTOREENROLL"],a=["ENROLLED","ENROLLED_NO_ACCOUNT","ENROLL_SCHEDULED"],i=["ENROLLMENTPENDING"],r=e.deviceStatus===o.active,s={navLinkAction:"",navLinkScriptId:"HPP_502",isDeviceHppEligible:!1,isDeviceHppSuspended:!1};if(e.vas&&e.vas.length>0){var c=e.vas[0];c.isEligible?(s.isDeviceHppEligible=!0,s.navLinkScriptId="HPP_451",s.navLinkAction=r?o.smHPPConfig.eligible_for_enrollment:""):c.isEnrolled?(s.isDeviceHppEligible=!0,-1!==a.indexOf(c.enrollmentStatus)?r||!r&&"APPLE"==c.vendor?(s.navLinkScriptId="HPP_126",s.navLinkAction=o.smHPPConfig.manage_enrollment):s.navLinkScriptId="":-1!==t.indexOf(c.enrollmentStatus)&&r?(s.navLinkScriptId="HPP_146",s.navLinkAction=o.smHPPConfig.manage_enrollment,s.isDeviceHppSuspended=!0):-1===t.indexOf(c.enrollmentStatus)||r?-1!==i.indexOf(c.enrollmentStatus)?s.navLinkScriptId="HPP_503":s.navLinkScriptId="":(s.navLinkScriptId="HPP_146",s.isDeviceHppSuspended=!0)):-1!==n.indexOf(c.enrollmentStatus)?(s.isDeviceHppEligible=!0,s.navLinkScriptId="HPP_144"):s.navLinkScriptId="HPP_502"}e.vasInfo=s}},MapperUtilsInst}angular.module("app").service("$mapperUtils",e),e.$inject=["$appConfig","$userService","$utils","$dateParser","$rootScope","$filter","$appConstants"]})(),(function(){function e(e){return{_configs:{},register:function(e,t){this._configs[e]=t},get:function(e){return this._configs[e]}}}angular.module("app").factory("$svcConfig",e),e.$inject=["$appConfig"]})(),(function(){function e(e,t){var n={};return angular.merge(n,config.service),n}angular.module("app").factory("$serviceUriConfig",e),e.$inject=["$http","$q"]})(),(function(){angular.module("app").factory("$spinnerService",["$rootScope",function(e){return{decrement:function(t){e._httpReqCount>0&&(e._httpReqCount=e._httpReqCount-1),0==e._httpReqCount&&(e.showSpinner=!1)},increment:function(t){angular.isDefined(e._httpReqCount)||(e._httpReqCount=0),e._httpReqCount=e._httpReqCount+1,e.showSpinner=!0}}}])})(),(function(){function e(e){return{_configs:{},register:function(e,t){this._configs[e]=t},get:function(e){return this._configs[e]}}}angular.module("app").factory("$voMapConfig",e),e.$inject=["$appConfig"]})(),angular.module("app").component("bankPayment",{templateUrl:"app/views/shared/bankPaymentComponent/bankpayment_view.html",bindings:{bankInfo:"=?",preferences:"=?",theme:"@",labelName:"@?"},controller:["$scope","$profileService","$userService","$errorHandler","$log",function(e,t,n,a,i){angular.isUndefined(e.$ctrl.preferences)&&(e.$ctrl.preferences={showCVV:!1,isUserLoggedIn:!1,isSavetoAcctDisable:!1}),e.$watch("$ctrl.bankInfo.same_address",(function(){e.$ctrl.bankInfo.same_address?angular.isDefined(t.getProfileDetails().getProfile())?(e.$ctrl.bankInfo.address=t.getProfileDetails().getProfile().contact,e.$ctrl.bankInfo.address.country="USA"):t.getProfileInfo({account_id:n.getAccountId()}).then((function(t){a.clearError(e),e.$ctrl.bankInfo.address=t.contact,e.$ctrl.bankInfo.address.country="USA"})).catch((function(t){a.handleError(t,e),i.warn(t)})):e.$ctrl.bankInfo.address={country:"USA"}}))}]}),angular.module("app").component("creditCard",{templateUrl:"app/views/shared/creditCardComponent/creditcard_view.html",bindings:{creditCardInfo:"=?",preferences:"=?",theme:"@",labelName:"@?"},controller:["$scope","$filter","creditcards","$profileService","$userService","$errorHandler","$log",function(e,t,n,a,i,r,o){angular.isUndefined(e.$ctrl.preferences)&&(e.$ctrl.preferences={showCVV:!1,isUserLoggedIn:!1,isSavetoAcctDisable:!1}),e.$ctrl.preferences.isSavetoAcctDisable=!1,e.months=e.$root.months,angular.forEach(e.months,(function(e){e.isActive=!0})),e.years=e.$root.ccExpYears,"upd"!==e.$ctrl.theme&&e.$watch("$ctrl.creditCardInfo.number_mask",(function(t,a){e.$ctrl.creditCardInfo.credittype=n.card.type(e.$ctrl.creditCardInfo.number_mask)||"",angular.isDefined(e.$ctrl.creditCardInfo.credittype)&&(e.$ctrl.creditCardInfo.type=e.$ctrl.creditCardInfo.credittype.toLowerCase())})),e.$watchCollection("$ctrl.creditCardInfo.expiration_year",(function(n,a){var i=t("date")(new Date,"MM"),r=t("date")(new Date,"yyyy");angular.isDefined(n)&&(n===r?(angular.forEach(e.months,(function(e){parseInt(i)>parseInt(e.id)&&(e.isActive=!1)})),e.$ctrl.creditCardInfo.expiration_month&&(e.$ctrl.creditCardInfo.expiration_month=parseInt(e.$ctrl.creditCardInfo.expiration_month.id)<parseInt(i)?void 0:e.$ctrl.creditCardInfo.expiration_month)):angular.forEach(e.months,(function(e){e.isActive=!0})))})),e.$watch("$ctrl.creditCardInfo.same_address",(function(){e.$ctrl.creditCardInfo.same_address?angular.isDefined(a.getProfileDetails().getProfile())?(e.$ctrl.creditCardInfo.address=a.getProfileDetails().getProfile().contact,e.$ctrl.creditCardInfo.address.country="USA"):a.getProfileInfo({account_id:i.getAccountId()}).then((function(t){r.clearError(e),e.$ctrl.creditCardInfo.address=t.contact,e.$ctrl.creditCardInfo.address.country="USA"})).catch((function(t){r.handleError(t,e),o.warn(t)})):e.$ctrl.creditCardInfo.address={country:"USA"}}))}]}),angular.module("app").component("smsCampaignTracking",{templateUrl:"app/views/shared/smscampaigntracking/smscampaigntracking_view.html"}),(function(){var e={errorConfig:{10100:"ERROR_1985122","-10101":"ERROR_1985608",12400:"ERROR_1985653",20300:"ERROR_1985653",20301:"MYACC_5108",20302:"ERROR_1985127",20303:"MYACC_5109",12404:"ERROR_1985175",12405:"MYACC_5128",12406:"MYAC_99967",12407:"ERROR_1985171"},forward:function(e){return{min:e.min,securitypin:e.security_pin,answer:e.answer,question:e.question,zip_code:e.zipcode,verification_code:e.verification_code,payment_source:e.payment_source,option:e.option}},backward:function(e){var t={svc_response:{}};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.svc_response.isBanCarrierPending=!1,t.svc_response.isActiveNoMin=!1,t.svc_response.isBanActivationProgress=!1,t.svc_response.isNotMigrated=!1,angular.isDefined(e.response)){if(angular.isDefined(e.response.accountId)&&(t.svc_response.accountId=e.response.accountId),angular.isDefined(e.response.email)&&(t.svc_response.email=e.response.email),angular.isDefined(e.response.accountStatus)&&(t.svc_response.accountStatus=e.response.accountStatus),angular.isDefined(e.response.checkPoints)&&(t.svc_response.checkPoints=e.response.checkPoints,angular.isDefined(e.response.checkPoints.securityPin)&&(t.svc_response.securityPin=e.response.checkPoints.securityPin),angular.isDefined(e.response.checkPoints.securityQuestion)&&(t.svc_response.securityQuestion=e.response.checkPoints.securityQuestion),angular.isDefined(e.response.checkPoints.paymentSource)&&(t.svc_response.paymentSource=e.response.checkPoints.paymentSource),angular.isDefined(e.response.checkPoints.activationZipCode)&&(t.svc_response.activationZipCode=e.response.checkPoints.activationZipCode)),angular.isDefined(e.response.securityPin)&&(t.svc_response.securityPin=e.response.securityPin),angular.isDefined(e.response.securityQuestion)&&(t.svc_response.securityQuestion=e.response.securityQuestion),angular.isDefined(e.response.paymentSource)&&(t.svc_response.paymentSource=e.response.paymentSource),angular.isDefined(e.response.status)&&(t.svc_response.deviceStatus=e.response.status,angular.equals(e.response.status,"NOT MIGRATED")&&(t.svc_response.isNotMigrated=!0)),t.svc_response.totalActiveLines=e.response.totalActiveLines?parseInt(e.response.totalActiveLines):0,angular.isDefined(e.response.billingAccount)&&(t.svc_response.ban_id=e.response.billingAccount.id?e.response.billingAccount.id:void 0),t.svc_response.isEnrolled=!!angular.isDefined(e.response.isEnrolled)&&e.response.isEnrolled,angular.isDefined(e.response.devices)){var n=[],a=[];angular.forEach(e.response.devices,(function(e,i){if(angular.equals(e.status,"NOT MIGRATED")&&(t.svc_response.isNotMigrated=!0),e.transactionPending&&"CARRIERPENDING"===e.transactionPending&&!t.svc_response.isBanCarrierPending&&(t.svc_response.isBanCarrierPending=!0),angular.equals(e.status,"ACTIVE")){var r={};r.esn=e.last4digitsofEsn,r.min=e.last4digitsofMin,r.min||1!=t.svc_response.totalActiveLines||(t.svc_response.isActiveNoMin=!0),r.activationZipCode=e.activationZipCode,r.status=e.status,r.transactionPending=e.transactionPending,e.deviceType&&(r.deviceType="M2M_DATA"==e.deviceType?"carsmart":e.deviceType),n.push(r)}var o={};e.status&&"NEW"!=e.status&&"STOLEN"!=e.deviceStatus&&"RISK_ASSESMENT"!=e.deviceStatus&&(o.esn=e.last4digitsofEsn,o.min=e.last4digitsofMin,o.zipcode=e.activationZipCode,o.transactionPending=e.transactionPending,o.status=e.status,e.deviceType&&(o.deviceType="M2M_DATA"==e.deviceType?"carsmart":e.deviceType),a.push(o)),t.svc_response.isBanActivationProgress||!e.transactionPending||"ACTIVATION IN PROGRESS"!=e.transactionPending&&"PORT IN PROGRESS"!=e.transactionPending&&"UPGRADE IN PROGRESS"!=e.transactionPending&&"REACTIVATION IN PROGRESS"!=e.transactionPending||(t.svc_response.isBanActivationProgress=!0)})),0==n.length?t.svc_response.devices=void 0:t.svc_response.devices=n,0==a.length?t.svc_response.devicelist=void 0:t.svc_response.devicelist=a}angular.isDefined(e.response.recoveryInfo)&&(e.response.recoveryInfo.type&&e.response.recoveryInfo.value&&(t.svc_response.loginInput=e.response.recoveryInfo.value),t.svc_response.identifier=e.response.recoveryInfo.value,t.svc_response.minforrecovery=e.response.recoveryInfo.value,t.svc_response.type=e.response.recoveryInfo.type,t.svc_response.zipcode=e.response.recoveryInfo.zipcode)}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("accountrecoverystatus",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,type:t.type,recoveryIdentifier:t.value,last4digitsEsn:t.last4Esn,last4digitsMin:t.last4Min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={sendCode:{url:n.my_account.wfm.accountrecovery.sendverificationcode,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("sendverificationcode",i)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985146",12400:"ERROR_1985653",20300:"ERROR_1985653"},forward:function(e){return{type:e.type,value:e.value,last4Esn:e.last4Esn,last4Min:e.last4Min}},backward:function(e){var t={svc_response:{}};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.svc_response=e.response,t}};angular.module("app").run(["$voMapConfig","$appConstants",function(t,n){t.register("sendverificationcode",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{activationZipCode:t.zip_code},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{securityQuestion:{question:t.question,answer:t.answer}},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{securityPin:t.securitypin},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},o={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{securityPin:t.securitypin,securityQuestion:{question:t.question,answer:t.answer}},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},s={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{verificationCode:t.verification_code,activationZipCode:t.zip_code},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},c={validatesecuritypin:{url:n.my_account.wfm.accountrecovery.verifysecuritypin,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},validatezipcode:{url:n.my_account.wfm.accountrecovery.verifyzipcode,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},validatesecurityanswer:{url:n.my_account.wfm.accountrecovery.verifysecurityanswer,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},validatesecuritypinorquestion:{url:n.my_account.wfm.accountrecovery.verifysecuritypinorquestion,contentType:"application/json",httpMethod:"POST",transform:o,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},verificationcodewithemail:{url:n.my_account.wfm.accountrecovery.verificationcode.email,contentType:"application/json",httpMethod:"POST",transform:s,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},verificationcodewithmin:{url:n.my_account.wfm.accountrecovery.verificationcode.min,contentType:"application/json",httpMethod:"POST",transform:s,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("validatecheckpoints",c)}])})(),(function(){"use strict";angular.module("app").component("addDevice",{templateUrl:"app/views/myaccount/adddevice/adddevice_view_myac_112.html",bindings:{state:"=?",deviceAdded:"&",close:"&"},controllerAs:"addDeviceCtrl",controller:["$scope","$rootScope","$utils","$errorHandler","$log","$q","$appRoutes","$devicesCartServices","$deviceService","$done","$voMapConfig",function(e,t,n,a,i,r,o,s,c,l,d){var u=this;u.data={verificationCodeSent:!1},u.STATES={COLLECT_STATUS:0,COLLECT_ESN_OR_MIN:1,COLLECT_LAST_FOUR:2,COLLECT_ESN:3,COLLECT_PIN:4,CONFIRM:5},u.state=u.STATES.COLLECT_STATUS,u.selectActiveDevice=function(){i.debug("addDevice : addDeviceCtrl : Active device selected"),u.state=u.STATES.COLLECT_ESN_OR_MIN},u.selectInActiveDevice=function(){i.debug("addDevice : addDeviceCtrl : InActive device selected"),l.redirect(o.myaccount.adddevice.devicestatus.inactive),u.close()},u.setDevice=function(t){a.clearError(e),u.data.min=t,s.addDeviceCheck({device:t,noCache:!0}).then((function(e){i.info("Ctr setDevice:::Check adddevice returned",e),e.status?u.state=u.STATES.COLLECT_LAST_FOUR:u.setPin(void 0),angular.isDefined(c.getSelectedDevice().min)&&(u.data.verificationCodeSent=!1,i.debug("requesting device verification code via sms"),c.sendVerificationCode({min:c.getSelectedDevice().min}).then((function(e){u.data.verificationCodeSent=!0,i.debug("device verification code requested successfully")})).catch((function(e){i.warn("device verification code request failed",e)})))})).catch((function(t){i.warn(t),a.handleError(t,e)}))},u.verifyLastFour=function(t){a.clearError(e);var r,o;if(c.getSelectedDevice()&&c.getSelectedDevice().sim&&c.getSelectedDevice().sim.iccid&&(r=c.getSelectedDevice().sim.iccid),c.getSelectedDevice()&&c.getSelectedDevice().esn&&(o=c.getSelectedDevice().esn),n.checkLastSixESNorSIM(t,r,o))u.setPin(void 0);else if(u.data.verificationCodeSent)i.debug("validating device verification code"),c.validateVerificationCode({min:c.getSelectedDevice().min,verificationCode:t}).then((function(e){i.debug("device verification code validated successfully"),u.setPin(void 0)})).catch((function(t){i.warn("device verification code validation failed",t);var r=n.translateError({error_code:"103"},d.get("adddevice"));a.handleError(r,e)}));else{var s=n.translateError({error_code:"103"},d.get("adddevice"));a.handleError(s,e)}},u.setPin=function(t){a.clearError(e),u.data.pin=t,c.addDevices({device:c.getSelectedDevice().esn,securityPin:t}).then((function(e){u.state=u.STATES.CONFIRM})).catch((function(t){i.warn(t),a.handleError(t,e)}))},u.confirmMsg=function(){i.debug("addDevice/confirmMsg/Deviceadded"),l.redirect("userloggedin"),t.$broadcast("add-device-upd",{}),u.close()}}]})})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{min:t.min,esn:t.esn,iccid:t.iccid,securityPin:t.securityPin},accountId:t.account_id}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={account:{url:n.my_account.dashboard.add_device,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("adddevice",i)}])})(),(function(){var e={errorConfig:{10200:"ACCT_NOT_EXISTS",101:"ERROR_1985146",102:"MYACC_5127",10800:"ERROR_1985646",103:"ERROR_1985673"},forward:function(e){return{account_id:e.account_id,esn:e.esn,min:e.min,iccid:e.iccid,securityPin:e.securityPin}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("adddevice",e)}])})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u){}angular.module("app").controller("addDeviceCtrl",e),e.$inject=["$scope","$uibModalInstance","callback","$utils","$errorHandler","$voMapConfig","$deviceService","$log","$q","$appConstants","$devicesCartServices","$location"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.min,background:t.background}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},o={forward:function(t){return{brandName:t.brand_name,sourceSystem:e.source_system,language:e.language,min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},s={valdevice:{url:n.my_account.dashboard.validate_device.valdevice,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},valdeviceport:{url:n.my_account.dashboard.validate_device.valdeviceport,contentType:"application/json",httpMethod:"GET",transform:o,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},validatedevicesim:{url:n.my_account.dashboard.validate_device.validatedevicesim,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},valdeviceesn:{url:n.my_account.dashboard.validate_device.valdeviceesn,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("validatedevice",s)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$appConfig",function(e,t,n){var a={errorConfig:{12400:"ERROR_1985653","-10103":"ERROR_4000","-10100":"ERROR_1985613","-10101":"ACRE_7132","-10102":"ERROR_1985614","-10105":"ERROR_1985613","-10104":"ERROR_1985609","-10106":"ERROR_1985551","-10107":"ERROR_1985234","-10108":"ERROR_4502","-10109":"ERROR_1985633","-10110":"ERROR_1985634","-10111":"ERROR_1985639","-10112":"ERROR_1985122","-10113":"ERROR_1985610","-10114":"MYACC_5128","-10115":"ERROR_1985700",20300:"ERROR_1985653",1985797:"ERROR_1985797","-10116":"RDSG_5478","-10117":"ERROR_198367","-10118":"ERROR_16502","-10119":"ERROR_10523","-10120":"ERROR_1985515",12206:"ERROR_198366",12207:"ERROR_198366",12208:"ERROR_19792",12209:"ERROR_19792",12205:"ERROR_19792",1985922:"ERROR_1985922","-5690":"MYACC_5690"},forward:function(e){return{min:e.min,brand_name:e.port_brand,background:e.background}},backward:function(e){var a={svc_response:{}};if(a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type,angular.isDefined(e.response)){var i=e.response,r={};r.sim=i.sim,r.esn=i.esn,r.min=i.min,r.deviceStatus=i.deviceStatus,r.servicePlanId=i.servicePlanId,r.servicePlanName=i.servicePlanName,r.servicePlanDescription=i.servicePlanDescription,r.servicePlanDescription2=i.servicePlanDescription2,r.servicePlanDescription3=i.servicePlanDescription3,r.servicePlanDescription4=i.servicePlanDescription4,r.serviceEndDate=i.serviceEndDate,r.currentPlanEndDate=i.currentPlanEndDate,r.servicePlanPartNumber=i.planPartNumber,r.auto_refill_enabled=i.autoRefillStatus,r.lowbalance_enabled=i.lowBalanceRefillStatus,r.reserveCount=i.reserveCount,r.accountStatus=i.accountStatus,r.deviceNickname=i.deviceNickname,r.devicePartClass=i.devicePartClass,r.deviceType=i.deviceType,r.isHandsetProtectionEligible=i.isHandsetProtectionEligible,r.isHandsetProtectionEnrolled=i.isHandsetProtectionEnrolled,r.reservedLine=i.reservedLine,r.brand=i.brand,r.accountId=i.accountId,r.isSimRequired=i.isSimRequired,r.inquiryType=i.inquiryType,r.primaryDevice=i.primaryDevice,r.leaseStatus=i.leaseStatus,r.leaseApplicationNumber=i.leaseApplicationNumber,r.zipcode=i.zipcode,r.transactionPending=i.transactionPending,r.isSecurityPinSet=i.isSecurityPinAvailable,r.isSafelink=!!angular.isDefined(i.isSafelink)&&i.isSafelink,r.isNotMigrated=!1,r.showDetails=!0,r.showDeviceBy=void 0,r.hasPaymentSource=i.hasPaymentSource,r.group=i.groupInfo,r.flashMessage=i.flashMessage,r.retrewards=i.rewards,r.isFlashHot=!1,r.invalid_device=!1,r.activationPending=!1,r.hppeligiblemessage=i.handsetProtectionEligibleMessage,r.nonPpeFeaturedPhone=i.nonPpeFeaturedPhone?i.nonPpeFeaturedPhone:"",r.deviceGroup=i.deviceGroup?i.deviceGroup:"",r.isPlanNotAvailable="NOT AVAILABLE"===i.isPlanNotAvailableChannel&&"NET10"===n.brand,r.isArAllowed=!angular.isDefined(i.enrollmentEligibility)||i.enrollmentEligibility,r.retailerName=angular.isDefined(i.retailerName)?i.retailerName:"",t.isMin(r.min)||(r.min=void 0),r.min||"ACTIVE"==r.deviceStatus||0!=r.reservedLine||(r.min="");if(i.technology&&(r.technology=i.technology,angular.equals(r.technology,"GSM")&&!0),i.sim){var o=i.sim;o.isInValid=!1,!o.status||"SIM EXPIRED"!==o.status&&"SIM DAMAGED"!==o.status&&"SIM VOID"!==o.status?o.status&&"NOT MIGRATED"===o.status&&(r.isNotMigrated=!0):o.isInValid=!0,r.sim=o}r.deviceType="M2M_DATA"==i.deviceType?"carsmart":i.deviceType,r.showDeviceBy||(r.showDeviceBy=t.getShowDeviceBy(r)),r.flashMessage&&r.flashMessage.isFlashHot&&(r.isFlashHot=!0),"STOLEN"!=r.deviceStatus&&"RISK_ASSESMENT"!=r.deviceStatus||(r.invalid_device=!0),"BYOPPENDING"==r.deviceStatus&&(r.deviceStatus="NEW"),!r.transactionPending||"ACTIVATION IN PROGRESS"!=r.transactionPending&&"PORT IN PROGRESS"!=r.transactionPending&&"UPGRADE IN PROGRESS"!=r.transactionPending&&"REACTIVATION IN PROGRESS"!=r.transactionPending||(r.activationPending=!0),a.svc_response=r}return a}};e.register("validatedevice",a)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{username:t.username,password:t.password,grant_type:e.ro_grant,scope:e.ro_scope,client_id:e.client_id,client_secret:e.client_secret,brandName:e.brand,sourceSystem:e.source_system}},backward:function(t){var n=angular.isDefined(t.access_token)?"0":angular.isDefined(t.status)?t.status.code:"100",a=angular.isDefined(t.error_description)?t.error_description:e.default_error;return{account_id:t.account_id,access_token:t.access_token,refresh_token:t.refresh_token,expires_in:t.expires_in,error_code:n,error_message:a,email:t.email}}},i={forward:function(t){return{username:t.username,password:t.password,grant_type:e.ro_grant,scope:e.ro_scope,client_id:e.client_id_limited,client_secret:e.client_secret,brandName:e.brand,sourceSystem:e.source_system}},backward:function(t){var n=angular.isDefined(t.access_token)?"0":angular.isDefined(t.status)?t.status.code:"100",a=angular.isDefined(t.error_description)?t.error_description:e.default_error;return{account_id:t.account_id,access_token:t.access_token,refresh_token:t.refresh_token,expires_in:t.expires_in,error_code:n,error_message:a}}},r={forward:function(t){return{username:t.username,password:t.password,grant_type:e.ro_grant,scope:e.rons_scope,client_id:e.client_id_ns,client_secret:e.client_secret,brandName:e.brand,sourceSystem:e.source_system}},backward:function(t){var n=angular.isDefined(t.access_token)?"0":angular.isDefined(t.status)?t.status.code:"100",a=angular.isDefined(t.error_description)?t.error_description:e.default_error;return{account_id:t.account_id,access_token:t.access_token,refresh_token:t.refresh_token,expires_in:t.expires_in,error_code:n,error_message:a}}},o={forward:function(t){return{refresh_token:t.refresh_token,grant_type:e.refresh_grant,scope:e.rons_scope,client_id:e.client_id_ns,client_secret:e.client_secret,brandName:e.brand,sourceSystem:e.source_system}},backward:function(t){var n=angular.isDefined(t.access_token)?"0":angular.isDefined(t.status)?t.status.code:"100",a=angular.isDefined(t.error_description)?t.error_description:e.default_error;return{account_id:t.account_id,access_token:t.access_token,refresh_token:t.refresh_token,expires_in:t.expires_in,error_code:n,error_message:a}}},s={forward:function(t){return{refresh_token:t.refresh_token,grant_type:e.refresh_grant,scope:e.ro_scope,client_id:t.limitedAccess?e.client_id_limited:e.client_id,client_secret:e.client_secret,brandName:e.brand,sourceSystem:e.source_system}},backward:function(t){var n=angular.isDefined(t.access_token)?"0":angular.isDefined(t.status)?t.status.code:"100",a=angular.isDefined(t.error_description)?t.error_description:e.default_error;return{account_id:t.account_id,access_token:t.access_token,refresh_token:t.refresh_token,expires_in:t.expires_in,error_code:n,error_message:a}}},c={forward:function(t){return{username:t.username,password:t.password,grant_type:e.cc_grant,scope:e.cc_scope,client_id:e.cc_client_id,client_secret:e.cc_client_secret,brandName:e.brand,sourceSystem:e.source_system}},backward:function(t){var n=angular.isDefined(t.access_token)?"0":angular.isDefined(t.status)?t.status.code:"100",a=angular.isDefined(t.error_description)?t.error_description:e.default_error;return{access_token:t.access_token,expires_in:t.expires_in,error_code:n,error_message:a}}},l={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},d={ro:{url:n.my_account.auth.ro,contentType:"application/x-www-form-urlencoded",httpMethod:"POST",transform:a,okCodes:["0"],koCodes:{},okkoCodes:{}},pinro:{url:n.my_account.auth.ro,contentType:"application/x-www-form-urlencoded",httpMethod:"POST",transform:i,okCodes:["0"],koCodes:{},okkoCodes:{}},cc:{url:n.my_account.auth.cc,contentType:"application/x-www-form-urlencoded",httpMethod:"POST",transform:c,okCodes:["0"],koCodes:{},okkoCodes:{}},fblinking:{url:n.my_account.auth.fb_linking,contentType:"application/json",httpMethod:"GET",transform:l,oAuthGrants:["CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},ro_ns:{url:n.my_account.auth.ro,contentType:"application/x-www-form-urlencoded",httpMethod:"POST",transform:r,okCodes:["0"],koCodes:{},okkoCodes:{}},refresh:{
url:n.my_account.auth.ro,contentType:"application/x-www-form-urlencoded",httpMethod:"POST",transform:o,okCodes:["0"],koCodes:{},okkoCodes:{}},authrorefresh:{url:n.my_account.auth.ro,contentType:"application/x-www-form-urlencoded",httpMethod:"POST",transform:s,okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("oauth",d)}])})(),(function(){var e={errorConfig:{100:"ERROR_1985600",89235:"ERROR_1985651",89239:"ERROR_1985650",20300:"ERROR_1985653"},forward:function(e){return{username:e.email,password:e.password}},backward:function(e){return{access_token:e.access_token,account_id:e.account_id,refresh_token:e.refresh_token,expires_in:e.expires_in,error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,email:e.email}}};angular.module("app").run(["$voMapConfig",function(t){t.register("login",e)}])})(),(function(){var e={errorConfig:{100:"ERROR_1985600"},forward:function(e){return{}},backward:function(e){return{access_token:e.access_token,expires_in:e.expires_in,error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("cc",e)}])})(),(function(){var e={errorConfig:{100:"ERROR_1985600",89235:"ERROR_1985655",89239:"ERROR_1985656",20300:"ERROR_1985653"},forward:function(e){return{refresh_token:e.refresh_token,limitedAccess:!!angular.isDefined(e.isLimitedAccess)&&e.isLimitedAccess}},backward:function(e){return{access_token:e.access_token,account_id:e.account_id,refresh_token:e.refresh_token,expires_in:e.expires_in,error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("authrefresh",e)}])})(),(function(){var e={errorConfig:{100:"ERROR_1985600",89235:"ERROR_1985655",89239:"ERROR_1985656",20300:"ERROR_1985653"},forward:function(e){return{username:e.email,password:e.password}},backward:function(e){return{access_token:e.access_token,account_id:e.account_id,refresh_token:e.refresh_token,expires_in:e.expires_in,error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("authrons",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$userService","$appConstants",function(e,t,n,a,i){var r={forward:function(t){return{brandName:e.brand,customerID:a.getAccountId(),language:e.language,partner:i.lrp_partner,sourceSystem:e.source_system,token_type:i.lrp_token_type}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e.response}}},o={oauth_token:{url:n.my_account.auth.augeo_token,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("oauthtoken",o)}])})(),(function(){var e={errorConfig:{},forward:function(e){return e},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=e.response;return angular.isDefined(n)&&(t.token_type=e.response.token_type,t.access_token=e.response.access_token,t.expires_in=e.response.expires_in,t.scope=e.response.scope,t.brandName=e.response.brandName,t.sourceSystem=e.response.sourceSystem,t.refresh_token=e.response.refresh_token,t.client_id=e.response.client_id,t.accountId=e.response.accountId),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("oauthtoken",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={checkPoints:e.response.checkPoints,accountStatus:e.response.accountStatus}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={acct:{url:n.my_account.create_account.account_recovery,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("validatedeviceacct",i)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985146",12400:"ERROR_1985653",89233:"ERROR_1985657",89234:"ERROR_1985658"},forward:function(e){return{min:e.min}},backward:function(e){var t={svc_response:{}};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.accountStatus)&&(t.svc_response.accountStatus=e.accountStatus),angular.isDefined(e.checkPoints)&&(t.svc_response.checkPoints=e.checkPoints),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("validatedeviceacct",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{accountId:angular.isDefined(t.accountId)?t.accountId:0,esn:t.esn,password:t.password,securityCode:t.securityCode,dateOfBirth:t.dateOfBirth,zipcode:t.zipcode,min:t.min,commPreferences:t.communicationPreferences},email:t.email}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{accountId:0,min:t.min,esn:t.esn,password:t.password,securityCode:t.securityCode,dateOfBirth:t.dateOfBirth,email:t.email,zipcode:t.zipcode,socialMedia:{socialMediaUid:t.fb_userid,userName:t.fb_username,firstName:t.fb_first_name,lastName:t.fb_last_name,email:t.fb_email,gender:t.fb_gender,ageRange:t.fb_ageRange,link:t.fb_link,locale:t.fb_locale,token_for_business:t.fb_buinesstoken}},email:t.email}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={createacct:{url:n.my_account.create_account.createacct_url,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},createfbacct:{url:n.my_account.create_account.createfbacct_url,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("createuseracct",r)}])})(),(function(){var e={errorConfig:{10400:"ERROR_1985131",10300:"ERROR_1985130",10402:"ERROR_1985658",20100:"ERROR_1985653",10200:"ERROR_1985148"},forward:function(e){return{email:e.email,password:e.password,dateOfBirth:e.dateOfBirth,securityCode:e.securityCode,zipcode:e.zipcode,esn:e.esn,accountId:e.accountId,min:e.min,communicationPreferences:e.communicationPreferences}},backward:function(e){var t={svc_response:{}};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(t.svc_response.accountId=e.response.accountId),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("createuseracct",e)}])})(),(function(){var e={errorConfig:{10400:"ERROR_1985131",10300:"ERROR_1985130",10402:"ERROR_1985658"},forward:function(e){return{email:e.email,password:e.password,dateOfBirth:e.dateOfBirth,securityCode:e.securityCode,min:e.min,esn:e.esn,zipcode:e.zipcode,fb_userid:e.fb_userid,fb_username:e.fb_username,fb_email:e.fb_email,fb_first_name:e.fb_first_name,fb_last_name:e.fb_last_name,fb_gender:e.fb_gender,fb_ageRange:e.fb_ageRange,fb_link:e.fb_link,fb_locale:e.fb_locale,fb_buinesstoken:e.fb_buisnesstoken}},backward:function(e){var t={svc_response:{}};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(t.svc_response.accountId=e.response.accountId),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("createfbacct",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,email:t.option}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,accountId:t.option}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,device:t.option}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},o={email:{url:n.my_account.wfm.accountrecovery.email,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},accountId:{url:n.my_account.wfm.accountrecovery.accountid,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},device:{url:n.my_account.wfm.accountrecovery.device,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("accountStatus",o)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$utils",function(e,t,n,a){var i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,accountIdentifier:t.option,type:"accountID"}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={forward:function(t){var n="accountID";return a.isEsn(t.option)?n="HANDSET":a.isMin(t.option)?n="LINE":a.isSim(t.option)&&(n="SIM_CARD"),{brandName:e.brand,sourceSystem:e.source_system,language:e.language,accountIdentifier:t.option,type:n}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},o={accountId:{url:n.my_account.wfm.accountrecovery.customerAccountStatus,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},device:{url:n.my_account.wfm.accountrecovery.customerAccountStatus,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("custAccountStatus",o)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{identifier:t.account_id,category:a.account,partyID:e.servicePartyId,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={billingAccount:e.response.billingAccount}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={url:n.billing_invoices,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("getpriorinvoices",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$rootScope",function(e,t){var n={errorConfig:{},forward:function(e){return{account_id:e.accountID}},backward:function(e){var n=(t.months,{});return n.invocies=[],n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,e&&e.billingAccount&&e.billingAccount.invoices.length>0&&angular.forEach(e.billingAccount.invoices,(function(e,a){var i={};i.href=e.href,e.additionalInfo&&(angular.forEach(t.months,(function(t,n){t.id==e.additionalInfo.month&&(i.month=t.label)})),i.year=e.additionalInfo.year),n.invocies.push(i)})),n}};e.register("getpriorinvoices",n)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.data=a,e.init=function(){n.debug("$scope.data init ",e.data)},e.close=function(){t.dismiss("cancel")},e.downloadInvoicePdf=function(t){n.debug("downloadInvoicePdf selInvoiceb !!! ",t),i.downloadInvoiceFile({fileURL:t.href}).then((function(t){n.debug("downloadInvoicesFile success",t),e.close()})).catch((function(t){var a=o.translateError({error_code:"-10001"},s.get("pmthist"));r.handleError(a,e),n.debug("downloadInvoicesFile error",a)}))}}angular.module("app").controller("loadPastPymtHistCtrl",e),e.$inject=["$scope","$uibModalInstance","$log","items","$downloadservice","$errorHandler","$utils","$voMapConfig"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{accountId:t.accountId,brand:e.brand,sourceSystem:e.source_system,language:e.language,startDate:t.startDate,endDate:t.endDate}},backward:function(e){return angular.merge({error_code:e.status.code,error_message:e.status.message,error_type:e.status.type},e)}},i={order:{url:n.my_account.pymt_history.order,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","11901"],koCodes:{},okkoCodes:{}}};t.register("pymtHistory",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","uibDateParser",function(e,t){var n={errorConfig:{10100:"ERROR_1985146",10200:"ERROR_1985661",11901:"ERROR_1985168","-10001":"ERROR_1985801"},forward:function(e){return{accountId:e.accountId,startDate:e.startDate,endDate:e.endDate}},backward:function(e){var n={};return n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,n.payments=[],angular.isDefined(e.orders)&&angular.forEach(e.orders,(function(e,a){var i,r=e.billingAccount.payment,o="",s={subTotal:r.discountAmount};angular.isDefined(r.discounts)&&(s={subTotal:0,amazon_discount:angular.isDefined(r.discounts.amazonDiscount)?r.discounts.amazonDiscount:void 0,employee_discount:angular.isDefined(r.discounts.employeeDiscount)?r.discounts.employeeDiscount:void 0,promo4l100_discount:angular.isDefined(r.discounts.promotionalDiscount)?r.discounts.promotionalDiscount:void 0,multiline_discount:angular.isDefined(r.discounts.multiLineDiscount)?r.discounts.multiLineDiscount:void 0,disc10per:angular.isDefined(r.discounts.disc10per)?r.discounts.disc10per:void 0,autorefill_discount:angular.isDefined(r.discounts.autoRefillDiscount)?r.discounts.autoRefillDiscount:void 0,onetimeDiscounts:angular.isDefined(r.discounts.onetimeDiscounts)?r.discounts.onetimeDiscounts:void 0}),angular.isDefined(r.paymentMethod)&&(o="DIGITAL_WALLET"===r.paymentMethod.type?r.paymentMethod.digitalWallet.service:r.paymentMethod.creditCard.type,i="DIGITAL_WALLET"===r.paymentMethod.type?r.paymentMethod.digitalWallet.name:"*"+r.paymentMethod.creditCard.accountNumber.substring(r.paymentMethod.creditCard.accountNumber.length-4));var c={date:t.tfDate(r.paymentDate),type:r.type,total:r.totalAmount,id:r.id,status:r.status,ps_nick_name:r.paymentMethod.nickName,ps_number:i,ps_type:o.toLowerCase(),ts_type:r.type,net_amount:angular.isDefined(r.taxes)&&angular.isDefined(r.taxes.totalAmountWithDiscountAndTax)?r.taxes.totalAmountWithDiscountAndTax:void 0,payment_chanel:r.channel,discount:s,show_details:!1};angular.isDefined(r.taxes)&&(c.tax_e911label=angular.isDefined(r.taxes.e911Label)?r.taxes.e911Label.replace(/&lt;/g,"<"):"MYACC_5051",c.tax_e911Flatlabel=angular.isDefined(r.taxes.e911FlatLabel)?r.taxes.e911FlatLabel.replace(/&lt;/g,"<"):void 0,c.tax_e911Ratelabel=angular.isDefined(r.taxes.e911RateLabel)?r.taxes.e911RateLabel.replace(/&lt;/g,"<"):void 0,c.tax_e911=angular.isDefined(r.taxes.e911Tax)?r.taxes.e911Tax:void 0,c.tax_e911Flat=angular.isDefined(r.taxes.e911FlatTax)?r.taxes.e911FlatTax:void 0,c.tax_e911Rate=angular.isDefined(r.taxes.e911RateTax)?r.taxes.e911RateTax:void 0,c.tax_rcrf=angular.isDefined(r.taxes.rcrfTax)?r.taxes.rcrfTax:void 0,c.tax_sales=angular.isDefined(r.taxes.salesTax)?r.taxes.salesTax:void 0,c.tax_usf=angular.isDefined(r.taxes.usfTax)?r.taxes.usfTax:void 0),n.payments.push(c)})),n}};e.register("pymtHistory",n)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,transactionId:t.transactionId}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={transactions:e.response.transactions}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={url:n.my_account.pymt_details.url,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","11901"],koCodes:{},okkoCodes:{}};t.register("pmtdet",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$deviceService","$utils",function(e,t,n){var a={errorConfig:{10100:"ERROR_1985146",10200:"ERROR_1985661",11901:"ERROR_1985168"},forward:function(e){return{transactionId:e.transactionId}},backward:function(e){var a={};return a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type,a.pymthist=[],angular.isDefined(e.transactions)&&angular.forEach(e.transactions,(function(e,i){var r={},o={},s=e.taxes.e911Tax;angular.isDefined(e.discounts)&&(o.subTotal=parseFloat(e.transactionTotal),e.discounts.AMAZON_DISCOUNT&&(o.amazon_discount=e.discounts.AMAZON_DISCOUNT,o.subTotal=parseFloat(o.subTotal)+parseFloat(o.amazon_discount)),e.discounts.EMPLOYEE_DISCOUNT&&(o.employee_discount=e.discounts.EMPLOYEE_DISCOUNT,o.subTotal=parseFloat(o.subTotal)+parseFloat(o.employee_discount)),e.discounts.PROMO4L100_DISCOUNT&&(o.promo4l100_discount=e.discounts.PROMO4L100_DISCOUNT,o.subTotal=parseFloat(o.subTotal)+parseFloat(o.promo4l100_discount)),e.discounts.MULTILINE_DISCOUNT&&(o.multiline_discount=e.discounts.MULTILINE_DISCOUNT,o.subTotal=parseFloat(o.subTotal)+parseFloat(o.multiline_discount)),e.discounts.DISC10PER&&(o.disc10per=e.discounts.DISC10PER,o.subTotal=parseFloat(o.subTotal)+parseFloat(o.disc10per)),e.discounts.AUTOREFILL_DISCOUNT&&(o.autorefill_discount=e.discounts.AUTOREFILL_DISCOUNT,o.subTotal=parseFloat(o.subTotal)+parseFloat(o.autorefill_discount)),e.discounts.ONE_TIME_DISCOUNT&&(o.onetime_discount=e.discounts.ONE_TIME_DISCOUNT,o.subTotal=parseFloat(o.subTotal)+parseFloat(o.onetime_discount)),o.subTotal=0==parseFloat(o.subTotal)?void 0:parseFloat(o.subTotal)),angular.isDefined(e.taxes)&&(angular.isDefined(e.taxes.e911Tax)&&0==e.taxes.e911Tax&&(e.taxes.e911Tax=0),angular.isDefined(e.taxes.e911RateAmount)&&0==e.taxes.e911RateAmount&&(e.taxes.e911RateAmount=0),angular.isDefined(e.taxes.e911FlatAmount)&&0==e.taxes.e911FlatAmount&&(e.taxes.e911FlatAmount=0),angular.isDefined(e.taxes.rcrfTax)&&0==e.taxes.rcrfTax&&(e.taxes.rcrfTax=0),angular.isDefined(e.taxes.salesTax)&&0==e.taxes.salesTax&&(e.taxes.salesTax=0),angular.isDefined(e.taxes.usfTax)&&0==e.taxes.usfTax&&(e.taxes.usfTax=0),angular.isDefined(e.taxes.totalAmountWithDiscountAndTax)&&0==e.taxes.totalAmountWithDiscountAndTax&&(e.taxes.totalAmountWithDiscountAndTax=0),e.taxes.e911label=s||"MYACC_5051",r=e.taxes);var c=angular.copy(t.getAllDevices());angular.forEach(c,(function(t,a){t&&e.device&&t.min&&e.device.min&&t.min==e.device.min&&(e.device.showDeviceBy=n.getShowDeviceBy(t))})),a.pymthist.push({device:e.device,discount:o,serviceDays:e.serviceDays,taxes:r,transactionTotal:e.transactionTotal})})),a}};e.register("pmtdet",a)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{customerId:t.account_id,serialNumber:t.esn,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={transactions:e.response.transactions}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{customerId:t.account_id,startDate:t.start_date,endDate:t.end_date,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={transactions:e.response.transactions}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={device:{url:n.my_account.pymt_history.device,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","11901"],koCodes:{},okkoCodes:{}},account:{url:n.my_account.pymt_history.account,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP"],okCodes:["0","11901"],koCodes:{},okkoCodes:{}}};t.register("pmthist",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","uibDateParser",function(e,t,n){var a={errorConfig:{10100:"ERROR_1985146",10200:"ERROR_1985661",11901:"ERROR_1985168","-10001":"ERROR_1985801"},forward:function(e){return{account_id:e.account_id,esn:e.esn,start_date:e.start_date,end_date:e.end_date}},backward:function(e){var n={};return n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,n.pymthist=[],angular.isDefined(e.transactions)&&angular.forEach(e.transactions,(function(e,a){var i,r,o,s,c,l,d,u,p,v,g,m;angular.isDefined(e.paymentSource.paymentSourceNumberMask)&&(i="*"+e.paymentSource.paymentSourceNumberMask.substring(e.paymentSource.paymentSourceNumberMask.length-4)),angular.isDefined(e.taxLabels)?(v=e.taxLabels.e911Label.replace(/&lt;/g,"<"),g=e.taxLabels.e911FlatText.replace(/&lt;/g,"<"),m=e.taxLabels.e911RateText.replace(/&lt;/g,"<")):v="MYACC_5051";var f;e.discounts&&(f={},f.subTotal=parseFloat(e.transactionTotal),e.discounts.AMAZON_DISCOUNT&&(f.amazon_discount=e.discounts.AMAZON_DISCOUNT,f.subTotal=parseFloat(f.subTotal)+parseFloat(f.amazon_discount)),e.discounts.EMPLOYEE_DISCOUNT&&(f.employee_discount=e.discounts.EMPLOYEE_DISCOUNT,f.subTotal=parseFloat(f.subTotal)+parseFloat(f.employee_discount)),e.discounts.PROMO4L100_DISCOUNT&&(f.promo4l100_discount=e.discounts.PROMO4L100_DISCOUNT,f.subTotal=parseFloat(f.subTotal)+parseFloat(f.promo4l100_discount)),e.discounts.MULTILINE_DISCOUNT&&(f.multiline_discount=e.discounts.MULTILINE_DISCOUNT,f.subTotal=parseFloat(f.subTotal)+parseFloat(f.multiline_discount)),e.discounts.DISC10PER&&(f.disc10per=e.discounts.DISC10PER,f.subTotal=parseFloat(f.subTotal)+parseFloat(f.disc10per)),e.discounts.AUTOREFILL_DISCOUNT&&(f.autorefill_discount=e.discounts.AUTOREFILL_DISCOUNT,f.subTotal=parseFloat(f.subTotal)+parseFloat(f.autorefill_discount)),e.discounts.ONE_TIME_DISCOUNT&&(f.onetime_discount=e.discounts.ONE_TIME_DISCOUNT,f.subTotal=parseFloat(f.subTotal)+parseFloat(f.onetime_discount)),f.subTotal=0==parseFloat(f.subTotal)?void 0:parseFloat(f.subTotal)),angular.isDefined(e.taxes)&&(angular.isDefined(e.taxes.e911Tax)&&(r=e.taxes.e911Tax),angular.isDefined(e.taxes.e911FlatAmount)&&(o=e.taxes.e911FlatAmount),angular.isDefined(e.taxes.e911RateAmount)&&(s=e.taxes.e911RateAmount),angular.isDefined(e.taxes.rcrfTax)&&(c=e.taxes.rcrfTax),angular.isDefined(e.taxes.salesTax)&&(l=e.taxes.salesTax),angular.isDefined(e.taxes.usfTax)&&(d=e.taxes.usfTax),angular.isDefined(e.taxes.totalAmountWithDiscountAndTax)&&(u=e.taxes.totalAmountWithDiscountAndTax)),e.transactionStatus&&(p=angular.equals(e.transactionStatus,"SUCCESSFULL PAYMENT")?"APPROVED":angular.equals(e.transactionStatus,"FAILED PAYMENT")?"DECLINED":angular.equals(e.transactionStatus,"SUCCESSFULL REFUND")?"REFUND":angular.equals(e.transactionStatus,"FAILED REFUND")?"REFUND-FAILED":e.transactionStatus),n.pymthist.push({date:t.tfDate(e.transactionDate),type:e.transactionType,total:e.transactionTotal,discount:e.discountTotal,id:e.transactionId,status:p,ps_nick_name:e.paymentSource.paymentSourceNickName,ps_number:i,ps_type:e.paymentSource.paymentSourceType,ts_type:e.transactionType,tax_e911:r,tax_e911label:v,tax_e911Flat:o,tax_e911Flatlabel:g,tax_e911Rate:s,tax_e911Ratelabel:m,tax_rcrf:c,tax_sales:l,tax_usf:d,net_amount:u,payment_chanel:e.channel,discount:f,show_details:!1})})),n}};e.register("pmthist",a)}])})(),(function(){function e(e,t,n,a){e.optional_cards=[],e.closePopup=function(){a.debug("altpaymentmethodController/closePopup/entry"),n.dismiss("cancel"),a.debug("altpaymentmethodController/closePopup/exit")},e.init=function(){a.debug("Initializing alternate pymt src popup",t),angular.forEach(t.pymtsources,(function(n,a){n.id!=t.selectedPymtSrc.id&&e.optional_cards.push(n)})),a.debug("Loading optional cards",e.optional_cards)},e.selectPymtSrc=function(n){a.debug("altpaymentmethodController/selectPymtSrc/entry",n),e.closePopup(),t.callback.resolve({old_src:t.selectedPymtSrc,new_src:n,altPymt:!0}),a.debug("altpaymentmethodController/selectPymtSrc/exit",t.selectedPymtSrc,n)},e.addNewPymtSrc=function(){a.debug("newpaymentmethodController/confirmNewPymtSrc/entry",t.selectedPymtSrc),t.callback.resolve({selectedPymtSrc:t.selectedPymtSrc,altPymt:!1}),e.closePopup(),a.debug("newpaymentmethodController/confirmNewPymtSrc/exit")}}angular.module("app").controller("altpaymentmethodController",e),e.$inject=["$scope","items","$uibModalInstance","$log"]})(),(function(){function e(e,t,n,a){e.closePopup=function(){n.debug("newpaymentmethodController/closePopup/entry"),a.dismiss("cancel"),n.debug("newpaymentmethodController/closePopup/exit")},e.confirmNewPymtSrc=function(){n.debug("newpaymentmethodController/confirmNewPymtSrc/entry",t.selectedPymtSrc),t.callback.resolve(t.selectedPymtSrc),e.closePopup(),n.debug("newpaymentmethodController/confirmNewPymtSrc/exit")}}angular.module("app").controller("askfornewpymtsrcController",e),e.$inject=["$scope","items","$log","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{accountId:t.accountId,brand:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){var t={};return angular.isDefined(e.paymentMethods)&&(t={paymentMethods:e.paymentMethods,totalPaymentMethods:e.paymentMethods.length}),angular.merge({error_code:e.status.code,error_message:e.status.message,error_type:e.status.type},t)}},i={url:n.my_account.pymt_method.get_pymt_method,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","10201","30020"],koCodes:{},okkoCodes:{}};t.register("getPaymentMethod",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$rootScope","$deviceService",function(e,t,n,a){var i={errorConfig:{10200:"ERROR_1985661",10201:"ERROR_1985157"},forward:function(e){return{accountId:e.accountId}},backward:function(e){var i={total_payment_source:0,paymentMethods:[]};return i.error_code=e.error_code,i.error_message=e.error_message,i.error_type=e.error_type,angular.isDefined(e.paymentMethods)&&(i.total_payment_source=e.paymentMethods.length,angular.forEach(e.paymentMethods,(function(e){if("LOYALTY_PTS"!=e.type){var r=e.creditCard?e.creditCard.month:"";angular.forEach(n.months,(function(e){angular.isDefined(r)&&r==e.id&&(r=e)}));var o="DIGITAL_WALLET"===e.type?e.digitalWallet.service:"CREDITCARD"===e.type?e.creditCard.type:e.type,s={id:e.id,number_mask:e.creditCard?e.creditCard.cardNumber:"",nick_name:angular.isDefined(e.nickName)?e.nickName:"",email_mask:"DIGITAL_WALLET"===e.type&&e.digitalWallet.name?e.digitalWallet.name:"",type:o,expiration_month:r,expiration_year:e.creditCard?e.creditCard.year:"",enrolled:!!angular.isDefined(e.enrolled)&&e.enrolled,default_pymt_src:!!angular.isDefined(e.isDefault)&&e.isDefault,billing_address:{firstname:e.firstName,lastname:e.lastName},billing_zipcode:e.billingAddress&&e.billingAddress.zipcode?e.billingAddress.zipcode:void 0,devices:[],cc_last_four:"DIGITAL_WALLET"!==e.type&&e.creditCard?"*"+e.creditCard.cardNumber.substring(e.creditCard.cardNumber.length-4):"DIGITAL_WALLET"===e.type&&angular.isDefined(e.digitalWallet)?e.digitalWallet.name:"",pymtlastfour:e.creditCard?e.creditCard.cardNumber.substring(e.creditCard.cardNumber.length-4)+"":"",show_details:!1,filterType:o};angular.isDefined(e.billingAddress)&&(s.billing_address.address1=e.billingAddress.addressLine1?e.billingAddress.addressLine1:void 0,s.billing_address.address2=e.billingAddress.addressLine2?e.billingAddress.addressLine2:void 0,s.billing_address.city=e.billingAddress.city?e.billingAddress.city:void 0,s.billing_address.state=e.billingAddress.stateOrProvince?e.billingAddress.stateOrProvince:void 0,s.billing_address.country=e.billingAddress.country?e.billingAddress.country:void 0,s.billing_address.zip=e.billingAddress.zipcode?e.billingAddress.zipcode:void 0),angular.isDefined(e.routingNumber)&&(s.routingnumber=e.routingNumber),angular.isDefined(e.accountType)&&(s.accounttype=e.accountType,e.filterType=e.accountType),angular.isDefined(s.type)&&(s.type=s.type.toLowerCase(),"american express"==s.type&&(s.type="amex")),angular.forEach(e.devices,(function(e){var n={min_number:t.isMin(e.min)?e.min:void 0,esn:e.esn};s.devices.push(n)})),a.getBanDetails()&&s.id==a.getBanDetails().paymentSourceId&&!s.enrolled&&(s.enrolled=!0),a.getRedemptionDevices()&&a.getRedemptionDevices().length>0&&!s.enrolled&&angular.forEach(a.getRedemptionDevices(),(function(e,t){e.lowbalance_enabled&&s.id==e.ildPaymentSourceId&&(s.enrolled=!0)})),i.paymentMethods.push(s)}}))),i}};e.register("getPaymentMethod",i)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){var a=[{type:n.context,value:n.ach_eligibility}],i={postalAddress:{zipcode:n.default_zipcode}},r={};return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{relatedParties:[{party:{partyID:n.partyida,languageAbility:e.language,partyExtension:[{name:n.partytransactionid,value:n.partytransactionval},{name:n.sourcesystem,value:e.source_system}]},roleType:n.roletypea}],location:i,serviceCategory:a,serviceSpecification:{brand:e.brand},resources:r}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.activation.byop.service_qualification_url,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("pymtacheligibility",r)}])})(),(function(){var e={errorConfig:{999:"ERROR_1985646",10018:"ERROR_1985639"},forward:function(e){return{}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=e.response.response;return angular.isDefined(n)&&angular.isDefined(n.serviceCharacteristics)&&angular.forEach(n.serviceCharacteristics,(function(e,n){"achAPP"==e.name&&(t.show_achapp=e.value),"achBilling"==e.name&&(t.show_achbilling=e.value)})),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("pymtacheligibility",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{account_id:t.account_id,brandName:e.brand,
sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={paymentSource:e.response.paymentSources,total_payment_source:e.response.totalPaymentSource}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={url:n.my_account.pymt_method.get_pymt_src,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","10201","30020"],koCodes:{},okkoCodes:{}};t.register("payments",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$appConstants","$rootScope","$deviceService",function(e,t,n,a,i){var r={errorConfig:{10200:"ERROR_1985661",10201:"ERROR_1985157"},forward:function(e){return{account_id:e.account_id}},backward:function(e){var n={};return n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,n.total_payment_source=e.total_payment_source,n.pymtsources=[],angular.isDefined(e.paymentSource)&&angular.forEach(e.paymentSource,(function(e,r){var o,s;angular.isDefined(e.expirationDate)&&(o=angular.isDefined(e.expirationDate.expirationMonth)?e.expirationDate.expirationMonth:"",s=angular.isDefined(e.expirationDate.expirationYear)?parseInt(e.expirationDate.expirationYear):""),angular.forEach(a.months,(function(e,t){angular.isDefined(o)&&o==e.id&&(o=e)}));var c;c=angular.isDefined(e.paymentSourceType)?e.paymentSourceType:"";var l={id:e.paymentSourceId,number_mask:e.paymentSourceNumberMask,nick_name:"null"==e.paymentSourceNickName?"":e.paymentSourceNickName,type:c,expiration_month:o,expiration_year:s,enrolled:!!angular.isDefined(e.enrolled)&&e.enrolled,default_pymt_src:e.defaultPaymentSource,billing_address:{firstname:e.accountHolderName.firstName,lastname:e.accountHolderName.lastName,address1:e.address?e.address.addressLine1:void 0,address2:e.address?e.address.addressLine2:void 0,city:e.address?e.address.city:void 0,state:e.address?e.address.state:void 0,country:e.address?e.address.country:void 0,zip:e.address?e.address.zipCode:void 0},billing_zipcode:e.billingZipCode,devices:[],cc_last_four:"*"+e.paymentSourceNumberMask.substring(e.paymentSourceNumberMask.length-4),pymtlastfour:e.paymentSourceNumberMask.substring(e.paymentSourceNumberMask.length-4)+"",show_details:!1,filterType:e.paymentSourceType};angular.isDefined(e.routingNumber)&&(l.routingnumber=e.routingNumber),angular.isDefined(e.accountType)&&(l.accounttype=e.accountType,e.filterType=e.accountType),angular.isDefined(l.type)&&(l.type=l.type.toLowerCase(),"american express"==l.type&&(l.type="amex")),angular.forEach(e.devices,(function(e,n){var a={min_number:t.isMin(e.min)?e.min:void 0,esn:e.esn};l.devices.push(a)})),i.getBanDetails()&&l.id==i.getBanDetails().paymentSourceId&&!l.enrolled&&(l.enrolled=!0),i.getRedemptionDevices()&&i.getRedemptionDevices().length>0&&!l.enrolled&&angular.forEach(i.getRedemptionDevices(),(function(e,t){e.lowbalance_enabled&&l.id==e.ildPaymentSourceId&&(l.enrolled=!0)})),n.pymtsources.push(l)})),n}};e.register("payments",r)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{account_id:t.account_id,background:t.background,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={contact:e.response.contactInformation,login:e.response.loginInformation,commpref:e.response.customerAccount,offers:!!angular.isDefined(e.response.offers)&&"true"===e.response.offers,savings:!!angular.isDefined(e.response.savings)&&"true"===e.response.savings}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{background:t.background,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={secquestions:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={accountprofile:{url:n.my_account.profile.acc_profile,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}},secquestions:{url:n.my_account.profile.secquestions,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["100"],koCodes:["10100","11400"],okkoCodes:{}}};t.register("profile",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$dateParser",function(e,t){var n={errorConfig:{10200:"ERROR_1985661"},forward:function(e){return{account_id:e.account_id,background:e.background}},backward:function(e){var n={};return n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,n.billingProfileDummy=!1,angular.isDefined(e.login)&&(n.login={email:e.login.email}),angular.isDefined(e.contact)&&(n.contact={firstname:e.contact.firstName,lastname:e.contact.lastName,phone:e.contact.contactPhoneNumber,address1:e.contact.address1,address2:e.contact.address2,city:e.contact.city,state:e.contact.state,zip:e.contact.zipcode,security_code:e.contact.securityCode,security_question:e.contact.securityQuestion,offers:e.offers,savings:e.savings,zipcode:e.contact.zipcode},angular.isUndefined(n.login)?n.login={security_code:e.contact.securityCode,security_question:e.contact.securityQuestion}:(n.login.security_code=e.contact.securityCode,n.login.security_question=e.contact.securityQuestion),n.contact.dob_available=!0,angular.isUndefined(t(e.contact.dateOfBirth,"MM-dd-yyyy"))?n.contact.dob_available=!1:n.contact.dob=t(e.contact.dateOfBirth,"MM-dd-yyyy"),n.contact&&n.contact.firstname&&!isNaN(n.contact.firstname)&&!n.billingProfileDummy&&(n.billingProfileDummy=!0),n.contact&&n.contact.lastname&&!isNaN(n.contact.lastname)&&!n.billingProfileDummy&&(n.billingProfileDummy=!0),n.contact&&n.contact.address1&&angular.equals("No Address Provided".toUpperCase(),n.contact.address1.toUpperCase())&&!n.billingProfileDummy&&(n.billingProfileDummy=!0)),angular.isDefined(e.commpref)&&e.commpref.length>0&&(n.commpref={esn:e.commpref[0].Products,acc:e.commpref[0].contactMedium}),n}};e.register("profile",n)}])})(),(function(){var e={errorConfig:{11300:"ERROR_1985161"},forward:function(e){return{background:e.background}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.secquestions=[],angular.isDefined(e.secquestions.securityQuestions)&&angular.forEach(e.secquestions.securityQuestions,(function(e,n){t.secquestions.push({question_id:e.securityQuestionId,question_text:e.securityQuestionText})})),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("secquestions",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{relatedParties:[{party:{partyID:a.partyida,languageAbility:e.language,partyExtension:[{name:a.partytransactionid,value:a.partytransactionval},{name:a.sourcesystem,value:e.source_system}]},roleType:a.roletypeint}],loginInformation:{email:t.loginemailid},customerAccount:[{products:t.customerProducts,contactMedium:t.customerAccountContact}]}}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={url:n.my_account.profile.update_commpreferences,contentType:"application/json",httpMethod:"PUT",transform:i,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["10200","11000","11001"],okkoCodes:{}};t.register("updatecommpref",r)}])})(),(function(){angular.module("app").run(["$voMapConfig",function(e){var t={errorConfig:{999:"RDSG_5436"},forward:function(e){var t={};return t.customerProducts=e.customer_products,t.customerAccountContact=e.customer_account_contact,t.loginemailid=e.login_emailid,t},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};e.register("updatecommpref",t)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},accountId:t.account_id,request:{email:t.email,password:t.password,newPassword:t.new_password,securityPin:t.security_pin,securityQuestionId:angular.isDefined(t.question_id)?parseInt(t.question_id):t.question_id,securityAnswer:t.security_answer}}},backward:function(e){var t={};return t.error_code=e.status.code,t.error_message=e.status.description,t.error_type=e.status.type,angular.isDefined(e.response)&&(t.svc_response=e.response),t}},i={url:n.my_account.profile.update_login,contentType:"application/json",httpMethod:"PUT",transform:a,oAuthGrants:["RO","NS","CCP"],templateVars:["accountId"],okCodes:["0"],koCodes:["10200","11000","11001"],okkoCodes:{}};t.register("updlogininfo",i)}])})(),(function(){var e={errorConfig:{10200:"ERROR_1985661",11000:"ERROR_1985147",11001:"ERROR_1985660",20100:"ERROR_1985660",89237:"ERROR_1985662"},forward:function(e){return{account_id:e.account_id,email:e.email,password:e.password,new_password:e.new_password,security_pin:e.security_pin,question_id:e.question_id,security_answer:e.security_answer}},backward:function(e){return e}};angular.module("app").run(["$voMapConfig",function(t){t.register("updlogininfo",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},accountId:t.account_id,request:{firstName:t.first_name,lastName:t.last_name,dateOfBirth:t.dob,contactPhoneNumber:t.phone,address1:t.address1,address2:t.address2,city:t.city,state:t.state,password:t.password,zipcode:t.zipcode,offers:t.offers,savings:t.savings}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={url:n.my_account.profile.update_acc,contentType:"application/json",httpMethod:"PUT",transform:a,oAuthGrants:["RO","NS","CCP"],templateVars:["accountId"],okCodes:["0"],koCodes:["10200","11000","11001"],okkoCodes:{}};t.register("updprofile",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$filter",function(e,t){var n={errorConfig:{10200:"ERROR_1985661",11000:"ERROR_1985147",11001:"ERROR_1985660",20100:"ERROR_1985660",20300:"ERROR_1985653"},forward:function(e){return{account_id:e.account_id,first_name:e.first_name,last_name:e.last_name,dob:t("date")(e.dob,"MM-dd-yyyy"),phone:e.phone,address1:e.address1,address2:e.address2,city:e.city,state:e.state,password:e.password,zipcode:e.zipcode,offers:e.offers,savings:e.savings}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};e.register("updprofile",n)}])})(),(function(){"use strict";function e(e,t,n,a,i,r){function o(e){t.debug("Opening popup Password sent succcessfull ");r.open({animation:!1,templateUrl:"app/views/myaccount/accountrecovery/forgotpassword/passwordsent_view_myac_103.2.html",controller:"passwordsentController",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{username:e}}}})}e.data=i.getAccountDetails().getAccountStatusDetails()?i.getAccountDetails().getAccountStatusDetails():{},e.forgotPassword=function(){t.debug("$scope.data.email --\x3e "+e.data.email),t.debug("$scope.data.min --\x3e "+e.data.min),n.isNullOrEmpty(e.data.email)?n.isNullOrEmpty(e.data.min)||(a.clearError(e),i.forgotPassword({data:e.data.min}).then((function(n){t.debug("forgotPassword::$accountService.forgotPassword",n),o(e.data.min)})).catch((function(n){t.warn(n),a.handleError(n,e)}))):(a.clearError(e),i.forgotPassword({data:e.data.email}).then((function(n){t.debug("forgotPassword::$accountService.forgotPassword",n),o(e.data.email)})).catch((function(n){t.warn(n),a.handleError(n,e)})))}}angular.module("app").controller("forgotPasswordCtrl",e),e.$inject=["$scope","$log","$utils","$errorHandler","$accountService","$uibModal"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{email:t.email},email:t.email}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{min:t.min},min:t.min}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={forgotpassword:{url:n.my_account.forgot_password.url,contentType:"application/json",httpMethod:"PUT",transform:a,oAuthGrants:["CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},forgotpasswordmin:{url:n.my_account.forgot_password.url_min,contentType:"application/json",httpMethod:"PUT",transform:i,oAuthGrants:["CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("forgotpassword",r)}])})(),(function(){var e={errorConfig:{10200:"ERROR_1985661",10300:"ERROR_1985130",20300:"ERROR_1985653"},forward:function(e){return{email:e.email,min:e.min}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("forgotpassword",e)}])})(),(function(){function e(e,t,n,a,i,r,o){e.closePopup=function(){t.debug("PasswordResetConfController::closePopup"),n.dismiss("cancel"),i.redirect(r.myaccount.forgotpassword.loginpage)}}angular.module("app").controller("passwordresetconfController",e),e.$inject=["$scope","$log","$uibModalInstance","$errorHandler","$done","$appRoutes","$accountService"]})(),(function(){function e(e,t,n,a,i,r,o,s){e.userinfo=i,e.closePopup=function(){t.debug("PasswordSentController::closePopup"),n.dismiss("cancel")},e.sendPasswordToEmail=function(){t.debug("PasswordSentController::sendPasswordToEmail"),a.clearError(e),s.forgotPassword({email:e.userinfo.username}).then((function(n){t.debug("$accountService.forgotPassword::success",n),e.error_message="MYAC_99798"})).catch((function(n){t.warn("Error caling service !!! ",n),a.handleError(n,e)}))}}angular.module("app").controller("passwordsentController",e),e.$inject=["$scope","$log","$uibModalInstance","$errorHandler","resolvParam","$done","$appRoutes","$accountService"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,pwdResetToken:t.pwdResetToken}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{pwdResetToken:t.pwdResetToken,newPassword:t.newPassword}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={validatetoken:{url:n.my_account.forgot_password.validatetoken,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},resetpassword:{url:n.my_account.forgot_password.resetpassword,contentType:"application/json",httpMethod:"PUT",transform:i,oAuthGrants:["CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("resetpassword",r)}])})(),(function(){var e={errorConfig:{"-10":"ERROR_1985661",1:"ERROR_1985902",2:"ERROR_1985901"},forward:function(e){return{pwdResetToken:e.pwdResetToken,newPassword:e.newPassword}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("resetpassword",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{activationZipCode:t.zip_code},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{securityQuestion:{question:t.question,answer:t.answer}},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},o={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{securityPin:t.securitypin},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},s={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{securityPin:t.securitypin,securityQuestion:{question:t.question,answer:t.answer}},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},c={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{verificationCode:t.verification_code,activationZipCode:t.zip_code},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},l={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{paymentSource:t.payment_source},min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},d={accountStatus:{url:n.my_account.forgot_username.accountStatus,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},verifysecuritypin:{url:n.my_account.forgot_username.verifysecuritypin,contentType:"application/json",httpMethod:"POST",transform:o,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},verifyzipcode:{url:n.my_account.forgot_username.verifyzipcode,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},verifysecurityanswer:{url:n.my_account.forgot_username.verifysecurityanswer,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},verifysecuritypinorquestion:{url:n.my_account.forgot_username.verifysecuritypinorquestion,contentType:"application/json",httpMethod:"POST",transform:s,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},confirmverificationcode:{url:n.my_account.forgot_username.confirmverificationcode,contentType:"application/json",httpMethod:"POST",transform:c,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},verifypaymentsource:{url:n.my_account.forgot_username.verifypaymentsource,contentType:"application/json",httpMethod:"POST",transform:l,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("accountrecovery",d)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985146",12400:"ERROR_1985653",20300:"ERROR_1985653"},forward:function(e){return{min:e.min,securitypin:e.security_pin,answer:e.answer,question:e.question,zip_code:e.zipcode,verification_code:e.verification_code,payment_source:e.payment_source}},backward:function(e){var t={svc_response:{}};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(angular.isDefined(e.response.accountId)&&(t.svc_response.accountId=e.response.accountId),angular.isDefined(e.response.email)&&(t.svc_response.email=e.response.email),angular.isDefined(e.response.accountStatus)&&(t.svc_response.accountStatus=e.response.accountStatus),angular.isDefined(e.response.checkPoints)&&(t.svc_response.checkPoints=e.response.checkPoints),angular.isDefined(e.response.securityPin)&&(t.svc_response.securityPin=e.response.securityPin),angular.isDefined(e.response.securityQuestion)&&(t.svc_response.securityQuestion=e.response.securityQuestion),angular.isDefined(e.response.paymentSource)&&(t.svc_response.paymentSource=e.response.paymentSource)),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("forgotusername",e)}])})(),(function(){function e(e,t,n,a,i,r,o,s,c,l){e.data={},e.closePopup=function(){r.dismiss("cancel")},e.sendMaskedMessage=function(){r.dismiss("cancel"),e.sendMessage(e.data.min)}}angular.module("app").controller("passwordsentController",e),e.$inject=["$scope","$userService","$q","$rootScope","$log","$uibModalInstance","$location","$errorHandler","$serviceUtils","$accountService"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p){e.data={active_devices:o.devices,filtered_devices:o.devices,minusedforrecovery:"",recoveryInfo:o,device:{esn:"",min:""}},e.init=function(){var n=[];e.data.active_devices=o.devices,angular.forEach(e.data.active_devices,(function(e,a){t.info("Init method - ",e.deviceType),s.isTextMessageCapableDevice(e.deviceType)&&n.push(e)})),t.info("Init method - ",n),e.data.filtered_devices=n},e.sendMessage=function(a){if(angular.isDefined(e.data.recoveryInfo)){t.debug("last4Esn --\x3e ",e.data.device.esn),t.debug("last4Min --\x3e ",e.data.device.min);var o="";s.isEsn(e.data.recoveryInfo.identifier)?o=u.esn:s.isMin(e.data.recoveryInfo.identifier)?o=u.min:(s.isSim(e.data.recoveryInfo.identifier)||s.isByopSim(e.data.recoveryInfo.identifier))&&(o=u.simtype),d.sendVerificationCode({min:a,initialrequestvalue:e.data.recoveryInfo.identifier,type:o}).then((function(e){p.getAccountinfo().minforrecovery=a,n.isTextMessageCapableDevice(a)?(t.debug("device verification code requested successfully sriguru1"),i.redirect(r.myaccount.getusername.dummymin.verifycode,{showZipCodeOption:!1})):(t.debug("device verification code requested successfully sriguru2"),i.redirect(r.myaccount.getusername.dummymin.verifycode)),t.debug("device verification code requested successfully")})).catch((function(e){t.warn("device verification code request failed",e)}))}},e.sendVerificationCode=function(){t.debug("Inside send Verification Code ",e.data.recoveryInfo);l.open({animation:!1,templateUrl:"app/views/myaccount/accountrecovery/selectactivedevice/collectmin_view.html",controller:"passwordsentController",size:"md",windowTopClass:"tf-modal",scope:e,resolve:{resolvParam:function(){return[]}}})}}angular.module("app").controller("selectActiveDeviceCtrl",e),e.$inject=["$scope","$log","$accountService","$errorHandler","$done","$appRoutes","_data","$utils","$location","$uibModal","$deviceService","$appConstants","$devicesCartServices"]})(),(function(){angular.module("app").run(["$appConfig","$appConstants","$svcConfig","$serviceUriConfig",function(e,t,n,a){var i={forward:function(n){return{customer:{products:[{productSerialNumber:n.esn,productCategory:t.handset}]},relatedParties:[{party:{partyID:t.partyida,languageAbility:e.language,partyExtension:[{name:t.brand,value:e.brand},{name:t.sourcesystem,value:e.source_system}]},roleType:t.roletypeint}],accountId:n.accountId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={url:a.customer_mgmt.adddevicetoaccount,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","-1"],koCodes:{},okkoCodes:{}};n.register("adddevicetoaccount",r)}])})(),(function(){angular.module("app").run(["$voMapConfig",function(e){var t={errorConfig:{},forward:function(e){return{esn:e.esn,accountId:e.accountId}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};e.register("adddevicetoaccount",t)}])})(),(function(){"use strict";angular.module("app").component("addDeviceCollectEsnMin",{templateUrl:"app/views/myaccount/adddevice/collectesnormin/collectesnormin_view_myac_112.2.html",bindings:{onMin:"&",onEsnOrSim:"&"},controller:["$scope",function(e){var t=this;t.submit=function(){angular.isDefined(t.data.esn_or_sim)?t.onEsnOrSim({esn_or_sim:t.data.esn_or_sim}):angular.isDefined(t.data.min)&&t.onMin({min:t.data.min})}}]})})(),(function(){"use strict";angular.module("app").component("addDeviceCollectStatus",{templateUrl:"app/views/myaccount/adddevice/collectdevicestatus/collectdevicestatus_view_myac_112.3.html",bindings:{activeDevice:"&",inActiveDevice:"&"}})})(),(function(){"use strict";angular.module("app").component("addDeviceCollectEsn",{templateUrl:"app/views/myaccount/adddevice/collectesn/collectesn_view.html",bindings:{onEsnOrSim:"&",min:"="},controller:["$scope",function(e){var t=this;t.submit=function(){angular.isDefined(t.data.esn_or_sim)&&t.onEsnOrSim({esn_or_sim:t.data.esn_or_sim})}}]})})(),(function(){"use strict";angular.module("app").component("addDeviceCollectLastFour",{templateUrl:"app/views/myaccount/adddevice/collectlastfour/collectlastfour_view_myac_112.2.html",bindings:{onLastSix:"&",data:"="},controller:["$scope",function(e){var t=this;t.submit=function(){t.onLastSix({esn_or_sim:t.data.last_four})}}]})})(),(function(){"use strict";angular.module("app").component("addDeviceCollectMin",{templateUrl:"app/views/myaccount/adddevice/collectmin/collectmin_view.html",bindings:{onMin:"&",esnOrSim:"="},controller:["$scope",function(e){var t=this;t.submit=function(){angular.isDefined(t.data.min)&&t.onMin({min:t.data.min})}}]})})(),(function(){"use strict";angular.module("app").component("addDeviceCollectPin",{templateUrl:"app/views/myaccount/adddevice/collectpin/collectpin_view.html",bindings:{onPin:"&",onCancel:"&"},controller:["$scope",function(e){var t=this;t.submit=function(){angular.isDefined(t.data.security_pin)&&t.onPin({pin:t.data.security_pin})}}]})})(),(function(){"use strict";angular.module("app").component("addDeviceConfirmMsg",{templateUrl:"app/views/myaccount/adddevice/confirmmsg/confirmmsg_view.html",bindings:{onSubmit:"&"},controller:["$scope",function(e){var t=this;t.submit=function(){t.onSubmit()}}]})})(),(function(){"use strict";function e(e,t,n,a){e.data={eventName:n},e.close=function(){t.dismiss("cancel")},e.submit=function(){$log.debug("collectSecurityPinCtrl",e.data),a.$broadcast(e.data.eventName.collectPin,e.data.pin),e.close()}}angular.module("app").controller("collectSecurityPinCtrl",e),e.$inject=["$scope","$uibModalInstance","callback","$rootScope"]})(),(function(){angular.module("app").component("createaccountForm",{templateUrl:"app/views/myaccount/createaccount/createaccountform/createaccountform_view.html",bindings:{data:"=",collectUserDetails:"&",fbsignup:"&"},controller:"CreateAccountFormController"}),angular.module("app").controller("CreateAccountFormController",["$scope","$log","$voMapConfig","$errorHandler","$cookieService","$filter","$accountService","$uibModal","$userService","$actreactportUpgradeService","$deviceService","$location","$routeParams","$facebookService","$utils","$q","$devicesCartServices","$done","$appRoutes",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_){function y(e){t.debug("accountresponseview $deviceService.getSelectedDevice() !!!!!!!!!!!!!!!! ");s.open({animation:!1,templateUrl:"app/views/myaccount/createaccount/createaccountresponse/createaccountresponse_view_myac_104.4.html",controller:"createAcctResponseController",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{items:function(){return{email:e.user_email,answere:e.user_pwd,chkRedirect:e.redirect,chkRedirectcont:e.redirectcontinue,fbsignup:e.fbsignup}}}})}var b;e.data={myacct:{},commpref:{offers:!0,savings:!0}},e.createuseracct=function(){if(a.clearError(e),e.$ctrl.data.myacct.user_pwd!=e.$ctrl.data.myacct.conf_user_pwd)return b=g.translateError({error_code:"101"},n.get("createuseracct")),void a.handleError(b,e);e.$ctrl.data.myacct.formattedDate=r("date")(new Date(e.$ctrl.data.myacct.dob),"MM-dd-yyyy"),t.debug("formatted date",e.$ctrl.data.myacct.formattedDate),i.setOpinionLabCookie("","",e.$ctrl.data.myacct.user_email),o.CreateAccountWithValidation({device:e.$ctrl.data.device,email:e.$ctrl.data.myacct.user_email,password:e.$ctrl.data.myacct.user_pwd,dateOfBirth:e.$ctrl.data.myacct.formattedDate,securityCode:e.$ctrl.data.myacct.user_pin,communicationPreferences:e.data.commpref}).then((function(n){t.debug("CreateAccount service returned ",e.$ctrl.data),e.$ctrl.data.myacct.fbsignup=!1,y(e.$ctrl.data.myacct)})).catch((function(n){t.warn(n),a.handleError(n,e)}))},e.fbsignup=function(){a.clearError(e),t.debug("Inside fbsignup::"),o.signUpWithFB().then((function(n){a.clearError(e),t.debug("FB link account service returned ",n),n.status?(t.debug("link account service returned ::FB login Succesfull"),e.$ctrl.data.myacct.fbsignup=!0,y(e.$ctrl.data.myacct)):(e.$ctrl.data.myacct.fbsignup=!0,e.$ctrl.data.myacct.user_email=n.fb_email,t.debug("Redirecting to my account flow with email "+e.$ctrl.data.myacct.user_email))})).catch((function(n){t.warn(n),e.loginerror=n,a.handleError(n,e)}))},e.fblogin=function(){a.clearError(e),v.verifyfblink().then((function(i){a.clearError(e),t.debug("link account service returned ",i),i.status?(e.$ctrl.data.myacct={},e.$ctrl.data.myacct.user_email=c.getEmail(),e.postLogin()):(b=g.translateError({error_code:"10202"},n.get("accountdevices")),e.loginerror=b,a.handleError(b,e))})).catch((function(n){t.warn(n),e.loginerror=n,a.handleError(n,e)}))},e.postLogin=function(){i.setOpinionLabCookie("","",e.$ctrl.data.myacct.user_email),angular.isDefined(p.redirect)?(t.debug("Login !!! $deviceService.getSelectedDevice().execution_plan ",d.getSelectedDevice()),d.isActivationFlow()?(t.debug("Login Activation flow:: Going for Add more line verification"),e.maxActiveReached().then((function(n){t.debug("maxActiveReached retuned",n),"login"==n?h.redirect(_.dashboard):"proceed"==n?S():e.createAccMode()}))):u.url(p.redirect.replace("!","/"))):(h.redirect(_.dashboard),e.selectItem("myaccount"))},e.maxActiveReached=function(){var n=m.defer();return f.accountAcceptsLines({option:d.getSelectedDevice().esn}).then((function(e){if(t.debug("$devicesCartServices.accountAcceptsLines retuned",e),e.status)n.resolve("proceed");else{s.open({animation:!1,templateUrl:"app/views/myaccount/createaccount/maxdevice/maxactivepopup_view.html",controller:"maxActivePopupController",size:"md",backdrop:"static",windowTopClass:"tf-modal",keyboard:!1,resolve:{callback:n}})}})).catch((function(n){t.warn(n),
a.handleError(e.loginerror,e)})),n.promise};var S=function(){t.debug("Inside createuseractcontroller::processActivation"),d.getSelectedDevice().servicepin||d.getSelectedDevice().noPinRequired?(t.debug("Pin is present going for Pin activation"),D()):(t.debug("Going to checkout as it purchase flow"),h.redirect(_.activation.checkout))},D=function(n){t.debug("Pin is present going for Pin activation"),l.provisionDeviceWithPin(n).then((function(e){"PORT"===e.flow?(t.debug("Activation sucessfuly done !!  PORT",e),h.redirect(_.activation.internalportflow.upgradeinstructions)):"PIN_CHECKOUT"===e.flow?u.url("/activation/pincheckout"):(t.debug("Activation sucessfuly done !! ACT/REACT ",e),h.redirect(_.activation.pininstructions))})).catch((function(n){t.warn(n),a.handleError(n,e)}))}}])})(),(function(){angular.module("app").component("loginForm",{templateUrl:"app/views/myaccount/createaccount/loginform/loginform_view.html",bindings:{view:"=",data:"=",collectUsername:"&",collectPassword:"&",fblogin:"&",error:"="},controller:"LoginFormController"}),angular.module("app").controller("LoginFormController",["$scope","$errorHandler","$utils","$accountService","$uibModal","$appConstants","$userService","$devicesCartServices","$actreactportUpgradeService","$deviceService","$location","$cookieService","$routeParams","$facebookService","$q","$cartService","$appRoutes","$done","$voMapConfig","$cookies","$authService","$appConfig","$reCaptchaService",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b,S,D){function C(e){$log.debug("accountresponseview $deviceService.getSelectedDevice() !!!!!!!!!!!!!!!! "),$log.debug(l.getSelectedDevice());i.open({animation:!1,templateUrl:"app/views/myaccount/createaccount/createaccountresponse/createaccountresponse_view_myac_104.4.html",controller:"createAcctResponseController",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{items:function(){return{email:e.user_email,answere:e.user_pwd,chkRedirect:e.redirect,chkRedirectcont:e.redirectcontinue,fbsignup:e.fbsignup}}}})}"TOTAL_WIRELESS"===S.brand&&(e.sitekey=S.recaptcha.sitekey,e.secretkey=S.recaptcha.secretkey,e.brand=S.brand,"false"==sessionStorage.getItem("$disablecaptcha")?e.skiprecaptcha=!1:e.skiprecaptcha=!0),e.checkAccountStatus=function(){if("TOTAL_WIRELESS"===S.brand&&!e.skiprecaptcha){var n=D.getResponse();if(!angular.isDefined(n)||""==n)return e.errMsgRecaptcha={error:"Please complete the reCAPTCHA challenge"},!1}if(e.pinReservedRedirectScenario=!1,S.features.groupbased){var i=l.getSelectedDevice();i&&angular.isDefined(i.masterEsnInfo)&&(e.pinReservedRedirectScenario=!0)}t.clearError(e),$log.debug(e.$ctrl.view,"outside checkAccountStatus method --\x3e ",e.$ctrl.data),$log.debug("Inside LoginFormController method --\x3e ",e.$ctrl.view.data),a.accountRecoveryStatus({option:e.$ctrl.view.data.username}).then((function(t){$log.debug("LoginFormController::accountRecoveryStatus response",t),t.isValidAccount?(e.$ctrl.view.esnCollectionMode=!1,e.$ctrl.view.passwordCollectionMode=!0):t.isDummyAccount&&(t.isSecurityPinAvailable||t.isSecurityQuestionAvailable||t.isSecurityQuestionAndPinAvailable?($log.debug("LoginFormController::Going to accountcheckpoints "),h.redirect(f.myaccount.getusername.dummymin.secpinanswer)):t.isActiveDevicesAvaiable?($log.debug("LoginFormController::Going to displayActiveDevices "),h.redirect(f.myaccount.getusername.dummymin.actdvcavailable)):t.isVerifyPossessionCode?($log.debug("LoginFormController::Going to verifyPossessionCode  -- ",a.isTextMessageCapableDevice(e.$ctrl.view.data.username)),a.isTextMessageCapableDevice(e.$ctrl.view.data.username)?h.redirect(f.myaccount.getusername.dummymin.verifycode,{showZipCodeOption:!0}):h.redirect(f.myaccount.getusername.dummymin.verifyzipcode)):($log.debug("Going to navUpdateAccount "),h.redirect(f.myaccount.getusername.dummymin.updateaccount)))})).catch((function(n){$log.warn("LoginFormController/checkAccountStatus/reject",n),t.handleError(n,e)}))},e.loginEvent=function(){t.clearError(e),o.userLogin({email:e.$ctrl.view.data.username,password:e.$ctrl.view.data.password}).then((function(n){if(angular.isDefined(l.getSelectedDevice())&&angular.isDefined(l.getSelectedDevice().accountId)&&angular.isDefined(o.getAccountId())&&!angular.equals(l.getSelectedDevice().accountStatus,r.dummy_account)&&l.getSelectedDevice().accountId!==o.getAccountId()){o.emptyDetails(),o.noUserLogin();var a={error_translate:"RDSG_5132"};return $log.warn(a),e.loginerror=a,void t.handleError(e.loginerror,e)}t.clearError(e),$log.debug("Login Success!!");var i=new Date((new Date).setFullYear((new Date).getFullYear()+10));u.setCookie("tfUserLoggedin",i),o.setEmail(e.$ctrl.view.data.username),$log.debug("email->",o.getEmail()),console.log("rons token from api",b.getROToken()),$log.debug("Keep me signed in",e.$ctrl.view.data);var s=new Date(b.getROToken().expiry_date);y.putObject("user-logged-in",{user:e.$ctrl.view.data.username},{expires:s}),e.$ctrl.view.data.keepmeloggedin?($log.debug("loginController::login::Response::",n),o.getRoNsToken({email:e.$ctrl.view.data.username,password:e.$ctrl.view.data.password}).then((function(t){e.pinReservedRedirectScenario?e.sharedPinRedirectionLogic():e.postLogin()}))):(e.pinReservedRedirectScenario?e.sharedPinRedirectionLogic():e.postLogin(),o.disableKeepMeSignedIn())})).catch((function(n){$log.warn(n),e.loginerror=n,t.handleError(e.loginerror,e)}))},e.forgotPasswordAction=function(e){if($log.info("$scope.data.email --\x3e "+e),n.isNullOrEmpty(e)){var r={error_code:"1005",error_message:"",error_translate:"ERROR_1985884",error_type:"ERROR_1985884"};t.handleError(r,e)}else a.forgotPassword({data:e}).then((function(e){i.open({animation:!1,templateUrl:"app/views/myaccount/accountrecovery/forgotpassword/passwordsent_view_myac_103.2.html",controller:"passwordsentController",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return[]}}})})).catch((function(n){$log.warn(n),t.handleError(n,e)}))},e.postLogin=function(){u.setOpinionLabCookie("","",e.$ctrl.view.data.username),l.getRoute()?(d.path(l.getRoute()),l.clearRoute()):angular.isDefined(p.redirect)?($log.debug("Login !!! $deviceService.getSelectedDevice().execution_plan ",l.getSelectedDevice()),l.isActivationFlow()&&!s.isGroupSelectionFlow()?($log.debug("Login Activation flow:: Going for Add more line verification"),e.maxActiveReached().then((function(t){$log.debug("maxActiveReached retuned",t),"login"==t?h.redirect(f.dashboard):"proceed"==t?w():e.createAccMode()}))):s.isGroupSelectionFlow()?(s.setGroupSelectionFlow(!1),l.getAccountDevices({}).then((function(e){console.log("$deviceService.getActiveGroupsAvailable() ",l.getActiveGroupsAvailable()),l.getActiveGroupsAvailable()&&l.getActiveGroupsAvailable().length>0?d.url(p.redirect.replace("!","/")):(generror=n.translateError({error_code:"-10118"},_.get("validatedevice")),$log.debug("generror for service pin plan page ",generror),h.redirect(f.activation.pinserviceplan,"",{error:generror}))})).catch((function(e){deferred.reject(e)}))):d.url(p.redirect.replace("!","/"))):(h.redirect(f.dashboard),e.selectItem("myaccount"))},e.createAccMode=function(){e.createAcctButton=!0,e.hideLoginButton=!1,e.$ctrl.view.esnCollectionMode=!1,e.$ctrl.view.passwordCollectionMode=!1,e.$ctrl.view.createAccountMode=!0},e.fbsignup=function(){t.clearError(e),$log.debug("Inside fbsignup::"),a.signUpWithFB({}).then((function(n){t.clearError(e),$log.debug("FB link account service returned ",n),n.status?($log.debug("link account service returned ::FB login Succesfull"),e.$ctrl.view.data.myacct.fbsignup=!0,C(e.$ctrl.view.data.myacct)):(e.$ctrl.view.data.myacct.fbsignup=!0,e.$ctrl.view.data.myacct.user_email=n.fb_email,$log.debug("Redirecting to my account flow with email "+e.$ctrl.view.data.myacct.user_email))})).catch((function(n){$log.warn(n),e.loginerror=n,t.handleError(n,e)}))},e.maxActiveReached=function(){var n=g.defer();return s.accountAcceptsLines({option:l.getSelectedDevice().esn}).then((function(e){if($log.debug("$devicesCartServices.accountAcceptsLines retuned",e),e.status)n.resolve("proceed");else{i.open({animation:!1,templateUrl:"app/views/myaccount/createaccount/maxdevice/maxactivepopup_view.html",controller:"maxActivePopupController",size:"md",backdrop:"static",windowTopClass:"tf-modal",keyboard:!1,resolve:{callback:n}})}})).catch((function(n){$log.warn(n),t.handleError(e.loginerror,e)})),n.promise},e.fblogin=function(){t.clearError(e),v.verifyfblink().then((function(a){if(t.clearError(e),$log.debug("link account service returned ",a),a.status)e.$ctrl.view.data={},e.$ctrl.view.data.username=o.getEmail(),e.postLogin();else{var i=n.translateError({error_code:"10202"},_.get("accountdevices"));e.loginerror=i,t.handleError(i,e)}})).catch((function(n){$log.warn(n),e.loginerror=n,t.handleError(n,e)}))};var w=function(){$log.debug("Inside createuseractcontroller::processActivation",l.getSelectedDevice()),s.addDummyAcctDevice().then((function(e){if($log.debug("Inside createuseractcontroller::processActivation::addDummyAcctDevice() succesful",e),l.getSelectedDevice().servicepin||l.getSelectedDevice().noPinRequired&&!m.isCartValidForAct())$log.debug("Pin is present going for Pin activation"),I();else{$log.debug("Going to checkout as it purchase flow");var t=l.getSelectedDevice();angular.isDefined(t.hppDetails)?d.url("/asurion/hppplans"):h.redirect(f.activation.checkout)}})).catch((function(n){$log.warn(n),e.loginerror=n,t.handleError(n,e)}))},I=function(n){$log.debug("Pin is present going for Pin activation"),c.provisionDeviceWithPin(n).then((function(e){"PORT"===e.flow?($log.debug("Activation sucessfuly done !!  PORT",e),h.redirect(f.activation.internalportflow.upgradeinstructions)):"PIN_CHECKOUT"===e.flow?d.url("/activation/pincheckout"):($log.debug("Activation sucessfuly done !! ACT/REACT ",e),h.redirect(f.activation.pininstructions))})).catch((function(n){$log.warn(n),t.handleError(n,e)}))};e.sharedPinRedirectionLogic=function(){var a=l.getSelectedDevice().esn,o=l.getSelectedDevice().masterEsnInfo;l.getAccountDevices({}).then((function(d){for(var u,p,v=d.all_devices,g=0;g<v.length;g++)v[g].esn==a&&(u=v[g]),n.checkLastFour(o.masterEsnWithPin,v[g].esn)&&(p=v[g]);u&&p?o.masterEsnGroupId?(c.isMasterEsnInCart(o.masterEsnWithPin)||s.getSavedDevices().push(p),c.stageWithPinOrPlan({groupId:o.masterEsnGroupId}).then((function(e){h.redirect(f.activation.pincheckout)})).catch((function(n){t.handleError(n,e)}))):(l.clearSelectedDevice(),"BYOP"==p.deviceType||p.isPseudo?(l.setSelectedDevice(p),h.redirect(f.activation.byopcollectesn.collectesnvzw,{carrier:"VZW"})):s.validateMultilineDevice({device:p.esn,byopflow:!1}).then((function(e){h.redirect(f.activation.deviceselection.selectdevice.branded.esn)}))):i.open({animation:!1,templateUrl:"app/views/activation/collectphonenumber/shared_pin_validation_poup.html",controller:"sharedpinvalidationpopupcontroller",size:"md",backdrop:"static",windowTopClass:"tf-modal",scope:e,resolve:{action:function(){return r.flow_type.invalid_login_redirect}}})})).catch((function(e){deferred.reject(e)}))}}])})(),(function(){function e(e,t,n,a,i,r){e.data=i,e.closePopup=function(){t.dismiss("cancel")},e.loginEnroll=function(){r.userLogin({email:e.data.email,password:e.data.answere}).then((function(e){n.redirectAugeo().then((function(e){a.info("Augeo redirect success!!")})).catch((function(e){a.error(e)}))}))}}angular.module("app").controller("lrpCreateAcctResponseController",e),e.$inject=["$scope","$uibModalInstance","$lrpEnrollment","$log","items","$userService"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.data={},e.close=function(){t.dismiss("cancel")},e.login=function(){r.emptyCart(),n.clearSelectedDevice(),a.resolve("login"),e.close()},e.createac=function(){i.signout(),a.resolve("createac"),e.close()}}angular.module("app").controller("maxActivePopupController",e),e.$inject=["$scope","$uibModalInstance","$deviceService","callback","$userService","$cartService"]})(),angular.module("app").component("removeDevice",{templateUrl:"app/views/myaccount/dashboard/deletedevice/removedevice_view_myac_108.1.html",bindings:{modalInstance:"=",close:"&",resolve:"="},controller:"removeDeviceCtrl"}),angular.module("app").component("removeDeviceConfirm",{templateUrl:"app/views/myaccount/dashboard/deletedevice/removedevice_confirmation.html",bindings:{modalInstance:"=",close:"&"},controller:"removeDeviceCtrl"}),angular.module("app").component("removeGroupConfirm",{templateUrl:"app/views/myaccount/dashboard/deletedevice/removegroup_confirmation.html",bindings:{modalInstance:"=",close:"&"},controller:"removeDeviceCtrl"}),angular.module("app").controller("removeDeviceCtrl",["$scope","$deviceService","$log","$q",function(e,t,n,a){var i=this;e.remove={},n.debug("removeDevice : removeDeviceCtrl",i),i.resolve&&(e.device=i.resolve.view.device),e.selDevice=t.getSelectedDevice(),e.close=function(){i.close()},e.confirm=function(){angular.isUndefined(e.remove.account)||angular.isDefined(e.remove.account)&&e.remove.account?i.modalInstance.close("account"):i.modalInstance.close("group")}}]),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,accountId:t.account_id?parseInt(t.account_id,10):void 0,esn:t.esn,groupId:t.group_id?t.group_id:void 0}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={esn:{url:n.my_account.dashboard.remove_device,contentType:"application/json",httpMethod:"DELETE",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}},group:{url:n.my_account.dashboard.remove_group,contentType:"application/json",httpMethod:"DELETE",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}},remove_from_group:{url:n.my_account.dashboard.remove_device_from_group,contentType:"application/json",httpMethod:"DELETE",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("deldevice",i)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985122"},forward:function(e){return{account_id:e.account_id?e.account_id:void 0,esn:e.esn,group_id:e.group_id?e.group_id:void 0}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("deldevice",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,accountId:parseInt(t.account_id,10),esn:t.esn,min:t.min}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={esn:{url:n.my_account.wfm.dashboard.remove_device_with_esn,contentType:"application/json",httpMethod:"DELETE",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},min:{url:n.my_account.wfm.dashboard.remove_device_with_min,contentType:"application/json",httpMethod:"DELETE",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},dummyaccount:{url:n.my_account.wfm.dashboard.dummyacount_device_with_esn,contentType:"application/json",httpMethod:"DELETE",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("deldevicefromaccount",r)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985122"},forward:function(e){return{account_id:e.account_id,esn:e.esn,min:e.min}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("deldevicefromaccount",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{relatedParties:[{party:{partyExtension:[{name:a.productserialnumber,value:t.initialrequestvalue,type:t.type}]}}],resource:[{serialNumber:t.min,resourceCategory:a.line,checkPoints:[{type:a.sms}]}]}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{relatedParties:[{party:{partyExtension:[{name:a.productserialnumber}]}}],resource:[{serialNumber:t.min,resourceCategory:t.resourceCategory,checkPoints:[{type:t.type}]}]}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},o={smsVerification:{url:n.my_account.dashboard.sendVerificationCode,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},requestCode:{url:n.my_account.dashboard.sendVerificationCode,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("sendVerificationCode",o)}])})(),(function(){var e={errorConfig:{},forward:function(e){return{min:e.min,initialrequestvalue:e.initialrequestvalue,type:e.type,resourceCategory:e.resourceCategory}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("sendVerificationCode",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{resource:[{serialNumber:t.min,resourceCategory:a.line,checkPointValue:{verificationCode:t.verificationCode,type:a.sms}}]}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={forward:function(t){return{relatedParties:[{party:{languageAbility:e.language,partyExtension:[{name:"source",value:e.source_system},{name:"brand",value:e.brand}],partyID:e.servicePartyId},roleType:"internal"}],resource:[{resourceCategory:t.resourceCategory,serialNumber:t.min,checkPointValue:{type:t.type,verificationCode:t.verificationCode}}]}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},o={smsValidation:{url:n.my_account.dashboard.validateVerificationCode,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},validateCode:{url:n.my_account.dashboard.validateCode,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("validateVerificationCode",o)}])})(),(function(){var e={errorConfig:{},forward:function(e){return{min:e.min,type:e.type,verificationCode:e.verificationCode,resourceCategory:e.resourceCategory}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("validateVerificationCode",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{account_id:t.account_id,esn:t.esn,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={tickets:e.response.tickets}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={esn:{url:n.my_account.dashboard.device_history.get_tickets_esn,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("tkthist",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$dateParser",function(e,t){var n={errorConfig:{10100:"ERROR_1985122",13000:"ERROR_1985637"},forward:function(e){return{account_id:e.account_id,esn:e.esn}},backward:function(e){var n={};return n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,n.tickets=[],angular.isDefined(e.tickets)&&angular.forEach(e.tickets,(function(e,a){n.tickets.push({date:t(e.creationDatetime,"yyyy-MM-dd HH:mm:ss.s"),type:e.type,id:e.Id,status:e.status,description:e.description,title:e.title,device_nickname:e.deviceNickname,show_details:!1})})),n}};e.register("tkthist",n)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{account_id:t.account_id,esn:t.esn,brandName:e.brand,sourceSystem:e.source_system,offset:50,limit:25,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={transactions:e.response.transactions}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={v2:{url:n.my_account.dashboard.device_history.get_trans_history,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("txnshist",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$dateParser","$utils",function(e,t,n){var a={errorConfig:{10100:"ERROR_1985122",11900:"ERROR_1985167"},forward:function(e){return{account_id:e.account_id,esn:e.esn}},backward:function(e){var a={};return a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type,a.transactions=[],angular.isDefined(e.transactions)&&angular.forEach(e.transactions,(function(e,i){var r=void 0;n.isMin(e.device.min)&&(r=e.device.min),a.transactions.push({date:t(e.transactionDate,"MM-dd-yyyy"),type:e.transactionType,id:e.transactionId,planId:e.planId,short_description:e.shortDescription,service_plan:e.servicePlanDescription,device_nick_name:e.device.deviceNickName,device_min:r,show_details:!1})})),a}};e.register("txnshist",a)}])})(),(function(){function e(e,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b){function S(n){e.closePopup(),"lrp"==n?y.redirectAugeo().then((function(e){r.info("Augeo redirect success!!")})).catch((function(e){r.error(e)})):window.location.href=t[n]}e.data=l,e.closePopup=function(){o.dismiss("cancel")},e.gotomyacct=function(){angular.isDefined(e.data.fbsignup)&&e.data.fbsignup?p.getAccountDetails().isRedemptionFlow()||g.isEnrollFlowFlag()?w():d.isActivationFlow()?D():s.url("myaccount/dashboard"):n.userLogin({email:e.data.email,password:e.data.answere}).then((function(n){var a=new Date(h.getROToken().expiry_date);_.putObject("user-logged-in",{user:e.data.email},{expires:a}),r.debug("gotomyacct !!! ",e.data),angular.isDefined(e.data.fblinkaccount)&&e.data.fblinkaccount&&m.linkFBTFAccts({}).then((function(e){r.debug("userLogin:Linking service returned",e),resolve(e)})).catch((function(e){reject(e)}));var i=s.search().flowType;p.getAccountDetails().isRedemptionFlow()?w():d.isActivationFlow()?D():i&&t[i]?S(i):angular.isDefined(g.isHppEnrollFlowFlag())&&g.isHppEnrollFlowFlag()&&"TOTAL_WIRELESS"===b.brand?(e.closePopup(),s.url("checkout")):(e.closePopup(),s.url("myaccount/dashboard"))})).catch((function(t){r.warn(t),c.handleError(t,e),s.url("/myaccount/dashboard")}))},e.loginView=function(){e.closePopup(),s.url("/createaclogin")};var D=function(){r.debug("Inside createAcctResponseController::processActivation",d.getSelectedDevice()),!d.getSelectedDevice().servicepin&&!d.getSelectedDevice().noPinRequired||f.isCartValidForAct()?(e.closePopup(),r.debug("Going to checkout as it purchase flow"),angular.isDefined(g.isHppEnrollFlowFlag())&&g.isHppEnrollFlowFlag()&&"TOTAL_WIRELESS"===b.brand?(e.closePopup(),s.url("checkout")):s.url("/activation/checkout")):(r.debug("Pin is present going for Pin activation"),C())},C=function(t){r.debug("Pin is present going for Pin activation"),u.provisionDeviceWithPin(t).then((function(t){e.closePopup(),"PORT"===t.flow?(r.debug("Activation sucessfuly done !!  PORT",t),s.url("/activation/portupgradeinstructions/PIN_FLOW")):"PIN_CHECKOUT"===t.flow?s.url("/activation/pincheckout"):(r.debug("Activation sucessfuly done !! ACT/REACT ",t),s.url("/activation/pininstructions/PIN_FLOW"))})).catch((function(t){r.warn(t),c.handleError(t,e)}))},w=function(t){r.debug("processRedemptionFlow:Its is redemption checking rout params"),d.getBanDetails()?p.getAccountDetails()&&p.getAccountDetails().getRedemptionRedirection()?(s.url(p.getAccountDetails().getRedemptionRedirection()),p.getAccountDetails().setRedemptionFlow(!1),p.getAccountDetails().setRedemptionRedirection(void 0)):(s.url("checkout"),e.closePopup()):d.getAccountDevices({}).then((function(t){p.getAccountDetails()&&p.getAccountDetails().getRedemptionRedirection()?e.redirectionLogic():(e.closePopup(),s.url("checkout"))})).catch((function(t){r.warn(t),e.loginerror=t,c.handleError(t,e)}))};e.redirectionLogic=function(){r.debug("Inside redirectionLogic method"),g.isEnrollFlowFlag()?v.estimatePlanSelection().then((function(t){c.clearError(e),e.closePopup(),s.url("/checkout")})).catch((function(t){r.warn(t),c.handleError(t,e)})):(s.url(p.getAccountDetails().getRedemptionRedirection()),p.getAccountDetails().setRedemptionFlow(!1),p.getAccountDetails().setRedemptionRedirection(void 0),e.closePopup())}}angular.module("app").controller("createAcctResponseController",e),e.$inject=["$scope","$userService","$q","$rootScope","$log","$uibModalInstance","$location","$errorHandler","items","$deviceService","$actreactportUpgradeService","$accountService","$renewalservices","$devicesCartServices","$facebookService","$cartService","$authService","$cookies","$lrpEnrollment","$appConfig"];var t={};t.mdl="/balanceinquiry/selectdevice",t.lrp="/rewards"})(),angular.module("app").component("manageReservePopup",{templateUrl:"app/views/myaccount/dashboard/manageReservePopup/manageReservePopup_view_myac_117.1.html",bindings:{resolve:"=",close:"&"},controllerAs:"ctrl",controller:["$done","$deviceService","$appRoutes",function(e,t,n){var a=this;a.purchaseCards=function(){$log.debug("Manage Reserve : Purchase Cards"),a.close(),e.redirect(n.myaccount.dashboard.alloptions.purchase)},a.closePop=function(){t.selectDevice(void 0),a.close()}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{account_id:t.account_id,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={devices:e.response.devices,device_count:e.response.totalDevices,billing_account:e.response.billingAccount,isLoyaltyRewardsEnrolled:e.response.isLoyaltyRewardsEnrolled,loyaltyRewardsInfo:e.response.loyaltyRewardsInfo}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{min:t.min,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={devices:e.response.devices,device_count:e.response.totalDevices,billing_account:e.response.billingAccount}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={accountdevices:{url:n.my_account.dashboard.my_devices.accountdevices,contentType:"application/json",httpMethod:"GET",transform:a,templateVars:["account_id"],oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}},min:{url:n.my_account.dashboard.my_devices.min,contentType:"application/json",httpMethod:"GET",transform:i,templateVars:["min"],oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("accountdetails",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$mapperUtils","$appConfig","$deviceService","$userService",function(e,t,n,a,i,r){var o={errorConfig:{10200:"ACCT_NOT_EXISTS",10201:"ERROR_1985234",10202:"ERROR_1985622",10203:"ERROR_1985610",10204:"ERROR_1985866"},forward:function(e){return{account_id:e.account_id,min:e.min}},backward:function(e){var o={};o.error_code=e.error_code,o.error_message=e.error_message,o.error_type=e.error_type;var s=[];if(o.device_count=e.device_count?e.device_count:0,o.active_devices=[],o.invalid_devices=[],o.inactive_devices=[],o.pastdue_devices=[],o.redemption_devices=[],o.ildeligible_devices=[],o.all_devices=[],o.lrp_information={},o.ban_details=n.mapBanDetails(e.billing_account),e.isLoyaltyRewardsEnrolled?(o.lrp_information.isLRPEnrolled=e.isLoyaltyRewardsEnrolled,o.lrp_information.totalPoints=e.loyaltyRewardsInfo.totalPoints||0,o.lrp_information.pendingPoints=e.loyaltyRewardsInfo.pendingPoints||0,o.lrp_information.availablePoints=e.loyaltyRewardsInfo.availablePoints||0,o.lrp_information.enrlStartDate=e.loyaltyRewardsInfo.enrlStartDate||null):o.lrp_information.isLRPEnrolled=!1,angular.isDefined(e.devices)&&(o.allLinesAutoRefill=!0,angular.forEach(e.devices,(function(i,r){"BYOP PENDING"==i.deviceStatus&&(i.deviceStatus="NEW"),i.deviceType&&(i.deviceType="M2M_DATA"==i.deviceType?"carsmart":i.deviceType),"AMZN"==i.retailerName&&(o.ban_details.isRetailerNameAmazon=!0,i.isRetailerNameAmazon=!0);var c=n.mapDevice(i,e.devices);angular.isDefined(a.features.groupbased)&&a.features.groupbased&&MapperUtilsInst.mapHppDetail(c),o.ban_details.mincaptured||"ACTIVE"!=c.deviceStatus||(o.ban_details.min=i.min,o.ban_details.esn=i.esn,o.ban_details.mincaptured=!0),n.mapDeviceBanDetails(c,o.ban_details),a.features.groupbased?("ACTIVE"!=c.deviceStatus&&"PASTDUE"!=c.deviceStatus&&"CARRIERPENDING"!=c.deviceStatus&&"USED"!=c.deviceStatus||!c.isMinAvailable&&!c.reservedLine||c.isFlashHot||!c.group||!c.group.groupId||(c.showServicePlanLink=!0,o.redemption_devices.push(c)),c.showActivateButton||t.isDataOnlyDevice(c)||c.activationPending||c.invalid_device||!c.isMinAvailable&&!c.reservedLine||!c.group||!c.group.groupId||o.ildeligible_devices.push(c)):("ACTIVE"!=c.deviceStatus&&"PASTDUE"!=c.deviceStatus&&"CARRIERPENDING"!=c.deviceStatus&&"USED"!=c.deviceStatus||!c.isMinAvailable&&!c.reservedLine||c.isFlashHot||(c.showServicePlanLink=!0,o.redemption_devices.push(c)),c.showActivateButton||t.isDataOnlyDevice(c)||c.activationPending||c.invalid_device||!c.isMinAvailable&&!c.reservedLine||o.ildeligible_devices.push(c)),a.features.groupbased?s.push(c):("ACTIVE"!=c.deviceStatus&&"CARRIERPENDING"!=c.deviceStatus||!c.isMinAvailable&&"HOTSPOT"!=c.deviceType?"PASTDUE"==c.deviceStatus?(o.pastdue_devices.push(c),o.inactive_devices.push(c)):c.invalid_device?(o.invalid_devices.push(c),o.inactive_devices.push(c)):o.inactive_devices.push(c):(o.allLinesAutoRefill=!!o.allLinesAutoRefill&&c.auto_refill_enabled,o.active_devices.push(c)),o.all_devices.push(c))})),o.ban_details.isAllInactive&&o.redemption_devices.length>0&&(o.ban_details.isAllInactiveWithLine=!0),angular.isDefined(a.features.groupbased)&&a.features.groupbased)){var c=n.mapDeviceGroup(s,"group_Id");o.active_groups=c.activeGroup,o.inactive_groups=c.inactiveGroup,o.inactive_devices=c.inactiveDevices,o.active_group_devices=c.activeGroupDevices,o.active_group_available=c.activeGroupsAvailable,o.all_devices=angular.copy(s);var l=o.active_groups.filter((function(e){return e.group.auto_refill_enabled}));o.allLinesAutoRefill=o.active_groups.length==l.length,i.setAllLinesAutoRefilllEnabled(o.allLinesAutoRefill),console.log("groupedItems",c)}if(o.ban_details.mincaptured||angular.forEach(o.inactive_devices,(function(e,t){o.ban_details.mincaptured||(o.ban_details.min=e.min,o.ban_details.esn=e.esn,o.ban_details.mincaptured=!0)})),o.ban_details.mincaptured||angular.forEach(o.pastdue_devices,(function(e,t){o.ban_details.mincaptured||(o.ban_details.min=e.min,o.ban_details.esn=e.esn,o.ban_details.mincaptured=!0)})),
o.ban_details.mincaptured||angular.forEach(o.invalid_devices,(function(e,t){o.ban_details.mincaptured||(o.ban_details.min=e.min,o.ban_details.esn=e.esn,o.ban_details.mincaptured=!0)})),angular.isDefined(r.isLoggedIn())&&angular.isDefined(o.ban_details.esn)){var d=angular.isDefined(o.ban_details.esn)?o.ban_details.esn:"",u=angular.isDefined(o.ban_details.min)?o.ban_details.min:"";r.setEsn(d),r.setMin(u)}return o}};e.register("accountdevices",o)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{identifier:t.ban_id,category:a.ban,lineInquiry:!1,zipcode:t.zipcode,background:t.background,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={billingAccount:e.response.billingAccount}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={url:n.my_account.dashboard.my_devices.accountrenewal,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("getaccountrenewal",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","uibDateParser",function(e,t){var n={errorConfig:{10100:"ERROR_1985122",12600:"ERROR_1985165",20300:"ERROR_1985653"},forward:function(e){return{ban_id:e.ban_id,zipcode:e.zipcode}},backward:function(e){var n={};if(n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,n.product_details=[],n.renewal_details={},angular.isDefined(e.billingAccount)&&(n.renewal_details.ban_id=e.billingAccount.id,angular.isDefined(e.billingAccount.products)&&angular.forEach(e.billingAccount.products,(function(e,t){var a={};a.product_serial_no=e.productSerialNumber,a.product_category=e.productCategory,a.related_services=e.relatedServices,n.product_details.push(a)})),angular.isDefined(e.billingAccount.customerBill))){if(n.customer_billing=e.billingAccount.customerBill,e.billingAccount.customerBill.customerBillingCycle){if(e.billingAccount.customerBill.customerBillingCycle.chargeDate){var a=new Date,i=new Date(e.billingAccount.customerBill.customerBillingCycle.chargeDate);n.renewal_details.isPastDue=!1;a-i>0&&(n.renewal_details.isPastDue=!0),n.renewal_details.next_charge_date=t.filter(i,"MM/dd/yyyy")}e.billingAccount.customerBill.customerBillingCycle.isRecurring?n.renewal_details.ban_enrolled="YES":n.renewal_details.ban_enrolled="NO"}angular.isDefined(e.billingAccount.customerBill.customerBillTaxes)&&(n.customerbill_taxes=e.billingAccount.customerBill.customerBillTaxes,n.renewal_details.renewal_amount=e.billingAccount.customerBill.customerBillTaxes.totalAmountsWithDiscountAndTaxes)}return n}};e.register("getaccountrenewal",n)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{esn:t.esn,background:t.background,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={transactionId:e.response.transactionId}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={esn:{url:n.my_account.dashboard.my_devices.get_bal_inquiry,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("getbalinqry",i)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985122",12600:"ERROR_1985165",20300:"ERROR_1985653"},forward:function(e){return{esn:e.esn,background:e.background}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.transactionId)&&(t.transaction_id=e.transactionId),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("getbalinqry",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{esn:t.esn,background:t.background,transactionId:t.transaction_id,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={v2:{url:n.my_account.dashboard.my_devices.req_benefit_balance,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:["10100","12650"],okkoCodes:{}}};t.register("reqbenfbal",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils",function(e,t){var n={errorConfig:{12650:"ERROR_1985165",12600:"ERROR_1985165"},forward:function(e){return{esn:e.esn,background:e.background,transaction_id:e.transaction_id}},backward:function(e){var n={paid_benefits:{},free_benefits:{},safelink:!1};return n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,angular.isDefined(e.response)&&(n.addoncards=0,n.total_data=0,n.data_balance=0,angular.isDefined(e.response.totalData)&&(n.total_data=e.response.totalData),angular.isDefined(e.response.totalAddon)&&(n.total_addon=e.response.totalAddon),angular.isDefined(e.response.voiceBalance)&&(n.voice_balance=e.response.voiceBalance),angular.isDefined(e.response.smsBalance)&&(n.sms_balance=e.response.smsBalance),angular.isDefined(e.response.dataBalance)&&(n.data_balance=e.response.dataBalance),angular.isDefined(e.response.unit)&&(n.units=e.response.unit),angular.isDefined(e.response.transactionDate)&&(n.transaction_date=e.response.transactionDate),angular.isDefined(e.response.cashBenefits)&&angular.forEach(e.response.cashBenefits,(function(e,t){angular.equals(e.name,"ILD")&&(n.ild_credit=e.value)})),angular.isDefined(e.response.paidBenefits)&&(angular.isDefined(e.response.paidBenefits.voiceBalance)&&(n.paid_benefits.voice_balance=e.response.paidBenefits.voiceBalance),angular.isDefined(e.response.paidBenefits.smsBalance)&&(n.paid_benefits.sms_balance=e.response.paidBenefits.smsBalance),angular.isDefined(e.response.paidBenefits.dataBalance)&&(n.paid_benefits.data_balance=e.response.paidBenefits.dataBalance),angular.isDefined(e.response.paidBenefits.baseDataBalance)&&(n.base_databalance=e.response.paidBenefits.baseDataBalance),angular.isDefined(e.response.paidBenefits.addonDataBalance)&&(n.addon_databalance=e.response.paidBenefits.addonDataBalance)),angular.isDefined(e.response.freeBenefits)&&(angular.isDefined(e.response.freeBenefits.voiceBalance)&&(n.free_benefits.voice_balance=e.response.freeBenefits.voiceBalance),angular.isDefined(e.response.freeBenefits.smsBalance)&&(n.free_benefits.sms_balance=e.response.freeBenefits.smsBalance),angular.isDefined(e.response.freeBenefits.dataBalance)&&(n.free_benefits.data_balance=e.response.freeBenefits.dataBalance),n.safelink=!0),t.isNullOrEmpty(n.total_addon)||(n.total_data=n.total_data+n.total_addon,n.addoncards=n.total_addon/1024),t.isNullOrEmpty(n.base_databalance)||(n.data_balance=parseInt(n.base_databalance)),t.isNullOrEmpty(n.addon_databalance)||(n.data_balance=n.data_balance+parseInt(n.addon_databalance))),n}};e.register("reqbenfbal",n)}])})(),(function(){"use strict";function e(e,t,n,a){e.closePopup=function(){n.dismiss("cancel")},e.addToCartEnroll=function(){t.debug("refillCheckController::addToCartEnroll:: multil Line Brand"),a.resolve(!0),e.closePopup()},e.addToCartOneTimePurch=function(){t.debug("refillCheckController::addToCartOneTimePurch:: multil Line Brand"),a.resolve(!1),e.closePopup()}}angular.module("app").controller("reupmyservicePopupController",e),e.$inject=["$scope","$log","$uibModalInstance","callback"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{programType:a.program_type,benefitType:a.benefit_type,subscriberId:t.subscriberid}}},backward:function(e){return angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},e)}},r={url:n.my_account.dashboard.access_token,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("accesstoken",r)}])})(),(function(){var e={forward:function(e){return{subscriberid:e.subscriberid}},backward:function(e){return e}};angular.module("app").run(["$voMapConfig",function(t){t.register("accesstoken",e)}])})(),angular.module("app").component("upgradePoints",{templateUrl:"app/views/myaccount/dashboard/upgradepoints/upgradepoints_view_myac_114.1.html",bindings:{close:"&"},controllerAs:"ctrl",controller:["$scope","$log","$deviceService","$q","$errorHandler","$appConfig",function(e,t,n,a,i,r){var o=this;o.data={rewards:n.getSelectedDevice().retrewards},o.STATES={NO_POINTS:0,POINTS_AVAIILABLE:1,UPGRADE_SUCCESS:2,UPGRADE_FAILED:3,POINTS_AVAILABLE_LESS18:4,POINTS_AVAILABLE_EQUAL18:5,POINTS_AVAILABLE_GREATER18:6},o.rewardsdet={pointsacc:0,totalpoints:18,pointsprogress:0},e.init=function(){t.debug("Upgrade point popup init !!! ",n.getSelectedDevice().retrewards),angular.isDefined(n.getSelectedDevice().retrewards)?(o.rewardsdet.totalpoints=parseFloat(n.getSelectedDevice().retrewards.totalPoints),o.rewardsdet.pointsaccrued=parseFloat(n.getSelectedDevice().retrewards.pointsAccrued),n.getSelectedDevice().retrewards.hasBenefits?(0==o.rewardsdet.pointsaccrued?o.state=o.STATES.POINTS_AVAILABLE_EQUAL18:o.state=o.STATES.POINTS_AVAILABLE_GREATER18,e.getRewardBenefits()):(o.state=o.STATES.POINTS_AVAILABLE_LESS18,o.rewardsdet.pointsprogress=o.rewardsdet.pointsaccrued/o.rewardsdet.totalpoints*100)):o.state=o.STATES.NO_POINTS},e.getRewardBenefits=function(){var e=n.getSelectedDevice(),i=a.defer();return t.debug("Reward Benefits",e),n.getRewardBenefits({esn:n.getSelectedDevice().esn}).then((function(e){o.data.rewards.benefits=e.response.benefits,t.debug("getRewardBenefits response benefits ",o.data.rewards.benefits),i.resolve(e)})).catch((function(e){})),i.promise},o.buyPhone=function(a){t.debug("Buy Phone ",a);var r,s=a;if(s){var c=window.open("","_blank");n.getaccessToken({subscriberid:s}).then((function(e){t.debug("Buy Phone::redirect ",e),r=e.response.redirectURL,c.location.href=r})).catch((function(t){i.handleError(t,e)}))}o.close()},o.seeOfferedPhones=function(){window.open("","_blank").location.href=r.upgrade_rewards_url}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,esn:t.esn}},backward:function(e){return angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},e)}},i={url:n.my_account.dashboard.upgrade_points,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("upgradepoints",i)}])})(),(function(){var e={forward:function(e){return{esn:e.esn}},backward:function(e){return e}};angular.module("app").run(["$voMapConfig",function(t){t.register("upgradepoints",e)}])})(),angular.module("app").component("viewIldBalance",{templateUrl:"app/views/myaccount/dashboard/viewIldBalance/viewIldBalance_view_myac_115.1.html",bindings:{close:"&",resolve:"="},controllerAs:"ctrl",controller:["$log","$deviceService","$uibModal","$servicePlanSelectorService","$cartService","$renewalservices","$done","$appRoutes","$errorHandler",function(e,t,n,a,i,r,o,s,c){var l=this;l.data={ildBalance:0},l.STATES={NO_ILD_BALANCE:0,SHOW_ILD_BALANCE:1},l.init=function(){e.debug("view ILD Balance popup init !!! ",l.resolve),angular.isDefined(l.resolve.device.ildbalance)?(l.data.ildBalance=l.resolve.device.ildbalance.balance,l.state=l.STATES.SHOW_ILD_BALANCE):l.state=l.STATES.NO_ILD_BALANCE},l.purchaseILD=function(t){e.debug("Purchase ILD Add-ons");var n=a.getILdAddonPlan();if(i.addPlanToCart(n),e.debug("Logged single Go for TAX caluculation"),n){var d={};d.renewalType="SINGLE_LINE",r.estimateNoPlanChange(d).then((function(t){e.debug("Logged single Go for TAX caluculation retuned",t),l.closePopup(!0),o.redirect(s.myaccount.dashboard.alloptions.buyaddons.success)})).catch((function(t){e.warn(t),c.handleError(t,l)}))}else l.closePopup(!0)},l.closePopup=function(e){e||i.removeCartPlan(i.getStagedPlan()),l.close()}}]}),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y){e.view={isLoggedInAlways:!1,showFacebookOption:1!=c.isFBAcLoggedInNotLinked(),autopaylogin:!1,showLoginBanner:(function(){return"lrp"==g.search().flowType&&h.features.loyaltyrewards})()},e.data={username:"",email:c.getEmail()},e.sitekey=h.recaptcha.sitekey,e.secretkey=h.recaptcha.secretkey,e.brand=h.brand,"false"==sessionStorage.getItem("$disablecaptcha")?e.skiprecaptcha=!1:e.skiprecaptcha=!0,e.init=function(){t.debug("collectUserNameCtrl/init"),l.delete(d.session.username),angular.isDefined(e.$resolve)&&angular.isDefined(e.$resolve.routedata)&&angular.isDefined(e.$resolve.routedata.error)&&o.handleError(e.$resolve.routedata.error,e),t.debug("collectUserNameCtrl/init");var n=u.getSessionItem("$dataConfig");if(n&&angular.isDefined(n.login)&&angular.isDefined(n.login.deviceData)){var a=u.getSessionItem("$authService");a&&angular.isDefined(a.cc_token)&&(p.setCCToken(a.cc_token),u.removeSessionItem("$dataConfig"),e.login(n.login.deviceData))}},e.isUserLoggedIn=function(){return c.isLoggedIn()||c.isRoNsTokenAvailable()},e.myAccount=function(){t.debug("collectUserNameCtrl/myAccount"),n.redirect("userloggedin")},e.logout=function(){t.debug("collectUserNameCtrl/logout"),c.signout(),v.remove("user-logged-in")},e.login=function(s){var c=g.url();if(!e.skiprecaptcha){var l=y.getResponse();if((!angular.isDefined(l)||""==l)&&"/"!=c)return e.errMsgRecaptcha={error:"Please complete the reCAPTCHA challenge"},!1}t.debug("collectUserNameCtrl/login/entry");var d=s||e.data.username;e.data.username=d,i.accountRecoveryStatus({option:d}).then((function(n){t.debug("account status response --\x3e ",n),r.setAccountinfo(i.getAccountDetails()),e.accountStatusSuccessResponse(n)})).catch((function(i){t.warn("collectUserName/login/reject",i),angular.equals(i.error_code,"10200")?(o.clearError(e),n.redirect(a.myaccount.getusername.invalidemail)):angular.equals(i.error_code,"12405")?e.redirectToActivation():angular.equals(i.error_code,"12409")?e.redirectToActivation():angular.equals(i.error_code,"12408")?e.redirectToRefill():(t.warn("collectUserName/login/rejectnon 10200",i,a.myaccount.failure),o.handleError(i,e),n.redirect(a.myaccount.failure,g.search(),{error:i}))})),t.debug("collectUserNameCtrl/login/exit")},e.redirectToRefill=function(){f.open({animation:!1,templateUrl:"app/views/myaccount/login/collectusername/redirectiontorefill_view.html",controller:"redirectActController",size:"md",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return[]}}})},e.redirectToAcctCreation=function(){e.view.invokeActivation=!0;f.open({animation:!1,templateUrl:"app/views/myaccount/login/collectusername/redirectiontoacctcreation_view.html",controller:"redirectActController",size:"md",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return[]}}})},e.redirectToActivation=function(){f.open({animation:!1,templateUrl:"app/views/myaccount/login/collectusername/redirectiontoactivation_view.html",controller:"redirectActController",size:"md",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return[]}}})},e.accountStatusSuccessResponse=function(r){if(t.debug("Accoutstatus response ",r),r.isValidAccount)t.debug("Going to collect password page "),l.set(d.session.username,e.data.username),n.redirect(a.myaccount.getusername.validemailmin,g.search());else if(r.isDummyAccount)if(m.isEmail(e.data.username)){var s={error_code:"-999",error_message:"ERROR_1985932",error_translate:"ERROR_1985932",error_type:"FAILURE"};o.handleError(s,e)}else if(r.isSecurityPinAvailable||r.isActiveDevicesAvaiable||i.isTextMessageCapableDevice(r.identifier))if(r.isDummyAccount&&r.isSecurityPinAvailable||r.isSecurityQuestionAvailable||r.isSecurityQuestionAndPinAvailable)t.debug("Going to accountcheckpoints "),r.isSecurityQuestionAvailable||r.isSecurityQuestionAndPinAvailable?r.isSecurityPinAvailable?(r.isSecurityQuestionAvailable=!1,r.isSecurityQuestionAndPinAvailable=!1,n.redirect(a.myaccount.getusername.dummymin.secpinanswer,g.search())):e.redirectToRefill():n.redirect(a.myaccount.getusername.dummymin.secpinanswer,g.search());else if(r.isActiveDevicesAvaiable)t.debug("Going to displayActiveDevices "),n.redirect(a.myaccount.getusername.dummymin.actdvcavailable);else if(r.isVerifyPossessionCode)if(t.debug("Going to verifyPossessionCode  -- ",i.isTextMessageCapableDevice(e.data.username)),i.isTextMessageCapableDevice(e.data.username)){var c=angular.merge({showZipCodeOption:!1},g.search());n.redirect(a.myaccount.getusername.dummymin.verifycode,c)}else n.redirect(a.myaccount.getusername.dummymin.verifyzipcode,g.search());else t.debug("Going to navUpdateAccount "),r.isDummyAccount&&!r.isSecurityPinAvailable?r.isActiveDevicesAvaiable&&i.isTextMessageCapableDevice(e.data.username)||(angular.equals(r.identifier,"")?n.redirect(a.activation.deviceselection.selectdevice.device):e.redirectToRefill()):n.redirect(a.myaccount.getusername.dummymin.updateaccount,g.search());else i.getAccountDetails().setMin(r.identifier),e.redirectToAcctCreation()},e.fblogin=function(){t.debug("CollectUserNameCtrl Fb login ",e.view),s.verifyfblink().then((function(i){t.debug("link account service returned ",i),e.view.showFacebookOption=i.status;var r=new Date(p.getCCPToken().expiry_date);v.putObject("user-logged-in",{user:"fbUser"},{expires:r}),i.status?(t.debug("Facebook Login Success!!"),n.redirect(a.myaccount.fblogin.success)):n.redirect(a.myaccount.fblogin.failure)})).catch((function(i){t.warn("verifyfblink service failed ",i),o.handleError(i,e),n.redirect(a.myaccount.fblogin.failure,"",{error:i})}))},e.routeTofbMessanger=function(){"SIMPLE_MOBILE"===h.brand?_.open(d.fbmessangerLinks.SIMPLE_MOBILE,"_blank"):"TOTAL_WIRELESS"===h.brand?_.open(d.fbmessangerLinks.TOTAL_WIRELESS,"_blank"):"NET10"===h.brand&&_.open(d.fbmessangerLinks.NET10,"_blank")}}angular.module("app").component("collectUserName",{templateUrl:"app/views/myaccount/accountrecovery/collect_userName.html",bindings:{view:"="}}),angular.module("app").controller("collectUserNameCtrl",e),e.$inject=["$scope","$log","$done","$appRoutes","$accountService","$devicesCartServices","$errorHandler","$facebookService","$userService","$sessionService","$appConstants","$serviceUtils","$authService","$cookies","$location","$utils","$uibModal","$appConfig","$window","$reCaptchaService"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d){e.userinfo=l,e.closePopup=function(){r.dismiss("cancel")},e.redirecActivation=function(){s.clearError(e),d.forgotPassword({email:e.userinfo.username}).then((function(t){e.error_message="MYAC_99798"})).catch((function(t){i.info("Error caling service !!! "),s.handleError(t,e),i.warn(t)}))}}angular.module("app").controller("redirectActController",e),e.$inject=["$scope","$userService","$q","$rootScope","$log","$uibModalInstance","$location","$errorHandler","$serviceUtils","resolvParam","$accountService"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,accountid:parseInt(t.accountid,10)}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={url:n.my_account.fblinking.link_account,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("linkfbtfacct",i)}])})(),(function(){var e={errorConfig:{12400:"ERROR_1985653",89236:"ERROR_1985649"},forward:function(e){return{accountid:e.accountid}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(t.svc_response=e.response),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("linkfbtfacct",e)}])})(),(function(){var e={errorConfig:{1:"ERROR_1985653",5000:"ERROR_1985649"},forward:function(e){return{}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(t.linkInfo=e.response),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("fblinking",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{password:t.password,email:t.email_id},accountid:t.accountid}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={updatecustlogin:{url:n.my_account.fb_tf_email_sync.update_cust_login,contentType:"application/json",httpMethod:"PUT",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("updatecustlogin",i)}])})(),(function(){var e={errorConfig:{10200:"ERROR_1985661",11000:"ERROR_1985147",11001:"ERROR_1985660"},forward:function(e){return{accountid:e.accountid,password:e.password,email_id:e.email_id}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(t.svc_response=e.response),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("updatecustlogin",e)}])})(),angular.module("app").component("loginComponent",{templateUrl:"app/views/myaccount/login/loginwidget/loginwidget_view_myac_101.1.html",bindings:{fbImageUrl:"@",fbImageAltcopy:"@",minemailLogin:"@"},controller:"collectUserNameCtrl"}),(function(){"use strict";angular.module("app").component("sessionTimeoutPopup",{templateUrl:"app/views/myaccount/login/sessiontimeout/session_timeout_popup.html",bindings:{logout:"&",close:"&"},controllerAs:"sessionctrl",controller:["$scope","$log","$done","$appRoutes","$userService","$authService","$sessionService","$appConstants","$rootScope",function(e,t,n,a,i,r,o,s,c){var l=this;l.data={inputvalue:{}},l.init=function(){t.debug("Inside sessiontimeoutcontroller init function",i.getUserInfo(),r.getCCPToken()),r.getCCPToken()&&r.getCCPToken().token?l.data.inputvalue=void 0:l.data.inputvalue=i.getEmail(),t.debug("Inside sessiontimeoutcontroller init function",l.data.inputvalue),i.emptyTokenDetails(),o.delete(s.session.username),l.logout()},l.askUserLogin=function(){t.debug("Inside askUserLogin() functions"),l.data.inputvalue?(i.setEmail(l.data.inputvalue),o.set(s.session.username,l.data.inputvalue),n.redirect(a.sessiontimeout.stayloggedin.getpassword)):(o.delete(s.session.username),n.redirect(a.sessiontimeout.stayloggedin.getusername)),l.close()},l.closePopup=function(){t.debug("Inside closePopup() functions"),n.redirect(a.sessiontimeout.logout),l.close()},l.logout=function(){t.debug("sessiontimeoutcontroller::Inside logout() functions"),c.tf={},c.$broadcast("system-reset",{}),c.init()}}]})})(),angular.module("app").component("phoneBreakdown",{templateUrl:"app/views/myaccount/paymenthistory/phonebreakdown/phonebreakdown_view_myac_109.5.html",bindings:{phoneBreakdownDetails:"="},controller:["$scope","$userService","$log","$errorHandler",function(e,t,n,a){e.getPaymentDetails=function(i){i.pymtDetails||t.paymentdetails({transactionId:i.phoneBreakdownDetails.id}).then((function(e){n.debug("Payment details phone breakdown success",e),i.phoneBreakdownDetails.pymtDetails=e.pymthist})).catch((function(t){n.debug("Payment details failed",t),a.handleError(t,e)}))}}]}),angular.module("app").component("paymentHistoryDetails",{templateUrl:"app/views/myaccount/paymenthistory/pymthistorydetails/pymthistdetails_view_myac_109.4.html",bindings:{view:"=",sortby:"="}}),angular.module("app").component("paymentHistoryFilter",{templateUrl:"app/views/myaccount/paymenthistory/pymthistoryfilternav/pymthistfilternav_view.html",bindings:{paymentsources:"=",onFilterChange:"&",onFilterReset:"&",sortby:"=",filters:"="},controller:"paymentHistoryFilterController"}),angular.module("app").controller("paymentHistoryFilterController",["$scope","$rootScope","$log","$errorHandler","$timeout","$filter","$interval","$cartService",function(e,t,n,a,i,r,o,s){e.monthfilter=[{id:6,label:"6 "},{id:3,label:"3 "}],e.reverse=e.$ctrl.sortby.reverse,e.clearFilter=function(){n.debug("paymentHistoryFilter/clearFilter/entry"),e.$ctrl.onFilterReset(),n.debug("paymentHistoryFilter/clearFilter/exit")},e.filterChanged=function(){n.debug("paymentHistoryFilter/filterChanged/entry",e.$ctrl.filters.selectedPymt,e.$ctrl.filters.selectedDuration),o((function(){e.$ctrl.onFilterChange({selpymt:e.$ctrl.filters.selectedPymt,selduration:e.$ctrl.filters.selectedDuration})}),100,1),n.debug("paymentHistoryFilter/filterChanged/exit")},e.sortBy=function(t){n.debug("paymentHistoryFilter/sortBy/entry",t),e.reverse[t]=!e.reverse[t],e.$ctrl.sortby.reverse=e.reverse,e.$ctrl.sortby.predicate=t,n.debug("paymentHistoryFilter/sortBy/exit")}}]),angular.module("app").component("editSecurityPin",{templateUrl:"app/views/myaccount/dashboard/editsecuritypin/editsecuritypin_view.html",bindings:{view:"=",close:"&",modalInstance:"="},controller:["$scope","$deviceService",function(e,t){e.data={pin:t.getSelectedDevice().securityPin},e.close=function(){e.$ctrl.close()},e.confirm=function(){t.getSelectedDevice();e.$ctrl.modalInstance.close(e.data.pin),e.close()}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$userService",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{securityPin:t.pin},min:t.min}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={min:{url:n.my_account.dashboard.edit_securitypin,contentType:"application/json",httpMethod:"PUT",transform:i,oAuthGrants:["RO","NS","CCP"],templateVars:["min"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("updatesecuritypin",r)}])})(),(function(){var e={forward:function(e){return{min:e.min,pin:e.pin}},backward:function(e){return e}};angular.module("app").run(["$voMapConfig",function(t){t.register("updatesecuritypin",e)}])})(),angular.module("app").component("paymentHistoryMobileDetails",{templateUrl:"app/views/myaccount/paymenthistory/pymthistoryfilternavmobile/pymthistfilternavmobile_view.html",bindings:{paymentsources:"=",onFilterChange:"&",onFilterReset:"&",sortby:"=",filters:"="},controller:"paymentHistoryFilterController"}),angular.module("app").component("addPayment",{templateUrl:"app/views/myaccount/paymentmethod/addpayment/addpayment_view.html",bindings:{deviceEnrollments:"=",defaultPayment:"="}});!(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m){e.data={isDefaultPaymentPref:!1},e.form={billing_address:{}},e.bank_form={},e.bank_form={billing_address:{}},e.view={},e.form.save_card=!0,e.form.same_address=!1,e.view.show_new_payment_form=!1,e.view.showAchPayment=p.getShowAchPaymentFlag(),e.$watch("[form.same_address,bank_form.same_address]",(function(){e.form.same_address||e.bank_form.same_address?angular.isDefined(s.getProfileDetails().getProfile())?(e.form.billing_address=s.getProfileDetails().getProfile().contact,e.bank_form.billing_address=s.getProfileDetails().getProfile().contact):s.getProfileInfo({account_id:t.getAccountId()}).then((function(t){i.clearError(e),e.form.billing_address=s.getProfileDetails().getProfile().contact,e.bank_form.billing_address=s.getProfileDetails().getProfile().contact})).catch((function(t){i.handleError(t,e),a.warn(t)})):(e.form.billing_address={},e.bank_form.billing_address={})})),e.$watch("form.number_mask",(function(t,n){e.form.type=r.card.type(e.form.number_mask)||"",angular.isDefined(e.form.type)&&(e.form.type=e.form.type.toLowerCase())})),e.addOpenListerner=e.$on("pymtsrc-add-open",(function(t,n){e.view.show_new_payment_form=!0})),e.addlisterner=e.$on("pymtsrc-add",(function(t,n){e.view.addPymtSrc(n.data)})),e.$on("$destroy",(function(){e.addlisterner()})),e.view.addPymtSrc=function(r,s,d){a.debug("We are inside the add  ");var u=n.defer();return a.debug("Adding payment source",r),o.addPaymentSource(angular.merge({account_id:t.getAccountId()},r)).then((function(t){if(e.view.show_new_payment_form=!1,a.debug("Payment source added",t),c.reset(s),r.id=t.payment_source_id,u.resolve(r),i.clearError(e),e.$emit("pymtsrc-add-ok",{data:r}),e.form={},e.form={billing_address:{}},e.bank_form={},e.bank_form={billing_address:{}},l.scrollTo(0,0),a.info("default payment source preference ",e.data.isDefaultPaymentPref),1==e.data.isDefaultPaymentPref)e.view.addDefaultPymtSrc(r,d);else for(var n=0;n<g.getPaymentSourceResponse().length;n++)if(1==g.getPaymentSourceResponse()[n].enrolled){m.open({animation:!1,templateUrl:"app/views/activation/instructions/autopaycc_popup.html",controller:["$scope","$uibModalInstance","$deviceService","$location","$checkoutService","$log","$errorHandler","$autopayccService",function(e,t,n,a,i,o,s,c){e.updateAutoPayCCConfirm=function(){t.dismiss("cancel"),e.ccUpdateConfirm=!1},e.updateAutoPayCC=function(){e.view.addDefaultPymtSrc(r,d),e.ccUpdateConfirm=!0}}],scope:e,windowTopClass:"tf-modal",backdrop:"static",resolve:{}}).closed.then((function(){location.reload()}))}})).catch((function(t){i.handleError(t,e),a.warn(t),l.scrollTo(0,0)})),u.promise},e.view.addDefaultPymtSrc=function(t,n){a.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment",n.deviceEnrollments),p.clearSaveDevices(),p.isBrandMultiLine()&&p.setRedemptionEstimateType(u.estimate_type.redeem_ban),p.setEnrollFlowFlag(!0),angular.forEach(n.deviceEnrollments,(function(e,t){angular.forEach(e.enrollment,(function(e,t){a.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment/To be pymtsrc-updated",e);var n=angular.copy(e.device);n.plans=[],n.plans.push(e.plan),p.addDeviceToCart(n)}))}));var r={};r.paymentSource={},r.paymentType="EXIST",r.paymentSource.pymt_src=t,r.paymentSource.pymt_src.cvv="123",r.paymentSource.pymt_src.billing_zipcode=t.billing_address.zip,r.changePaymentSrc=!0,r.isDefaultPaymentPref=!0,d.processOrder(r).then((function(t){e.data.isDefaultPaymentPref=!1,a.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment/success",t)})).catch((function(t){ret_val.reject(t),a.warn("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment/failed",response),i.handleError(t,e)}))},e.getPaymentSources=function(){a.debug("paymentmethodController/getPaymentSources/entry");var r=n.defer();return o.getPaymentSource({account_id:t.getAccountId()}).then((function(t){a.debug("paymentmethodController/getpaymentmethods",t.pymtsources),e.data.pymtsources=t.pymtsources;var n=angular.copy(e.data.pymtsources);e.data.pymtsources=[],angular.forEach(n,(function(t,n){"ach"===t.type&&p.getShowAchPaymentFlag()||e.data.pymtsources.push(t)})),r.resolve(t)})).catch((function(t){a.warn("paymentmethodController/getpaymentmethods/error",t),i.handleError(t,e),r.reject(t)})),a.debug("paymentmethodController/getPaymentSources/exit",e.data.pymtsources),r.promise}}angular.module("app").controller("addpymtsrcController",e),
e.$inject=["$scope","$userService","$q","$log","$errorHandler","creditcards","$paymentService","$profileService","$validation","$window","$checkoutService","$appConstants","$devicesCartServices","$deviceService","$autopayccService","$uibModal"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},account_id:t.account_id,request:{paymentSourceNumber:t.card_number,paymentSourceNickName:t.nick_name,expirationMonth:t.expiry_month,expirationYear:t.expiry_year,firstName:t.first_name,lastName:t.last_name,addressLine1:t.addressLine1,addressLine2:t.addressLine2,city:t.city,state:t.state,zipcode:t.zipcode,country:t.country,phoneNumber:t.phone,creditCardType:t.cctype,paymentSourceType:e.default_pymtsrc_type,defaultPaymentSource:t.default_ps}}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={paymentSourceId:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},account_id:t.account_id,request:{paymentSourceNumber:t.card_number,firstName:t.first_name,lastName:t.last_name,addressLine1:t.addressLine1,addressLine2:t.addressLine2,city:t.city,state:t.state,zipcode:t.zipcode,country:t.country,phoneNumber:t.phone,accountType:t.selected_accountType,paymentSourceType:e.bank_pymtsrc_type,defaultPaymentSource:t.default_ps,routingNumber:t.routing_number}}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={paymentSourceId:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={cc:{url:n.my_account.pymt_method.add_pymt_src,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],templateVars:["account_id"],okCodes:["0"],koCodes:{},okkoCodes:{}},ach:{url:n.my_account.pymt_method.add_pymt_src,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],templateVars:["account_id"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("addpymtsrc",r)}])})(),(function(){var e={errorConfig:{10200:"ERROR_1985661",11100:"ERROR_1985149",11101:"ERROR_1985150",11102:"ERROR_1985151",11103:"ERROR_1985152",11104:"ERROR_1985153",11105:"ERROR_1985154",11106:"ERROR_1985155",11107:"ERROR_1985663"},forward:function(e){return{account_id:e.account_id,card_number:e.number_mask,nick_name:e.nick_name,expiry_month:e.expiration_month?e.expiration_month.id:"",expiry_year:e.expiration_year?e.expiration_year+"":"",first_name:e.billing_address.firstname,last_name:e.billing_address.lastname,addressLine1:e.billing_address.address1,addressLine2:e.billing_address.address2,city:e.billing_address.city,state:e.billing_address.state,zipcode:e.billing_address.zip,country:e.billing_address.country,phone:e.billing_address.phone,defaut_ps:!1,cctype:e.type,routing_number:e.routingNumber,selected_accountType:e.accounttype?e.accounttype.id:void 0}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.paymentSourceId)&&(t.payment_source_id=e.paymentSourceId.paymentSourceId),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("addpymtsrc",e)}])})(),angular.module("app").component("editNickName",{templateUrl:"app/views/myaccount/dashboard/editnickname/editnickname_view_myac_107.1.html",bindings:{view:"=",close:"&",modalInstance:"=",resolve:"="},controller:["$scope","$deviceService","$userService",function(e,t,n){e.data={};var a=t.getSelectedDevice();e.group=e.$ctrl.resolve.category.group,e.$ctrl.resolve.category.group?e.data.nick_name=a.group.groupName:e.data.nick_name=a.deviceNickname,e.close=function(){e.$ctrl.close()},e.submit=function(){var n,a=t.getSelectedDevice();n=e.$ctrl.resolve.category.group?a.group.groupName:a.deviceNickname,e.data.nick_name!=n?e.$ctrl.modalInstance.close(e.data.nick_name):e.data.nick_name=void 0,e.close()}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={device:{forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{accountId:parseInt(t.account_id,10),nickName:t.nick_name},esn:t.esn}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},group:{forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{nickName:t.nick_name},groupId:t.groupId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}}},i={esn:{url:n.my_account.dashboard.edit_nickname,contentType:"application/json",httpMethod:"PUT",transform:a.device,oAuthGrants:["RO","NS","CCP"],templateVars:["esn"],okCodes:["0"],koCodes:{},okkoCodes:{}},group:{url:n.my_account.dashboard.edit_nickname_group,contentType:"application/json",httpMethod:"PUT",transform:a.group,oAuthGrants:["RO","NS","CCP"],templateVars:["groupId"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("updnickname",i)}])})(),(function(){var e={device:{forward:function(e){return{account_id:e.account_id,esn:e.esn,nick_name:e.nick_name}},backward:function(e){return e}},group:{forward:function(e){return{groupId:e.groupId,nick_name:e.nick_name}},backward:function(e){return e}}};angular.module("app").run(["$voMapConfig",function(t){t.register("updnickname",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{esn:t.esn,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={nextChargeDate:e.response.nextChargeDate,paymentSource:e.response.paymentSource,servicePlan:angular.isDefined(e.response.servicePlan)?e.response.servicePlan:void 0,vasPlan:angular.isDefined(e.response.vasPlan)?e.response.vasPlan:void 0}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={url:n.my_account.pymt_method.get_enrolled_plan,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","10201"],koCodes:{},okkoCodes:{}};t.register("getenrolledplans",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$appConfig",function(e,t){var n={errorConfig:{10100:"ERROR_1985122",13403:"ERROR_1985192"},forward:function(e){return{esn:e.esn}},backward:function(e){var n={};if(n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,angular.isDefined(e.servicePlan)){var a=e.servicePlan;n.basePlan={auto_refill:!0,auto_enrollflow:!0,isAddonFlow:!1,plan_id:a.servicePlanId,plan_name:a.servicePlanName,plan_type:a.servicePlanType,plan_description1:a.servicePlanDescription,plan_description2:a.servicePlanDescription2,plan_description3:a.servicePlanDescription3,plan_description4:a.servicePlanDescription4,voice:a.voiceUnits,sms:a.smsUnits,data:a.dataUnits?Math.floor(Number(a.dataUnits)/1e3):0,service_days:a.serviceDays,price:a.price,recurringPlanId:a.recurringPlanId,part_number:a.partNumber,quantity:1,show_details:!1,shortDesc:a.shortDescription,promoData:a.dataUnits?Math.floor(Number(a.dataUnits)/1e3):0,isGroupPlan:a.isGroupPlan,isILDVas:a.isILDVas,isrecurringPlan:a.recurringPlan,isEnrollmentPlan:a.recurringPlan,numberOfLines:a.numberOfLines,enrollmentPromotion:a.enrollmentPromotion,isNotCarryOver:!!angular.isDefined(a.isLimitedNoCarryOverMin)&&a.isLimitedNoCarryOverMin,isMultiLineEnrollDisc:!!angular.isDefined(a.isMultilineEnrollDiscountEligible)&&a.isMultilineEnrollDiscountEligible,program_id:a.programId,ild_sup:a.ildSupported,ild_rate_link:a.ildRateLink,dataUnits:a.dataUnits,enrollmentPromoPrice:void 0,isGrandfathered:!!a.isGrandFatherBenefits&&a.isGrandFatherBenefits,deEnrollmentScript:a.scriptDescription?a.scriptDescription:""},n.basePlan.isEnrollmentPlan&&0==n.basePlan.program_id&&(n.basePlan.isEnrollmentPlan=!1),n.basePlan.isEnrollmentPlan&&n.basePlan.enrollmentPromotion&&n.basePlan.enrollmentPromotion.promoPrice!=n.basePlan.price&&(n.basePlan.enrollmentPromoPrice=n.basePlan.enrollmentPromotion.promoPrice),n.basePlan.dataUnits&&!isNaN(n.basePlan.dataUnits)?(n.basePlan.dataUnits=parseInt(n.basePlan.dataUnits),n.basePlan.dataUnits>1024?(n.basePlan.data=Math.floor(Number(n.basePlan.dataUnits)/1024)+" GB",n.basePlan.promoData=n.basePlan.data):(n.basePlan.data=n.basePlan.dataUnits+" MB",n.basePlan.promoData=n.basePlan.data)):(n.basePlan.data=n.basePlan.dataUnits,n.basePlan.promoData=n.basePlan.data),angular.merge(n.basePlan,t.serviceplans[n.basePlan.plan_type]),n.basePlan.isILDVas&&(n.basePlan.is_addon=!0),n.basePlan.isNotCarryOver&&(n.basePlan.is_paygo=!0,n.basePlan.is_monthly=!1),e.nextChargeDate&&(n.basePlan.nextChargeDate=e.nextChargeDate)}if(angular.isDefined(e.vasPlan)){var a=e.vasPlan;if(n.ildPlan={auto_refill:!0,auto_enrollflow:!0,plan_id:a.servicePlanId,plan_name:a.servicePlanName,plan_type:a.servicePlanType,plan_description1:a.servicePlanDescription,plan_description2:a.servicePlanDescription2,plan_description3:a.servicePlanDescription3,plan_description4:a.servicePlanDescription4,voice:a.voiceUnits,sms:a.smsUnits,data:a.dataUnits?Math.floor(Number(a.dataUnits)/1e3):0,service_days:a.serviceDays,price:a.price,recurringPlanId:a.recurringPlanId,part_number:a.partNumber,quantity:1,show_details:!1,shortDesc:a.shortDescription,promoData:a.dataUnits?Math.floor(Number(a.dataUnits)/1e3):0,isGroupPlan:a.isGroupPlan,isILDVas:a.isILDVas,isrecurringPlan:a.recurringPlan,isEnrollmentPlan:a.recurringPlan,numberOfLines:a.numberOfLines,enrollmentPromotion:a.enrollmentPromotion,isNotCarryOver:!!angular.isDefined(a.isLimitedNoCarryOverMin)&&a.isLimitedNoCarryOverMin,isMultiLineEnrollDisc:!!angular.isDefined(a.isMultilineEnrollDiscountEligible)&&a.isMultilineEnrollDiscountEligible,program_id:a.programId,ild_sup:a.ildSupported,ild_rate_link:a.ildRateLink,dataUnits:a.dataUnits,is_addon:!0},angular.isDefined(e.vasPlan.paymentSource)&&n.ildPlan){var i=e.vasPlan.paymentSource.paymentSourceNumberMask;n.ildPlan.pymt_src={id:e.vasPlan.paymentSource.paymentSourceId,nick_name:e.vasPlan.paymentSource.paymentSourceNickName,type:e.vasPlan.paymentSource.paymentSourceType,number_mask:e.vasPlan.paymentSource.paymentSourceNumberMask,pymtlastfour:i?i.substr(i.length-4):void 0}}}if(angular.isDefined(e.paymentSource)&&n.basePlan){var i=e.paymentSource.paymentSourceNumberMask;n.basePlan.pymt_src={id:e.paymentSource.paymentSourceId,old_id:e.paymentSource.paymentSourceId,nick_name:e.paymentSource.paymentSourceNickName,type:e.paymentSource.paymentSourceType,number_mask:e.paymentSource.paymentSourceNumberMask,pymtlastfour:i?i.substr(i.length-4):void 0}}return n}};e.register("getenrolledplans",n)}])})(),(function(){angular.module("app").component("manageAutoRefill",{templateUrl:"app/views/myaccount/paymentmethod/manageautorefill/manageautorefill_view.html",bindings:{cards:"=",ban:"=",view:"=",deviceEnrollments:"=",showAchEnroll:"@"},controller:"ManageAutoRefillController"}),angular.module("app").controller("ManageAutoRefillController",["$scope","$q","$log","$errorHandler",function(e,t,n,a){}])})(),(function(){angular.module("app").component("paymentList",{templateUrl:"app/views/myaccount/paymentmethod/paymentlist/paymentlist_view.html",bindings:{pymtsources:"=",deviceEnrollments:"=",onError:"&",onDeletePymtSrc:"&",showAchPayment:"@"},controller:["$scope","$log",function(e,t){e.handleError=function(n){t.debug("paymentList/handleError/entry",n,e.$ctrl),e.$ctrl.onError({error:n}),t.debug("paymentList/handleError/exit",n)}}]}),angular.module("app").controller("UpdatePymentController",["$scope","$userService","$q","$appConfig","$uibModal","$log","$errorHandler","$paymentService","$enrollmentService","$rootScope","$window","$checkoutService","$devicesCartServices",function(e,t,n,a,i,r,o,s,c,l,d,u,p){function v(e,t){r.debug("updatePayment/processDelPymtSrc/enrolled/ask-New-pymt",e),e.show_details=!1,l.$broadcast("pymtsrc-add-open",e),n((function(n,a){var i=l.$on("pymtsrc-add-ok",(function(a,o){r.debug("updatePayment/processDelPymtSrc/enrolled/ask-New-pymt/on-pymtsrc-add-ok/entry",e),n({new_src:o.data,old_src:e}),g.auto_refill_devices=t,i(),r.debug("updatePayment/processDelPymtSrc/enrolled/ask-New-pymt/on-pymtsrc-add-ok/exit",e)}))})).then(g.updEnrlPymtSrc).then((function(t){return r.debug("updatePayment/processDelPymtSrc/enrolled/after-upd-enroll",e),g.delPymtSrc(t.old_src)})).then((function(){r.debug("updatePayment/processDelPymtSrc/enrolled/after-delpymtsrc",e),g.onDeletePymtSrc(),r.debug("updatePayment/processDelPymtSrc/enrolled/after-delpymtsrc",e)}))}var g=this;r.debug("Entering inside thne new payment()"),g.handleError=function(e){r.debug("UpdatePymentController/handleError/entry",e),g.onError({error:e}),r.debug("UpdatePymentController/handleError/exit",e)},g.updatePaymentSource=function(a){r.debug("updatePayment/updatePaymentSource/entry ->",a);var i=n.defer();return s.updatePaymentSource(angular.merge({account_id:t.getAccountId()},a)).then((function(t){o.clearError(g),e.$emit("pymtsrc-upd-ok",{data:a}),r.debug("Payment source updated"),i.resolve()})).catch((function(e){g.onError({error:e}),r.warn(e)})),r.debug("updatePayment/updatePaymentSource/exit",a),i.promise},g.processDelPymtSrc=function(t){if(r.debug("updatePayment/processDelPymtSrc/entry",t,g),t.enrolled)if(r.debug("updatePayment/processDelPymtSrc/pymtsrc/enrolled ",t),g.pymtsources.length>1)r.debug("updatePayment/processDelPymtSrc/enrolled/have-alt-pymt",g.pymtsources),r.debug("updatePayment/processDelPymtSrc/pymtsrcs/length ",g.pymtsources),g.getAltPymtSrc(t).then((function(e){return e.altPymt?g.updEnrlPymtSrc(e):(v(e.selectedPymtSrc,g.auto_refill_devices),n.reject())})).then((function(e){return r.debug("updatePayment/processDelPymtSrc/anony/delPymtSrc ",e),g.delPymtSrc(e.old_src)})).then((function(){r.debug("updatePayment/processDelPymtSrc/emit/pymtsrc-delete-ok "),e.$emit("pymtsrc-delete-ok",{data:t}),r.debug("updatePayment/processDelPymtSrc/enrolled/have-alt-pymt/emit-del-ok/exit",t)}));else{r.debug("updatePayment/processDelPymtSrc/pymtsrcs/length ",g.pymtsources.length);var a=g.auto_refill_devices;g.askNewPymtSrc(t).then((function(){v(t,a)}))}else r.debug("This has no enrollment ",t),g.delPymtSrc(t).then((function(){e.$emit("pymtsrc-delete-ok",{data:t})}));r.debug("updatePayment/processDelPymtSrc/exit",t)},g.updEnrlPymtSrc=function(e){r.debug("Updating pymt sources for enrollment",e);var t=n.defer();o.clearError(g);var a=0,i=0,s=0;return r.debug("devices are ",angular.copy(g.deviceEnrollments)),angular.forEach(g.deviceEnrollments,(function(n,o){p.clearSaveDevices(),r.debug("Updating for device",n),angular.forEach(n.enrollment,(function(o,c){if(p.clearSaveDevices(),r.debug("for each enrollment",o),o.pymt_src.id==e.old_src.id){r.debug("Selecting device",o,e),a+=1;var l=angular.copy(o.device);l.plans=[],l.plans.push(o.plan),p.addDeviceToCart(l);var d={};d.paymentSource={},d.paymentType="EXIST",d.paymentSource.pymt_src=e.new_src,d.paymentSource.pymt_src.cvv="123",d.changePaymentSrc=!0,u.processOrder(d).then((function(o){i+=1,(a=i+s)&&t.resolve(e),r.debug("Successfully updated for ",n,o)})).catch((function(e){r.debug("Failed update for ",n,e),s+=1,t.reject(e),r.warn(e),g.onError({error:e})}))}}))})),t.promise},g.delPymtSrc=function(e){r.debug("updatePayment/delPymtSrc/entry",e,g);var i=n.defer();return"TOTAL_WIRELESS"!==a.brand&&"NET10"!==a.brand||!a.features.isNewPaymentAPI?s.delPaymentSource({source_id:e.id,accountId:t.getAccountId()}).then((function(t){o.clearError(g),i.resolve(e),d.scrollTo(0,0),r.debug("Payment source deleted",e)})).catch((function(e){r.warn(e),g.onError({error:e}),d.scrollTo(0,0)})):s.delPaymentMethod({id:e.id,accountId:t.getAccountId()}).then((function(t){o.clearError(g),i.resolve(e),d.scrollTo(0,0)})).catch((function(e){r.warn(e),g.onError({error:e}),d.scrollTo(0,0)})),r.debug("updatePayment/delPymtSrc/exit",e),i.promise},g.askNewPymtSrc=function(t){r.debug("updatePayment/askNewPymtSrc/entry",t);var a=n.defer();i.open({animation:!1,templateUrl:"app/views/myaccount/paymentmethod/askfornewpymtsrc_view.html",controller:"askfornewpymtsrcController",size:"md",scope:e,backdrop:"static",windowTopClass:"tf-modal",resolve:{items:function(){return{selectedPymtSrc:t,pymtsources:g.pymtsources,callback:a}}}});return r.debug("updatePayment/askNewPymtSrc/exit",t),a.promise},g.getAltPymtSrc=function(t){r.debug("updatePayment/getAltPymtSrc/entry",t);var a=n.defer();i.open({animation:!1,templateUrl:"app/views/myaccount/paymentmethod/altpymtsrc_view.html",controller:"altpaymentmethodController",size:"md",scope:e,backdrop:"static",windowTopClass:"tf-modal",resolve:{items:function(){return{selectedPymtSrc:t,pymtsources:g.pymtsources,callback:a}}}});return r.debug("updatePayment/getAltPymtSrc/exit",t),a.promise}}])})(),angular.module("app").component("californiaConsumerActPanel",{templateUrl:"app/views/myaccount/profile/californiaConsumerActPanel/california_consumer_act_panel.html",bindings:{commprefInfo:"=",view:"="},controller:["$scope","$profileService","$q",function(e,t,n){e.editCommPref=function(){e.$ctrl.view=!e.$ctrl.view},e.submitConsumerActRequest=function(){window.location="/ccpa/createrequest"},e.checkConsumerActRequest=function(){window.location="/ccpa/checkstatus"}}]}),angular.module("app").component("commprefEditablePanel",{templateUrl:"app/views/myaccount/profile/commPreferencesEditablePanel/commpref_information.html",bindings:{commprefInfo:"=",view:"=",editCommpref:"&",commprefUpdated:"&",showError:"&"},controller:["$scope","$profileService","$filter","$errorHandler","$log","$uibModal","$q","$appConfig",function(e,t,n,a,i,r,o,s){e.editCommpref=function(){t.getProfileInfo().then((function(t){e.$ctrl.commprefInfo=t.commpref,e.$ctrl.view=!e.$ctrl.view}))},e.askpassword=function(){var e=o.defer();return r.open({animation:!1,component:"password-popup",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:e}}).result.then((function(t){t&&e.resolve(t)}),null),e.promise},e.updateCommPreferences=function(){t.updateCommPreferences({commpref:e.$ctrl.commprefInfo}).then((function(t){i.debug("Communication Preference Updated Successfully"),e.$ctrl.commprefUpdated()})).catch((function(t){i.warn(t),e.$ctrl.showError({error:t})}))},e.saveCommPref=function(){s.two_factor_auth&&s.two_factor_flow.myAccount?e.updateCommPreferences():e.askpassword().then((function(t){e.$ctrl.commprefInfo.password=t,i.debug("$scope.$ctrl.commprefInfo !! ",e.$ctrl.commprefInfo),e.updateCommPreferences()}))}}]}),angular.module("app").component("commprefPanel",{templateUrl:"app/views/myaccount/profile/commPreferencesPanel/commpref_header_panel.html",bindings:{commprefInfo:"=",view:"="},controller:["$scope","$profileService","$q",function(e,t,n){e.editCommPref=function(){e.$ctrl.view=!e.$ctrl.view}}]}),angular.module("app").component("contactEditablePanel",{templateUrl:"app/views/myaccount/profile/contactEditablePanel/contact_information.html",bindings:{editContactInfo:"=",view:"=",editContact:"&",contactUpdated:"&",showError:"&"},controller:["$scope","$profileService","$filter","$errorHandler","$log","$uibModal","$q","$appConfig",function(e,t,n,a,i,r,o,s){e.editContact=function(){t.getProfileInfo().then((function(t){e.$ctrl.editContactInfo=t.contact,e.$ctrl.view=!e.$ctrl.view}))},e.askpassword=function(){var e=o.defer();return r.open({animation:!1,component:"password-popup",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:e}}).result.then((function(t){e.resolve(t)}),null),e.promise},e.updateContactDetails=function(){var a=e.$ctrl.editContactInfo.dob;a=n("date")(a,"MM-dd-yyyy"),e.$ctrl.editContactInfo.dob=a.split("/").join("-"),t.updateContactDetails({contact_form:e.$ctrl.editContactInfo}).then((function(t){i.debug("Profile Updated Successfully"),e.$ctrl.contactUpdated()})).catch((function(t){i.warn(t),e.$ctrl.showError({error:t})}))},e.saveContact=function(){s.two_factor_auth&&s.two_factor_flow.myAccount?e.updateContactDetails():e.askpassword().then((function(t){e.$ctrl.editContactInfo.password=t,e.updateContactDetails()}))}}]}),angular.module("app").component("contactPanel",{templateUrl:"app/views/myaccount/profile/contactPanel/contact_header_panel.html",bindings:{contactInfo:"=",view:"="},controller:["$scope","$profileService","$q",function(e,t,n){e.editContact=function(){t.getProfileInfo().then((function(t){e.$ctrl.contactInfo=t.contact,e.$ctrl.view=!e.$ctrl.view}))}}]}),angular.module("app").component("loginEditablePanel",{templateUrl:"app/views/myaccount/profile/loginEditablePanel/login_information.html",bindings:{editLoginInfo:"=",view:"=",editAction:"&",contactUpdated:"&",showError:"&"},controller:["$scope","$profileService","$q","$uibModal","$appConfig",function(e,t,n,a,i){angular.isDefined(e.$ctrl.secquestions)&&e.$ctrl.secquestions.length>0||(t.getSecurityQuestions().then((function(t){e.$ctrl.secquestions=t.secquestions})),e.$on("change-language",(function(n,a){e.$ctrl.secquestions=[],t.getSecurityQuestions().then((function(t){e.$ctrl.secquestions=t.secquestions}))})),e.editLogin=function(){t.getProfileInfo().then((function(t){e.$ctrl.editLoginInfo=t.login,e.$ctrl.view=!e.$ctrl.view}))},e.askpassword=function(){var e=n.defer();return a.open({animation:!1,component:"password-popup",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:e}}).result.then((function(t){t&&e.resolve(t)}),null),e.promise},e.updateLoginDetails=function(){t.updateLoginDetails({login_details:e.$ctrl.editLoginInfo}).then((function(t){$log.debug("Login info Updated Successfully"),e.$ctrl.contactUpdated()})).catch((function(t){$log.warn(t),e.$ctrl.showError({error:t})}))},e.saveLogin=function(){$log.debug("$scope.$ctrl.editLoginInfo !! ",e.$ctrl.editLoginInfo),i.two_factor_auth&&i.two_factor_flow.myAccount?e.updateLoginDetails():e.askpassword().then((function(t){e.$ctrl.editLoginInfo.password=t,e.updateLoginDetails()}))})}]}),angular.module("app").component("loginPanel",{templateUrl:"app/views/myaccount/profile/loginPanel/login_header_panel.html",bindings:{loginInfo:"=",view:"="},controller:["$scope","$profileService","$q",function(e,t,n){e.editLogin=function(){t.getProfileInfo().then((function(t){e.$ctrl.loginInfo=t.login,e.$ctrl.view=!e.$ctrl.view}))}}]}),angular.module("app").component("passwordPopup",{templateUrl:"app/views/myaccount/profile/passwordPopup/askpasswordpopup_view_myac_111.2.html",bindings:{close:"&",modalInstance:"="},controller:["$scope",function(e){e.data={},e.close=function(){e.$ctrl.modalInstance.dismiss("cancel")},e.submit=function(){e.$ctrl.modalInstance.close(e.data.password),e.close()}}]}),(function(){"use strict";angular.module("app").component("collectSecurityAnswer",{templateUrl:"app/views/myaccount/accountrecovery/collectsecurity/collectsecanswer/collectsecanswer_view_myac_102.4.html",bindings:{onSubmit:"&",question:"<",answer:"="},controller:["$scope","$log",function(e,t){var n=this;t.debug("collectSecurityAnswer !!! ",n),n.submit=function(){angular.isDefined(n.answer)&&n.onSubmit()}}]})})(),(function(){"use strict";angular.module("app").component("collectSecurityPinAnswer",{templateUrl:"app/views/myaccount/accountrecovery/collectsecurity/collectsecpinanswer/collectsecpinanswer_view_myac_102.5.html",bindings:{onSubmit:"&",question:"<",answer:"=",pin:"="},controller:["$scope","$log",function(e,t){var n=this;t.debug("collectSecurityPinAnswer !!! ",n),n.submit=function(){angular.isDefined(n.answer)&&n.onSubmit()}}]})})(),(function(){"use strict";angular.module("app").component("collectSecurityPin",{templateUrl:"app/views/myaccount/accountrecovery/collectsecurity/collectsecpin/collectsecpin_view_myac_102.3.html",bindings:{onSubmit:"&",pin:"="},controller:["$scope","$log",function(e,t){var n=this;t.debug("collectSecurityPin !!! ",n),n.submit=function(){angular.isDefined(n.pin)&&n.onSubmit()},e.sendVerificationCode=function(){e.$emit("sendVerificationCode",{})}}]})})(),angular.module("app").component("supportView",{templateUrl:"app/views/myaccount/dashboard/devicehistory/supportview/support_view_myac_109.1.2.html",bindings:{view:"="},controller:["$scope","$userService","$deviceService","$errorHandler","$log",function(e,t,n,a,i){}]}),angular.module("app").component("transactionView",{templateUrl:"app/views/myaccount/dashboard/devicehistory/transactionview/transaction_view_myac_109.1.1.html",bindings:{view:"="},controller:["$scope","$userService","$deviceService","$errorHandler","$log",function(e,t,n,a,i){}]}),(function(){angular.module("app").component("activeDevice",{templateUrl:"app/views/myaccount/dashboard/mydevices/activedevice/activedevice.html",bindings:{data:"=",view:"=",showAlloptions:"=",protectPhone:"&",transactionHistory:"&",removeDevice:"&",editNickName:"&",editSecurityPin:"&",buyAddOn:"&",addServicePlan:"&",buyServicePlan:"&",viewIldBalance:"&",upgradePoints:"&",manageReserve:"&",deviceDetails:"&",deviceTutorial:"&",manageEnrollments:"&",enrollBaseplan:"&",getDataInfo:"&",deviceData:"=",seePlans:"&",viewPlans:"&",showVasPlanInfo:"&"},controllerAs:"ctrl",controller:["$scope","$appConstants","$instructionService","$sce","$log","$done","$appRoutes",function(e,t,n,a,i,r,o){var s=this;s.constantWalmartCom=t.retailers.walmart_com,s.hotFlashRedirect=function(e){i.debug("hotFlashRedirect",e),r.redirect(o.myaccount.dashboard.hotflash.redirect)},s.removeflash=function(e){e.removeFlash=!0},e.checkBalance=function(e){i.debug("checkBalance for device with esn ",e),r.redirect(o.balanceinquiry.login.selectdevice,{esn:e})}}]})})(),angular.module("app").component("showBalance",{templateUrl:"app/views/myaccount/dashboard/mydevices/activedevice/activedeviceshowbalance.html",bindings:{device:"="},controller:["$scope","$deviceService","$log","$errorHandler","$appConstants","$balanceenquiryservice","$interval","$done","$appRoutes","$sessionService",function(e,t,n,a,i,r,o,s,c,l){e.checkBalance=function(e,t){n.debug("checkBalance device is ",e),e.carrierPedningBiError=!1,"CARRIERPENDING"==e.transactionPending?(e.carrierPedningBiError=!0,e.showbalance=!1):(a.clearError(e),l.set(i.session.device,e),s.redirect(c.myaccount.dashboard.getbalance,{devicePresent:"true"}))},e.getBalanceForDevice=function(i){r.postFlashFlow(i).then((function(t){n.debug("BI response in controller is ",t),a.clearError(i.device),n.debug(i.device),e.refreshAnim=!1})).catch((function(r){n.debug("BI failure retrying",t.getSelectedDevice()),t.getSelectedDevice().balance&&t.getSelectedDevice().balance.retryBi?o((function(){i.current_retry_count=t.getSelectedDevice().balance.retryCount,i.retryBI=!0,e.getBalanceForDevice(i)}),7e3,1):(n.warn(r),n.debug("BI failure ",r),t.getSelectedDevice().balance.available=!0,a.handleError(r,i.device,!1))}))}}]}),(function(){angular.module("app").component("activeGroup",{templateUrl:"app/views/myaccount/dashboard/mydevices/activegroup/activegroup.html",bindings:{data:"=",activeGroupDevices:"=",view:"=",showAlloptions:"=",editGroupNickName:"&",editDeviceNickName:"&",addServicePlan:"&",buyServicePlan:"&",manageReserve:"&",manageEnrollments:"&",manageGlobalCard:"&",upgradeDevice:"&",transactionHistory:"&",ildBalance:"&",removeDevice:"&",buyIld:"&",getDataInfo:"&",data:"="},controllerAs:"ctrl",controller:["$scope","$log","$done","$appRoutes","$sessionService","$appConstants","$deviceService","$cartService","$devicesCartServices","$servicePlanSelectorService","$renewalservices",function(e,t,n,a,i,r,o,s,c,l,d){var u=this;u.constantWalmartCom=r.retailers.walmart_com,e.removeFlash=!0,e.ariaLabel={var1:angular.isDefined(u.data)?u.data.group.groupName:0},u.hotFlashRedirect=function(e){t.debug("hotFlashRedirect",e),n.redirect(a.myaccount.dashboard.hotflash.redirect)},e.activateNewDevice=function(e){t.debug("dashboardController/activateNewDevice/Enter",e),o.setExistingGroup(e.group),n.redirect(a.activation.deviceselection.selectdevice.device,{addLine:"true"})},e.getBalance=function(){n.redirect(a.myaccount.dashboard.getbalance,{devicePresent:"true"})},e.buyDataAddon=function(i){var r=l.getAddonPlans().filter((function(e){return e.is_data_addon}));o.selectDevice(i),t.debug("purchaseDataAddon !! ",o.getSelectedDevice());var u={};u.renewalType="SINGLE_LINE",t.info("activeGroupController/estimateOrder checkout page --\x3e "),s.addPlanToCart(r[0]),c.setRedeemNowFlag(!0),c.setRedemptionFlow(!0),d.estimateNoPlanChange(u).then((function(e){n.redirect(a.checkout)})).catch((function(n){t.warn("activeGroupController/estimate/rejected",n),c.setRedeemNowFlag(!1),c.setRedemptionFlow(!1),e.$emit("active_group_addon_error",n)}))}}]})})(),(function(){angular.module("app").component("banDetails",{templateUrl:"app/views/myaccount/dashboard/mydevices/bandetails/bandetails_view_myac_106.2.html",bindings:{view:"=",ban:"=",onError:"&"},controllerAs:"ctrl",controller:"BanDetailsController"}),angular.module("app").controller("BanDetailsController",["$scope","$q","$uibModal","$done","$appRoutes","$errorHandler","$utils","$voMapConfig","$userService","$deviceService","$devicesCartServices","$renewalservices","$enrollmentService","$log","$cookieService","$checkoutService","$appConfig","$location","$appConstants",function(e,t,n,a,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y){var b,S=this;S.showAccountSection=!0,e.init=function(){g.debug("BanDetailsController/init/entry"),g.info("BanDetailsController::init",S.ban,S.view,S.data),S.data=d.getRenewalDetails()?d.getRenewalDetails():{},d.getRedemptionDevices()&&1==d.getRedemptionDevices().length?d.selectDevice(d.getRedemptionDevices()[0]):d.clearSelectedDevice(),angular.isDefined(h.features.multiline)&&h.features.multiline&&C();var t=S.ban.active_devices;for(1==S.ban.device_count&&1==t.length&&(S.showAccountSection=showAccountSection=!0!==t[0].isEbbEnrolled),i=0;i<t.length;i++){if(t[i].isPlanNotAvailable&&!t[i].isEbbEnrolled){e.isPlanNotAvailable=!0,p.setClearSaveDevices(!1);break}e.isPlanNotAvailable=!1}S.view.constantWalmartCom=y.retailers.walmart_com,g.debug("BanDetailsController/init/exit",d.getSelectedDevice())},S.accountRenewal=function(){if(S.view.isCarrierorActivationPending)b=s.translateError({error_code:"10201"},c.get("accountdevices")),o.handleError(b,e);else{var t=e.getHotFlashResponse();e.isPlanNotAvailable&&"SIMPLE_MOBILE"===h.brand?s.getModalPoup("app/views/rpe/renewal/blocker_popup.html","blockPopupController").then((function(e){_.url("serviceplan")})):t.hotFlashEligible?e.showHotFlash(t):(g.info("BanDetailsController::accountRenewal",S.ban),S.view.isLimitedAccess||S.ban.ban_details.isEnrolled||!S.ban.ban_details.isArAllowed?(g.info("BanDetailsController::alreadyenrolled",S.ban),D()):(g.info("BanDetailsController::notenrolled",S.ban),S.modalPopup("app/views/myaccount/dashboard/reupmyservicePopup/reupmyservicepopup_rpe_106.4.html","reupmyservicePopupController").then((function(e){g.info("BanDetailsController::accountRenewal::Ban not enrolled",e),u.setUserSelectAutoRefill(e),D()}))))}},S.serviceRenewalOptions=function(){var t=e.getHotFlashResponse();t.hotFlashEligible?e.showHotFlash(t):(g.info("BanDetailsController::serviceRenewalOptions",S.ban.ban_details.extensions),S.view.isCarrierorActivationPending?(b=s.translateError({error_code:"10201"},c.get("accountdevices")),o.handleError(b,e)):(S.view.isAllInactiveWithLine&&u.setBanReactivation(!0),g.info("BanDetailsController::serviceRenewalOptions"),a.redirect(r.myaccount.dashboard.bandetails.svcrenewal)))};var D=function(e){g.info("BanDetailsController::calcTaxandRedirect",S.ban.ban_details);var t={};u.clearSaveDevices(),t.renewalType="MULTI_LINE",S.view.isAllInactiveWithLine&&(u.setBanReactivation(!0),t.renewalType="BAN_ACTIVATION"),p.estimateNoPlanChange(t).then((function(e){a.redirect(r.myaccount.dashboard.bandetails.actrenewal)
})).catch((function(e){g.warn(e),S.view.error=e,o.handleError(e,S)}))};S.deenroll=function(e){S.modalPopup("app/views/rpe/enrollments/deenroll/deenrollpopup_view_rpe_109_1.html","denerollpopupController").then((function(t){v.deenrollAutorefill({reason:t,billing_account:{id:e.ban_id}}).then((function(e){o.clearError(S),a.redirect(r.dashboard)})).catch((function(e){g.warn(e),S.view.error=e,o.handleError(e,S)}))}))},S.enrollInAutoPay=function(){d.setAutoPayFlag(!0);var t=e.getHotFlashResponse();e.isPlanNotAvailable&&"SIMPLE_MOBILE"===h.brand?s.getModalPoup("app/views/rpe/renewal/blocker_popup.html","blockPopupController").then((function(e){_.url("serviceplan")})):t.hotFlashEligible?e.showHotFlash(t):S.view.isCarrierorActivationPending||S.view.isAllInactiveWithLine?(b=s.translateError({error_code:"10201"},c.get("accountdevices")),o.handleError(b,e)):(u.setEnrollFlowFlag(!0),u.setUserSelectAutoRefill(!0),D())},S.modalPopup=function(e,a){g.debug("modalpopup !!!!");var i=t.defer();n.open({animation:!1,templateUrl:e,controller:a,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:i}});return i.promise},S.manageEnroll=function(){S.ban.ban_details.isEnrolled?a.redirect(r.myaccount.dashboard.alloptions.manageenroll):a.redirect(r.checkout)},e.displayDeviceLevelTax=function(t){if(g.debug("Inside BanDetailsController displayDeviceLevelTax function --\x3e "+e.tax_summary),angular.isDefined(e.tax_summary)){e.myaccount_taxsummary=!0;n.open({animation:!1,templateUrl:"app/views/rpe/checkout/displaydevicepopup_view_rpe_104.1.html",controller:"displaydevicepopupController",windowTopClass:"tf-modal",resolve:{taxSummary:function(){return e.tax_summary}},scope:e})}else{var a={error_code:"999",error_message:"Sorry! The breakdown by phone information couldn't be retrieved. Please try again later.",error_translate:"ERROR_1985921",error_type:"ERROR_1985921"};g.warn(a),S.view.error=a,o.handleError(a,S)}};var C=function(){g.info("BanDetailsController::getTaxSummary",S.ban.ban_details);var t={};u.clearSaveDevices(),t.renewalType="MULTI_LINE",S.view.isAllInactiveWithLine&&(u.setBanReactivation(!0),t.renewalType="BAN_ACTIVATION"),e.tax_summary=void 0,p.estimateNoPlanChange(t).then((function(t){angular.isDefined(u.getTaxes())&&angular.isDefined(u.getTaxes().data)&&(e.tax_summary=u.getTaxes().data)})).catch((function(e){g.warn(e)}))};e.getHotFlashResponse=function(){var e=d.getActiveDevices(),t=s.isFlashEligible(e);return g.info("flashResponse - :> ",t),t},e.showHotFlash=function(e){d.setSelectedDevice(e.deviceData),s.getModalPoup("app/views/rpe/alerts/flash_view_rpe_101.4.html","flashCtrl").then((function(e){g.info("serviceplanController::postDeviceVerificationAction its a cold flash",e)}))}}])})(),(function(){angular.module("app").component("hppDetails",{templateUrl:"app/views/myaccount/dashboard/mydevices/hppdetails/hppdetails.html",bindings:{data:"=",view:"=",devices:"="},controllerAs:"ctrl",controller:["$scope","$log","$done","$appRoutes","$appConstants","$deviceService","$devicesCartServices","$sessionService","$cartService","$window",function(e,t,n,a,i,r,o,s,c,l){e.continue=function(e){switch(e.vasInfo.navLinkAction){case i.smHPPConfig.eligible_for_enrollment:r.setSelectedDevice(e),l.location.href="/hpp/plans?hpp_flow=Y";break;case i.smHPPConfig.manage_enrollment:r.setSelectedDevice(e),n.redirect(a.myaccount.dashboard.alloptions.manageenroll,{hpp_flow:"Y"});break;default:t.info("Error.. Invalidate navigation identifier")}}}]})})(),(function(){angular.module("app").component("inactiveDevice",{templateUrl:"app/views/myaccount/dashboard/mydevices/inactivedevice/inactivedevice.html",bindings:{data:"=",view:"=",showAlloptions:"=",transactionHistory:"&",removeDevice:"&",editNickName:"&",editSecurityPin:"&",buyAddOn:"&",transactionHistory:"&",protectPhone:"&",deviceDetails:"&",deviceTutorial:"&",addServicePlan:"&",buyServicePlan:"&",viewIldBalance:"&",upgradePoints:"&",manageReserve:"&",manageEnrollments:"&",activateDevice:"&",getDataInfo:"&",deviceData:"="},controllerAs:"ctrl",controller:["$scope","$appConstants","$instructionService","$sce","$log","$done","$appRoutes",function(e,t,n,a,i,r,o){e.removeFlash=!0;var s,c=this;c.init=function(){var e=c.data;e.deviceStatus!=t.device_status.ACTIVATION_PROGRESS&&e.deviceStatus!=t.device_status.REACTIVATION_PROGRESS&&e.deviceStatus!=t.device_status.PORT_IN_PROGRESS&&e.deviceStatus!=t.device_status.UPGRADE_IN_PROGRESS||(e.showLessMore=!0),e.deviceStatus==t.device_status.ACTIVATION_PROGRESS||e.deviceStatus==t.device_status.REACTIVATION_PROGRESS?(s=t.ACTIVATION_INST_SCRIPT,c.getActInstructions(s,e)):e.deviceStatus==t.device_status.PORT_IN_PROGRESS?(s=t.PORT_INST_SCRIPT,c.getActInstructions(s,e)):e.deviceStatus==t.device_status.UPGRADE_IN_PROGRESS&&(s=t.UPGRADE_INST_SCRIPT,c.getActInstructions(s,e))},c.getActInstructions=function(e,t){i.debug("getActInstructions !! ",e,t),n.getInstructions({scriptId:e,partClass:t.devicePartClass}).then((function(e){i.debug("Activation Upgrade Instruction Service Returned response ",e),angular.isDefined(e.scriptContent)&&(t.instructionshtml=a.trustAsHtml(e.scriptContent))})).catch((function(e){i.warn(e)}))},c.hotFlashRedirect=function(e){i.debug("hotFlashRedirect",e),r.redirect(o.myaccount.dashboard.hotflash.redirect)},c.removeflash=function(e){e.removeFlash=!0},e.checkBalance=function(e){i.debug("checkBalance for device with esn ",e),r.redirect(o.balanceinquiry.login.selectdevice,{esn:e})}}]})})(),angular.module("app").component("showTermsPopup",{templateUrl:"app/views/myaccount/dashboard/mydevices/inactivedevice/show_terms_popup.html",bindings:{modalInstance:"=",close:"&",data:"@?",scope:"@?",resolve:"="},controller:"showTermsCtrl"}),angular.module("app").controller("showTermsCtrl",["$scope","$deviceService","$log","$q","$devicesCartServices","$done","$appRoutes","$rootScope",function(e,t,n,a,i,r,o,s){var c=this;n.debug("showTermsPopup : showTermsCtrl",c),e.selDevice=t.getSelectedDevice(),e.close=function(){c.close()},e.confirm=function(){n.debug("activation device",c.resolve.data),i.emptyCart(),t.selectDevice(c.resolve.data),e.selectItem("activate"),r.redirect(o.activation.deviceselection.selectdevice.branded.esn)},e.selectItem=function(e){s.menuitem=e,"myaccount"!=e&&(s.myaccount_item=null)}}]),(function(){angular.module("app").component("inactiveDeviceFamilyPlans",{templateUrl:"app/views/myaccount/dashboard/mydevices/inactivedevice_v001/inactivedevice_v001.html",bindings:{data:"=",view:"=",transactionHistory:"&",removeDevice:"&",editNickName:"&",editSecurityPin:"&",buyAddOn:"&",transactionHistory:"&",protectPhone:"&",deviceDetails:"&",deviceTutorial:"&",addServicePlan:"&",buyServicePlan:"&",viewIldBalance:"&",upgradePoints:"&",manageReserve:"&",manageEnrollments:"&",activateDevice:"&"},controller:["$scope","$appConstants","$instructionService","$sce","$log","$done","$appRoutes",function(e,t,n,a,i,r,o){var s,c=this;c.init=function(){var e=c.data;e.deviceStatus!=t.device_status.ACTIVATION_PROGRESS&&e.deviceStatus!=t.device_status.REACTIVATION_PROGRESS&&e.deviceStatus!=t.device_status.PORT_IN_PROGRESS&&e.deviceStatus!=t.device_status.UPGRADE_IN_PROGRESS||(e.showLessMore=!0),e.deviceStatus==t.device_status.ACTIVATION_PROGRESS||e.deviceStatus==t.device_status.REACTIVATION_PROGRESS?(s=t.ACTIVATION_INST_SCRIPT,c.getActInstructions(s,e)):e.deviceStatus==t.device_status.PORT_IN_PROGRESS?(s=t.PORT_INST_SCRIPT,c.getActInstructions(s,e)):e.deviceStatus==t.device_status.UPGRADE_IN_PROGRESS&&(s=t.UPGRADE_INST_SCRIPT,c.getActInstructions(s,e))},c.getActInstructions=function(e,t){i.debug("getActInstructions !! ",e,t),n.getInstructions({scriptId:e,partClass:t.devicePartClass}).then((function(e){i.debug("Activation Upgrade Instruction Service Returned response ",e),angular.isDefined(e.scriptContent)&&(t.instructionshtml=a.trustAsHtml(e.scriptContent))})).catch((function(e){i.warn(e)}))},c.hotFlashRedirect=function(e){i.debug("hotFlashRedirect",e),r.redirect(o.myaccount.dashboard.hotflash.redirect)},c.removeflash=function(e){e.removeFlash=!0}}]})})(),(function(){angular.module("app").component("inactiveGroup",{templateUrl:"app/views/myaccount/dashboard/mydevices/inactivegroup/inactivegroup.html",bindings:{data:"=",view:"=",showAlloptions:"=",removeDevice:"&",removeGroup:"&",editGroupNickName:"&",addServicePlan:"&",buyServicePlan:"&",activateGroup:"&",transactionHistory:"&",editDeviceNickName:"&"},controller:["$scope","$appConstants","$instructionService","$sce","$log","$done","$appRoutes",function(e,t,n,a,i,r,o){e.removeFlash=!0;var s,c=this;c.init=function(){var e=c.data;e.deviceStatus!=t.device_status.ACTIVATION_PROGRESS&&e.deviceStatus!=t.device_status.REACTIVATION_PROGRESS&&e.deviceStatus!=t.device_status.PORT_IN_PROGRESS&&e.deviceStatus!=t.device_status.UPGRADE_IN_PROGRESS||(e.showLessMore=!0),e.deviceStatus==t.device_status.ACTIVATION_PROGRESS||e.deviceStatus==t.device_status.REACTIVATION_PROGRESS?(s=t.ACTIVATION_INST_SCRIPT,c.getActInstructions(s,e)):e.deviceStatus==t.device_status.PORT_IN_PROGRESS?(s=t.PORT_INST_SCRIPT,c.getActInstructions(s,e)):e.deviceStatus==t.device_status.UPGRADE_IN_PROGRESS&&(s=t.UPGRADE_INST_SCRIPT,c.getActInstructions(s,e))},c.getActInstructions=function(e,t){i.debug("getActInstructions !! ",e,t),n.getInstructions({scriptId:e,partClass:t.devicePartClass}).then((function(e){i.debug("Activation Upgrade Instruction Service Returned response ",e),angular.isDefined(e.scriptContent)&&(t.instructionshtml=a.trustAsHtml(e.scriptContent))})).catch((function(e){i.warn(e)}))},c.hotFlashRedirect=function(e){i.debug("hotFlashRedirect",e),r.redirect(o.myaccount.dashboard.hotflash.redirect)},c.removeflash=function(e){e.removeFlash=!0},c.removegroup=function(e){},c.activateGroupDevice=function(e){i.debug("activation group device",e)}}]})})(),(function(){angular.module("app").component("sortbyDevice",{templateUrl:"app/views/myaccount/dashboard/mydevices/sortbydevice/sortbydevice_view.html",bindings:{reverse:"=",onUpdate:"&",reverseAll:"="},controller:"SortByController"}),angular.module("app").controller("SortByController",(function(){var e=this;e.update=function(){angular.isDefined(e.reverse)?e.reverse=!e.reverse:(e.reverseAll=!e.reverseAll,angular.isDefined(e.onUpdate)&&e.onUpdate())}}))})(),angular.module("app").component("achForm",{templateUrl:"app/views/myaccount/paymentmethod/addpayment/achform/achform_view.html",bindings:{view:"=",bank:"="}}),angular.module("app").component("creditCardForm",{templateUrl:"app/views/myaccount/paymentmethod/addpayment/creditcardform/creditcardform_view.html",bindings:{view:"=",form:"=",deviceEnrollments:"="}}),angular.module("app").component("manageAccountEnroll",{templateUrl:"app/views/myaccount/paymentmethod/manageautorefill/accountenroll/accountenroll_view.html",bindings:{cards:"=",ban:"="}}),(function(){angular.module("app").component("manageDeviceEnroll",{templateUrl:"app/views/myaccount/paymentmethod/manageautorefill/deviceenroll/deviceenroll_view.html",bindings:{cards:"=",ban:"=",deviceEnrollments:"="},controllerAs:"ctrl",controller:["$scope","$log","$errorHandler","$q","$enrollmentService","$userService","$devicesCartServices","$checkoutService",function(e,t,n,a,i,r,o,s){var c=this;e.pay_sources=[],e.init=function(){$log.debug("manageDeviceEnroll/init/entry",c.deviceEnrollments),$log.debug("manageDeviceEnroll/init/exit",c.deviceEnrollments)},e.updEnrlPymtSrcForDevice=function(){$log.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/entry",c.deviceEnrollments);var t=a.defer();n.clearError(e);var i=0,r=0,l=0;return $log.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollments",c.deviceEnrollments),angular.forEach(c.deviceEnrollments,(function(a,d){o.clearSaveDevices(),$log.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment",a),angular.forEach(a.enrollment,(function(d,u){if($log.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment/To be pymtsrc-updated",d),d.pymt_src.id!=a.old_pymtsrcid){o.clearSaveDevices(),$log.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment/pymtsrc-updated",d),i+=1;var p=angular.copy(d.device);p.plans=[],p.plans.push(d.plan),o.addDeviceToCart(p);var v={};v.paymentSource={},v.paymentType="EXIST",v.paymentSource.pymt_src=d.pymt_src,v.paymentSource.pymt_src.cvv="123",v.changePaymentSrc=!0,s.processOrder(v).then((function(n){r+=1,(i=r+l)&&(e.$emit("pymtsrc-enrl-upd",{}),t.resolve(c.deviceEnrollments)),$log.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment/success",d,n)})).catch((function(a){l+=1,t.reject(a),$log.warn("manageDeviceEnroll/updEnrlPymtSrcForDevice/deviceEnrollment/failed",d,response),n.handleError(a,e)}))}}))})),$log.debug("manageDeviceEnroll/updEnrlPymtSrcForDevice/exit"),t.promise},e.getCardsData=function(t){for(var n=[],a=0;a<t.length;a++)"ach"!=t[a].type&&"dinersclub"!=t[a].type&&"maestro"!=t[a].type&&"diners"!=t[a].type&&"paypal"!=t[a].type&&(n.push(t[a]),e.pay_sources=n)}}]})})(),angular.module("app").component("paymentListItem",{templateUrl:"app/views/myaccount/paymentmethod/paymentlist/paymentlistitem/paymentlistitem_view.html",bindings:{card:"="}}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{id:parseInt(t.id),accountId:parseInt(t.accountId),brand:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{error_code:e.status.code,error_message:e.status.message,error_type:e.status.type}}},i={url:n.my_account.pymt_method.del_pymt_method,contentType:"application/json",httpMethod:"DELETE",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["11200","11250","11251"],okkoCodes:{}};t.register("delPaymentMethod",i)}])})(),(function(){var e={errorConfig:{11200:"ERROR_1985150",11250:"ERROR_1985159",11251:"ERROR_1985159"},forward:function(e){return{id:e.id,accountId:e.accountId}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};angular.module("app").run(["$voMapConfig",function(t){t.register("delPaymentMethod",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{paymentSourceId:parseInt(t.source_id),accountId:parseInt(t.account_id),brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={url:n.my_account.pymt_method.delete_pymt_src,contentType:"application/json",httpMethod:"DELETE",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["11200","11250","11251"],okkoCodes:{}};t.register("delpymtsrc",i)}])})(),(function(){var e={errorConfig:{11200:"ERROR_1985150",11250:"ERROR_1985159",11251:"ERROR_1985159"},forward:function(e){return{source_id:e.source_id,account_id:e.account_id}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};angular.module("app").run(["$voMapConfig",function(t){t.register("delpymtsrc",e)}])})(),(function(){angular.module("app").component("updatePayment",{templateUrl:"app/views/myaccount/paymentmethod/paymentlist/updatepayment/updatepayment_view.html",bindings:{card:"=",deviceEnrollments:"=",pymtsources:"=",onError:"&",onDeletePymtSrc:"&"},controller:"UpdatePymentController"})})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},paymentSourceId:t.source_id,request:{expirationMonth:t.expiry_month,expirationYear:t.expiry_year,paymentSourceNickName:t.nick_name,defaultPaymentSource:!1,accountId:parseInt(t.account_id),creditCardType:t.cc_type,isRecurring:t.isRecurring,address:{addressLine1:t.address.address1,addressLine2:t.address.address2,city:t.address.city,state:t.address.state,country:t.address.country,zipcode:t.address.zip},accountHolderName:{firstName:t.address.firstname,lastName:t.address.lastname}}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},paymentSourceId:t.source_id,request:{defaultPaymentSource:!1,accountId:parseInt(t.account_id),isRecurring:t.isRecurring,address:{addressLine1:t.address.address1,addressLine2:t.address.address2,city:t.address.city,state:t.address.state,country:t.address.country,zipcode:t.address.zip},accountHolderName:{firstName:t.address.firstname,lastName:t.address.lastname}}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={cc:{url:n.my_account.pymt_method.update_pymt_src,contentType:"application/json",httpMethod:"PUT",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["11201"],okkoCodes:{}},ach:{url:n.my_account.pymt_method.update_pymt_src,contentType:"application/json",httpMethod:"PUT",transform:i,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["11201"],okkoCodes:{}}};t.register("updpymtsrc",r)}])})(),(function(){var e={errorConfig:{11201:"ERROR_1985158"},forward:function(e){var t;return e.expiration_month&&(t=e.expiration_month.id),{source_id:e.id,expiry_month:t,expiry_year:e.expiration_year,nick_name:e.nick_name,default_payment_source:!1,account_id:e.account_id,cc_type:e.type,address:e.billing_address,isRecurring:e.enrolled}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};angular.module("app").run(["$voMapConfig",function(t){t.register("updpymtsrc",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter","$serviceUriConfig",function(e,t,n,a,i){var r={forward:function(t){return{brandName:e.brand,language:e.language,sourceSystem:e.source_system,partClass:t.partClass,script_id:t.scriptId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={url:i.instructions.url,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("instructionservices",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils",function(e,t){var n={errorConfig:{999:"ERROR_1985646"},forward:function(e){return{scriptId:e.scriptId,partClass:e.partClass}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=e.response.response;return angular.isDefined(n)&&angular.isDefined(n.scripts)&&(t.scriptContent=n.scripts[0].scriptContent),t}};e.register("instructionservices",n)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter","$serviceUriConfig",function(e,t,n,a,i){var r={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{externalID:n.externalid,orderDate:a("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),relatedParties:[{party:{partyID:n.partyidc,individual:{id:t.webobjid}},roleType:n.roletypec},{party:{partyID:n.partyidc,languageAbility:e.language,partyExtension:[{name:n.partytransactionid,value:n.partytransactionval},{name:n.sourcesystem,value:e.source_system}]},roleType:n.roletypea}],productPromotions:t.productPromotions,orderItems:[{id:"1",quantity:"1",action:t.action,productOffering:t.productOffering,product:{productSpecification:{brand:e.brand},relatedServices:t.relatedServices,productSerialNumber:t.esn,productCategory:n.productcategory,supportingResources:t.supportingResources},orderItemExtension:t.orderItemExtension,billingAccount:{paymentPlan:{isRecurring:t.isRecurring,paymentMean:t.paymentMean}},location:{postalAddress:{zipcode:t.zip_code}}}]}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={url:i.activation.product_order,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","11046"],koCodes:{},okkoCodes:{}};t.register("productorderact",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$dateParser",function(e,t,n){var a={errorConfig:{999:"ERROR_1985646"},forward:function(e){return{webobjid:e.webobjid,productPromotions:e.productPromotions,action:e.action,productOffering:e.productOffering,relatedServices:e.relatedServices,esn:e.esn,supportingResources:e.supportingResources,paymentMean:e.paymentMean,zip_code:e.zip_code,isRecurring:e.isRecurring,orderItemExtension:e.orderItemExtension}},backward:function(e){var a={};if(a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type,"0"==a.error_code||"11046"==a.error_code){var i=e.response.response.orderItems[0];a.serviceEndDate=i.product.relatedServices.validFor.endDatetime;var r,o=i.product.relatedServices.serviceSpecification;if(angular.isUndefined(a.serviceEndDate)||""==a.serviceEndDate){var s=new Date;angular.forEach(o,(function(e,t){angular.equals(e.name,"serviceDays")&&(r=e.value)})),angular.isDefined(r)&&-1==r.toUpperCase().indexOf("DAY")?a.serviceEndDate=s:angular.isDefined(r)&&-1!=r.toUpperCase().indexOf("DAY")&&(r=parseInt(r.toUpperCase().substring(0,r.toUpperCase().indexOf("DAY"))),s.setDate(s.getDate()+r),a.serviceEndDate=s)}else a.serviceEndDate=n(i.product.relatedServices.validFor.endDatetime,"MM-dd-yyyy");angular.isDefined(o)&&angular.forEach(o,(function(e,t){angular.equals(e.name,"sms")&&(a.sms=e.value),angular.equals(e.name,"data")&&(a.data=e.value),angular.equals(e.name,"voice")&&(a.voice=e.value),angular.equals(e.name,"serviceDays")&&(a.days=e.value.replace("Days",""))}));var c=i.orderItemExtension;angular.forEach(c,(function(e,n){angular.equals(e.name,"transactionId")&&(a.transactionId=e.value),angular.equals(e.name,"callTransObjId")&&(a.transactionId=e.value),angular.equals(e.name,"enrolledInAutoRefill")&&(a.enrolledInAutoRefill="false"===e.value?"No":"Yes"),angular.equals(e.name,"ticket")&&(a.ticketNumber=e.value),angular.equals(e.name,"currentMIN")&&(t.isMin(e.value)?a.currentMin=e.value:a.currentMin=void 0),"outageAlert"==e.name&&(a.serviceOutageAlert=e.value)}))}return a}};e.register("productorderact",a)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter","$serviceUriConfig",function(e,t,n,a,i){var r={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language,subBrandName:e.subbrand},request:{externalID:n.externalid,orderDate:a("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),relatedParties:[{party:{individual:{id:t.webobjid}},roleType:n.roletypec},{party:{partyID:e.servicePartyId,languageAbility:e.language,partyExtension:[{name:n.partytransactionid,value:n.partytransactionval},{name:n.sourcesystem,value:e.source_system}]},roleType:n.roletypeint}],productPromotions:t.prod_promos,orderItems:t.order_items}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={url:i.activation.service_order,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("serviceorderact",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$dateParser","$servicePlanSelectorService","$appConfig",function(e,t,n,a,i){var r={errorConfig:{999:"ERROR_1985646",11800:"ERROR_10517",2001:"BAT_25218"},forward:function(e){return{webobjid:e.webobjid,order_items:e.order_items,prod_promos:e.prod_promos}},backward:function(e){var n={};if(n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,angular.isDefined(e.response.response))var r=e.response.response;var o=[],s={};if(angular.isDefined(r)&&angular.isDefined(r.orderItems)){if(r.isMonthlyPlan=!1,r.isDataAddon=!1,r.isIldAddon=!1,angular.isDefined(r.billingAccount)&&(r.transactionId=r.billingAccount.id,r.billingAccount.customerBill&&(r.billingAccount.customerBill.customerBillingCycle&&(r.chargeDate=t.convertLongDate(r.billingAccount.customerBill.customerBillingCycle.chargeDate)),r.pointsAccrued=r.billingAccount.customerBill.pointsAccrued,r.pointsAccruedWithAR=r.billingAccount.customerBill.pointsAccruedWithAR,r.lrpEnrollmentBonus=r.billingAccount.customerBill.lrpEnrollmentBonus,r.arEnrollmentBonus=r.billingAccount.customerBill.arEnrollmentBonus)),angular.forEach(r.orderItems,(function(e,n){var a={};if(angular.isDefined(e.product)&&angular.isDefined(e.product.relatedServices)){if(e.product.relatedServices.serviceSpecification&&angular.forEach(e.product.relatedServices.serviceSpecification,(function(e,n){"serviceForecastDate"===e.name&&e.value&&(r.forecastDueDate=t.convertLongDate(e.value)),"promoUnits"===e.name&&e.value&&(r.promoUnits=e.value)})),angular.isDefined(e.product.productSerialNumber)&&(r.productSerialNumber=e.product.productSerialNumber,a.productSerialNumber=r.productSerialNumber),angular.isDefined(e.product.SupportingResources)&&angular.isDefined(e.product.SupportingResources.serialNumber)&&(r.productSimNumber=e.product.SupportingResources.serialNumber),angular.isDefined(e.product.relatedServices.validFor)){var c=e.product.relatedServices.validFor.endDatetime;c&&(r.serviceEndDate=t.convertLongDate(c))}angular.isDefined(e.product.relatedServices)&&angular.isDefined(e.product.relatedServices.serviceExtension)&&(r.activationInstructions=e.product.relatedServices.serviceExtension[0].value);var l=!1;e.product.relatedServices.serviceExtension&&(r.wifiIns={},angular.forEach(e.product.relatedServices.serviceExtension,(function(e,t){"reserveCount"==e.name&&e.value&&(r.reserveCount=e.value),"generalInstruction"==e.name&&e.value&&(r.activationInstructions=e.value,a.activationInstructions=e.value),"productInstruction"===e.name&&e.value&&(r.productInstruction=e.value,a.productInstruction=e.value),"WIC_129"==e.name&&e.value&&(r.wifiIns.WIC_129=e.value),"WIC_116"==e.name&&e.value&&(r.wifiIns.WIC_116=e.value),"WIC_100"==e.name&&e.value&&(r.wifiIns.WIC_100=e.value),"WIC_117"==e.name&&e.value&&(r.wifiIns.WIC_117=e.value),"WIC_134"==e.name&&e.value&&(r.wifiIns.WIC_134=e.value),"WIC_224"==e.name&&e.value&&(r.wifiIns.WIC_224=e.value),"WIC_219"==e.name&&e.value&&(r.wifiIns.WIC_219=e.value),"WIC_220"==e.name&&e.value&&(r.wifiIns.WIC_220=e.value),"WIC_225"==e.name&&e.value&&(r.wifiIns.WIC_225=e.value),"WIC_229"==e.name&&e.value&&(r.wifiIns.WIC_229=e.value),"WIC_231"==e.name&&e.value&&(r.wifiIns.WIC_231=e.value)})),parseInt(r.reserveCount)>0&&(l=!0)),r.cardsInReserve=l,angular.isDefined(s.smsUnits)&&"0"==s.smsUnits&&(s.smsUnits=s.voiceUnits),angular.isDefined(s.dataUnits)&&"0"==s.dataUnits&&(s.dataUnits=s.voiceUnits)}angular.isDefined(e.orderItemExtension)&&(r.isPromotionAvailable=!1,angular.forEach(e.orderItemExtension,(function(e,t){"planId"!=e.name&&"vasPlanId"!=e.name||(r.plan_id=e.value),"planType"!=e.name&&"vasPlanType"!=e.name||(r.servicePlanType=e.value,angular.merge(r,i.serviceplans[r.servicePlanType])),"planDescription"!=e.name&&"vasPlanDescription"!=e.name||(r.servicePlanDesc=e.value),"currentMIN"==e.name&&(r.productSerialNumber=e.value),"shortDescription"==e.name&&(r.servicePlan=e.value),"planName"!=e.name&&"vasPlanName"!=e.name||(r.plan_name=e.value),"scriptType"==e.name&&(r.planScriptType=e.value),"disclaimer"==e.name&&(r.disclaimer=e.value),"outageAlert"==e.name&&(r.serviceOutageAlert=e.value),"PROMO_DATA"==e.name&&(r.isPromotionAvailable="Y"==e.value)}))),o.push(a)})),r.plan_id&&!t.isNullOrEmpty(r.plan_id)){var c=a.getAllPlanByPlanId(parseInt(r.plan_id));c?(r.isMonthlyPlan=c.is_monthly,c.is_addon&&(r.isDataAddon=!c.ild_sup,r.isIldAddon=c.ild_sup)):r.servicePlanType&&(r.isMonthlyPlan=r.is_monthly)}r.dateToBeShown=r.serviceEndDate,r.isMonthlyPlan&&r.forecastDueDate&&(r.dateToBeShown=r.forecastDueDate),r.unitsInfo=s,r.multiDeviceInstLs=t.getInstructions(o),n.svc_response=r}return n}};e.register("serviceorderact",r)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter","$serviceUriConfig",function(e,t,n,a,i){var r={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,productCategory:n.productcategory,productSerialNumber:t.esn}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={url:i.activation.service_order,contentType:"application/json",httpMethod:"DELETE",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("serviceorderdel",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$appConfig",function(e,t,n){var a={errorConfig:{999:"ERROR_1985646"},forward:function(e){return{esn:e.esn}},backward:function(e){var a={};a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type;var i=e.response.response,r={};return angular.isDefined(i)&&angular.isDefined(i.orderItems)&&(angular.isDefined(i.billingAccount)&&(i.transactionId=i.billingAccount.id,i.billingAccount.customerBill&&(i.billingAccount.customerBill.customerBillingCycle&&(i.chargeDate=new Date(i.billingAccount.customerBill.customerBillingCycle.chargeDate)),i.pointsAccrued=i.billingAccount.customerBill.pointsAccrued,i.pointsAccruedWithAR=i.billingAccount.customerBill.pointsAccruedWithAR,i.lrpEnrollmentBonus=i.billingAccount.customerBill.lrpEnrollmentBonus,i.arEnrollmentBonus=i.billingAccount.customerBill.arEnrollmentBonus)),angular.forEach(i.orderItems,(function(e,a){if(angular.isDefined(e.product)&&angular.isDefined(e.product.relatedServices)){if(e.product.productSerialNumber&&e.product.productCategory&&"HANDSET"==e.product.productCategory&&(i.productSerialNumber=e.product.productSerialNumber),angular.isDefined(e.product.SupportingResources)&&angular.isDefined(e.product.SupportingResources.serialNumber)&&(i.productSimNumber=e.product.SupportingResources.serialNumber),angular.isDefined(e.product.relatedServices.validFor)){var o=e.product.relatedServices.validFor.endDatetime;o&&(i.serviceEndDate=t.tfDate(o))}var s=!1;e.product.relatedServices.serviceExtension&&(angular.forEach(e.product.relatedServices.serviceExtension,(function(e,t){"reserveCount"===e.name&&e.value&&(i.reserveCount=e.value),"generalInstruction"===e.name&&e.value&&(i.activationInstructions=e.value),"productInstruction"===e.name&&e.value&&(i.productInstruction=e.value)})),parseInt(i.reserveCount)>0&&(s=!0)),i.cardsInReserve=s,angular.isDefined(e.product.relatedServices.serviceSpecification)&&angular.forEach(e.product.relatedServices.serviceSpecification,(function(e,t){"voice"==e.name&&(r.voiceUnits=e.value),"sms"==e.name&&(r.smsUnits=e.value),"data"==e.name&&(r.dataUnits=e.value),"serviceDays"==e.name&&(r.serviceDays=e.value),"promoUnits"===e.name&&e.value&&(i.promoUnits=e.value)}))}angular.isDefined(e.orderItemExtension)&&angular.forEach(e.orderItemExtension,(function(e,t){"planId"!=e.name&&"vasPlanId"!=e.name||(i.plan_id=e.value),"planType"!=e.name&&"vasPlanType"!=e.name||(i.servicePlanType=e.value,angular.merge(i,n.serviceplans[i.servicePlanType])),"planDescription"!=e.name&&"vasPlanDescription"!=e.name||(i.servicePlanDesc=e.value),"shortDescription"==e.name&&(i.servicePlan=e.value),"currentMIN"==e.name&&(i.productSerialNumber=e.value),"groupIdentifier"==e.name&&(i.groupIdentifier=e.value),"planName"!=e.name&&"vasPlanName"!=e.name||(i.plan_name=e.value)}))})),i.servicePlanType&&"Unlimited Plans"===i.servicePlanType?i.isMonthlyPlan=!0:i.servicePlanType&&"Add-On"===i.servicePlanType&&i.servicePlanDesc&&"Data Add-On"===i.servicePlanDesc&&(i.isDataAddon=!0),i.unitsInfo=r,a.svc_response=i),a}};e.register("serviceorderdel",a)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter","$serviceUriConfig",function(e,t,n,a,i){var r={forward:function(t){return{common:{brandName:e.brand,
sourceSystem:e.source_system,language:e.language,subBrandName:e.subbrand},request:{externalID:n.externalid,orderDate:a("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),relatedParties:t.relatedParty,type:t.transactionType,orderItems:t.orderItems,orderItemExtension:t.orderItemsExtension,billingAccount:t.billingAccount}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={url:i.activation.service_order,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("serviceorderport",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$appConfig","uibDateParser","$lrpEnrollment",function(e,t,n,a,i){var r={errorConfig:{999:"ERROR_1985646",11800:"ERROR_10517"},forward:function(e){return{webobjid:e.webobjid,relatedParty:e.relatedParty,transactionType:e.transactionType,orderItems:e.orderItems,orderItemsExtension:e.orderItemsExt,billingAccount:e.billingAccount}},backward:function(e){var a={};a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type;var r=e.response.response,o={},s=[];return angular.isDefined(r)&&angular.isDefined(r.orderItems)&&(angular.isDefined(r.billingAccount)&&(r.transactionId=r.billingAccount.id,r.billingAccount.customerBill&&(r.billingAccount.customerBill.customerBillingCycle&&r.billingAccount.customerBill.customerBillingCycle.chargeDate&&(r.chargeDate=new Date(r.billingAccount.customerBill.customerBillingCycle.chargeDate)),r.pointsAccrued=r.billingAccount.customerBill.pointsAccrued,r.pointsAccruedWithAR=r.billingAccount.customerBill.pointsAccruedWithAR,r.lrpEnrollmentBonus=r.billingAccount.customerBill.lrpEnrollmentBonus,r.arEnrollmentBonus=r.billingAccount.customerBill.arEnrollmentBonus,r.pointsAccrued&&i.setClaimedPoints({pointsAccrued:r.pointsAccrued,pointsAccruedWithAR:r.pointsAccruedWithAR,lrpEnrollmentBonus:r.lrpEnrollmentBonus,arEnrollmentBonus:r.arEnrollmentBonus}))),angular.forEach(r.orderItems,(function(e,a){if(angular.isDefined(e.product)&&angular.isDefined(e.product.relatedServices)){var i={};if(e.product.productSerialNumber&&e.product.productCategory&&"HANDSET"==e.product.productCategory&&(r.productSerialNumber=e.product.productSerialNumber,i.productSerialNumber=e.product.productSerialNumber),angular.isDefined(e.product.SupportingResources)&&angular.isDefined(e.product.SupportingResources.serialNumber)&&(r.productSimNumber=e.product.SupportingResources.serialNumber),angular.isDefined(e.product.relatedServices.validFor)){var c=e.product.relatedServices.validFor.endDatetime;c&&(r.serviceEndDate=t.tfDate(c))}angular.isDefined(e.product.relatedServices)&&angular.isDefined(e.product.relatedServices.serviceExtension)&&(r.activationInstructions=e.product.relatedServices.serviceExtension[0].value);var l=!1;e.product.relatedServices.serviceExtension&&(angular.forEach(e.product.relatedServices.serviceExtension,(function(e,t){"reserveCount"===e.name&&e.value&&(r.reserveCount=e.value),"generalInstruction"===e.name&&e.value&&(r.activationInstructions=e.value,i.activationInstructions=e.value),"productInstruction"===e.name&&e.value&&(r.productInstruction=e.value,i.productInstruction=e.value)})),parseInt(r.reserveCount)>0&&(l=!0)),r.cardsInReserve=l,angular.isDefined(e.product.relatedServices.serviceSpecification)&&angular.forEach(e.product.relatedServices.serviceSpecification,(function(e,n){"voice"==e.name&&(o.voiceUnits=e.value),"sms"==e.name&&(o.smsUnits=e.value),"data"==e.name&&(o.dataUnits=e.value),"serviceDays"==e.name&&(o.serviceDays=e.value),"promoUnits"===e.name&&e.value&&(r.promoUnits=e.value),"serviceForecastDate"===e.name&&e.value&&(r.forecastDueDate=t.convertLongDate(e.value))}))}angular.isDefined(e.orderItemExtension)&&(r.isPromotionAvailable=!1,angular.forEach(e.orderItemExtension,(function(e,t){"planId"!=e.name&&"vasPlanId"!=e.name||(r.plan_id=e.value),"planType"!=e.name&&"vasPlanType"!=e.name||(r.servicePlanType=e.value,angular.merge(r,n.serviceplans[r.servicePlanType])),"planDescription"!=e.name&&"vasPlanDescription"!=e.name||(r.servicePlanDesc=e.value),"shortDescription"==e.name&&(r.servicePlan=e.value),"currentMIN"==e.name&&(r.productSerialNumber=e.value),"groupIdentifier"==e.name&&(r.groupIdentifier=e.value),"groupName"==e.name&&(r.groupName=e.value),"planName"!=e.name&&"vasPlanName"!=e.name||(r.plan_name=e.value),"outageAlert"==e.name&&(r.serviceOutageAlert=e.value),"PROMO_DATA"==e.name&&(r.isPromotionAvailable="Y"==e.value)}))),s.push(i)})),r.servicePlanType&&"Unlimited Plans"===r.servicePlanType?r.isMonthlyPlan=!0:r.servicePlanType&&"Add-On"===r.servicePlanType&&r.servicePlanDesc&&"Data Add-On"===r.servicePlanDesc&&(r.isDataAddon=!0),r.multiDeviceInstLs=t.getInstructions(s),r.unitsInfo=o,a.svc_response=r),a}};e.register("serviceorderport",r)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y){e.data={sim:"",active_devices:[],device:""},e.current_retry_count=0;var b=0;e.view={show_history:!1,byop_counter:1,showBalanceInline:h.showBalanceInline},e.ctrl={},e.ctrl.view={defaultHeadingLevel:4,suppressClassHr:!0},e.activeDeviceEdit=!1,e.inActiveDeviceEdit=!1,e.view.bi_counter=1,e.bierror={},e.init=function(){e.device=l.getSelectedDevice(),e.minDetails=l.getSelectedDevice().current_min,console.log(e.minDetails),console.log(e.device),e.getDataInfo(e.device)},e.getDataInfo=function(t){_.getUnifiedBalance({min:e.device.current_min}).then((function(a){i.clearError(t),configId=a.configId,e.deviceData=a,console.log("this is the balance response"+e.deviceData),t.bi_modules=h.dashboard_bi[configId],"1012"==configId?t.bi_modules=["module1"]:"1011"==configId&&(t.bi_modules=["module4"]),e.deviceData.deviceDataDetails.retry&&b<h.BI_RETRY_COUNT?(t.view.showLoading=!0,f((function(){n.info("inside interval for retry in dashboard",b),b++,e.getDataInfo(t)}),7e3,1)):e.deviceData.deviceDataDetails.retry&&b==h.BI_RETRY_COUNT?(n.info("inside interval for retry failed in dashboard",b),b=0,t.view.showLoading=!1,t.view.showTimeoutFailure=!0):t.view.showLoading=!1})).catch((function(e){n.debug("dashboardController::BI failure",l.getSelectedDevice()),t.view.showLoading=!0,t.view.showTimeoutFailure=!1,t.bi_modules.push(u.bi_timeout)}))},e.isDeviceListEmpty=function(){return n.info("tracfone keep1  "+e.data.active_devices.length),!(e.data.active_devices.length>1)},e.collectMin=function(){},e.getNewNumber=function(){};e.showTripleBenefitsPopup=function(){}}angular.module("app").controller("benefitstobetransferredcontroller",e),e.$inject=["$scope","$q","$log","$location","$errorHandler","$serviceUtils","$napService","$checkscenario","$userService","$deviceService","$redemptionService","$appConstants","$routeParams","$uibModal","$portservice","$rootScope","$interval","$appConfig","$balanceenquiryservice","$sessionService"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.closePopup=function(){n.dismiss("cancel")},e.skipToCheckout=function(){t.debug("Inside activatephonelaterpopup"),n.dismiss("cancel"),a.clearSelectedDevice(),o.isDeviceStagedWithPin()?i.redirect(r.activation.pincheckout):i.redirect(r.activation.checkout)}}angular.module("app").controller("activatelaterpopup_controller",e),e.$inject=["$scope","$log","$uibModalInstance","$deviceService","$done","$appRoutes","$devicesCartServices"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l){e.data={action:n,isLoggedIn:r.isLoggedIn(),masterEsnInfo:a.getSelectedDevice().masterEsnInfo,esnLastFourDigit:"",device:{},scriptId:"",btnScriptId:"",navToMyAccount:!1},e.init=function(){e.data.esnLastFourDigit=e.data.masterEsnInfo.masterEsnWithPin,e.data.action==l.flow_type.invalid_login_redirect?(e.data.scriptId="ACRE_1136",e.data.btnScriptId="RPE_5045",e.data.navToMyAccount=!0):e.setScriptId()},e.setScriptId=function(){o.isNullOrEmpty(e.data.masterEsnInfo.masterEsnGroupId)?e.data.scriptId=e.data.isLoggedIn?"ACRE_1139":"ACRE_1135":e.data.scriptId=e.data.isLoggedIn?"ACRE_1138":"ACRE_1134"},e.continue=function(){switch(e.data.action){case l.flow_type.shared_plan_process_action:e.continueSharedPlanPreProcess(),e.closePopup();break;case l.flow_type.shared_plan_port_post_process_action:e.continuePortPostProcess(),e.closePopup();break;case l.flow_type.invalid_login_redirect:delete a.getSelectedDevice().masterEsnInfo,a.clearSelectedDevice(),i.url("/myaccount/dashboard"),e.closePopup();break;default:delete a.getSelectedDevice().masterEsnInfo,i.url("/activation/selectdevice"),e.closePopup()}},e.continueSharedPlanPreProcess=function(){a.getSelectedDevice().execution_plan==l.transaction_type.activation?e.continueActivationProcess():e.continuePortPreProcess()},e.continueActivationProcess=function(){var t=!o.isNullOrEmpty(e.data.masterEsnInfo.masterEsnGroupId);if(e.data.isLoggedIn){if(e.checkDevicesExistsInAccount()){var n=e.getDevice();t?(s.getSavedDevices().push(n),e.pinCheckout({groupId:e.data.masterEsnInfo.masterEsnGroupId})):e.redirectToActivationFlow(n)}else e.data.scriptId="ACRE_1136",e.data.btnScriptId="RPE_5045"}else i.url("/activation/createaclogin/activation!selectdevice?loginLanding=true")},e.continuePortPreProcess=function(){if(e.data.isLoggedIn){var t=e.getDevice();e.redirectToActivationFlow(t)}else i.url("/activation/createaclogin/activation!selectdevice?loginLanding=true")},e.continuePortPostProcess=function(){if(e.data.isLoggedIn){var t=e.getDevice();s.getSavedDevices().push(t),e.pinCheckout({groupId:e.data.masterEsnInfo.masterEsnGroupId})}else i.url("/activation/createaclogin/activation!selectdevice?loginLanding=true")},e.cancel=function(){switch(e.data.action){case l.flow_type.shared_plan_process_action:e.cancelSharedPlanPreProcess(),e.closePopup();break;case l.flow_type.shared_plan_port_post_process_action:delete a.getSelectedDevice().masterEsnInfo,i.url("/activation/airtimeserviceplan"),e.closePopup();break;default:delete a.getSelectedDevice().masterEsnInfo,i.url("/activation/selectdevice"),e.closePopup()}},e.cancelSharedPlanPreProcess=function(){a.getSelectedDevice().execution_plan==l.transaction_type.activation?e.validatePinPlanScenario():e.cancelPortPreProcess()},e.cancelPortPreProcess=function(){a.getSelectedDevice().execution_plan==l.transaction_type.internal_port?e.validatePortUpgrade():i.url("/activation/collectserviceprovider")},e.pinCheckout=function(t){c.stageWithPinOrPlan(t).then((function(e){i.url("/activation/pincheckout")})).catch((function(t){$errorHandler.handleError(t,e)}))},e.redirectToActivationFlow=function(e){a.clearSelectedDevice(),"BYOP"==e.deviceType||e.isPseudo?(a.setSelectedDevice(e),i.url("/activation/byop/collectesn?carrier=VZW")):s.validateMultilineDevice({device:e.esn,byopflow:!1}).then((function(e){i.url("/activation/collectesn")}))},e.validatePinPlanScenario=function(){c.validatePinPlanScenario().then((function(t){switch(t.redirect){case l.flow_type.pin_checkout:e.pinCheckout({});break;case"ACTIVATION_LOGIN":i.url("/activation/createaclogin/activation!airtimeserviceplan");break;case"COLLECT_PIN_PLAN":i.url("/activation/airtimeserviceplan")}})).catch((function(e){reject(e)}))},e.validatePortUpgrade=function(){var t;angular.isDefined(a.getSelectedDevice().masterEsnInfo.portInfo)&&(t=a.getSelectedDevice().masterEsnInfo.portInfo),angular.isDefined(t)?a.validatePortUpgrade({device:t.device,port_brand:t.port_brand}).then((function(t){delete a.getSelectedDevice().masterEsnInfo,i.url("/activation/internalport"),e.closePopup()})).catch((function(e){$errorHandler.handleError(e)})):e.closePopup()},e.getDevice=function(){for(var t,n=a.getAllDevices(),i=0;i<n.length;i++)o.checkLastFour(e.data.esnLastFourDigit,n[i].esn)&&(t=n[i]);return t},e.checkDevicesExistsInAccount=function(){for(var t,n,i=!1,r=e.data.masterEsnInfo.masterEsnWithPin,s=a.getAllDevices(),c=0;c<s.length;c++)s[c].esn==a.getSelectedDevice().esn&&(t=s[c]),o.checkLastFour(r,s[c].esn)&&(n=s[c]);return t&&n&&(i=!0),i},e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("sharedpinvalidationpopupcontroller",e),e.$inject=["$scope","$uibModalInstance","action","$deviceService","$location","$userService","$utils","$devicesCartServices","$actreactportUpgradeService","$appConstants"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.data={value:"",selectedVal:"",selectedType:""},e.init=function(){if(e.accountEmail=a._userInfo.emailId,e.active_devices=[],i.getAllDevices().length>0)e.allDevices=i.getAllDevices();else if(angular.isDefined(i._data.current_min)){var t=i._data.current_min;e.active_devices.push({min:t,deviceStatus:o.active,deviceType:o.smartphone}),i.setAllDevices(e.active_devices)}e.allDevices.length>0&&e.allDevices.map((function(t){"ACTIVE"===t.deviceStatus&&"HOTSPOT"!=t.deviceType&&angular.isDefined(t.min)&&e.active_devices.push(t)}))},e.closePopup=function(n){e.previousRoute=i.getAuthenticationFlag(),"/myaccount/dashboard"===e.previousRoute&&n?(r.path(e.previousRoute),t.dismiss("cancel")):t.dismiss("cancel")},e.close=function(n){e.previousRoute=i.getAuthenticationFlag(),"/myaccount/dashboard"===e.previousRoute&&n?(r.path(e.previousRoute),t.dismiss("cancel")):t.dismiss("cancel")},e.selectedValue=function(t){e.data.selectedType=t},e.callPopUp=function(){e.closePopup();n.open({animation:!1,templateUrl:"app/views/activation/collectphonenumber/two_factor_validation_popup.html",size:"md",backdrop:"static",keyboard:!1,controller:"twofactorvalidationcontroller",windowTopClass:"tf-modal two-factor-validation",resolve:{selectedData:function(){return e.data}}})},e.requestCode=function(t,n,a){i.requestCode({min:t,type:n,resourceCategory:a}).then((function(t){e.callPopUp()})).catch((function(e){$log.warn("device verification code request failed",e)}))},e.sendCode=function(){console.log(e.data),e.data.selectedVal=e.data.value;i.getAllDevices().map((function(t){return"ACTIVE"===t.deviceStatus&&angular.isDefined(t.min)?(e.data.deviceMin=t.min,e.data.resourceCategory=o.line,e.data):angular.isUndefined(e.data.deviceMin)?(e.data.deviceMin=t.esn,e.data.resourceCategory=o.handset,e.data):void 0})),i.setParamsForCode(e.data),"min"===e.data.selectedType?(e.type="SMS",e.requestCode(e.data.value,e.type,e.data.resourceCategory)):"email"===e.data.selectedType?(e.type="EMAIL",e.requestCode(e.data.deviceMin,e.type,e.data.resourceCategory)):(e.close(),n.open({animation:!1,templateUrl:"app/views/activation/collectphonenumber/contact_customer_care_popup.html",size:"md",backdrop:"static",keyboard:!1,controller:"twofactorpopupcontroller",windowTopClass:"tf-modal two-factor-validation",resolve:{}}))}}angular.module("app").controller("twofactorpopupcontroller",e),e.$inject=["$scope","$uibModalInstance","$uibModal","$userService","$deviceService","$location","$appConstants"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d){e.data={code:"",error:!1,errorMsg:""},e.init=function(){e.active_devices=[],e.allDevices=i.getAllDevices(),e.allDevices.length>0&&e.allDevices.map((function(t){"ACTIVE"===t.deviceStatus?(e.active_devices.push(t),e.deviceEsn=t.esn):e.deviceEsn=t.esn}))},e.count=0,e.cancel=function(){e.previousRoute=i.getAuthenticationFlag(),"/myaccount/dashboard"!==e.previousRoute||i.getVerificationFlag()?t.dismiss("cancel"):(c.path(e.previousRoute),t.dismiss("cancel"))},e.validateCode=function(t,n,a,r){i.validateCode({min:t,verificationCode:a,type:n,resourceCategory:r}).then((function(t){i.setVerificationFlag(!0),"/activation/keepcollectphone"===o.current.$$route.originalPath&&s.$broadcast("proceed-upgrade-min",{}),i.setCallAuthentication(!1),e.cancel(),d((function(){i.setCallAuthentication(!0)}),3e5)})).catch((function(t){"20100"!==t.error_code&&"12404"!==t.error_code||(e.data.errorMsg=!0),e.count=e.count+1,3===e.count&&(e.data.error=!0,e.data.errorMsg=!1)}))},e.verifyCode=function(){e.selectedData=r,i.getAllDevices().map((function(t){"ACTIVE"===t.deviceStatus&&angular.isDefined(t.min)&&(e.data.deviceMin=t.min,e.data.resourceCategory=l.line),angular.isUndefined(e.data.deviceMin)&&(e.data.deviceMin=t.esn,e.data.resourceCategory=l.handset)})),"min"===e.selectedData.selectedType?(e.type="SMS",e.data.deviceMin=i.getParamsForCode().selectedVal,e.validateCode(e.data.deviceMin,e.type,e.data.code,e.data.resourceCategory)):"email"===e.selectedData.selectedType&&(e.type="EMAIL",e.validateCode(e.data.deviceMin,e.type,e.data.code,e.data.resourceCategory))},e.resendCode=function(){var t=i.getParamsForCode();e.data={code:"",error:"",errorMsg:""},"min"===t.selectedType?t.type="SMS":t.type="EMAIL",i.requestCode({min:t.deviceMin,type:t.type,resourceCategory:t.resourceCategory}).then((function(e){})).catch((function(e){$log.warn("device verification code request failed",e)}))}}angular.module("app").controller("twofactorvalidationcontroller",e),e.$inject=["$scope","$uibModalInstance","$uibModal","$userService","$deviceService","selectedData","$route","$rootScope","$location","$appConstants","$timeout"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.closePopup=function(){n.dismiss("cancel")},e.goToShopPage=function(){e.closePopup(),"SPA"!=i.language?r.location.href=i.coveragecheck.shopphonesurl:r.location.href=i.coveragecheck.shopphonesurl_es}}angular.module("app").controller("byopgsmattpopupcontroller",e),e.$inject=["$scope","$log","$uibModalInstance","$location","$appConfig","$window"]})(),(function(){"use strict";function e(e,t,n,a){e.closePopup=function(){n.dismiss("cancel")},e.goToHomePage=function(){e.closePopup(),a.path("/home")}}angular.module("app").controller("byopgsmtmopopupcontroller",e),e.$inject=["$scope","$log","$uibModalInstance","$location"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.closePopup=function(){n.dismiss("cancel"),o.$broadcast("att-registration-ineligible",{})},e.backtoBau=function(){e.closePopup()}}angular.module("app").controller("byopnoncompatibleattpopupcontroller",e),e.$inject=["$scope","$log","$uibModalInstance","$location","$appConfig","$window","$rootScope"]})(),(function(){"use strict";function e(e,t,n,a,i){e.closePopup=function(){n.dismiss("cancel")},e.action=function(){i.resolve(!0),e.closePopup()}}angular.module("app").controller("tmobandspopupcontroller",e),e.$inject=["$scope","$log","$uibModalInstance","$appConstants","callback"]})(),(function(){function e(e,t,n,a){e.closePopup=function(){t.dismiss("cancel")},e.shopPhones=function(){t.dismiss("cancel"),n.location.href=a.coveragecheck.shopphonesurl}}angular.module("app").controller("phoneeligibilityerror",e),e.$inject=["$scope","$uibModalInstance","$window","$appConfig"]})(),(function(){function e(e,t){e.view={},e.view.new_number=!1,e.view.tracfone_number=!1,e.view.port_number=!1,e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("activationpopupcontroller",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c){e.init=function(){c.is_wcm=!0},e.transfermyservicenow=function(){t.debug("select transfer my service now"),r.initComingFrom(),r.setComingFrom(s.coming_from.transfer_services_menu),a.redirect(n.activation.transfermyservice.confirmed)}}angular.module("app").controller("transferservicecontroller",e),e.$inject=["$scope","$log","$appRoutes","$done","$uibModal","$deviceService","$appConfig","$appConstants","$rootScope"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language,clientid:e.validateaddrclientid},request:{id:t.id,refineText:t.refineText,addressLine1:t.addressLine1,addressLine2:t.addressLine2,city:t.city,country:n.default_country,stateOrProvince:t.stateOrProvince,zipCode:t.zipcode}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.activation.address_verification,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","-1"],koCodes:{},okkoCodes:{}};t.register("addressverification",r)}])})(),(function(){var e={forward:function(e){return{id:e.id,refineText:e.refineText,addressLine1:e.address1,addressLine2:e.address2,city:e.acctcity,country:e.country,stateOrProvince:angular.isDefined(e.acctstate)?e.acctstate:e.state,zipcode:angular.isDefined(e.acctzip)?e.acctzip:e.zip}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n,a=e.response.response,i=[],r=!0,o={};return angular.isDefined(a)&&(angular.isDefined(a.verificationLevel)&&(angular.equals("Verified",a.verificationLevel)||angular.equals("InteractionRequired",a.verificationLevel))?(o.address1=a.parsedAddress.addressLine1,o.address2=a.parsedAddress.addressLine2,o.acctcity=a.parsedAddress.city,o.acctstate=a.parsedAddress.stateOrProvince,o.acctzip=a.parsedAddress.zipcode,o.addunitno=a.parsedAddress.streetNrLast,o.addstreetname=a.parsedAddress.streetName,o.addhouseno=a.parsedAddress.streetNt,o.addstreetdir=a.parsedAddress.streetNrSuffix,o.addstreetype=a.parsedAddress.streetType,a.verified_address=o,n=!0):angular.isDefined(a.verificationLevel)&&!angular.equals("Verified",a.verificationLevel)&&angular.isDefined(a.ref)&&angular.forEach(a.ref,(function(e,t){angular.equals("None",a.verificationLevel)&&angular.isDefined(e.pickList)&&angular.equals("No matches",e.pickList)?n=!1:(n=!0,i.push(e),angular.isDefined(e.multiple)&&angular.equals("true",e.multiple)&&(r=!1))})),t.svc_response=a,t.svc_response.addressfound=n,t.svc_response.address_list=i,t.svc_response.allCompleteAddr=r),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("addressverification",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{creationDate:a("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),description:n.shipping_address.case_title,source:n.roletypec,type:n.shipping_address.case_type,relatedParties:[{party:{partyID:n.partyidcbo,partyExtension:[{name:n.sourcesystem,value:e.source_system},{name:n.brandName,value:e.brand}]},roleType:n.roletypeagent},{party:{individual:{firstName:t.firstName,lastName:t.lastName},contactMedium:[{contactDetails:[{value:t.phone}],type:n.telephone_number},{contactDetails:[{value:t.emailAddress}],type:n.email}]},roleType:n.roletypec}],relatedResources:t.relatedResources,note:t.note,location:[{addressType:n.shipping,address:t.address},{addressType:n.activation,address:t.actAddress}]}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:"/pep/ticket-mgmt/v1/serviceTicket",contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("createCase",r)}])})(),(function(){var e={forward:function(e){return{firstName:e.firstName,lastName:e.lastName,phone:e.phone,emailAddress:e.emailAddress,relatedResources:e.relatedResources,note:e.note,address:e.address,actAddress:e.actAddress}},backward:function(e){var t={};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,"0"==t.error_code){var n=e.response.response;t.ticket_id=n.refInfo.id}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("createCase",e)}])})(),(function(){angular.module("app").component("verifyAddressPopup",{templateUrl:"app/views/activation/shippingaddress/verify_address_popup.html",bindings:{resolve:"<",close:"&"},controller:"verifyaddresscontroller"}),angular.module("app").controller("verifyaddresscontroller",["$scope","$log","$errorHandler","$addressservice",function(e,t,n,a){e.data={},e.custAddress={},e.addressverifypop=!0,e.init=function(){t.debug("verifyaddresscontroller/init/entry",e.$ctrl.resolve),e.addrVerifyRes={inputaddress:e.$ctrl.resolve.addrVerifyRes},e.data.address=e.addrVerifyRes.inputaddress,a.setUserInputAddress(e.data.address),e.processSelectedAddress(),t.debug("verifyaddresscontroller/init/exit",e.$ctrl.resolve)},e.processSelectedAddress=function(){t.debug("verifyaddresscontroller/processSelectedAddress/entry",e.data),e.data.address.refineText=e.data.refineText,a.verifyAddress(e.data.address).then((function(n){t.debug("verifyaddresscontroller/processSelectedAddress/resolves",n),angular.equals("Verified",n.svc_response.verificationLevel)?(t.debug("verifyaddresscontroller/processSelectedAddress/verified",n),e.custAddress=n.svc_response.verified_address,a.setUserInputAddress(e.custAddress),e.closePopup(a.getUserInputAddress())):angular.equals("InteractionRequired",n.svc_response.verificationLevel)?(t.debug("verifyaddresscontroller/processSelectedAddress/interactionreq",n),e.custAddress.address1=e.data.address1,e.custAddress.address2=e.data.address2,e.custAddress.acctcity=e.data.acctcity,e.custAddress.acctstate=e.data.acctstate,e.custAddress.acctzip=e.data.acctzip,a.setUserInputAddress(e.custAddress),e.addrVerifyRes.addressLst=n.svc_response.address_list,e.addrVerifyRes.addressfound=n.svc_response.addressfound,e.addrVerifyRes.allCompleteAddr=n.svc_response.allCompleteAddr,e.addrVerifyRes.inputaddress=e.$ctrl.resolve.addrVerifyRes,e.addrVerifyRes.selected_carrier=e.data.selected_carrier,e.addrVerifyRes.verified_address=n.svc_response.verified_address,e.addrVerifyRes.interactionreq=!0):(t.debug("verifyaddresscontroller/processSelectedAddress/others",n),e.addrVerifyRes.addressLst=n.svc_response.address_list,e.addrVerifyRes.addressfound=n.svc_response.addressfound,e.addrVerifyRes.allCompleteAddr=n.svc_response.allCompleteAddr,e.addrVerifyRes.inputaddress=a.getUserInputAddress(),e.addrVerifyRes.selected_carrier=e.data.selected_carrier)})).catch((function(t){n.handleError(t,e)}))},e.keepEnteredAddress=function(){t.debug("verifyaddresscontroller/keepEnteredAddress/entry"),angular.isDefined(e.addrVerifyRes.selected_carrier)&&(angular.equals("AT&T",e.addrVerifyRes.selected_carrier.description)||angular.equals("AT&T GOPHONE",e.addrVerifyRes.selected_carrier.description)||angular.equals("SPRINT",e.addrVerifyRes.selected_carrier.description))?(e.addressverifypop=!1,t.info("Need to collect additional address details !!! ")):(t.info("close the popup",a.getUserInputAddress()),e.closePopup(a.getUserInputAddress())),t.debug("verifyaddresscontroller/keepEnteredAddress/exit")},e.continueWithAdditionalInfo=function(){t.debug("verifyaddresscontroller/continueWithAdditionalInfo/entry"),t.debug("verifyaddresscontroller :: continueWithAdditionalInfo ",e.data),a.getUserInputAddress().addunitno=e.data.unitnumber,a.getUserInputAddress().addstreetname=e.data.streetname,a.getUserInputAddress().addhouseno=e.data.housenumber,a.getUserInputAddress().addstreetdir=e.data.direction,a.getUserInputAddress().addstreetype=e.data.street_type,angular.equals("None",e.data.direction)&&(t.info("no direction "),a.getUserInputAddress().addstreetdir=void 0),angular.equals("None",e.data.street_type)&&(t.info("no street type "),a.getUserInputAddress().addstreetype=void 0),e.closePopup(a.getUserInputAddress()),t.debug("verifyaddresscontroller/continueWithAdditionalInfo/entry")},e.processSelectedAddressPort=function(){t.debug("verifyaddresscontroller :: processSelectedAddressPort ",e.addrVerifyRes.verified_address),e.closePopup(e.addrVerifyRes.verified_address)},e.closePopup=function(n){t.debug("verifyaddresscontroller/closePopup/entry",n),e.$ctrl.close({$value:n}),t.debug("verifyaddresscontroller/closePopup/exit")}}])})(),(function(){"use strict";function e(e,t,n){e.closePopup=function(){n.close()},e.simNotNeeded=function(){e.closePopup()}}angular.module("app").controller("simNotNeededController",e),e.$inject=["$scope","$log","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language,subBrandName:e.subbrand},request:{relatedParties:t.relatedParties,location:t.location,serviceCategory:t.serviceCategory,service:t.service,extension:t.extension,serviceSpecification:{brand:e.brand},resources:t.resource}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.activation.byop.service_qualification_url,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("servicequalificationact",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$servicePlanSelectorService","$deviceService",function(e,t,n){var a={errorConfig:{999:"ERROR_1985646",10018:"ERROR_1985639",11700:"ERROR_10517",2001:"BAT_25218",2002:"BAT_25219",2003:"BAT_25220",11026:"ERROR_1985646"},forward:function(e){return{date:e.date,webobjid:e.webobjid,relatedParties:e.relatedParties,zip_code:e.zip_code,resource:e.resource,serviceCategory:e.serviceCategory,service:e.service,extension:e.extension,location:e.location}},backward:function(e){var a={},i=[];a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type;var r=e.response.response;return angular.isDefined(r)&&angular.isDefined(r.serviceCharacteristics)&&angular.forEach(r.serviceCharacteristics,(function(e,i){if("flowScenario"==e.name&&(a.flow_scenario=e.value),"executionPlan"==e.name&&(a.execution_plan=e.value),"balanceTransactionId"==e.name&&(a.balance_id=e.value),"activationEligible"==e.name&&(a.activation_eligible=e.value),"allowedCapacityLines"==e.name&&(a.allowed_capacity_lines=e.value),"currentBrand"==e.name&&(a.port_brand=e.value),"qualifiedPlanType"==e.name&&(a.planType=e.value),"isPINAvailable"==e.name&&e.value&&(a.stagedWithPin="true"==e.value),"stagedWithPIN"==e.name&&e.value&&(a.stagedWithPin="true"==e.value),"stagedWithPlanId"==e.name&&e.value&&(a.stagewithServicePlan="true"==e.value),"servicePlanId"==e.name&&e.value&&(a.stageServicePlanId=parseInt(e.value),a.stagedWithPin||(a.stagewithServicePlan=!0)),"discountEligible"==e.name&&e.value&&(a.isDevicePlanDiscountEligible="true"==e.value),a.stagewithServicePlan&&a.stageServicePlanId){var r=t.getAllPlanByPlanId(a.stageServicePlanId);r&&(a.Plan=angular.copy(r))}"multiLineWarning"==e.name&&(a.multi_line_warning=e.value),"multiLinePrimaryDummy"==e.name&&(a.multi_line_primary_dummy=e.value),"masterEsnWithPin"==e.name&&(a.masterEsnWithPin=e.value),"masterEsnGroupId"==e.name&&(a.masterEsnGroupId=e.value),"sharedPinAvailableInAccount"==e.name&&(a.sharedPinAvailableInAccount="true"==e.value),"isMFARequired"==e.name&&(a.upgrade_eligible=e.value,"Y"==e.value&&n.set2fa_requiredfor_upgrade(!0))})),angular.isDefined(r)&&angular.isDefined(r.relatedResources)&&(angular.forEach(r.relatedResources,(function(e,t){if("stagedDevice"==e.name){var r={};r.esn=e.serialNumber,r.deviceType=e.type,r.stagedWithPin=a.stagedWithPin,r.group=n.getSelectedDevice().group,i.push(r)}})),a.devices=i),angular.isDefined(r)&&angular.isDefined(r.qualificationResult)?(a.qualification_result=r.qualificationResult,a.qualified="qualified"==r.qualificationResult):a.qualified=!1,a.planTypeAddon=!1,!a.planType||"ADD_ON_DATA"!==a.planType&&"ADD_ON_ILD"!==a.planType||(a.planTypeAddon=!0),a}};e.register("servicequalificationact",a)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{relatedParties:t.relatedParties,serviceCategory:t.serviceCategory,serviceSpecification:t.serviceSpecification,service:t.service,resources:t.resources}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.activation.byop.service_qualification_url,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},
okkoCodes:{}};t.register("tmoservicequalification",r)}])})(),(function(){var e={errorConfig:{999:"ERROR_1985646",10018:"ERROR_1985639",2001:"BAT_25218",2002:"BAT_25219",2003:"BAT_25220"},forward:function(e){return{relatedParties:e.relatedParties,serviceCategory:e.serviceCategory,serviceSpecification:e.serviceSpecification,service:e.service,resources:e.resource}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=e.response.response;return angular.isDefined(n)&&angular.isDefined(n.serviceCharacteristics)&&angular.forEach(n.serviceCharacteristics,(function(e,a){"isRealHandsetNeeded"===e.name&&(t.qualification_result=n.qualificationResult,t.serviceCharacteristicsName=e.name,t.serviceCharacteristicsValue=e.value)})),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("tmoservicequalification",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f){e.data={sim:"",esnsimmin:"",devicetype:""},e.init=function(){n.info("Inside ByopCollectMinController init method"),e.data.devicetype="BYOP"},e.closePopup=function(){l.dismiss("cancel")},e.checkActivationScenario=function(){n.debug("Inside ByopCollectMinController checkActivationScenario method -- ",e.data.min);var t={};t.min=e.data.min,t.flow="EXSITING_NUMBER",v.validateActivationScenario(t).then((function(t){if(n.debug("validateActivationScenario",t),"COLLECT_PIN_PLAN"==t.redirect)n.debug("validateActivationScenario::COLLECT_PIN_PLAN"),e.closePopup(),g.redirect(m.activation.pinserviceplan);else if("COLLECT_PLAN"==t.redirect)n.debug("validateActivationScenario::COLLECT_PLAN"),e.closePopup(),g.redirect(m.activation.serviceplan);else if("ACTIVATION_LOGIN"==t.redirect)n.debug("validateActivationScenario::ACTIVATION_LOGIN"),e.closePopup(),g.redirect(m.myaccount.createaccount.createnewaccount);else if("PORT_PIN_INSTRUCTIONS"==t.redirect)n.debug("validateActivationScenario::PORT_PIN_INSTRUCTIONS"),e.closePopup(),g.redirect(m.activation.portupgradeinstructions);else if("ACT_PIN_INSTRUCTIONS"==t.redirect)n.debug("validateActivationScenario::ACT_PIN_INSTRUCTIONS"),e.closePopup(),g.redirect(m.activation.pininstructions);else if("CHECKOUT"==t.redirect)n.debug("validateActivationScenario::CHECKOUT"),e.closePopup(),g.redirect(m.activation.checkout);else if("PIN_CHECKOUT"==t.redirect)n.debug("flashSuccessResponse::PIN_CHECKOUT"),$devicesCartServices.getSavedDevices().length>0&&angular.isUndefined(s.getSelectedDevice().group)?v.stageWithPinOrPlan({}).then((function(e){n.info("flashSuccessResponse stageDevice ",e),g.redirect(m.activation.pincheckout)})).catch((function(t){n.info("flashSuccessResponse stageDevice stageWithPinOrPlan Failed",t),i.handleError(t,e)})):g.redirect(m.activation.pincheckout);else if("EXTERNAL_PORT"==t.redirect)n.debug("validateActivationScenario::EXTERNAL_PORT"),e.closePopup(),g.redirect(m.activation.externalport);else if("INTERNAL_PORT"==t.redirect)n.debug("validateActivationScenario::INTERNAL_PORT"),e.closePopup(),g.redirect(m.activation.internalport);else if("UPGRADE_POPUP"==t.redirect){n.debug("validateActivationScenario::UPGRADE_POPUP"),e.closePopup();f.open({animation:!1,templateUrl:"app/views/activation/collectphonenumber/activate_phone_later_popup_acre_110.2.html",controller:"activatelaterpopup_controller",size:"md",windowTopClass:"tf-modal",resolve:{}})}else"PHONE_UPGRADE"==t.redirect&&(n.debug("validateActivationScenario::PHONE_UPGRADE"),e.closePopup(),g.redirect(m.activation.portupgrade))})).catch((function(t){n.debug("validateActivationScenario:: Setting activation-error",t),i.handleError(t,e)}))}}angular.module("app").controller("byopcollectmincontroller",e),e.$inject=["$scope","$q","$log","$location","$errorHandler","$serviceUtils","$accountService","$deviceService","$byopCtrlService","$uibModalInstance","$checkscenario","$userService","$appConstants","$actreactportUpgradeService","$done","$appRoutes","$uibModal"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d){e.closePopup=function(){n.dismiss("cancel")},e.selectSimSize=function(){e.postProcess()}}angular.module("app").controller("deviceAgreementController",e),e.$inject=["$scope","$log","$uibModalInstance","$location","$appConstants","$routeParams","$window","$locationUriConfig","$byopCtrlService","$rootScope","$appConfig"]})(),(function(){"use strict";function e(e,t,n,a){e.closePopup=function(){t.dismiss("cancel")},e.shopPhone=function(){t.dismiss("cancel"),n.location.href=a.coveragecheck.shopphonesurl}}angular.module("app").controller("carriernoteligible",e),e.$inject=["$scope","$uibModalInstance","$window","$appConfig"]})(),(function(){"use strict";function e(e,t){e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("carriertypepopup",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{zipcode:t.zipcode,device_type:t.device_type,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{coverage:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={forward:function(t){return{zipcode:t.zipcode,device_type:t.device_type,carrier:t.carrier,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{coverage:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},o={zip:{url:a.activation.byop.check_coverage.zip,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:["11020","11021"],okkoCodes:{}},carrier:{url:a.activation.byop.check_coverage.carrier,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:["11020","11021"],okkoCodes:{}}};t.register("checkcoverage",o)}])})(),(function(){var e={errorConfig:{},forward:function(e){return{zipcode:e.zipcode,device_type:e.device_type,carrier:e.carrier}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.qualified_carriers=[],angular.isDefined(e.coverage)&&(t.qualified_carriers=e.coverage.qualifiedCarriers,t.qualification_result=e.coverage.qualificationResult,t.location=e.coverage.location.postalAddress.zipcode),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("checkcoverage",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{category:n.service_prvoviders,partyTransactionID:n.partytransactionval,partyID:e.servicePartyId,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.activation.byop.check_coverage.service_providers,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("serviceproviders",r)}])})(),(function(){"use strict";function e(e,t,n,a,i,r){e.shopsimurl=n.unlockphone.shopsimurl,e.close=function(){t.dismiss("cancel")},e.closePopup=function(){e.close(),i.redirect(r.activation.carrier.unlock.closebutton)},e.attPortal=function(){$log.info("attportal button clicked"),a.location.href=n.carrier.attdeviceunlockurl,e.close()}}angular.module("app").controller("unlockPhone",e),e.$inject=["$scope","$uibModalInstance","$appConfig","$window","$done","$appRoutes"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){var n={brandName:e.brand,sourceSystem:e.source_system,language:e.language,productSerialNumber:t.productSerialNumber,zipcode:t.zipcode,carrier:t.carrier,background:!0};return angular.isDefined(t.context)&&(n.context=t.context),n},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.activation.byop.check_eligible.url,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("check_eligibility_service",i)}])})(),(function(){var e={forward:function(e){var t={productSerialNumber:e.productSerialNumber,zipcode:e.zipcode,carrier:e.carrier};return angular.isDefined(e.context)&&(t.context=e.context),t},backward:function(e){var t={};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,"0"==t.error_code){var n=e.response.response,a=n.serviceCharacteristic;angular.isDefined(a)&&a.length>0&&angular.forEach(a,(function(e,n){angular.equals(e.name,"isLTE")&&(t.is_lte=!!angular.equals("Yes",e.value)),angular.equals(e.name,"isBYOPEligible")&&(t.is_eligible=!!angular.equals("Yes",e.value)),angular.equals(e.name,"isSIMPurchaseRequired")&&(t.is_sim_purch_required=angular.equals("Yes",e.value)?"Y":"N"),angular.equals(e.name,"isSimRequired")&&(t.isSimRequired=!!angular.equals("Yes",e.value))})),angular.isDefined(n.serviceSpecification)&&angular.isDefined(n.serviceSpecification.lifecycleStatus)&&(t.lifecycleStatus=n.serviceSpecification.lifecycleStatus)}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("check_eligibility_service",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r){e.data={zipCode:""},e.collectZip=function(){t.debug("keepcollectphonecontroller::Process Flow ",e.data.zipCode);var n={};n.zipCode=e.data.zipCode,n.flow="NEW_NUMBER",o(n)};var o=function(o){t.debug("keepcollectphonecontroller::Process Flow ",o),n.validateActivationScenario(o).then((function(e){if(t.debug("validateActivationScenario",e),"COLLECT_PIN_PLAN"==e.redirect)t.debug("validateActivationScenario::COLLECT_PIN_PLAN"),a.redirect(i.activation.hotspot.zipcode.pinserviceplan);else if("COLLECT_PLAN"==e.redirect)t.debug("validateActivationScenario::COLLECT_PLAN"),a.redirect(i.activation.hotspot.zipcode.serviceplan);else if("ACTIVATION_LOGIN"==e.redirect)t.debug("validateActivationScenario::ACTIVATION_LOGIN"),a.redirect(i.activation.hotspot.zipcode.createnewaccount);else if("PORT_PIN_INSTRUCTIONS"==e.redirect)t.debug("validateActivationScenario::PORT_PIN_INSTRUCTIONS"),a.redirect(i.activation.hotspot.zipcode.portupgradeinstructions);else if("ACT_PIN_INSTRUCTIONS"==e.redirect)t.debug("validateActivationScenario::ACT_PIN_INSTRUCTIONS"),a.redirect(i.activation.hotspot.zipcode.pininstructions);else if("CHECKOUT"==e.redirect)t.debug("validateActivationScenario::CHECKOUT"),a.redirect(i.activation.hotspot.zipcode.checkout);else if("EXTERNAL_PORT"==e.redirect)t.debug("validateActivationScenario::EXTERNAL_PORT"),a.redirect(i.activation.hotspot.zipcode.externalport);else if("INTERNAL_PORT"==e.redirect)t.debug("validateActivationScenario::INTERNAL_PORT"),a.redirect(i.activation.hotspot.zipcode.internalport);else if("UPGRADE_POPUP"==e.redirect){t.debug("validateActivationScenario::UPGRADE_POPUP");$uibModal.open({animation:!1,templateUrl:"app/views/activation/collectphonenumber/activate_phone_later_popup_acre_110.2.html",controller:"activatelaterpopup_controller",size:"md",windowTopClass:"tf-modal",resolve:{}})}else"PHONE_UPGRADE"==e.redirect&&(t.debug("validateActivationScenario::PHONE_UPGRADE"),a.redirect(i.activation.hotspot.zipcode.portupgrade))})).catch((function(n){t.debug("validateActivationScenario:: Setting activation-error",n),r.handleError(n,e)}))}}angular.module("app").controller("collectdevicezipcontroller",e),e.$inject=["$scope","$log","$actreactportUpgradeService","$done","$appRoutes","$errorHandler"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language,clientAppName:n.clientAppName,clientAppVersion:n.clientAppVersion,deviceModel:n.deviceModel,OSVersion:n.OSVersion},request:{relatedParties:[{party:{partyID:e.servicePartyId,languageAbility:e.language,partyExtension:[{name:n.partytransactionid,value:n.partytransactionval},{name:n.sourcesystem,value:e.source_system}]},roleType:n.roletypea}],resource:{location:{postalAddress:{zipcode:t.zipcode}},association:{role:n.byop_register},resourceSpecification:{brand:e.brand},physicalResource:t.physicalResource,supportingLogicalResources:t.supportingLogicalResources}}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={registerbyop:{url:a.activation.byop.register_byop.url,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("byop_register_service",r)}])})(),(function(){var e={forward:function(e){return{zipcode:e.zipcode,physicalResource:e.physicalResource,supportingLogicalResources:e.supportingLogicalResources}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("byop_register_service",e)}])})(),angular.module("app").component("termsConditionsPopup",{templateUrl:"app/views/activation/collectsim/byop/termsconditionspopup/termsconditionspopup_acre_101.2_view.html",bindings:{close:"&",resolve:"<"},controller:["$scope","$done","$appRoutes",function(e,t,n){e.close=function(){e.$ctrl.close()},e.closePopup=function(){e.close(),t.redirect(n.activation.termsconditionspopup.closebutton)},e.action=function(a){"decline"==a?(e.close(),t.redirect(n.activation.termsconditionspopup.declinebutton)):"accept"==a&&(e.$ctrl.resolve.buttonAction.toggle=!0,e.close())}}]}),(function(){"use strict";function e(e,t,n,a){e.closePopup=function(){n.dismiss("cancel")},e.buysim=function(){a.resolve(!0),e.closePopup()},e.continueTransaction=function(){e.closePopup()}}angular.module("app").controller("transactionPopupCtrl",e),e.$inject=["$scope","$log","$uibModalInstance","callback"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.close=function(){s.dismiss("cancel")}}angular.module("app").controller("portableRequirementsCtrl",e),e.$inject=["$scope","$q","$log","$location","$errorHandler","$serviceUtils","$accountService","$uibModalInstance","$addressservice"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{category:t.category,partyTransactionID:n.partytransactionval,partyID:e.servicePartyId,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.ports.carriers_url,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("portcarriers",r)}])})(),(function(){var e={forward:function(e){return{category:e.category}},backward:function(e){var t={},n=[];t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var a=e.response.response;return angular.isDefined(a)&&angular.isDefined(a.specifications)&&angular.forEach(a.specifications,(function(e,a){if("CARRIER"==e.name){var i={};i.description=e.value,i.type=e.description,i.carriertype=e.type,n.push(i)}t.port_carriers=n})),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("portcarriers",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){var n=encodeURIComponent(t.carrierName);return{category:t.category,carrierName:n,carrierType:t.carrierType,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.ports.carriers_details,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("portcarriersdetails",r)}])})(),(function(){var e={forward:function(e){return{category:e.category,carrierName:e.carrierName,carrierType:e.carrierType}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=e.response.response,a={};return angular.isDefined(n)&&angular.isDefined(n.specifications)&&(angular.forEach(n.specifications,(function(e,t){angular.isDefined(e)&&"IsMinRequired"==e.name&&"Y"==e.value?a.IsMinRequired=!0:angular.isDefined(e)&&"IsMinRequired"==e.name&&"N"==e.value&&(a.IsMinRequired=!1),angular.isDefined(e)&&"isCurrentEsnRequired"==e.name&&"Y"==e.value?a.isCurrentEsnRequired=!0:angular.isDefined(e)&&"isCurrentEsnRequired"==e.name&&"N"==e.value&&(a.isCurrentEsnRequired=!1),angular.isDefined(e)&&"isAccountNumRequired"==e.name&&"Y"==e.value?a.isAccountNumRequired=!0:angular.isDefined(e)&&"isAccountNumRequired"==e.name&&"N"==e.value&&(a.isAccountNumRequired=!1),angular.isDefined(e)&&"isPasswordPinRequired"==e.name&&"Y"==e.value?a.isPasswordPinRequired=!0:angular.isDefined(e)&&"isPasswordPinRequired"==e.name&&"N"==e.value&&(a.isPasswordPinRequired=!1),angular.isDefined(e)&&"isVKeyRequired"==e.name&&"Y"==e.value?a.isVKeyRequired=!0:angular.isDefined(e)&&"isVKeyRequired"==e.name&&"N"==e.value&&(a.isVKeyRequired=!1),angular.isDefined(e)&&"isFullNameRequired"==e.name&&"Y"==e.value?a.isFullNameRequired=!0:angular.isDefined(e)&&"isFullNameRequired"==e.name&&"N"==e.value&&(a.isFullNameRequired=!1),angular.isDefined(e)&&"isBillingAddressRequired"==e.name&&"Y"==e.value?a.isBillingAddressRequired=!0:angular.isDefined(e)&&"isBillingAddressRequired"==e.name&&"N"==e.value&&(a.isBillingAddressRequired=!1),angular.isDefined(e)&&"isLast4SSNRequired"==e.name&&"Y"==e.value?a.isLast4SSNRequired=!0:angular.isDefined(e)&&"isLast4SSNRequired"==e.name&&"N"==e.value&&(a.isLast4SSNRequired=!1),angular.isDefined(e)&&"isAccountAlphaNumeric"==e.name&&"Y"==e.value?a.isAccountAlphaNumeric=!0:angular.isDefined(e)&&"isAccountAlphaNumeric"==e.name&&"N"==e.value&&(a.isAccountAlphaNumeric=!1),angular.isDefined(e)&&"isPinAlphaNumeric"==e.name&&"Y"==e.value?a.isPinAlphaNumeric=!0:angular.isDefined(e)&&"isPinAlphaNumeric"==e.name&&"N"==e.value&&(a.isPinAlphaNumeric=!1),angular.isDefined(e)&&angular.isDefined(e.name)&&"carrierAccount"==e.name&&angular.isDefined(e.description)&&angular.isDefined(e.value)&&("Landline"==e.description?a.carrierAccLandlineRegEx=e.value:a.carrierAccWirelessRegEx=e.value),angular.isDefined(e)&&angular.isDefined(e.name)&&"carrierPin"==e.name&&angular.isDefined(e.description)&&angular.isDefined(e.value)&&("Landline"==e.description?a.carrierPinLandlineRegEx=e.value:a.carrierPinWirelessRegEx=e.value)})),t.carrierOptions=a),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("portcarriersdetails",e)}])})(),(function(){var e={forward:function(e){return{}},backward:function(e){var t={},n=[];t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var a=e.response.response;return angular.isDefined(a)&&angular.isDefined(a.specifications)&&angular.forEach(a.specifications,(function(e,a){n.push(e),t.service_providers=n})),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("serviceproviders",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.min}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={esn:{url:n.rpe.clear_ota,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("clearota",i)}])})(),(function(){var e={forward:function(e){return{min:e.min}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("clearota",e)}])})(),(function(){"use strict";function e(e,t,n){e.close=function(){t.dismiss("cancel")},e.continue=function(){e.close(),n.resolve(!0)},e.cancel=function(){e.close(),n.resolve(!1)}}angular.module("app").controller("confirmPopupController",e),e.$inject=["$scope","$uibModalInstance","callback"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.closePopup=function(){a.dismiss("cancel"),r.clearFlashDetails(),r.clearSelectedDevice(),n.clearFlashDetails()},e.init=function(){var n=angular.copy(r.getSelectedDevice().flashMessage);e.flash_alert=angular.copy(n),e.flash_alert.flashText=i.trustAsHtml(n.flashText),"es_ES"==s.lang_key&&n.flashSpanishText&&(e.flash_alert.flashText=i.trustAsHtml(n.flashSpanishText)),n.urlText&&(t.debug("flash urlText present ...",n),e.flash_alert.urlText={},e.flash_alert.link={},e.flash_alert.urlText=i.trustAsHtml(n.urlText),e.flash_alert.link=i.trustAsHtml(n.link))},e.continueFlash=function(){t.debug("flash Continue"),r.getSelectedDevice().flashMessage=void 0,o.resolve(!0),a.dismiss("cancel")}}angular.module("app").controller("flashCtrl",e),e.$inject=["$scope","$log","$promoService","$uibModalInstance","$sce","$deviceService","callback","$rootScope"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.init=function(){t.info("otapendingCtrl::Init seleted device",i.getSelectedDevice()),i.clearDeviceOTAByMin(i.getSelectedDevice()).then((function(e){t.info("otapendingCtrl::ota clearotaresponse")})).catch((function(n){t.warn(n),r.handleError(n,e)}))},e.closePopup=function(){i.clearSelectedDevice(),n.dismiss("cancel")},e.otaContinue=function(){e.closePopup()}}angular.module("app").controller("otapendingCtrl",e),e.$inject=["$scope","$log","$uibModalInstance","callback","$deviceService","$errorHandler"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.init=function(){e.paypalPaymentDetails=r.getPaypalSuccessDetails()},e.redirect=function(){a.dismiss("cancel"),o.resolve(!0)}}angular.module("app").controller("paypalSuccessCtrl",e),e.$inject=["$scope","$log","$promoService","$uibModalInstance","$sce","$deviceService","callback","$rootScope"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.close=function(){a.debug("refillforfriendcontroller:: Close"),i.dismiss("cancel"),s.redirect(s.rpe.redemption.collectminpinpromo)},e.logout=function(){a.debug("refillforfriendcontroller:: inside logout method"),t.ronstokenExpiring(!0).then((function(t){e.close()}))}}angular.module("app").controller("refillforfriendcontroller",e),e.$inject=["$scope","$userService","$q","$log","$uibModalInstance","$deviceService","$done","$appRoutes"]})(),(function(){"use strict";function e(e,t,n){e.redirect=function(){n.selectDevice(e.$resolve.device),t.url("/serviceplan")}}angular.module("app").controller("selectPlanCtrl",e),e.$inject=["$scope","$location","$deviceService"]})(),(function(){"use strict";function e(e,t,n,a){e.close=function(){e.redirect()},e.redirect=function(){t.dismiss("cancel"),n.isLoggedIn()?a.resolve(!0):a.resolve(!1)}}angular.module("app").controller("transactionfailctrl",e),e.$inject=["$scope","$uibModalInstance","$userService","callback"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.addonPopUpCheckout=function(){t.debug("addonpopupcontroller::Selected Addonn Plan !! "),angular.forEach(e.plans.addon,(function(e,t){e.checked&&i.addPlanToCart(e)})),e.closePopup(!0),t.debug("Logged single Go for TAX caluculation");var o={};o.renewalType="SINGLE_LINE",r.estimatePlanSelection(o).then((function(e){t.debug("Logged single Go for TAX caluculation retuned"),n.redirect(a.rpe.redemption.checkout)})).catch((function(n){t.debug("remove dummy account failed !!!!  Setting activation-error",n),$errorHandler.handleError(n,e)}))}}angular.module("app").controller("addonpopupcontroller",e),e.$inject=["$scope","$log","$done","$appRoutes","$cartService","$renewalservices"]})(),(function(){"use strict";function e(e,t,n,a,i){e.init=function(){e.ildplan=i.getStagedPlan()},e.addToCartEnroll=function(){t.debug("addonRefillCheckController addToCartEnroll !!"),i.getStagedPlan().auto_refill=!0,i.addPlanToCart(i.getStagedPlan()),e.closePopup(!0),n.redirect(a.rpe.redemption.checkout)},e.addToCartOneTimePurch=function(){t.debug("addonRefillCheckController addToCartOneTimePurch !!"),i.addPlanToCart(i.getStagedPlan()),e.closePopup(!0),n.redirect(a.rpe.redemption.checkout)}}angular.module("app").controller("addonRefillCheckController",e),e.$inject=["$scope","$log","$done","$appRoutes","$cartService"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d){e.isNavVisible=function(){return a.cartnav_visible=e.isShopping()||e.isCheckout()&&!e.isShopping()||e.isOrderConfirmation()||e.isShopping()&&!e.isCheckout()||e.isInstructionsOrShipping(),e.isShopping()||e.isCheckout()&&!e.isShopping()||e.isOrderConfirmation()||e.isShopping()&&!e.isCheckout()||e.isInstructionsOrShipping()},e.isOrderConfirmation=function(){return"/redemptionconfirmation"==o.url()||"/purchasesummary"==o.url()||"/activation/confirmationupgrade"==o.url()||"/activation/redemptionconfirmation"==o.url()||"/activation/purchasesummary"==o.url()||"/protectyourphone/confirmation"==o.url()||"/activationcc/confirmation_activation"==o.url()||"/redemptionconfirmationSuccess"==o.url()||"/activationpin/withpin"==o.url()},e.isInstructionsOrShipping=function(){return"/shippingaddress/NANO"==o.url()||"/shippingaddress/MICRO"==o.url()||"/shippingaddress/STANDARD"==o.url()||"/activation/portupgradeinstructions/PIN_FLOW"==o.url()||"/activation/instructions/PIN_FLOW"==o.url()||"/activation/instructions"==o.url()||"/activation/portupgradeinstructions"==o.url()||"/activation/instructions1"==o.url()||"/activation/pininstructions/PIN_FLOW"==o.url()},e.isCheckout=function(){return"/checkout"==o.url()},e.checkout=function(){return o.url("/checkout")},e.isShopping=function(){return(!e.isCheckout()||c.checkIfEnrollFlowPlan()||l.isActivationFlow(l.getSelectedDevice()))&&!e.isOrderConfirmation()&&e.isCartNavVisible()&&!e.isInstructionsOrShipping()},e.continueShopping=function(){o.url("/serviceplan/"+l.getSelectedDevice().min)},e.getCartCount=function(){return angular.isDefined(c.getPlans())?c.getPlans().length:0},e.isCartNavVisible=function(){return angular.isDefined(c.getPlans())&&c.getPlans().length>0||"/redemptionconfirmation"==o.url()||"/purchasesummary"==o.url()||"/activation/instructions"==o.url()||"/activation/instructions/PIN_FLOW"==o.url()||"/activation/portupgradeinstructions"==o.url()||"/activation/portupgradeinstructions/PIN_FLOW"==o.url()||"/activation/confirmationupgrade"==o.url()||"/activation/redemptionconfirmation"==o.url()||"/activation/purchasesummary"==o.url()||"/protectyourphone/confirmation"==o.url()},e.print=function(){d.print()},e.email=function(){r.open({animation:!1,templateUrl:"app/views/rpe/cart/sendemail_view_rpe_105_2_1.html",controller:"sendemailcontroller",size:"md",windowTopClass:"tf-modal"})}}angular.module("app").controller("cartnavController",e),e.$inject=["$scope","$userService","$q","$rootScope","$log","$uibModal","$location","$errorHandler","$cartService","$deviceService","$window"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l){e.showPromotionsPopup=function(){r.open({animation:!1,templateUrl:"app/views/rpe/cart/serviceplancartpopup_view.html",controller:"popupController",size:"md",windowTopClass:"tf-modal",resolve:{}})},e.collectDevice=function(){r.open({animation:!1,templateUrl:"app/views/rpe/cart/collectphonenumber_view_rpe_103_14_1.html",controller:"collectPhoneNumber",size:"md",windowTopClass:"tf-modal",scope:e})},e.addToCartPopUp=function(t){i.debug("cartpopupController  addToCartPopUp !!! "+t),s.stagePlan(t),c.hasSelectedDevice()?e.showPromotionsPopup():e.collectDevice()},e.validateDevice=function(t){c.validateUserDevice({device:t}).then((function(n){c.selectDevice(n.svc_response),l.getServicePlanDetails({key:"MIN",value:t}).then((function(t){var n=s.getStagedPlan();e.serviceplans=t.service_plans,l.setPlans(t.plan_details);var a=!1;angular.forEach(t.service_plans,(function(e,t){e.plan_id==n.plan_id&&(a=!0)})),a?e.showPromotionsPopup():s.clearStagedPlan()})).catch((function(t){o.handleError(t,e)}))})).catch((function(t){o.handleError(t,e)}))}}angular.module("app").controller("cartpopupController",e),e.$inject=["$scope","$userService","$q","$rootScope","$log","$uibModal","$errorHandler","$cartService","$deviceService","$servicePlanSelectorService"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p){e.model={},e.view={isMultiline:s.features.multiline,isCarSmartPlanSelected:!1,isEmergencyConnectPlanSelected:!1,filtered_devices:[]},e.sitekey=s.recaptcha.sitekey,e.secretkey=s.recaptcha.secretkey,e.brand=s.brand,"false"==sessionStorage.getItem("$disablecaptcha")?e.skiprecaptcha=!1:e.skiprecaptcha=!0,e.init=function(){if(console.log("Init function called -> ",o.getStagedPlan()),o.getStagedPlan()){var t=o.getStagedPlan();t.servicePlanGroup&&(e.view.isCarSmartPlanSelected="M2M_DATA"==t.servicePlanGroup,e.view.isEmergencyConnectPlanSelected="M2M_WER_PERS"==t.servicePlanGroup)}e.data.active_devices.length>0&&(e.view.isEmergencyConnectPlanSelected?angular.forEach(e.data.active_devices,(function(t,n){"M2M_WER_PERS"==t.deviceType&&e.view.filtered_devices.push(t)})):angular.forEach(e.data.active_devices,(function(t,n){"M2M_WER_PERS"!=t.deviceType&&e.view.filtered_devices.push(t)})))},e.closePopup=function(a){t.debug("User closed the popup !!! "),e.data.active_devices=[],n.dismiss("cancel")},e.saveDevice=function(){if(d.get(u.session.enhanced_popup)&&!e.skiprecaptcha){var n=l.getResponse();if(!angular.isDefined(n)||""==n)return e.errMsgRecaptcha={error:"Please complete the reCAPTCHA challenge"},!1}t.debug("collectPhoneNumber::",e.model.min,e.data.device);var a,i,o;e.model.min?a=e.model.min:(a=e.data.device.min,i=e.data.device.esn,o=e.data.device.deviceType,r.selectDevice(e.data.device)),"TOTAL_WIRELESS"==s.brand&&r.setShopPlansFlow(!0),e.validateDevice({min:a,esn:i,deviceType:o,discountEligible:!0})},e.newCustomer=function(){n.dismiss("cancel"),o.getStagedPlan()&&o.addPlanToCart(o.getStagedPlan()),a.redirect(i.activation.deviceselection.selectdevice.device)},e.redirectWithPlanSelection=function(e){var a;a="SPA"!=s.language?e?s.unlockphone.shopsimurl:s.coveragecheck.shopphonesurl:e?s.unlockphone.shopsimurl_es:s.coveragecheck.shopphonesurl_es,o.getStagedPlan()&&(a+=a.indexOf("?")>0?"&":"?",a+="partnumber="+o.getStagedPlan().part_number),t.debug("redirectTo ",a),void 0!=a&&""!=a?c.location.href=a:n.dismiss("cancel")},e.shopCarSmartDevice=function(){var e="SPA"!=s.language?s.shop.carsmart_en_url:s.shop.carsmart_es_url;t.info("Redirect Commerce URL - ",e),c.location.href=e},e.shopEmergencyConnectDevice=function(){var e="SPA"!=s.language?s.shop.signaldevice_en_url:s.shop.signaldevice_es_url;t.info("Redirect Commerce URL - ",e),c.location.href=e},e.isFilteredDeviceListEmpty=function(){return e.view.filtered_devices.length>0},e.gettingStarted=function(){p.url("/gettingstarted")}}angular.module("app").controller("collectPhoneNumber",e),e.$inject=["$scope","$log","$uibModalInstance","$done","$appRoutes","$deviceService","$cartService","$appConfig","$window","$reCaptchaService","$sessionService","$appConstants","$location"]})(),(function(){"use strict";function e(e,t){e.close=function(){t.dismiss("cancel")},e.addpin=function(){}}angular.module("app").controller("collectpinpopupctrl",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d){e.close=function(){r.clearSelectedDevice(),a.dismiss("cancel")},e.gotToActivation=function(){a.dismiss("cancel"),t.log("in new device $scope.newdevice::",e.newdevice),t.log("$deviceService.getSelectedDevice() ::",r.getSelectedDevice());var i=void 0,u=!1
;if(angular.isDefined(r.getSelectedDevice()))i=r.getSelectedDevice().deviceType,d.isSim(e.newdevice)&&r.getSelectedDevice().esn&&(u=!0),t.debug("isMarriedSim::",u),t.debug("$deviceService.getSelectedDevice().esn::",r.getSelectedDevice().esn),r.clearSelectedDevice(),i==l.byop||i==l.byod||i==l.byot||d.isSim(e.newdevice)&&!u?o.redirect(s.activation.deviceselection.selectdevice.byop,{newdevice:e.newdevice,serviceplan:e.data.selectedPlan}):c.isBrandMultiLine()?o.redirect(s.activation.deviceselection.selectdevice.branded.sim,{newdevice:e.newdevice,serviceplan:e.data.selectedPlan}):o.redirect(s.activation.deviceselection.selectdevice.branded.esn,{newdevice:e.newdevice,serviceplan:e.data.selectedPlan});else{var p={error_code:"-10108",error_message:"We are sorry. We cannot complete your request at this time.",error_translate:"ERROR_1985929",error_type:"FAILURE"};n.handleError(p,e)}}}angular.module("app").controller("newdevicepopupcontrolller",e),e.$inject=["$scope","$log","$errorHandler","$uibModalInstance","$userService","$deviceService","$done","$appRoutes","$devicesCartServices","$appConstants","$utils"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.selectedPlanData=""!==r.getStagedPlan().enrollmentARScriptMessage,e.addToCartEnroll=function(){s.setAutoPayFlag(!1),a.info("refillCheckController::addToCartEnroll::user select enroll",r.getStagedPlan()),r.getStagedPlan()&&(r.getStagedPlan().isILDVas?(r.getStagedPlan().auto_refill=!0,o.setUserSelectLowBalanceEnroll(!0)):o.setUserSelectAutoRefill(!0),r.addPlanToCart(r.getStagedPlan()),r.clearStagedPlan()),e.addonOptions()},e.addToCartOneTimePurch=function(){s.setAutoPayFlag(!1),a.info("refillCheckController::addToCartOneTimePurch::user select onetime purchase",r.getStagedPlan()),r.getStagedPlan()&&(r.getStagedPlan().isILDVas?r.getStagedPlan().auto_refill=!1:o.setUserSelectAutoRefill(!1),r.addPlanToCart(r.getStagedPlan()),r.clearStagedPlan()),e.addonOptions()},e.addonPopUpCheckout=function(){a.debug("refillCheckController::Selected Addonn Plan !! ",r.getStagedPlan()),r.getStagedPlan()&&(r.addPlanToCart(r.getStagedPlan()),r.clearStagedPlan()),angular.forEach(e.plans.addon,(function(e,t){e.checked&&r.addPlanToCart(e)})),e.buildCartForCheckout()},e.closePopup=function(e){$uibModalInstance.dismiss("cancel")}}angular.module("app").controller("refillCheckController",e),e.$inject=["$scope","$userService","$q","$log","$uibModal","$cartService","$devicesCartServices","$deviceService"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u){e.data={},e.closePopup=function(e){i.debug("User closed the popup !!! "),r.dismiss("cancel")},e.init=function(){n.isLoggedIn()&&(e.data.user_email=n.getEmail())},e.sendEmail=function(){s.clearError(e);var t=angular.element(document.querySelector(l.email_div)).html();i.debug(t),console.log(t),d.sendemail({to:e.data.user_email,from:l.email_from,subject:l.email_subject,body:t}).then((function(t){i.debug("sendEmail succcessfull."),e.success=!0})).catch((function(t){i.warn(t),s.handleError(t,e)}))}}angular.module("app").controller("sendemailcontroller",e),e.$inject=["$scope","$q","$userService","$rootScope","$log","$uibModalInstance","$uibModal","$errorHandler","$serviceUtils","$appConstants","$emailservice","$appConfig"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants","$rootScope",function(e,t,n,a,i){var r={forward:function(t){var n=t.email[0].body.replace(a.email_dquote_symbol,a.email_dquote_replace).replace(a.email_percentage_symbol,a.email_percentage_replace).replace(/http:\/\/sitci\.tracfone.com\/tracfone/gi,e.domain);return t.email[0].body=n,{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{type:t.type,email:t.email}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},o={sendemail:{url:n.rpe.send_email,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("sendemail",o)}])})(),(function(){var e={errorConfig:{10200:"ERROR_1985661",10300:"ERROR_1985130","-100":"ERROR_1985653"},forward:function(e){return{type:"EMAIL",email:[{fromEmail:e.from,toEmail:[e.to],subject:e.subject,body:e.body}]}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}};angular.module("app").run(["$voMapConfig",function(t){t.register("sendemail",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f){e.data={renewalOptions:{}},e.isServicePlanFormVisible=!1,e.isAddOnPlanFormVisible=!1,e.IsILD=m.isILDVas,e.showRefill=function(){e.isServicePlanFormVisible=!0,e.isAddOnPlanFormVisible=!1},e.showAddon=function(t){a.debug("popup Acontroller:: Showaddon",t),e.isServicePlanFormVisible=!1,e.isAddOnPlanFormVisible=!0},e.init=function(){e.data.renewalOptions=d,a.debug("sevirceplan popup init::",l.getPlans()),e.data.selectedPlan=l.getPlans(),e.isServicePlanFormVisible=!0},e.closePopup=function(e){e||l.removeCartPlan(l.getStagedPlan()),i.dismiss("cancel")},e.addonOptions=function(){a.debug("popupController addonOptions::",e.data.renewalOptions);if(f.isActivationFlow()){var t={};t.enrollmentCheck=!1,t.discountvalidation=p.getUserSelectAutoRefill(),e.postActivationPlanSelction(t)}else e.buildCartForCheckout(),e.closePopup(!0)}}angular.module("app").controller("popupController",e),e.$inject=["$scope","$q","$rootScope","$log","$uibModalInstance","$location","$done","$appRoutes","$uibModal","$cartService","renewalOptions","$userService","$devicesCartServices","$errorHandler","$accountService","selectedPlan","$deviceService"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{min:t.min,esn:t.esn,iccid:t.iccid},account_id:t.account_id}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={account:{url:n.rpe.add_device_to_account,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","20100","10200","12300","12301","10100"],koCodes:{},okkoCodes:{}}};t.register("confirmation",i)}])})(),(function(){function e(e){return{forward:function(e){return{account_id:e.account_id,esn:e.esn,min:e.min,iccid:e.iccid}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type}}}}angular.module("app").factory("$voConfirmationConfig",e),e.$inject=["$appConfig"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.validatePinPromo=function(){t.set(a.session.device,e.data.device),t.set(a.session.pin,e.data.pin),t.set(a.session.context,"REDEMPTION"),r.info("Inside validatePinPromo::",e.data),n.redirect(i.rpe.redemption.purchaseplan)},e.validateForRenewal=function(){t.set(a.session.device,e.data.renew_device),t.set(a.session.context,"PURCHASE"),r.info("Inside validateForRenewal::",e.data),n.redirect(i.rpe.redemption.purchaseplan)}}angular.module("app").controller("redemptionHomeController",e),e.$inject=["$scope","$sessionService","$done","$appConstants","$appRoutes","$log"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{min:t.min,esn:t.esn,promoCode:t.promo,redeemNow:"true"},pinCard:t.pin}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={pin:{url:n.rpe.redemption.pin,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("redeempin",i)}])})(),(function(){var e={errorConfig:{10600:"ERROR_1985241"},forward:function(e){return{min:e.min,esn:e.esn,promo:e.promo,pin:e.pin}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:e.response.response}}};angular.module("app").run(["$voMapConfig",function(t){t.register("redeempin",e)}])})(),(function(){"use strict";function e(e,t){e.close=function(){t.dismiss("cancel")},e.onephone=function(){},e.mtlphones=function(){}}angular.module("app").controller("snglmultiphonepopctrl",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{min:t.min,esn:t.esn,promotionCode:t.promo,transactionType:t.transtype,transactionAmount:t.transactionAmount,cardIdentifier:t.cardIdentifier}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,promotionUnits:e.response.promotionUnits,promotionDays:e.response.promotionDays,promotionDiscount:e.response.promotionDiscount,deviceType:e.response.deviceType,sms:e.response.sms,data:e.response.data}}},i={url:n.rpe.redemption.validate_promo,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("validatepromo",i)}])})(),(function(){var e={forward:function(e){return{min:e.min,esn:e.esn,promo:e.promo,transtype:e.transtype,transactionAmount:e.transactionAmount,cardIdentifier:e.cardIdentifier}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,promotionUnits:e.promotionUnits,promotionDays:e.promotionDays,promotionDiscount:e.promotionDiscount,deviceType:e.deviceType,sms:e.sms,data:e.data}}};angular.module("app").run(["$voMapConfig",function(t){t.register("validatepromo",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c){e.enrollToAutoPay=function(){a.setUserSelectAutoRefill(!0),$deviceService.setCheckoutFlowFlag(!0),o.estimatePlanSelection().then((function(n){t.debug("tax_summary information --\x3e ",a.getTaxes()),e.closePopup(),i.redirect(r.myaccount.dashboard.bandetails.actrenewal)})).catch((function(n){t.warn(n),s.handleError(n,e)}))},e.noEnrollToAutoPay=function(){a.setUserSelectAutoRefill(!1),$deviceService.setCheckoutFlowFlag(!0),o.estimatePlanSelection().then((function(n){t.debug("tax_summary information --\x3e ",a.getTaxes()),e.closePopup(),i.redirect(r.myaccount.dashboard.bandetails.actrenewal)})).catch((function(n){t.warn(n),s.handleError(n,e)}))},e.closePopup=function(){c.dismiss("cancel")}}angular.module("app").controller("autopaypoupcontroller",e),e.$inject=["$scope","$log","$q","$devicesCartServices","$done","$appRoutes","$renewalservices","$errorHandler","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n,a){e.brandName=a.brand,e.directToPlansPage=function(){n.resolve(!0),e.close()},e.close=function(){t.dismiss("cancel")}}angular.module("app").controller("blockPopupController",e),e.$inject=["$scope","$uibModalInstance","callback","$appConfig"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.data={serviceEndDate:""},a.getSelectedDevice()&&(e.data.serviceEndDate=new Date(a.getSelectedDevice().svcstartDate)),i.setIsChngPlanRenewal(!1),e.close=function(){t.debug("inside changePlanPopupCtrl close poup seting the renewal flag:: ",i.getIsChngPlanRenewal()),n.dismiss("cancel")},e.confirm=function(){t.debug("inside changePlanPopupCtrl:: ",i.getIsChngPlanRenewal()),i.setIsChngPlanRenewal(!0),t.debug("inside changePlanPopupCtrl after seting the renewal flag:: ",i.getIsChngPlanRenewal()),r.redirect(o.rpe.redemption.purchaseplan),n.dismiss("cancel")}}angular.module("app").controller("changePlanPopupCtrl",e),e.$inject=["$scope","$log","$uibModalInstance","$deviceService","$devicesCartServices","$done","$appRoutes"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c){e.close=function(){t.debug("inside reactconfirmcontroller close poupup:: "),n.dismiss("cancel")},e.confirm=function(){o.selectDevice(s.getSavedDevices()[0]),o.getSelectedDevice().isDeviceActivation=!0,a.redirect(i.rpe.redemption.purchaseplan),n.dismiss("cancel")}}angular.module("app").controller("reactconfirmcontroller",e),e.$inject=["$scope","$log","$uibModalInstance","$done","$appRoutes","$userService","$deviceService","$devicesCartServices","$appConstants"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.addToCartEnroll=function(){i.setUserSelectAutoRefill(!0),o.setAutoPayFlag(!1),n.debug(" addToCartEnroll::saved devices and taxes --\x3e ",i.getSavedDevices(),i.getTaxes()),r.resolve(!0),e.close()},e.addToCartOneTimePurch=function(){i.setUserSelectAutoRefill(!1),o.setAutoPayFlag(!1),n.debug(" addToCartOneTimePurch::saved devices and taxes --\x3e ",i.getSavedDevices(),i.getTaxes()),r.resolve(!1),e.close()},e.close=function(){a.dismiss("cancel")}}angular.module("app").controller("renewalPopupController",e),e.$inject=["$scope","$q","$log","$uibModalInstance","$devicesCartServices","callback","$deviceService"]})(),(function(){"use strict";function e(e,t,n,a){e.close=function(){t.dismiss("cancel")},e.confirm=function(){a.resolve(!0),t.dismiss("cancel")}}angular.module("app").controller("renewalDeviceCtrl",e),e.$inject=["$scope","$uibModalInstance","$deviceService","callback"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{identifier:t.ban_id,category:a.ban,lineInquiry:!0,zipcode:t.zipcode,background:t.background,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={url:n.my_account.dashboard.my_devices.accountrenewal,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("renewaliquiry",r)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985122",12600:"ERROR_1985165",20300:"ERROR_1985653"},forward:function(e){return{ban_id:e.ban_id,zipcode:e.zipcode}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.device_count=e.device_count,t.product_details=[],t.renewal_details={},angular.isDefined(e.billingAccount)&&(t.renewal_details.ban_id=e.billingAccount.id,angular.isDefined(e.billingAccount.products)&&angular.forEach(e.billingAccount.products,(function(e,n){var a={};a.product_serial_no=e.productSerialNumber,a.product_category=e.productCategory,a.related_services=e.relatedServices,t.product_details.push(a)})),t.customer_billing=e.billingAccount.customerBill,t.customerbill_taxes=e.billingAccount.customerBillTaxes,angular.isDefined(e.billingAccount.customerBillTaxes)&&(t.renewal_detailsrenewal_amount=e.billingAccount.customerBillTaxes.totalAmountsWithDiscountAndTaxes)),t}};angular.module("app").run(["$voMapConfig","$dateParser",function(t,n){t.register("renewaliquiry",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{context:t.context,planIdentifier:t.planIdentifier},min:t.device}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{context:t.context,planIdentifier:t.planIdentifier},esn:t.device}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={retentionbyesn:{url:n.rpe.retention_matrix.esn,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},retentionbymin:{url:n.rpe.retention_matrix.min,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("retentionmatrix",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$deviceService","$utils",function(e,t,n){var a={errorConfig:{1985878:"ERROR_1985878"},forward:function(e){return{device:e.device,context:e.context,planIdentifier:e.planIdentifier}},backward:function(e){var a={};if(a.error_code=e.error_code,a.error_message=e.error_message,a.error_type=e.error_type,a.isAddNow=!1,a.isAddLater=!1,a.isBoth=!1,a.isEnollNow=!1,a.isApplyNow=!1,a.isEnrollLater=!1,a.flow="",a.showRetentionWarnigs=!1,a.retention_flag="ADD_NOW","0"==a.error_code){var i=e.response.planActions;if(i.actions&&angular.forEach(i.actions,(function(e,t){angular.equals(e,"ADD_NOW")&&(a.isAddNow=!0,a.flow=e),angular.equals(e,"ADD_TO_RESERVE")&&(a.isAddLater=!0,a.flow=e),angular.equals(e,"ENROLL_NOW")&&(a.isEnollNow=!0,a.flow=e),angular.equals(e,"APPLY_NOW")&&(a.isApplyNow=!0,a.flow=e),angular.equals(e,"ENROLL_ON_DUE_DATE")&&(a.isEnrollLater=!0,a.flow=e)})),(a.isAddNow&&a.isAddLater||a.isEnollNow&&a.isEnrollLater)&&(a.isBoth=!0,a.flow="BOTH"),i.pinCard&&(a.pinCard=i.pinCard),i.servicePlanId&&(a.servicePlanId=i.servicePlanId),a.displayWarning=i.displayWarning,a.actionWarning=i.actionWarning,a.actionWarning&&(a.isEnollNow||a.isApplyNow||a.isAddNow)&&!a.isBoth&&(a.showRetentionWarnigs=!0),t.getSelectedDevice()&&a.showRetentionWarnigs){if(t.getSelectedDevice().serviceEndDate){var r=new Date,o=n.convertLongDate(t.getSelectedDevice().serviceEndDate);if(!isNaN(r)&&!isNaN(o)){r.setHours(0,0,0,0),o.setHours(0,0,0,0);var s=o-r;s/=864e5,a.serviceDays=Math.round(s)}}t.getSelectedDevice().retentionMx={},t.getSelectedDevice().retentionMx=a}}return a}};e.register("retentionmatrix",a)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b,S,D,C){e.view={isMonthlyPlans:!!v.serviceplans.monthly,isBrdbandPlans:!!v.serviceplans.dataOnly,isAddons:!!v.serviceplans.addon,isAmazon:d.isAmazonUserSession(),lrpData:{isRedeemPoints:t.search().redeemPoints?t.search().redeemPoints:"",redeemPointCookie:!!angular.isDefined(b.get("redeemPoints"))&&b.get("redeemPoints")},showServicePlanFilterOption:!1,brandname:y.brand,show_base_plan:!0,isBrandMultiLine:y.features.multiline};var w=void 0;e.data={selectedPlan:{},renewalOptions:{},active_devices:[],selctedDevice:_,planPoints:[],selectedDeviceType:"smartphone",deviceTypes:["smartphone","carsmart"]},e.init=function(){if(e.plans={},i.getServicePlans().then((function(e){v.serviceplans=e.plan_details})).catch((function(e){deferred.reject(e),handler()})),e.plans=v.serviceplans,e.deviceType=t.search().deviceType,y.features.isSmServicePlanRedesign&&(S.hasWcmBanner=!0,e.service_plan_model_wcm_url=y.service_plan_model_wcm_url,e.plans.isAddonFlow?e.getAddOnPlans(e.plans.addon):o.isActivationFlow()?(e.isSMActivationFlow=!0,angular.isDefined(e.plans.monthly)&&angular.isDefined(e.plans.smDataOnly)?e.getAddOnPlans(e.plans.monthly):angular.isDefined(e.plans.hotspot)&&angular.isDefined(e.plans.smDataOnly)?e.getHotspotCarSmartPlans(e.plans.hotspot):angular.isDefined(e.plans.carsmart)&&e.getHotspotCarSmartPlans(e.plans.carsmart)):angular.isDefined(e.plans.monthly)&&angular.isDefined(e.plans.smDataOnly)&&angular.isDefined(e.plans.carsmart)?(e.isHotspotMonthly=!0,e.getAddOnPlans(e.plans.monthly),e.getHotspotCarSmartPlans(e.plans.carsmart)):angular.isDefined(e.plans.monthly)&&angular.isDefined(e.plans.smDataOnly)?e.getAddOnPlans(e.plans.monthly):angular.isDefined(e.plans.carsmart)&&(e.isHotspotMonthly=!1,e.getHotspotCarSmartPlans(e.plans.carsmart))),e.hasplans={hasNoCarryOverPlans:!1,hasCarryOverPlans:!1,hasRecurringPlans:!1,monthlyAddOns:!1,isUpgrade:!1,isAddonFlow:!1},y.rewards.lrpRedeem&&(console.log("scope data --\x3e",e.data,"scope view --\x3e",e.view,o.getRedemptionDevices(),"checking for the selected devices $scope.data.selctedDevice --\x3e",e.data.selctedDevice,"$deviceService.getActiveDevices() --<",o.getActiveDevices()),e.view.lrpData.isRedeemPoints&&""!=e.view.lrpData.isRedeemPoints)){var a=o.getRedemptionDevices();if(!e.view.lrpData.redeemPointCookie){var r=new Date((new Date).setFullYear((new Date).getFullYear()+10));Boolean(b.put("redeemPoints",!0,{expires:r})),e.view.lrpData.redeemPointCookie=b.get("redeemPoints")}if(a){e.data.active_devices=a;var s=window.location.pathname;n.info("serviceplanredirect called",s),"/serviceplan/addons"==s&&(p.isGroupBased()?e.data.active_devices=o.getActiveGroupDevices():(p.isBrandMultiLine()||p.isGroupBased()?e.data.active_devices=o.getActiveDevices():(e.data.active_devices=[],o.getActiveDevices().map((function(t){"HOTSPOT"!=t.deviceType&&(n.info(t,"devices for hotspot"),e.data.active_devices.push(t))}))),n.info(e.data.active_devices,"$scope.data.active_devices"))),n.info("active devices coming from augeo",e.data.selctedDevice,a,e.view.lrpData,b.get("redeemPoints")),e.data.active_devices.length>1?(n.info("has active devices coming from augeo"),e.activeDeviceRedeem()):0==e.data.active_devices.length?(n.info("no active devices coming from augeo"),e.noActiveDevice(),b.remove("redeemPoints")):1==e.data.active_devices.length&&(n.info("only 1 active device coming from augeo"),o.selectDevice(e.data.active_devices[0]),e.serviceplanredirect())}}angular.forEach(v.serviceplans.paygo,(function(t){t.isNotCarryOver&&(e.hasplans.hasNoCarryOverPlans=!0),t.isrecurringPlan&&(e.hasplans.hasRecurringPlans=!0),t.isNotCarryOver||t.isrecurringPlan||(e.hasplans.hasCarryOverPlans=!0),t.is_upgrade&&(e.hasplans.isUpgrade=!0)})),angular.forEach(v.serviceplans.monthly,(function(t){t.is_addon&&(e.hasplans.monthlyAddOns=!0),t.is_upgrade&&(e.hasplans.isUpgrade=!0)})),angular.forEach(v.serviceplans.addon,(function(t){t.isAddonFlow&&(e.hasplans.isAddonFlow=!0),angular.isDefined(t.is_addon)&&e.view.lrpData.redeemPointCookie&&e.data.planPoints.push(t.loyaltyPointsNeeded)})),e.data.selctedDevice&&(n.debug("serviceplanController/init",e.data.selctedDevice),e.deviceType=e.data.selctedDevice.deviceType.toLowerCase());var c=t.search().deviceType;if(angular.isDefined(c)&&(n.debug("queryparam devicetype",c),e.deviceType=c),1==Object.keys(e.plans).length)for(var l in e.plans)e.deviceType=l,n.info(l,"devicetype");angular.isDefined(e.deviceType)&&angular.isDefined(e.plans[e.deviceType])&&e.plans[e.deviceType].length>0?(e.selected=e.deviceType,n.info(e.plans[e.deviceType],"<-- plans --\x3e ",e.selected)):(e.selected=e.deviceType,n.info(e.plans,"<--  plans in elsee --\x3e",e.selected)),e.vType=!1,e.isDeviceActivation=!1;var d=Object.keys(e.plans);e.planLength=d.length,n.info("Inside serviceplan init function",e,e.view.lrpData),e.isAddonFlow=!!angular.isDefined(e.plans.isAddonFlow)&&e.plans.isAddonFlow,e.changePlan=!1,o.getSelectedDevice()&&o.getSelectedDevice().isDeviceActivation&&(e.isDeviceActivation=!0),o.isActivationFlow()?(n.info("Servidpln it is Activation flow ",o.isActivationFlow()),e.vType=!0):e.isAddonsAllowed()?(n.info("Device status - is Activation flow ",e.isAddonsAllowed()),e.vType=!0):p.getIsChngPlanRenewal()?(e.vType=!0,n.debug("Servidpln it is change plane flow ",p.getIsChngPlanRenewal()),e.changePlan=p.getIsChngPlanRenewal()):e.data.selctedDevice&&(n.debug("Servidpln its a redemption flow with seletced device ",e.data.selctedDevice),o.selectDevice(e.data.selctedDevice));var u="smartphone"==e.deviceType?"monthly":e.deviceType;if(e.view.lrpData.redeemPointCookie&&angular.isUndefined(e.plans.isAddonFlow)&&e.plans[u].map((function(t){(t["is_"+e.deviceType]||t.is_monthly)&&e.data.planPoints.push(t.loyaltyPointsNeeded)})),console.log("$scope.plans hello plantype",e.data.planPoints,u),""==e.view.lrpData.isRedeemPoints&&(e.view.lrpData.redeemPointCookie||"true"==e.view.lrpData.redeemPointCookie)&&e.data.planPoints.length>0&&e.insufficientPopup(),y.features.multiline||y.features.groupbased){var g=i.showDeviceTypePlanFilter();console.log("Controller response - ",g),e.view.showServicePlanFilterOption=g.showServicePlanFilterOption,e.data.selectedDeviceType=g.showDeviceType,e.view.show_base_plan="smartphone"==g.showDeviceType;var s=window.location.pathname;"/serviceplan/addons"==s&&y.features.groupbased&&(e.view.showServicePlanFilterOption=!1)}if(e.nonPpeFeaturedPhone="",o.getSelectedDevice()&&(e.nonPpeFeaturedPhone=o.getSelectedDevice().nonPpeFeaturedPhone),n.debug("serviceplanController INIT::",p.getSavedDevices()),"SIMPLE_MOBILE"==y.brand&&angular.isDefined(o.getSelectedDevice())){var m=o.getSelectedDevice(),f=o.getDeviceType();o.getProductOfferingPrograms({deviceType:f,zipcode:m.zipcode,esn:m.esn}).then((function(e){angular.isDefined(e.productOffering)?(m.hppDetails=e,p.setSMHppEligibleFlag("yes"),o.setSelectedDevice(m)):p.setSMHppEligibleFlag("no")})).catch((function(e){}))}e.getPartnerDetails()},e.insufficientPopup=function(){if(e.data.planPoints.sort((function(e,t){return e-t})),console.log(e.data.planPoints[0],"inside insufficientPopup plans here",e.data,e.view),S.lrpDetails.availablePoints<e.data.planPoints[0]){r.open({animation:!1,templateUrl:"app/views/rpe/service_plans/popups/insufficientpopup/insufficientpopup_view.html",controller:"insufficientCtrl",windowTopClass:"tf-modal",scope:e,resolve:{resolvParam:function(){return{rootScope:S.lrpDetails}}}});e.view.lrpData.redeemPointCookie&&b.remove("redeemPoints")}},e.isDeviceListEmpty=function(){return e.data.active_devices.length>0},e.showPromotionsPopup=function(){if(n.debug(s.getStagedPlan(),p.isGroupBased(),"Servcie plan Controller:: showPromotionsPopup",e.plans,e.data.selectedPlan),p.isGroupBased()&&angular.isDefined(e.data.selctedDevice)&&angular.isDefined(e.data.selctedDevice.group)&&("PASTDUE"==e.data.selctedDevice.group.masterEsnStatus||"USED"==e.data.selctedDevice.group.masterEsnStatus))s.addPlanToCart(e.data.selectedPlan),m.redirect(g.activation.purchase);else if(e.view.lrpData.redeemPointCookie)if(s.getStagedPlan()&&(s.getStagedPlan().isILDVas?s.getStagedPlan().auto_refill=!1:p.setUserSelectAutoRefill(!1),s.addPlanToCart(s.getStagedPlan()),s.clearStagedPlan()),o.isActivationFlow()){var t={};t.enrollmentCheck=!1,t.discountvalidation=p.getUserSelectAutoRefill(),e.postActivationPlanSelction(t)}else e.buildCartForCheckout();else if(!e.view.lrpData.redeemPointCookie)if("PAY_GO"===e.data.selectedPlan.servicePlanGroup){r.open({animation:!1,templateUrl:"app/views/rpe/renewal/paygopaln_popup.html",controller:"popupController",windowTopClass:"tf-modal",scope:e,resolve:{plans:function(){return e.plans},selectedPlan:e.data.selectedPlan,renewalOptions:e.data.renewalOptions}})}else{r.open({animation:!1,templateUrl:"app/views/rpe/cart/serviceplancartpopup_view.html",controller:"popupController",windowTopClass:"tf-modal",scope:e,resolve:{plans:function(){return e.plans},selectedPlan:e.data.selectedPlan,renewalOptions:e.data.renewalOptions}})}},e.collectDevice=function(t){if(D.min)e.validateDevice(D.min);else{n.debug("Servcie plan Controller:: collectDevice",e.data.active_devices,t),a.clearError(e),e.loggedIn=d.isLoggedIn(),t&&!t.is_addon&&0==e.data.active_devices.length&&angular.forEach(o.getRedemptionDevices(),(function(t,n){e.data.active_devices.push(angular.copy(t))}));var i=y.serviceplans.enhanced_collectPhoneNumber;if(y.features.isSmServicePlanRedesign)var s="app/views/rpe/cart/sm_collectphonenumber_view_rpe_103_14_1.html",l="dialog-custom";else var s=!t.is_addon&&i?"app/views/rpe/cart/collectphonenumber_view_rpe_enhanced_103_14_1.html":"app/views/rpe/cart/collectphonenumber_view_rpe_103_14_1.html",l="md";!t.is_addon&&i?C.set(c.session.enhanced_popup,!0):C.set(c.session.enhanced_popup,!1);var u=r.open({animation:!1,templateUrl:s,controller:"collectPhoneNumber",size:l,windowTopClass:"tf-modal",scope:e});w=u}},e.addToCartPopUp=function(t){if(o.setAutoPayFlag(!1),o.setCheckoutFlowFlag(!0),y.features.isSmServicePlanRedesign&&(t=t.plan),n.debug("Inside serviceplancontroller::addToCartPopUp function",o.hasSelectedDevice(),p.getIsChngPlanRenewal(),o.getSelectedDevice(),t,o.getActiveDevices(),o.getRedemptionDevices()),e.data.selectedPlan=t,o.isActivationFlow()){var a={};a.enrollmentCheck=!0,a.discountvalidation=!0,s.stagePlan(t),e.postActivationPlanSelction(a)}else if(p.getIsChngPlanRenewal())n.debug("Inside serviceplancontroller::got renewal plan change function",p.getIsChngPlanRenewal(),o.getSelectedDevice()),d.isLimitedAccess()?m.redirect(g.accessaccount):p.isBrandMultiLine()&&!p.isEnrollFlowFlag()?(p.setIsChngPlanRenewal(!1),s.addPlanToCart(t),m.redirect(g.renewal)):(s.stagePlan(t),e.validateDevice(o.getSelectedDevice()));else if(o.hasSelectedDevice())s.stagePlan(t),e.validateDevice(o.getSelectedDevice());else if(d.isLoggedIn()&&t&&t.is_addon)if(e.data.active_devices=[],t.isILDVas)1==o.getIldEligibleDevices().length?(o.selectDevice(o.getIldEligibleDevices()[0]),s.stagePlan(t),"TOTAL_WIRELESS"==y.brand&&o.setShopPlansFlow(!0),e.validateDevice(o.getSelectedDevice())):o.getIldEligibleDevices().length>1?(angular.forEach(o.getIldEligibleDevices(),(function(t,n){e.data.active_devices.push(angular.copy(t))})),s.stagePlan(t),e.collectDevice(t)):(s.stagePlan(t),e.collectDevice(t));else{var i=o.getActiveDevices().length>0?o.getActiveDevices():o.getRedemptionDevices();1==i.length?(o.selectDevice(i[0]),s.stagePlan(t),"TOTAL_WIRELESS"==y.brand&&o.setShopPlansFlow(!0),e.validateDevice(o.getSelectedDevice())):i.length>1?(angular.forEach(i,(function(t,n){e.data.active_devices.push(angular.copy(t))})),s.stagePlan(t),e.collectDevice(t)):(s.stagePlan(t),e.collectDevice(t))}else d.isLoggedIn()&&1==o.getRedemptionDevices().length?(n.debug("Inside serviceplancontroller::addToCartPopUp:: Its has single device",o.getRedemptionDevices()[0]),s.stagePlan(t),o.selectDevice(o.getRedemptionDevices()[0]),"TOTAL_WIRELESS"==y.brand&&o.setShopPlansFlow(!0),e.validateDevice(o.getSelectedDevice())):(n.debug("Inside serviceplancontroller::addToCartPopUp:: final else"),s.stagePlan(t),e.collectDevice(t))},e.addToCartAddOn=function(t){n.debug("serviceplanController  addToCartAddOn "+t),e.addToCartAddOnContinue(t)},e.addToCartAddOnContinue=function(t){o.hasSelectedDevice()?o.getSelectedDevice().lowbalance_enabled||s.getPlans().length>0||0==s.getPlans().length&&!t.ild_sup?(n.debug("serviceplanController AddOn plan to cart"),s.addPlanToCart(t),m.redirect(g.rpe.redemption.checkout)):(s.stagePlan(t),e.showPromotionsPopup()):(e.collectDevice(),s.stagePlan(t))},e.validateDevice=function(t){a.clearError(e),n.info("serviceplanController:: validateDevice::",t,"$scope.data",e.data),u.VerifyDeviceForRenewal({device:t.min?t.min:t,plan:e.data.selectedPlan,discountEligible:!t.discountEligible||t.discountEligible,retentionMatrixCheck:!t.retentionMatrixCheck||t.retentionMatrixCheck}).then((function(t){n.debug("VerifyDeviceForRenewal retuned::",t),e.fetchPartnerDetails(),e.postDeviceVerificationAction(t),""==e.view.lrpData.isRedeemPoints&&(e.view.lrpData.redeemPointCookie||"true"==e.view.lrpData.redeemPointCookie)&&e.data.planPoints.length>0&&(console.log("calling insufficient popup"),e.insufficientPopup())})).catch((function(s){if(n.debug("VerifyDeviceForRenewal erored::",o.getSelectedDevice(),s),!angular.isDefined(o.getSelectedDevice())||o.getSelectedDevice().deviceStatus!=c.device_status.new_device&&!h.isNullOrEmpty(o.getSelectedDevice().deviceStatus)&&angular.isDefined(o.getSelectedDevice().deviceStatus))e.isAddonFlow?a.handleError(s,e):(o.clearSelectedDevice(),a.handleError(s,e),i.getServicePlanDetails().then((function(t){v.serviceplans=t.plan_details,e.init()})).catch((function(e){deferred.reject(e),handler()})));else{var l=!1;if(h.isSim(t.min)&&o.getSelectedDevice().esn&&(l=!0),
h.isSim(t.min)&&angular.isDefined(o.getSelectedDevice().sim)&&!angular.equals(o.getSelectedDevice().sim.carrier,c.carrier_name.vzw)&&!l){var d={error_code:"-10108",error_message:"We are sorry. We cannot complete your request at this time.",error_translate:"ERROR_1985929",error_type:"FAILURE"};o.clearSelectedDevice(),a.handleError(d,e)}else{w.close(),e.newdevice=t.min,n.log("$scope.data.selectedPlan",e.data.selectedPlan);r.open({animation:!1,templateUrl:"app/views/rpe/cart/newdevicepopup_view_acre_118.7.html",controller:"newdevicepopupcontrolller",size:"md",scope:e,windowTopClass:"tf-modal"})}}}))},e.postDeviceVerificationAction=function(t){n.info("serviceplanController::postDeviceVerificationAction::",t),e.data.renewalOptions.renewalType=t.renewalType,e.data.renewalOptions.isSingleLineAcct=t.isSingleLineAcct,s.stagePlan(e.data.selectedPlan);var i=o.getSelectedDevice();if("FLASH_MESSAGE"==t.flow)n.info("serviceplanController::postDeviceVerificationAction:: device has Flash"),h.getModalPoup("app/views/rpe/alerts/flash_view_rpe_101.4.html","flashCtrl").then((function(t){n.info("serviceplanController::postDeviceVerificationAction its a cold flash",t),t&&e.validateDevice(o.getSelectedDevice())}));else if("SAFELINK_PHONE"==t.flow){n.info("serviceplanController:;postDeviceVerificationAction:: device is Safelink");r.open({animation:!1,templateUrl:"app/views/rpe/redemption/safelinkcustomer/safelinkcustomerpopup_rpe_101.6_view.html",controller:"safelinkcustomerController",size:"md",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{min:i.min}}}})}else if("OTAPENDING"==t.flow)n.info("serviceplanController::postDeviceVerificationAction OTAPENDING"),h.getModalPoup("app/views/rpe/alerts/otapending_view_rpe_101_5.html","otapendingCtrl");else if("FAMILY_PLAN_POPUP"==t.flow)if(n.info("serviceplanController:;postDeviceVerificationAction:: Show Family Plan Popup"),e.view.lrpData.redeemPointCookie){if(e.view.lrpData.redeemPointCookie)if(n.info("multiplandiscountpopupcontroller::buyPlan::Selected Plan !! ",e.data.selectedPlan),s.stagePlan(e.data.selectedPlan),o.isActivationFlow()){var c={};c.enrollmentCheck=!1,c.discountvalidation=!1,e.postActivationPlanSelction(c)}else u.VerifyDeviceForRenewal({device:o.getSelectedDevice().esn,plan:e.data.selectedPlan,discountEligible:!1,retentionMatrixCheck:!1}).then((function(t){n.debug("VerifyDeviceForRenewal retuned::",t),e.postDeviceVerificationAction(t)})).catch((function(t){a.handleError(t,e)}))}else{r.open({animation:!1,templateUrl:"app/views/rpe/service_plans/popups/multiplandiscountpopup/multiplandiscountpopup_view_rpe_103_8.html",controller:"multiplandiscountpopupcontroller",size:"md",windowTopClass:"tf-modal",scope:e})}else"ADD_NOW"==t.flow?(n.info("serviceplanController::postDeviceVerificationAction GO for Add_now"),m.redirect(g.rpe.redemption.addnow)):"APPLY_NOW"==t.flow?(n.info("serviceplanController::postDeviceVerificationAction GO for APPLY_NOW"),m.redirect(g.rpe.redemption.applynow)):"ENROLL_NOW"!=t.flow||t.isEnrollLater?(n.info("serviceplanController::postDeviceVerificationAction::Proceed Final"),p.setIsChngPlanRenewal(!1),e.postflashcheck(t)):(n.info("serviceplanController::postDeviceVerificationAction GO for ENROLL_NOW"),m.redirect(g.rpe.redemption.enrollnow))},e.serviceplanredirect=function(){var t=window.location.pathname;n.info("serviceplanredirect called",t),e.view.lrpData.redeemPointCookie&&"/serviceplan/addons"==t?(e.validateDevice(o.getSelectedDevice()),window.location.href="/serviceplan/addons"):(p.isGroupBased()&&(e.validateForRenewal(o.getSelectedDevice()),e.data.selctedDevice=o.getSelectedDevice()),m.redirect(g.rpe.redemption.purchaseplan))},e.validateForRenewal=function(t){n.debug(t,"validateForRenewal ",e.data),u.VerifyDeviceForRenewal({device:t,discountEligible:!1,retentionMatrixCheck:!1}).then((function(e){postDeviceVerificationAction(e)})).catch((function(t){a.handleError(t,e)}))},e.postflashcheck=function(){n.debug("serviceplanController::postflashcheck",s.getStagedPlan(),o.getSelectedDevice());var t=o.getSelectedDevice();if(p.isBrandMultiLine()&&!s.getStagedPlan().is_addon)if("DEVICE_ACTIVATION"==e.data.renewalOptions.renewalType&&e.data.renewalOptions.isSingleLineAcct||"BAN_ACTIVATION"==e.data.renewalOptions.renewalType&&(!d.isLoggedIn()||d.isLimitedAccess()))p.getAccountLevelAutoRefill()||d.isLimitedAccess()?m.redirect(g.rpe.redemption.checkout):e.showPromotionsPopup();else if("DEVICE_ACTIVATION"==e.data.renewalOptions.renewalType)m.redirect(g.rpe.redemption.checkout);else if("BAN_ACTIVATION"==e.data.renewalOptions.renewalType)p.getAccountLevelAutoRefill()?m.redirect(g.accessaccount):e.showPromotionsPopup();else if(s.getStagedPlan().is_addon&&"PROCEED_FINAL"==e.data.renewalOptions.renewalType)s.addPlanToCart(s.getStagedPlan()),e.buildCartForCheckout(e.data.renewalOptions.renewalType);else{var a=!0;d.isLoggedIn()&&p.isBrandMultiLine()&&angular.isDefined(o.getBanDetails())&&angular.isDefined(o.getBanDetails().isArAllowed)?a=o.getBanDetails().isArAllowed:angular.isDefined(o.getSelectedDevice().isArAllowed)&&(a=o.getSelectedDevice().isArAllowed),p.getAccountLevelAutoRefill()||!a?(s.addPlanToCart(s.getStagedPlan()),e.buildCartForCheckout(e.data.renewalOptions.renewalType)):d.isLimitedAccess()&&!e.data.renewalOptions.isSingleLineAcct?(s.addPlanToCart(s.getStagedPlan()),s.clearStagedPlan(),e.buildCartForCheckout(e.data.renewalOptions.renewalType)):e.showPromotionsPopup()}else n.info("serviceplanController::postflashcheck:: its a Single line Brand",s.getStagedPlan()),!o.getSelectedDevice().isArAllowed&&!s.getStagedPlan().isILDVas||!s.getStagedPlan().isEnrollmentPlan||p.getUserSelectAutoRefill()||p.isEnrollFlowFlag()?(s.addPlanToCart(s.getStagedPlan()),s.clearStagedPlan(),e.buildCartForCheckout()):!t.lowbalance_enabled&&s.getStagedPlan().isILDVas?e.showPromotionsPopup():(t.auto_refill_enabled||s.getStagedPlan().is_addon||s.getStagedPlan().isMultiLineEnrollDisc||!angular.isDefined(t.group)||"PASTDUE"==t.group.masterEsnStatus||"USED"==t.group.masterEsnStatus)&&(t.auto_refill_enabled||s.getStagedPlan().is_addon||s.getStagedPlan().isMultiLineEnrollDisc||!angular.isDefined(t.group)||"PASTDUE"==t.group.masterEsnStatus||"USED"==t.group.masterEsnStatus)?(s.addPlanToCart(s.getStagedPlan()),s.clearStagedPlan(),e.buildCartForCheckout()):e.showPromotionsPopup()},e.buildCartForCheckout=function(){var t={};n.debug("popupController Controller buildCartForCheckout::",p.isBrandMultiLine());"BAN_ACTIVATION"==e.data.renewalOptions.renewalType?t.renewalType="BAN_ACTIVATION":e.data.renewalOptions.isSingleLineAcct?t.renewalType="SINGLE_LINE":t.renewalType="MULTI_LINE","DEVICE_ACTIVATION"===e.data.renewalOptions.renewalType&&e.data.renewalOptions.isSingleLineAcct?p.getUserSelectAutoRefill()&&!d.isLoggedIn()?(t.renewalType="DEVICE_ACTIVATION",u.estimateChangePlanSelection(t).then((function(e){m.redirect(g.rpe.redemption.checkout)})).catch((function(t){n.debug(t),a.handleError(t,e)}))):m.redirect(g.rpe.redemption.checkout):"BAN_ACTIVATION"===e.data.renewalOptions.renewalType?p.getUserSelectAutoRefill()&&!d.isLoggedIn()?(n.debug("popupController::buildCartForCheckout ::BAN_ACTIVATION acceaccountmain",e.data),u.estimateChangePlanSelection(t).then((function(e){m.redirect(g.rpe.redemption.checkout)})).catch((function(t){n.debug(t),a.handleError(t,e)}))):d.isLoggedIn()?(n.debug("popupController::buildCartForCheckout ::BAN_ACTIVATION accountRenewalMain",e.data),m.redirect(g.renewal)):(n.debug("popupController::buildCartForCheckout ::BAN_ACTIVATION checkout",e.data),m.redirect(g.rpe.redemption.checkout)):u.estimateNoPlanChange(t).then((function(t){"ASK_LOGIN_MAIN"!=e.data.renewalOptions.renewalType||d.isLoggedIn()&&!d.isLimitedAccess()?e.data.renewalOptions.isSingleLineAcct||s.isAddonPlanInCart()||!d.isLoggedIn()||d.isLimitedAccess()?m.redirect(g.rpe.redemption.checkout):m.redirect(g.renewal):m.redirect(g.accessaccount)})).catch((function(t){n.debug(t),n.debug("Got the taxeation error::hence  halting!!!!"),a.handleError(t,e)}))},e.purchaseWCMPlan=function(t){n.debug("serviceplanController::purchaseWCMPlan:: ",t),a.clearError(e),i.clearDevicePlans(),o.clearSelectedDevice(),p.emptyCart();var r=i.getAllPlanByPartNumber(t);n.debug("serviceplanController::inside purchaseWCMPlan:: plan selected ",r),e.addToCartPopUp(r)},e.validatetracfonemin=function(t){n.debug("serviceplanController::validatetracfonemin:: ",e.data.intphone),a.clearError(e),u.validateIldAvailability({intphone:e.data.intphone}).then((function(t){n.debug("serviceplanController::validatetracfonemin::Serviceresponse ",t),e.data.isILDAvailable=t.qualified,e.data.ildMessage=t.showMessage,n.debug("serviceplanController::validatetracfonemin::Serviceresponse ",e.data)})).catch((function(t){n.debug(t),a.handleError(t,e)}))},e.postActivationPlanSelction=function(i){n.debug("serviceplanController::inside postActivationPlanSelction:: selectedplan",e.data,i,p.getAccountLevelAutoRefill()),!i.enrollmentCheck||!e.data.selectedPlan.isEnrollmentPlan||p.getAccountLevelAutoRefill()||p.isBrandMultiLine()&&!p.isFirstEsn()?(n.info("serviceplanController::postActivationPlanSelction:Do not Show the discount Popup:",s.getStagedPlan()),f.validateProvisionLogin().then((function(e){s.getStagedPlan()&&(s.addPlanToCart(s.getStagedPlan()),s.clearStagedPlan());var a=o.getSelectedDevice();angular.isDefined(a.hppDetails)?t.path("/asurion/hppplans"):"ACTIVATION_LOGIN"==e.redirect?(n.debug("provisionloginRes::ACTIVATION_LOGIN"),m.redirect(g.activation.createaccount)):m.redirect(g.activation.checkout)})).catch((function(t){n.debug(t),a.handleError(t,e)}))):(n.debug("serviceplanController::inside postactivation going its a Enrollment plan and device is not enrolled"),u.validatePlanDiscount({plan:e.data.selectedPlan,discountEligible:i.discountvalidation}).then((function(t){n.info("Discount is eligibilty response",t),t.isDevicePlanDiscountEligible?(n.info("serviceplanController::Show the discount Popup"),e.postDeviceVerificationAction(t)):e.showPromotionsPopup()})).catch((function(t){n.debug(t),a.handleError(t,e)})))},e.moreDataAddonDetails=function(e){r.open({templateUrl:"app/views/rpe/checkout/addonviewdetailspopup/dataviewdetails/viewmoreaddondetails_popup.html",controller:"viewmoreaddondetails_controller",controllerAs:"$ctrl",size:"md",resolve:{selectedAddOn:function(){return e}}})},e.singleLinePlanAuto=function(){if(n.info(e.view.lrpData,"$scope.view"),!e.view.lrpData.redeemPointCookie){r.open({animation:!1,templateUrl:"app/views/rpe/service_plans/serviceplancomponent/serviceplan_autorefillpopup/serviceplan_auto_refillpopup_rpe_103.1.html",controller:"servicePlanAutoPopupController",size:"md",scope:e,windowTopClass:"tf-modal"})}},e.isAddonsAllowed=function(){var e=!1;if(!p.isBrandMultiLine())if(d.isLoggedIn())if(p.isGroupBased())if(o.getSelectedDevice()&&o.getSelectedDevice().group){if(o.getSelectedDevice().group.groupId){var t=o.getSelectedDevice().group.groupId,a=o.getAllDevicesByGroupId(t),i=!1;angular.forEach(a,(function(e,t){i||(i=o.isDeviceUsedOrPastDueWithLineReserve(e))})),n.info("serviceplan isActivationFlow .2. ",i),e=i}}else o.getSelectedDevice()&&(e=o.isDeviceUsedOrPastDueWithLineReserve(o.getSelectedDevice()),n.info("serviceplan isActivationFlow .3. ",e));else o.getSelectedDevice()&&(e=o.isDeviceUsedOrPastDueWithLineReserve(o.getSelectedDevice()),n.info("serviceplan isActivationFlow .4. ",e));else o.getSelectedDevice()&&(e=o.isDeviceUsedOrPastDueWithLineReserve(o.getSelectedDevice()),n.info("serviceplan isActivationFlow .5. ",e));return e},e.activeDeviceRedeem=function(){r.open({animation:!1,templateUrl:"app/views/rpe/service_plans/popups/activedevicespopup/activedevicespopup_view.html",controller:"activeDevices",size:"md",scope:e,windowTopClass:"tf-modal",backdrop:"static"})},e.noActiveDevice=function(){r.open({animation:!1,templateUrl:"app/views/rpe/service_plans/popups/noactivedevicepopup/noactivedevicepopup_view.html",controller:"noactivedevicepopupController",size:"md",scope:e,windowTopClass:"tf-modal",backdrop:"static",keyboard:!1})},e.filterServicePlan=function(){n.info("filterServicePlan ----------\x3e ",e.data.selectedDeviceType),a.clearError(e),e.selected=e.data.selectedDeviceType},e.displayBasePlan=function(t){a.clearError(e),e.view.show_base_plan="smartphone"==t},e.getPartnerDetails=function(){if(!y.features.multiline&&d.getPartnerInfo()){var t=d.getPartnerInfo();e.data.isAffiliated=t.isAffiliated,e.data.partnerName=t.partnerName}else e.data.isAffiliated=!1},e.getAddOnPlans=function(t){if(e.monthly_plans=[],e.monthly_addOns=[],e.addOnsData=[],t.length){for(var n,a=0;a<t.length;a++)t[a].is_monthly&&e.monthly_plans.push(t[a]),"ADD_ON_DATA"==t[a].servicePlanGroup&&(e.monthly_addOns.push(t[a]),e.addOnsData.push(t[a])),"ADD_ON_ILD"==t[a].servicePlanGroup&&(n=t[a]);e.monthly_addOns.push(n)}return e.monthly_addOns},e.getHotspotCarSmartPlans=function(t){if(e.carSmart_plans=[],e.hotspot_plans=[],t.length)for(var n=0;n<t.length;n++)t[n].is_carsmart?e.carSmart_plans.push(t[n]):t[n].is_addon||e.hotspot_plans.push(t[n]);return e.carSmart_plans},e.fetchPartnerDetails=function(){if(!y.features.multiline&&!angular.isDefined(d.getPartnerInfo())){var t=p.getAccountId(c.service_plan);d.getPartnerDetails(t).then((function(t){e.getPartnerDetails()})).catch((function(e){}))}}}angular.module("app").controller("serviceplanController",e),e.$inject=["$scope","$location","$log","$errorHandler","$servicePlanSelectorService","$uibModal","$deviceService","$cartService","$appConstants","$promoService","$userService","$renewalservices","$devicesCartServices","serviceplan","$appRoutes","$done","$actreactportUpgradeService","$utils","deviceSelected","$appConfig","$cookies","$rootScope","$routeParams","$sessionService"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{plans:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={forward:function(t){return{esn:t.device,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{plans:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={brand:{url:n.rpe.service_plans.brand,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:["10100","11400"],okkoCodes:{}},byesn:{url:n.rpe.service_plans.byesn,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:["10100","11400"],okkoCodes:{}}};t.register("serviceplan",r)}])})(),(function(){"use strict";function e(e,t){e.closePopup=function(e){t.dismiss("cancel")}}angular.module("app").controller("upgradeplanpopctrl",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){angular.module("app").run(["$voMapConfig","$appConfig","$appConstants","$deviceService","$lrpEnrollment",function(e,t,n,a,i){var r={errorConfig:{10100:"ERROR_1985122","-10101":"ERROR_1985609","-10102":"ERROR_10505","-10103":"ERROR_1985903"},forward:function(e){return{device:e?e.device:void 0}},backward:function(e){var i={};if(i.error_code=e.error_code,i.error_message=e.error_message,i.error_type=e.error_type,i.plans={all:[],addon:[],ildaddon:[],paygo:[],monthly:[],upgrade:[],dataOnly:[],homephone:[],hotspot:[],carsmart:[],signaldevice:[],smDataOnly:[]},angular.isDefined(e.plans)){var r=a.getSelectedDevice();angular.forEach(e.plans.servicePlans,(function(e,a){plan={auto_refill:!1,auto_enrollflow:!1,isAddonFlow:!1,plan_id:e.servicePlanId,servicePlanGroup:e.servicePlanGroup,plan_name:e.servicePlanName,plan_type:e.servicePlanType,plan_desc:e.servicePlanDescription,voice:e.voiceUnits,sms:e.smsUnits,data:e.dataUnits?Math.floor(Number(e.dataUnits)/1e3):0,service_days:e.serviceDays,price:e.price,unitsOrCurrency:e.unitsOrCurrency,part_number:e.partNumber,part_class:e.partClassNumber,program_id:e.programId,ild_sup:e.ildSupported,recurringPlanId:e.recurringPlanId,quantity:1,show_details:!1,shortDesc:e.shortDescription,scriptType:angular.isDefined(e.scriptType)?e.scriptType:"",promoData:e.dataUnits?Math.floor(Number(e.dataUnits)/1e3):0,isGroupPlan:e.isGroupPlan,isILDVas:e.isILDVas,isrecurringPlan:e.recurringPlan,isEnrollmentPlan:e.recurringPlan,numberOfLines:e.numberOfLines,enrollmentPromotion:e.enrollmentPromotion,dataUnits:e.dataUnits,isNotCarryOver:!!angular.isDefined(e.isLimitedNoCarryOverMin)&&e.isLimitedNoCarryOverMin,isMultiLineEnrollDisc:!!angular.isDefined(e.isMultilineEnrollDiscountEligible)&&e.isMultilineEnrollDiscountEligible,isMultiPurchasePlanDisc:!!angular.isDefined(e.isMultiPurchasePlanDiscountEligible)&&e.isMultiPurchasePlanDiscountEligible,isRecurringPlanOnly:!!angular.isDefined(e.isRecurringPlanOnly)&&e.isRecurringPlanOnly,enrollmentPromoPrice:void 0,enrollmentPromoMessage:void 0,enrollmentARScriptMessage:e.enrollmentARScriptMessage,compatibleDeviceTypes:e.compatibleDeviceTypes,loyaltyPointsNeeded:angular.isDefined(e.lrpPoints)?e.lrpPoints:-1,loyaltyPointsEarning:angular.isDefined(e.lrpAccrualPurchase)?e.lrpAccrualPurchase:0,enrolledLoyaltyPointsEarning:angular.isDefined(e.lrpAccrualAutoRefill)?e.lrpAccrualAutoRefill:0},plan.isEnrollmentPlan&&0==plan.program_id&&(plan.isEnrollmentPlan=!1),!plan.isEnrollmentPlan&&0!=plan.program_id&&plan.isILDVas&&(plan.isEnrollmentPlan=!0),plan.isEnrollmentPlan&&plan.enrollmentPromotion&&plan.enrollmentPromotion.promoPrice!=plan.price&&(plan.enrollmentPromoPrice=plan.enrollmentPromotion.promoPrice),plan.isEnrollmentPlan&&plan.enrollmentPromotion&&plan.enrollmentPromotion.promoMessage!=plan.price&&(plan.enrollmentPromoMessage=plan.enrollmentPromotion.promoMessage),r&&e.servicePlanId===r.servicePlanId&&(r.servicePlanName=e.servicePlanName),plan.dataUnits&&!isNaN(plan.dataUnits)?(plan.dataUnits=parseInt(plan.dataUnits),plan.dataUnits>=1024?(plan.data=Math.floor(Number(plan.dataUnits)/1024),plan.promoData=plan.data):(plan.data=plan.dataUnits+" MB",plan.promoData=plan.data)):(plan.data=plan.dataUnits,plan.promoData=plan.data),angular.merge(plan,t.serviceplans[plan.plan_type]),plan.isILDVas&&(plan.is_addon=!0,i.plans.ildaddon.push(plan)),"ADD_ON_DATA"==plan.servicePlanGroup&&(plan.is_addon=!0,plan.data_add_on=!0,i.plans.addon.push(plan)),plan.is_carsmart=plan.servicePlanGroup==n.device_type.m2m_data;var o=[380,381,382,383,552];if(plan.isHotspotFeatureAvailable=-1!=o.indexOf(plan.plan_id),plan.compatibleDeviceTypes)t.features.multiline&&"30-Day Hotspot Plans"==plan.plan_type&&i.plans.smDataOnly.push(plan),angular.forEach(plan.compatibleDeviceTypes,(function(e,a){e!=n.device_type.smartphone||plan.is_upgrade||(t.features.multiline?"30-Day Hotspot Plans"!=plan.plan_type&&i.plans.monthly.push(plan):i.plans.monthly.push(plan)),e==n.device_type.smartphone&&plan.is_upgrade&&i.plans.upgrade.push(plan),e==n.device_type.ppe&&i.plans.paygo.push(plan),e==n.device_type.hotspot&&(t.features.multiline?"30-Day Hotspot Plans"!=plan.plan_type&&i.plans.hotspot.push(plan):i.plans.hotspot.push(plan)),e==n.device_type.homephone&&i.plans.homephone.push(plan),e==n.device_type.m2m_data&&i.plans.carsmart.push(plan),e==n.device_type.signal_device&&i.plans.signaldevice.push(plan)}));else if(r){plan.is_upgrade?i.plans.upgrade.push(plan):r.deviceType==n.device_type.smartphone||r.deviceType==n.device_type.byop?t.features.multiline?"30-Day Hotspot Plans"!=plan.plan_type&&i.plans.monthly.push(plan):i.plans.monthly.push(plan):r.deviceType==n.device_type.ppe?i.plans.paygo.push(plan):r.deviceType==n.device_type.hotspot||r.deviceType==n.device_type.byot?t.features.multiline?"30-Day Hotspot Plans"!=plan.plan_type&&i.plans.hotspot.push(plan):i.plans.hotspot.push(plan):r.deviceType==n.device_type.homephone?i.plans.homephone.push(plan):r.deviceType==n.device_type.carsmart?i.plans.carsmart.push(plan):r.deviceType==n.device_type.signal_device&&i.plans.signaldevice.push(plan);var s=r.nonPpeFeaturedPhone?r.nonPpeFeaturedPhone:"";r.deviceType==n.device_type.smartphone&&"Y"==s&&i.plans.paygo.push(plan),t.features.multiline&&"30-Day Hotspot Plans"==plan.plan_type&&i.plans.smDataOnly.push(plan)}i.plans.all.push(plan)}))}return i}};e.register("serviceplan",r)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l){e.plans={},e.data={},e.init=function(){i.debug("init method --\x3e ",r.getSelectedDevice()),e.plans.addon=a.getAddonPlans(),i.debug(e.plans)},e.addonPopUpCheckout=function(){angular.forEach(e.plans.addon,(function(e,t){e.checked&&n.addPlanToCart(e)})),i.debug("refillCheckController::Selected Addonn Plan !! "),o.VerifyDeviceForRenewal({device:r.getSelectedDevice().min}).then((function(t){i.debug("VerifyDeviceForRenewal retuned::",t),e.buildCartForCheckout(t)})).catch((function(t){s.handleError(t,e)})),e.closePopup(!0)},e.buildCartForCheckout=function(t){i.debug("Serviceplan Controller buildCartForCheckout:: --\x3e ",t);var n={};t.isSingleLineAcct?n.renewalType="SINGLE_LINE":n.renewalType="MULTI_LINE",o.estimateNoPlanChange(n).then((function(e){c.redirect(l.rpe.redemption.checkout)})).catch((function(t){i.debug(t),s.handleError(t,e)}))},e.closePopup=function(e){t.dismiss("cancel")}}angular.module("app").controller("addonsmydashboardcontroller",e),e.$inject=["$scope","$uibModalInstance","$cartService","$servicePlanSelectorService","$log","$deviceService","$renewalservices","$errorHandler","$done","$appRoutes"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.view={hasPaymentSrc:!1},e.data={currentDevice:void 0},e.init=function(){t.info("addmorephonespopupctrl ::: init/entry",r.getSavedDevices()),e.data.currentDevice=r.getSavedDevices()[0],e.view.hasPaymentSrc=!!e.data.currentDevice&&e.data.currentDevice.hasPaymentSource,t.info("addmorephonespopupctrl ::: init/exit",e.view,e.data)},e.close=function(t){e.redirect(t)},e.redirect=function(e){n.dismiss("cancel"),e?i.resolve(!0):i.resolve(!1)}}angular.module("app").controller("addmorephonespopupctrl",e),e.$inject=["$scope","$log","$uibModalInstance","$userService","callback","$devicesCartServices"]})(),(function(){"use strict";function e(e,t){e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("addonViewDetailsController",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},account_id:t.accId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},account_id:t.accId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={checkoutValidatePromo:{url:n.rpe.checkout.validate_promo,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},checkoutUpdateItemQuantity:{url:n.rpe.checkout.checkout_update_item_qty,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","11901","10200","10100"],koCodes:{},okkoCodes:{}},checkoutProcessTransaction:{url:n.rpe.checkout_process_txn,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0","11901","10200","10100"],koCodes:{},okkoCodes:{}}};t.register("checkout",r)}])})(),(function(){var e={forward:function(e){return{accId:e.accId}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:e.response.response}}};angular.module("app").run(["$voMapConfig",function(t){t.register("checkout",e)}])})(),(function(){"use strict";function e(e,t,n,a,i){e.view={isLoggedIn:a.isLoggedIn(),isLimited:a.isLimitedAccess(),isActivationFlow:i.executionPlanExistsInDevices(),taxes:n,currentMin:a.isLimitedAccess()?a.getEmail():angular.isDefined(i.getUserSelectedMin())?i.getUserSelectedMin():void 0,hasMultipleDevices:n.orderItems.length>1},console.log("deviceopupController view ",e.view),e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("displaydevicepopupController",e),e.$inject=["$scope","$uibModalInstance","taxSummary","$userService","$devicesCartServices"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h,_,y,b,S,D,C,w,I){n.data={selectedPlan:{},renewalOptions:{},min:"",planid:"",devicerenewalflag:!0,isAddon:!1},n.init=function(){n.data.min=t.min,n.data.planid=t.planid,n.data.selectedPlan=I.getAllPlanByPlanId(n.data.planid),angular.isDefined(n.data.selectedPlan)?n.continueToValidate():l.validateUserDevice({device:n.data.min}).then((function(e){I.getAllPlanByESN().then((function(e){var t=e.plans.all,a="";angular.forEach(t,(function(e,t){if(angular.equals(e.plan_id,parseInt(n.data.planid))){var i=e.part_number;a=I.getAllPlanByPartNumber(i)}})),n.data.selectedPlan=a,n.continueToValidate()}))}))},n.continueToValidate=function(){angular.isDefined(n.data.selectedPlan)?((angular.equals(n.data.selectedPlan.servicePlanGroup,"ADD_ON_DATA")||angular.equals(n.data.selectedPlan.servicePlanGroup,"ADD_ON_ILD"))&&(n.data.isAddon=!0),l.validateUserDevice({device:n.data.min}).then((function(e){p.isBrandMultiLine()&&(f.stagePlan(n.data.selectedPlan),f.addPlanToCart(f.getStagedPlan()));var t=l.getSelectedDevice();t.plans=f.getPlans(),n.validateDevice(t)})).catch((function(e){u.stopSpinner();i.open({animation:!1,templateUrl:"app/views/rpe/checkout/easyredeempopup_view.html",size:"md",controller:"easyredeemController",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{min:"",flow:"wrongminflow"}}}})}))):l.validateUserDevice({device:n.data.min}).then((function(e){var t=l.getSelectedDevice();l.selectDevice(t);i.open({animation:!1,templateUrl:"app/views/rpe/checkout/easyredeempopup_view.html",size:"md",controller:"easyredeemController",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{min:n.data.min,flow:"wrongplanflow"}}}})})).catch((function(e){u.stopSpinner();i.open({animation:!1,templateUrl:"app/views/rpe/checkout/easyredeempopup_view.html",size:"md",controller:"easyredeemController",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{min:"",flow:"wrongminflow"}}}})}))},n.validateDevice=function(e){s.clearError(n),p.setIsChngPlanRenewal(!0),p.isBrandMultiLine()||(n.data.devicerenewalflag=!1),g.VerifyDeviceForRenewal({device:n.data.min,plan:n.data.selectedPlan,discountEligible:n.data.devicerenewalflag,retentionMatrixCheck:n.data.devicerenewalflag}).then((function(e){r.debug("VerifyDeviceForRenewal retuned::",e),n.postDeviceVerificationAction(e)})).catch((function(t){r.debug("VerifyDeviceForRenewal erored::",l.getSelectedDevice(),t),n.isAddonFlow?s.handleError(t,n):(s.handleError(t,n),l.getSelectedDevice()||l.selectDevice(e),I.getServicePlanDetails().then((function(e){serviceplan.serviceplans=e.plan_details,n.init()})).catch((function(e){deferred.reject(e),handler()})))}))},n.postDeviceVerificationAction=function(e){n.data.renewalOptions.renewalType="PROCEED_FINAL",n.data.renewalOptions.isSingleLineAcct=e.isSingleLineAcct,angular.isDefined(f.getStagedPlan())||(f.stagePlan(n.data.selectedPlan),f.addPlanToCart(f.getStagedPlan()));var t=l.getSelectedDevice();if("FLASH_MESSAGE"==e.flow)if(angular.isDefined(t.flashMessage)&&angular.isDefined(t.flashMessage.isFlashHot)&&t.flashMessage.isFlashHot){i.open({animation:!1,templateUrl:"app/views/rpe/checkout/easyredeempopup_view.html",size:"md",controller:"easyredeemController",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{min:"",flow:"hotflash"}}}})}else u.getModalPoup("app/views/rpe/alerts/flash_view_rpe_101.4.html","flashCtrl").then((function(e){e&&n.validateDevice(l.getSelectedDevice())}));else if("SAFELINK_PHONE"==e.flow){i.open({animation:!1,templateUrl:"app/views/rpe/redemption/safelinkcustomer/safelinkcustomerpopup_rpe_101.6_view.html",controller:"safelinkcustomerController",size:"md",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{min:t.min}}}})}else if("OTAPENDING"==e.flow){i.open({animation:!1,templateUrl:"app/views/rpe/alerts/otapending_view_rpe_101_5.html",size:"md",controller:"easyredeemController",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{min:"",flow:"otapending"}}}})}else if("FAMILY_PLAN_POPUP"==e.flow)if(p.isBrandMultiLine()){i.open({animation:!1,templateUrl:"app/views/rpe/service_plans/popups/multiplandiscountpopup/multiplandiscountpopup_view_rpe_103_8.html",controller:"multiplandiscountpopupcontroller",size:"md",windowTopClass:"tf-modal",scope:n})}else p.setIsChngPlanRenewal(!1),n.postflashcheck(e);else"ADD_NOW"==e.flow?_.redirect(h.rpe.redemption.addnow):"APPLY_NOW"==e.flow?_.redirect(h.rpe.redemption.applynow):"ENROLL_NOW"!=e.flow||e.isEnrollLater?(p.setIsChngPlanRenewal(!1),n.postflashcheck(e)):_.redirect(h.rpe.redemption.enrollnow)},n.postflashcheck=function(){r.debug("serviceplanController::postflashcheck",f.getStagedPlan(),l.getSelectedDevice());var e=l.getSelectedDevice();p.isBrandMultiLine()&&!f.getStagedPlan().is_addon?"DEVICE_ACTIVATION"==n.data.renewalOptions.renewalType&&n.data.renewalOptions.isSingleLineAcct||"BAN_ACTIVATION"==n.data.renewalOptions.renewalType&&(!a.isLoggedIn()||a.isLimitedAccess())?p.getAccountLevelAutoRefill()||a.isLimitedAccess()?_.redirect(h.rpe.redemption.checkout):n.showPromotionsPopup():"DEVICE_ACTIVATION"==n.data.renewalOptions.renewalType?_.redirect(h.rpe.redemption.checkout):"BAN_ACTIVATION"==n.data.renewalOptions.renewalType?p.getAccountLevelAutoRefill()?_.redirect(h.accessaccount):n.showPromotionsPopup():f.getStagedPlan().is_addon&&"PROCEED_FINAL"==n.data.renewalOptions.renewalType?(f.addPlanToCart(f.getStagedPlan()),n.buildCartForCheckout(n.data.renewalOptions.renewalType)):p.getAccountLevelAutoRefill()?(f.addPlanToCart(f.getStagedPlan()),n.buildCartForCheckout(n.data.renewalOptions.renewalType)):a.isLimitedAccess()&&!n.data.renewalOptions.isSingleLineAcct?(f.addPlanToCart(f.getStagedPlan()),f.clearStagedPlan(),n.buildCartForCheckout(n.data.renewalOptions.renewalType)):n.buildCartForCheckout():!f.getStagedPlan().isEnrollmentPlan||p.getUserSelectAutoRefill()||p.isEnrollFlowFlag()?(f.clearStagedPlan(),n.buildCartForCheckout()):!e.lowbalance_enabled&&f.getStagedPlan().isILDVas?(f.clearStagedPlan(),n.buildCartForCheckout()):(e.auto_refill_enabled||f.getStagedPlan().is_addon||f.getStagedPlan().isMultiLineEnrollDisc||!angular.isDefined(e.group)||"PASTDUE"==e.group.masterEsnStatus||e.group.masterEsnStatus,f.clearStagedPlan(),n.buildCartForCheckout())},n.buildCartForCheckout=function(){var e={};r.debug("popupController Controller buildCartForCheckout::",p.isBrandMultiLine());"BAN_ACTIVATION"==n.data.renewalOptions.renewalType?e.renewalType="BAN_ACTIVATION":n.data.renewalOptions.isSingleLineAcct?e.renewalType="SINGLE_LINE":e.renewalType="MULTI_LINE","DEVICE_ACTIVATION"===n.data.renewalOptions.renewalType&&n.data.renewalOptions.isSingleLineAcct?p.getUserSelectAutoRefill()&&!a.isLoggedIn()?(e.renewalType="DEVICE_ACTIVATION",g.estimateChangePlanSelection(e).then((function(e){_.redirect(h.rpe.redemption.checkout)})).catch((function(e){r.debug(e),s.handleError(e,n)}))):_.redirect(h.rpe.redemption.checkout):"BAN_ACTIVATION"===n.data.renewalOptions.renewalType?p.getUserSelectAutoRefill()&&!a.isLoggedIn()?(r.debug("popupController::buildCartForCheckout ::BAN_ACTIVATION acceaccountmain",n.data),g.estimateChangePlanSelection(e).then((function(e){_.redirect(h.rpe.redemption.checkout)})).catch((function(e){r.debug(e),s.handleError(e,n)}))):a.isLoggedIn()?(r.debug("popupController::buildCartForCheckout ::BAN_ACTIVATION accountRenewalMain",n.data),_.redirect(h.renewal)):(r.debug("popupController::buildCartForCheckout ::BAN_ACTIVATION checkout",n.data),_.redirect(h.rpe.redemption.checkout)):p.isBrandMultiLine()?n.data.isAddon?g.estimateNoPlanChange(e).then((function(e){
"ASK_LOGIN_MAIN"!=n.data.renewalOptions.renewalType||a.isLoggedIn()&&!a.isLimitedAccess()?n.data.renewalOptions.isSingleLineAcct||f.isAddonPlanInCart()||!a.isLoggedIn()||a.isLimitedAccess()?_.redirect(h.rpe.redemption.checkout):_.redirect(h.renewal):_.redirect(h.accessaccount)})).catch((function(e){r.debug(e),r.debug("Got the taxeation error::hence  halting!!!!"),s.handleError(e,n)})):g.estimateChangePlanSelection(e).then((function(e){"ASK_LOGIN_MAIN"!=n.data.renewalOptions.renewalType||a.isLoggedIn()&&!a.isLimitedAccess()?n.data.renewalOptions.isSingleLineAcct||f.isAddonPlanInCart()||!a.isLoggedIn()||a.isLimitedAccess()?_.redirect(h.rpe.redemption.checkout):_.redirect(h.renewal):_.redirect(h.accessaccount)})).catch((function(e){r.debug(e),r.debug("Got the taxeation error::hence  halting!!!!"),s.handleError(e,n)})):g.estimateNoPlanChange(e).then((function(e){"ASK_LOGIN_MAIN"!=n.data.renewalOptions.renewalType||a.isLoggedIn()&&!a.isLimitedAccess()?n.data.renewalOptions.isSingleLineAcct||f.isAddonPlanInCart()||!a.isLoggedIn()||a.isLimitedAccess()?_.redirect(h.rpe.redemption.checkout):_.redirect(h.renewal):_.redirect(h.accessaccount)})).catch((function(e){r.debug(e),r.debug("Got the taxeation error::hence  halting!!!!"),s.handleError(e,n)}))},n.showPromotionsPopup=function(){if(r.debug(p.isGroupBased(),"Servcie plan Controller:: showPromotionsPopup",n.plans,n.data.selectedPlan),p.isGroupBased()&&angular.isDefined(n.data.selctedDevice)&&angular.isDefined(n.data.selctedDevice.group)&&("PASTDUE"==n.data.selctedDevice.group.masterEsnStatus||"USED"==n.data.selctedDevice.group.masterEsnStatus))f.addPlanToCart(n.data.selectedPlan),_.redirect(h.activation.purchase);else{i.open({animation:!1,templateUrl:"app/views/rpe/cart/serviceplancartpopup_view.html",controller:"popupController",windowTopClass:"tf-modal",scope:n,resolve:{plans:function(){return n.plans},selectedPlan:n.data.selectedPlan,renewalOptions:n.data.renewalOptions}})}}}angular.module("app").controller("easyRedeemController",e),e.$inject=["$q","$routeParams","$scope","$userService","$uibModal","$log","$location","$errorHandler","$checkoutService","$deviceService","$appConstants","$utils","$devicesCartServices","$accountService","$renewalservices","$window","$cartService","$appRoutes","$done","$viewConfig","$cookieService","$redemptionService","$rootScope","$appConfig","$filter","$servicePlanSelectorService"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c){e.data={renewalOptions:{}},e.view={flow:i.flow},e.close=function(){t.dismiss("cancel")},e.purchaseplan=function(){e.close(),o.redirect(r.rpe.redemption.purchaseplan)},e.otaContinue=function(){e.close(),o.redirect(r.rpe.redemption.purchaseplan,{session:"reset"})},e.closePopup=function(){s.clearSelectedDevice(),t.dismiss("cancel"),o.redirect(r.rpe.redemption.purchaseplan,{session:"reset"})},e.init=function(){s.clearDeviceOTAByMin(s.getSelectedDevice()).then((function(e){})).catch((function(t){c.handleError(t,e)}))},e.initflash=function(){var t=angular.copy(s.getSelectedDevice().flashMessage);e.flash_alert=angular.copy(t),e.flash_alert.flashText=$sce.trustAsHtml(t.flashText),"es_ES"==$rootScope.lang_key&&t.flashSpanishText&&(e.flash_alert.flashText=$sce.trustAsHtml(t.flashSpanishText)),t.urlText&&($log.debug("flash urlText present ...",t),e.flash_alert.urlText={},e.flash_alert.link={},e.flash_alert.urlText=$sce.trustAsHtml(t.urlText),e.flash_alert.link=$sce.trustAsHtml(t.link))}}angular.module("app").controller("easyredeemController",e),e.$inject=["$scope","$uibModalInstance","$appConfig","$window","resolvParam","$appRoutes","$done","$deviceService","$errorHandler"]})(),(function(){"use strict";function e(e,t){e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("ildViewDetailsController",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.view={enrollmentFailed:!1},e.data={errorMsg:void 0},e.init=function(){t.info("productordererrpopupctrl ::: init/entry",r.getProductSummary()),r.getProductSummary()&&"11046"==r.getProductSummary().error_code&&(e.view.enrollmentFailed=!0,e.data.errorMsg=r.getProductSummary().error_message),r.getProductSummary()&&o.popUpErrorCodes.includes(r.getProductSummary().error_code)&&(e.data.errorMsg=r.getProductSummary().error_message),t.info("productordererrpopupctrl ::: init/exit",e.view,e.data)},e.close=function(){e.redirect()},e.redirect=function(){n.dismiss("cancel"),i.resolve(e.view.enrollmentFailed)}}angular.module("app").controller("productordererrpopupctrl",e),e.$inject=["$scope","$log","$uibModalInstance","$userService","callback","$devicesCartServices","$appConfig"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$filter","$serviceUriConfig",function(e,t,n,a,i){var r={forward:function(t){var i=[{party:{partyID:n.partyidc,individual:{id:t.webobjid}},roleType:n.roletypec},{party:{partyID:e.servicePartyId,languageAbility:e.language,partyExtension:[{name:n.partytransactionid,value:n.partytransactionval},{name:n.sourcesystem,value:e.source_system}]},roleType:n.roletypeint}];if(angular.isDefined(t.dealerId)){var r={party:{partyID:t.dealerId},roleType:n.roletypereferrer};i.push(r)}return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{externalID:n.externalid,orderDate:a("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),relatedParties:i,type:t.transactionType,orderItems:t.orderItems,billingAccount:t.billingAccount,customerAccount:t.customerAccount}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={purchase:{url:i.activation.product_order,contentType:"application/json",isCookieNeeded:!0,httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","11046"],koCodes:{},okkoCodes:{}},manageEnroll:{url:i.activation.product_order,contentType:"application/json",httpMethod:"PUT",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","11046"],koCodes:{},okkoCodes:{}}};t.register("productorder",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$servicePlanSelectorService","$devicesCartServices","$appConfig",function(e,t,n,a,i){var r={errorConfig:{999:"ERROR_1985646",10901:"ERROR_1985145"},forward:function(e){return{webobjid:e.webobjid,transactionType:e.transactionType,orderItems:e.orderItems,billingAccount:e.billingAccount,dealerId:e.dealerId,customerAccount:e.customerAccount}},backward:function(e){var r={};r.error_code=e.error_code,r.error_message=e.error_message,r.error_type=e.error_type;var o=e.response.response,s=[],c=[],l={};l.isOnlyAddonPurchase=!0,l.isIldPurchase=!1,l.isDataOnlyDevice=!1;var d=[];if(("0"==r.error_code||"11046"==r.error_code)&&angular.isDefined(o)){if(angular.isDefined(o.billingAccount)){var u={};if(angular.isDefined(o.billingAccount.id)&&(u.transactionId=o.billingAccount.id),u.isRecurring=!1,angular.isDefined(o.billingAccount.customerBill)){if(angular.forEach(o.billingAccount.customerBill.customerBillExtension,(function(e,t){angular.isDefined(e.name)&&angular.equals(e.name,"e911FlatText")&&e.value&&(l.e911Flatlabel=e.value),angular.isDefined(e.name)&&angular.equals(e.name,"e911RateText")&&e.value&&(l.e911Ratelabel=e.value),angular.isDefined(e.name)&&angular.equals(e.name,"e911Text")&&e.value&&(l.e911label=e.value)})),u.billNo=o.billingAccount.customerBill.billNo,u.pointsAccrued=o.billingAccount.customerBill.pointsAccrued,u.pointsAccruedWithAR=o.billingAccount.customerBill.pointsAccruedWithAR,u.lrpEnrollmentBonus=o.billingAccount.customerBill.lrpEnrollmentBonus,u.arEnrollmentBonus=o.billingAccount.customerBill.arEnrollmentBonus,angular.isDefined(o.billingAccount.customerBill.customerBillTaxes)){var p=o.billingAccount.customerBill.customerBillTaxes;u.e911Tax=p.e911Tax?p.e911Tax:0,u.e911label=l.e911label?l.e911label:"BAT_24262",u.e911Ratelabel=l.e911Ratelabel,u.e911Flatlabel=l.e911Flatlabel,u.e911RateTax=p.e911RateAmount?p.e911RateAmount:0,u.e911FlatTax=p.e911FlatAmount?p.e911FlatAmount:0,u.rcrfTax=p.rcrfTax?p.rcrfTax:0,u.usfTax=p.usfTax?p.usfTax:0,u.salesTax=p.salesTax?p.salesTax:0,u.totalTaxes=p.totalTaxes?p.totalTaxes:0,u.totalDiscount=p.totalDiscount?p.totalDiscount:0,u.total=p.totalAmountWithDiscountAndTax?p.totalAmountWithDiscountAndTax:0,a.isBrandMultiLine()?u.amount=parseFloat(u.total)-parseFloat(u.totalTaxes)-u.totalDiscount:u.amount=parseFloat(u.total)-parseFloat(u.totalTaxes)+u.totalDiscount}if(angular.isDefined(o.billingAccount.customerBill.customerBillingCycle)){var v=o.billingAccount.customerBill.customerBillingCycle;u.isRecurring=v.isRecurring;var g=v.chargeDate;angular.isDefined(g)&&(u.chargeDate=t.convertLongDate(g))}}if(angular.isDefined(o.billingAccount.discounts)&&(u.subTotal=parseFloat(u.amount),angular.forEach(o.billingAccount.discounts,(function(e,t){if(angular.isDefined(e.specification)){var n=e.specification;angular.isDefined(n.name)&&angular.equals(n.name,"MULTILINE_DISCOUNT")&&(u.multiline_discount=n.value,u.subTotal=parseFloat(u.subTotal)-parseFloat(u.multiline_discount)),angular.isDefined(n.name)&&angular.equals(n.name,"DISC10PER")&&(u.disc10per=n.value,u.subTotal=parseFloat(u.subTotal)-parseFloat(u.disc10per)),angular.isDefined(n.name)&&angular.equals(n.name,"PROMO4L100_DISCOUNT")&&(u.promo4l100_discount=n.value,u.subTotal=parseFloat(u.subTotal)-parseFloat(u.promo4l100_discount)),angular.isDefined(n.name)&&angular.equals(n.name,"ONE_TIME_DISCOUNT")&&(u.onetime_discount=n.value,u.subTotal=parseFloat(u.subTotal)-parseFloat(u.onetime_discount)),angular.isDefined(n.name)&&angular.equals(n.name,"EMPLOYEE_DISCOUNT")&&(u.employee_discount=n.value,u.subTotal=parseFloat(u.subTotal)-parseFloat(u.employee_discount)),angular.isDefined(n.name)&&angular.equals(n.name,"AMAZON_DISCOUNT")&&(u.amazon_discount=n.value,u.subTotal=parseFloat(u.subTotal)-parseFloat(u.amazon_discount)),angular.isDefined(n.name)&&angular.equals(n.name,"AUTOREFILL_DISCOUNT")&&(u.autorefill_discount=n.value,u.subTotal=parseFloat(u.subTotal)-parseFloat(u.autorefill_discount))}})),u.subTotal=u.subTotal!=u.amount?u.subTotal:void 0),angular.isDefined(o.billingAccount.customerPayment)&&o.billingAccount.customerPayment.paymentMean)if(u.payType=o.billingAccount.customerPayment.paymentMean.type,angular.equals(u.payType,"CREDITCARD")){var m=o.billingAccount.customerPayment.paymentMean.creditCard;u.paymentType=m.type,u.paymentNumber=m.accountNumber}else if(angular.equals(u.payType,"ACH")){var f=o.billingAccount.customerPayment.paymentMean.bankAccount;u.paymentType=f.type,u.paymentNumber=f.accountNumber}else u.paymentType=u.payType;if(angular.isDefined(o.billingAccount.payment)&&o.billingAccount.payment.paymentMethod)if(u.payType=o.billingAccount.payment.paymentMethod.type,angular.equals(u.payType,"CREDITCARD")){var h=o.billingAccount.payment.paymentMethod.creditCard;u.paymentType=h.type,u.paymentNumber=h.accountNumber}else if(angular.equals(u.payType,"ACH")){var _=o.billingAccount.payment.paymentMethod.bankAccount;u.paymentType=_.type,u.paymentNumber=_.accountNumber}else if(angular.equals(u.payType,"DIGITAL_WALLET")){var y=o.billingAccount.payment.paymentMethod.digitalWallet;u.paymentType=y.service.toUpperCase(),u.paymentNumber=angular.isDefined(y.name)?y.name:""}else u.paymentType=u.payType;l.banlevelInfo=u}if(angular.isDefined(o.orderItems)&&(c=[],angular.forEach(o.orderItems,(function(e,r){var o={};if(o.isMonthlyPlan=!1,o.isDataAddon=!1,o.isIldAddon=!1,o.isEnrolled=!1,o.quantity=isNaN(e.quantity)?1:parseInt(e.quantity),angular.isDefined(e.product)&&angular.isDefined(e.product.relatedServices)){var u={},p=!1;angular.isDefined(e.product.productSerialNumber)&&(o.productSerialNumber=e.product.productSerialNumber,u.productSerialNumber=e.product.productSerialNumber,p=t.isMin(o.productSerialNumber)),!p&&angular.isDefined(e.product.SupportingResources)&&angular.isDefined(e.product.SupportingResources.serialNumber)&&(o.productSerialNumber=e.product.SupportingResources.serialNumber),o.showDeviceBy=e.product.productSerialNumber;var v=a.getDeviceFromCart(e.product.productSerialNumber);if(v){if(v.showDeviceBy)o.showDeviceBy=v.showDeviceBy;else{var g=t.getShowDeviceBy(v);o.showDeviceBy=g||e.product.productSerialNumber}v.deviceType&&(o.deviceType=v.deviceType),t.isDataOnlyDevice(v)&&(c.push(v),"carsmart"==v.deviceType&&(o.isM2MPromotionAvailable="Y"))}if(e.product.relatedServices.serviceSpecification&&angular.forEach(e.product.relatedServices.serviceSpecification,(function(e,n){"serviceForecastDate"===e.name&&e.value&&(o.forecastDueDate=t.convertLongDate(e.value))})),angular.isDefined(e.product.relatedServices.validFor)){var m=e.product.relatedServices.validFor.endDatetime;angular.isDefined(m)&&(o.serviceEndDate=t.convertLongDate(m))}o.cardsInReserve=!1,e.product.relatedServices.serviceExtension&&angular.forEach(e.product.relatedServices.serviceExtension,(function(e,t){"reserveCount"===e.name&&e.value&&("0"!=e.value&&(o.cardsInReserve=!0),o.reserveCount=e.value)})),e.product.relatedServices.isEnrolled&&(o.isEnrolled=e.product.relatedServices.isEnrolled)}if(angular.isDefined(e.orderItemPrice)){var f={};angular.isDefined(e.orderItemPrice.price)&&(f.amount=e.orderItemPrice.price.amount,f.currencyCode=e.orderItemPrice.price.currencyCode,f.planAmtWithqty=o.quantity?o.quantity*f.amount:f.amount,f.finalLrpAmountWithDisc=angular.isDefined(e.orderItemPrice.tax)?e.orderItemPrice.tax.totalAmountWithDiscountAndTax:0),angular.isDefined(e.orderItemPrice.tax)&&(f.e911Tax=e.orderItemPrice.tax.e911Tax?e.orderItemPrice.tax.e911Tax:0,f.e911label=l.e911label?l.e911label:"BAT_24262",f.e911Ratelabel=l.e911Ratelabel,f.e911Flatlabel=l.e911Flatlabel,f.e911RateTax=e.orderItemPrice.tax.e911RateAmount?e.orderItemPrice.tax.RateTax:0,f.e911FlatTax=e.orderItemPrice.tax.e911FlatAmount?e.orderItemPrice.tax.FlatTax:0,f.rcrfTax=e.orderItemPrice.tax.rcrfTax?e.orderItemPrice.tax.rcrfTax:0,f.usfTax=e.orderItemPrice.tax.usfTax?e.orderItemPrice.tax.usfTax:0,f.salesTax=e.orderItemPrice.tax.salesTax?e.orderItemPrice.tax.salesTax:0,f.totalTaxes=e.orderItemPrice.tax.totalTaxes?e.orderItemPrice.tax.totalTaxes:0,f.totalAmountWithDiscountAndTax=e.orderItemPrice.tax.totalAmountWithDiscountAndTax?e.orderItemPrice.tax.totalAmountWithDiscountAndTax:0),angular.isDefined(e.orderItemPrice.discounts)&&(f.subTotal=parseFloat(f.amount),angular.forEach(e.orderItemPrice.discounts,(function(e,t){angular.isDefined(e)&&angular.isDefined(e.specification)&&(angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"MULTILINE_DISCOUNT")&&(f.multilineDiscount=e.specification.value,f.multilineDiscountType=e.specification.valueType,f.subTotal=parseFloat(f.subTotal)-parseFloat(f.multilineDiscount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"DISC10PER")&&(f.disc10per=e.specification.value,f.multilineDiscountType=e.specification.valueType,f.subTotal=parseFloat(f.subTotal)-parseFloat(f.disc10per)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"EMPLOYEE_DISCOUNT")&&(f.employeeDiscount=e.specification.value,f.employeeDiscountType=e.specification.valueType,f.subTotal=parseFloat(f.subTotal)-parseFloat(f.employeeDiscount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"PROMO4L100_DISCOUNT")&&(f.promo4l100_discount=e.specification.value,f.promo4l100_discountType=e.specification.valueType,f.subTotal=parseFloat(f.subTotal)-parseFloat(f.employeeDiscount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"AMAZON_DISCOUNT")&&(f.amazonDiscount=e.specification.value,f.amazonDiscountType=e.specification.valueType,f.subTotal=parseFloat(f.subTotal)-parseFloat(f.amazonDiscount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"AUTOREFILL_DISCOUNT")&&(f.autorefillDiscount=e.specification.value,f.autorefillDiscountType=e.specification.valueType,f.subTotal=parseFloat(f.subTotal)-parseFloat(f.autorefillDiscount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"ONE_TIME_DISCOUNT")&&(f.onetimeDiscount=e.specification.value,f.onetimeDiscountType=e.specification.valueType,f.subTotal=parseFloat(f.subTotal)-parseFloat(f.onetimeDiscount)))})),f.subTotal=f.subTotal!=f.amount?f.subTotal:void 0),o.billingSummary=f}if(angular.isDefined(e.product.relatedServices)&&angular.isDefined(e.product.relatedServices.serviceExtension)&&e.product.relatedServices.serviceExtension.length>0&&angular.forEach(e.product.relatedServices.serviceExtension,(function(e,t){"productInstruction"===e.name&&e.value&&(l.activationInstructions=e.value,u.productInstruction=e.value),"generalInstruction"===e.name&&e.value&&(l.activationInstructions=e.value,u.activationInstructions=e.value)})),angular.isDefined(e.orderItemExtension)&&(o.isPromotionAvailable=!1,angular.forEach(e.orderItemExtension,(function(e,t){"planId"!=e.name&&"vasPlanId"!=e.name||(o.plan_id=e.value),"planType"!=e.name&&"vasPlanType"!=e.name||e.value&&angular.merge(o,i.serviceplans[e.value]),"planDescription"!=e.name&&"vasPlanDescription"!=e.name||(o.servicePlanDesc=e.value),"shortDescription"==e.name&&(o.servicePlan=e.value),"planName"!=e.name&&"vasPlanName"!=e.name||(o.plan_name=e.value),"groupIdentifier"==e.name&&(o.groupIdentifier=e.value),"ticket"==e.name&&(o.ticketNumber=e.value),"scriptType"==e.name&&(o.planScriptType=e.value),"transactionDate"==e.name&&(o.transactionDate=e.value),"disclaimer"==e.name&&(o.disclaimer=e.value),"outageAlert"==e.name&&(o.serviceOutageAlert=e.value),"PROMO_DATA"==e.name&&(o.isPromotionAvailable="Y"==e.value)}))),o.plan_id&&!t.isNullOrEmpty(o.plan_id)){var h=n.getAllPlanByPlanId(parseInt(o.plan_id));if(h&&(o.plan_id=h.plan_id,h.is_addon?(o.isDataAddon=h.is_addon&&!h.ild_sup,o.isIldAddon=h.ild_sup,l.isIldPurchase=h.ild_sup):o.isMonthlyPlan=!0,angular.isUndefined(o.billingSummary))){var _={amount:h.price};o.billingSummary=_}}o.dateToBeShown=o.serviceEndDate,o.isMonthlyPlan&&o.forecastDueDate&&(o.dateToBeShown=o.forecastDueDate),!o.isDataAddon&&o.isMonthlyPlan||(o.quantity=e.quantity),s.push(o),d.push(u)})),c.length==s.length&&(l.isDataOnlyDevice=!0),angular.forEach(angular.copy(s),(function(e,t){e.isMonthlyPlan&&l.isOnlyAddonPurchase&&(l.isOnlyAddonPurchase=!1),e.isM2MPromotionAvailable&&(l.isM2MPromotionAvailable="Y")})),l.productList=angular.copy(s)),angular.isDefined(o.orderPrice)){var b={};angular.isDefined(o.orderPrice.price)&&(b.amount=o.orderPrice.price.amount,b.currencyCode=o.orderPrice.price.currencyCode)}l.multiDeviceInstLs=t.getInstructions(d),console.log("svc_response.multiDeviceInstLs !! ",o.multiDeviceInstLs),r.summary=l,console.log("ret.summary value is !!! ",r.summary)}return r}};e.register("productorder",r)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brand:e.brand}},backward:function(e){var t={};return angular.isDefined(e.token)&&(t=e),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},t)}},i={url:n.my_account.pymt_mgmt.client_token,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("paymentMgmtClientToken",i)}])})(),(function(){angular.module("app").run(["$voMapConfig","$rootScope","$appConfig",function(e,t,n){var a={errorConfig:{999:"ERROR_1985646"},forward:function(e){},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.token=e.token,angular.isDefined(e.token)&&n.Storage&&n.sessionStorage.setItem("BRAINTREE_TOKEN",JSON.stringify(e.token)),t}};e.register("paymentMgmtClientToken",a)}])})(),(function(){"use strict";function e(e,t){e.close=function(){e.confirmZipCodeChange(),t.dismiss("cancel")}}angular.module("app").controller("zipchangepopcontroller",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(e){return{zipCode:e.zipCode,retryCounter:e.retryCounter,sourceSystem:e.sourceSystem}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.billing.validateBillingZipcode,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","30002"],koCodes:{},okkoCodes:{}};t.register("zipcodeValidationServ",r)}])})(),(function(){var e={forward:function(e){return{zipCode:e.zipCode,retryCounter:e.retryCounter,sourceSystem:e.sourceSystem}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t=e.response}};angular.module("app").run(["$voMapConfig",function(t){t.register("zipcodeValidationServ",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{sourceSystem:e.source_system,language:e.language,brand:e.brand,channel:e.source_system,partyTransactionID:a.partytransactionval,partyID:e.servicePartyId,resourceCategory:t.resourceCategory,type:t.type,resourceIdentifier:t.resourceIdentifier,projection:a.lrp_projection}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={lrpservice:{url:n.resource_management,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("lrpservice",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$lrpEnrollment",function(e,t,n){var a={errorConfig:{},forward:function(e){return{resourceIdentifier:e.resourceIdentifier,resourceCategory:e.resourceCategory,type:e.type}},backward:function(e){var t={svc_response:{}};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&null!==e.response){t.svc_response.resource=e.response.resource,t.svc_response.customerAccountDetails=e.response.customerAccountDetails;var a=0;angular.isDefined(t.svc_response.customerAccountDetails)&&angular.isDefined(t.svc_response.customerAccountDetails.loyalty)&&(a=t.svc_response.customerAccountDetails.loyalty.availablePoints),n.hasEnoughLoyaltyPoints(a,1e4)}return t}};e.register("lrpservice",a)}])})(),angular.module("app").component("manageDataLimit",{templateUrl:"app/views/rpe/confirmation/managedatalimit/managedatalimit_view_rpe_105.5.html",bindings:{device:"=",errorHandler:"&?"},controller:["$scope","$done","$appRoutes","$balanceenquiryservice","$deviceService",function(e,t,n,a,i){function r(t){e.$ctrl.errorHandler({error:t})}e.manageDataLimit=function(){i.selectDevice(e.$ctrl.device),a.evaluateManageDataLimitFlow(e.$ctrl.device,r)}}]}),angular.module("app").component("manageStash",{templateUrl:"app/views/rpe/confirmation/managestash/managestash_view_rpe105_1.html",bindings:{view:"=",stashCallback:"&"},controller:["$scope","$done","$appRoutes",function(e,t,n){e.manageStash=function(){e.$ctrl.stashCallback()}}]}),(function(){"use strict";function e(e,t,n){e.closePopup=function(){n.dismiss("cancel")}}angular.module("app").controller("pointsBreakdownctrl",e),e.$inject=["$scope","$log","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.close=function(){e.done()},e.done=function(){n.dismiss("cancel"),i.resolve(!0)}}angular.module("app").controller("addnewlinepopupctrl",e),e.$inject=["$scope","$log","$uibModalInstance","$userService","callback","$devicesCartServices"]})(),angular.module("app").component("transactionSummary",{templateUrl:"app/views/rpe/confirmation/transactionsummary/transactionsummmary_view.html",bindings:{view:"=",data:"="},controller:["$scope","$devicesCartServices","$appConfig",function(e,t,n){e.isGroupBased=n.features.groupbased}]}),angular.module("app").component("changeCreditcard",{templateUrl:"app/views/rpe/enrollments/changecreditcard/changecreditcard_view_rpe_106_2_1.html",bindings:{data:"=",view:"=",close:"&",modalInstance:"=",resolve:"="},controller:["$rootScope","$scope","$deviceService","$q","$appConstants","$errorHandler","$paymentService",function(e,t,n,a,i,r,o){var s=this;$log.debug("modalInstance",s.modalInstance),$log.debug("resolve",s.resolve);var c,l;t.preferences={showCVV:!0},t.view={newCredit:!1,newBank:!1,savedpayment:!0,activeDeviceEdit:!1,disablePayPal:!0,disableVenmo:!0,isHppPaymentFlow:!1},t.bankFields={},t.ccFields={},t.paymentSources=o.allPaymentSources(),t.selectedPayment=t.paymentSources.filter((function(e){return e.id===s.resolve.paymentsource.id}))[0],angular.isDefined(s.resolve.isHppPaymentFlow)&&(t.view.isHppPaymentFlow=s.resolve.isHppPaymentFlow),t.updatesavedtabs=function(e){c=e,e==i.event.exist?(t.bankFields={address:{country:"USA"}},t.ccFields={expiration_month:{id:""},expiration_year:"",address:{country:"USA"}},t.view.savedpayment=!0,t.view.newCredit=!1,t.view.newBank=!1):e==i.event.add&&(t.view.savedpayment=!1,t.view.newCredit=void 0==l||"ach"!==l,t.view.newBank=!(!l||"ach"!=l))},t.newpayevent=function(e){l=e,angular.equals(e,i.payment_type.ach)?(t.ccFields={expiration_month:{id:""},expiration_year:"",address:{country:"USA"}},t.view.savedpayment=!1,t.view.newCredit=!1,t.view.newBank=!0):(t.bankFields={address:{country:"USA"}},t.view.savedpayment=!1,t.view.newCredit=!0,t.view.newBank=!1)},t.$on("newpymt-added",(function(e,t){$log.debug("newpymt-added/event/entry",t),s.modalInstance.close(t.data),$log.debug("newpymt-added/event/exit")})),t.$on("newpymt-failed",(function(e,n){$log.debug("newpymt-failed/event/entry",n),r.handleError(n.data,t),$log.debug("newpymt-failed/event/entry",n)})),e.$on("card-selected",(function(e,t){$log.debug("card-selected/event/entry",t),s.modalInstance.close(t.card),$log.debug("card-selected/event/exit")}))}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{min:t.min,programId:t.programId,common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{min:t.min,reason:t.reason,programId:t.programId,category:t.category,subCategory:t.subCategory,planPartNumber:t.planPartNumber,planPartClass:t.planPartClass,billingAccount:t.billingAccount}}},backward:function(e){return{cancelenroll:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={url:n.rpe.enrollments.deenroll_device,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["10100","11400"],okkoCodes:{}};t.register("deenroll_device",i)}])})(),(function(){var e={forward:function(e){return{min:e.min,reason:e.reason,programId:e.programId,category:e.category,subCategory:e.subCategory,planPartNumber:e.planPartNumber,planPartClass:e.planPartClass,billingAccount:e.billingAccount}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:e.cancelenroll}}};angular.module("app").run(["$voMapConfig",function(t){t.register("deenroll_device",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{email:t.email,reason:t.reason,billingAccount:t.billingAccount}}},backward:function(e){return{cancelenroll:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return{deenrollreasons:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={deenrolreasons:{url:n.rpe.enrollments.deenroll_reasons,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["10100","11400"],okkoCodes:{}},cancelenroll:{url:n.rpe.enrollments.cancel_enroll,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:["10100","11400"],okkoCodes:{}}};t.register("deenroll",r)}])})(),(function(){var e={forward:function(e){return{email:e.email,reason:e.reason,billingAccount:e.billingAccount}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:e.cancelenroll}}};angular.module("app").run(["$voMapConfig",function(t){t.register("cancelenroll",e)}])})(),(function(){var e={forward:function(e){return{min:e.min}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.deenrollreasons=[],angular.isDefined(e.deenrollreasons.reasons)&&angular.forEach(e.deenrollreasons.reasons,(function(e,n){t.deenrollreasons.push({reason_id:e.reason,reason:e.reason})})),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("deenrolreasons",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.init=function(){if(console.log("collect info ",e.$resolve.items.callback),e.billingInfo={},e.address={useProfileAddress:!1},e.translateAmount=e.$resolve.items.refundAmount,e.loggedIn=r.isLoggedIn(),e.translateAmount){var t=o("translate")("MYACC_5359");e.headerText=t.replace("$","$"+e.translateAmount)}},e.closePopup=function(e){n.dismiss("cancel")},e.submit=function(){e.closePopup(),e.$resolve.items.callback.resolve(e.billingInfo)},e.$watch("address.useProfileAddress",(function(){e.address.useProfileAddress?angular.isDefined(i.getProfileDetails().getProfile())?e.billingInfo=i.getProfileDetails().getProfile().contact:i.getProfileInfo({account_id:r.getAccountId()}).then((function(n){a.clearError(e),e.billingInfo=i.getProfileDetails().getProfile().contact,angular.isUndefined(e.billingInfo.country)&&(e.billingInfo.country="USA"),angular.isDefined(e.billingInfo.firstname)&&!isNaN(e.billingInfo.firstname)&&(e.billingInfo.firstname=""),angular.isDefined(e.billingInfo.lastname)&&!isNaN(e.billingInfo.lastname)&&(e.billingInfo.lastname=""),angular.isDefined(e.billingInfo.address1)&&angular.equals("No Address Provided".toUpperCase(),e.billingInfo.address1.toUpperCase())&&(e.billingInfo.address1=""),angular.isDefined(e.billingInfo.address2)&&angular.equals("No Address Provided".toUpperCase(),e.billingInfo.address2.toUpperCase())&&(e.billingInfo.address2="");var r=i.getProfileDetails().getProfile();angular.isDefined(r)&&angular.isDefined(r.login)&&angular.isDefined(r.login.email)&&(e.billingInfo.emailAddress=r.login.email),t.debug("Profile retrieved",e.billingInfo)})).catch((function(n){a.handleError(n,e),t.warn(n)})):e.billingInfo={}}))}angular.module("app").controller("deenrollCollectUserInfoController",e),e.$inject=["$scope","$log","$uibModalInstance","$errorHandler","$profileService","$userService","$filter"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d){e.data={},e.deenrolldata=o.getBanDetails(),e.init=function(){angular.isDefined(e.deenrollreasons)&&e.deenrollreasons.length>0||e.getdeenrolreasons(),e.data.device=o.getSelectedDevice(),n.debug("data devices",e.data.device),n.debug("SCope valie",e),e.showEndDate=e.$resolve.endDate,e.deEnrollmentScript="NET10"===d.brand&&e.$ctrl.plan.isGrandfathered&&e.$ctrl.plan.deEnrollmentScript?e.$ctrl.plan.deEnrollmentScript:"BAT_24473"},e.getdeenrolreasons=function(a){var o=t.defer();return n.debug("Retrieving de-enroll reasons"),i.getDeenrollmentReasons({}).then((function(t){e.deenrollreasons=t.deenrollreasons,n.debug("Retrieved de-enroll reasons",e.deenrollreasons),o.resolve(e.deenrollreasons)})).catch((function(t){n.warn(t),r.handleError(t,e)})),o.promise},e.closePopup=function(e){a.dismiss("cancel")},e.submit=function(){
angular.isDefined(e.data)&&angular.isDefined(e.data.reason)&&(s.resolve(e.data.reason),e.closePopup())},e.redirectToMyAccountPage=function(){l.redirect(c.dashboard)}}angular.module("app").controller("denerollpopupController",e),e.$inject=["$scope","$q","$log","$uibModalInstance","$enrollmentService","$errorHandler","$deviceService","callback","$appRoutes","$done","$appConfig"]})(),angular.module("app").component("easyExchangePopup",{templateUrl:"app/views/rpe/enrollments/easyexchangepopup/easyexchangepopup_101.4_view.html",bindings:{resolve:"<",close:"&"},controller:["$scope",function(e){e.close=function(){e.$ctrl.close()},e.view={isEasyExchangePlus:e.$ctrl.resolve.easyExchangeType}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{paymentSourceId:t.paymentSourceId,accountId:t.accountId,cvv:t.cvv,enrollNow:t.enrollNow,servicePlanId:t.planId,vasProgram:t.vasProgram},min:t.min,programId:t.programId,vasSubscriptionId:t.vasSubscriptionId,planId:t.planId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.rpe.enrollments.enroll_change_vas,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("enrollchangehpp",i)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985122",12100:"ERROR_1985192",10701:"ERROR_1985141",11200:"INVALID_PYMT_SRC_ID"},forward:function(e){return{paymentSourceId:e.paymentSourceId,accountId:e.accountId,cvv:e.cvv,enrollNow:e.enrollNow,planId:e.planId,min:e.min,programId:e.programId,vasProgram:e.vasProgram,vasSubscriptionId:e.subscriptionId?e.subscriptionId:void 0}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:e.response.response}}};angular.module("app").run(["$voMapConfig",function(t){t.register("enrollchangehpp",e)}])})(),angular.module("app").component("enrollHpp",{templateUrl:"app/views/rpe/enrollments/enrollhpp/enrollhpp_view.html",bindings:{plan:"=",device:"=",pymtsources:"="},controller:["$scope","$done","$q","$uibModal","$appRoutes","$log","$devicesCartServices","$deviceService","$cartService","$enrollmentService","$errorHandler","$appConstants","$utils","$sessionService","$userService","$window",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m){e.init=function(){e.hppPlan=e.$ctrl.plan[0],e.device=e.$ctrl.device,e.pymt_sources=e.$ctrl.pymtsources,e.hppPlan.startDate&&(e.hppPlan.startDate=p.tfDate(e.hppPlan.startDate)),e.hppPlan.endDate&&(e.hppPlan.endDate=p.tfDate(e.hppPlan.endDate)),e.pymt_sources&&(e.pymt_src=e.pymt_sources.filter((function(t){return t.id===e.hppPlan.vasEnrolledPymtId}))[0]),e.handleButtonDisplayLogic(),e.suspendedStatusErrorDisplayLogic()},e.handleButtonDisplayLogic=function(){var t=e.hppPlan;e.showEditPaymentButton=!1,e.showPayNowButton=!1;var n=["SUSPENDED","SUSPENDED_PAY_REJECT"];-1!==["ENROLLED","ENROLLED_NO_ACCOUNT","ENROLL_SCHEDULED"].indexOf(t.status)?e.showEditPaymentButton=!!t.isMonthly:-1!==n.indexOf(t.status)&&(e.showEditPaymentButton=!1),-1!==n.indexOf(t.status)&&t.isMonthly&&(e.showPayNowButton=!0),e.gridCss="col-xs-12 ",e.offSetCss="",e.showPayNowButton||e.showEditPaymentButton?e.gridCss+="col-sm-4":(e.offSetCss="col-sm-offset-2",e.gridCss+="col-sm-4")},e.suspendedStatusErrorDisplayLogic=function(){var t=e.hppPlan;"SUSPENDED_DEACT"===t.status?e.suspendedErrorScriptId="HPP_504":"SUSPENDED_PAY_REJECT"===t.status?e.suspendedErrorScriptId="APPLE"===t.vendor?"HPP_499":"MYACC_5352":e.suspendedErrorScriptId=""},e.editPayment=function(){d.clearError(e),e.displayEditPaymentMethodPopup().then((function(t){t&&e.editPaymentMethodPopupResponse(t)}))},e.displayEditPaymentMethodPopup=function(){var t=n.defer();return a.open({component:"changeCreditcard",animation:!1,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{paymentsource:e.pymt_src,isHppPaymentFlow:!0}}).result.then((function(e){t.resolve(e)}),null),t.promise},e.editPaymentMethodPopupResponse=function(t){var n=e.pymt_sources,a=!1;if(n.length>0)for(var i=0;i<n.length;i++)t.id==n[i].id&&(a=!0);e.pymt_src.id!==parseInt(t.id)&&(a?e.changeHppEnrollment(t):e.updateEnrollmentConfirmationPopup(t))},e.updateEnrollmentConfirmationPopup=function(t){a.open({component:"enrollHppConfirmation",animation:!1,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{showUpdateConfirmMsg:!0}}).result.then((function(n){"changeHppEnrollment"===n&&e.changeHppEnrollment(t)}),null)},e.editPaymentConfirmationPopup=function(){a.open({component:"enrollHppConfirmation",animation:!1,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{showUpdateConfirmMsg:!1}})},e.changeHppEnrollment=function(t){var n=e.hppPlan;l.changeHppEnrollment({paymentSourceId:t.id,accountId:parseInt(g.getAccountId()),planId:parseInt(n.plan_id),cvv:t.ccv,min:e.device.min,programId:parseInt(n.program_id),enrollNow:!0,vasProgram:{planId:parseInt(n.plan_id),programId:n.program_id},subscriptionId:parseInt(n.subscription_id)}).then((function(t){d.clearError(e),e.editPaymentConfirmationPopup()})).catch((function(t){r.warn(t),d.handleError(t,e)}))},e.cancelEnrollment=function(){r.debug("enrollHpp/cancelEnrollment/entry"),d.clearError(e),e.getDeEnrollReason().then((function(t){e.deEnroll(t)})),r.debug("enrollHpp/cancelEnrollment/exit")},e.getDeEnrollReason=function(){r.debug("enrollHpp/getDeEnrollReason/entry");var t=n.defer();return a.open({animation:!1,templateUrl:"app/views/rpe/enrollments/deenroll/deenroll_hpp_popup_view.html",controller:"denerollpopupController",size:"md",scope:e,windowTopClass:"tf-modal",resolve:{callback:t,endDate:e.hppPlan.endDate}}),r.debug("enrollHpp/getDeEnrollReason/exit"),t.promise},e.deEnroll=function(t){r.debug("enrollHpp/deEnroll/entry -> ",t,e.hppPlan),e.hppPlan.isMonthly?e.deEnrollConfirmation(t,void 0):e.deEnrollCollectUserInfo().then((function(n){e.deEnrollConfirmation(t,n)}))},e.deEnrollCollectUserInfo=function(){r.debug("enrollHpp/deEnrollCollectUserInfo/entry");var t=n.defer();return a.open({animation:!1,templateUrl:"app/views/rpe/enrollments/deenroll/deenroll_hpp_collectuserinfo_popup_view.html",controller:"deenrollCollectUserInfoController",size:"md",scope:e,windowTopClass:"tf-modal",resolve:{items:function(){return{callback:t,refundAmount:e.hppPlan.refundAmount}}}}),r.debug("enrollHpp/deEnrollCollectUserInfo/exit"),t.promise},e.deEnrollConfirmation=function(t,n){r.debug("enrollHpp/deEnrollConfirmation/entry -> ",e.device,t,n),l.deenrollVasPlan({vasPlan:e.hppPlan,address:n,esn:e.device.esn,accountId:e.device.accountId}).then((function(t){e.deEnrollConfirmationPopup()})).catch((function(t){r.warn(t),d.handleError(t,e)}))},e.deEnrollConfirmationPopup=function(){var t=n.defer();return a.open({animation:!1,templateUrl:"app/views/rpe/enrollments/deenroll/deenroll_hpp_confirmation_popup_view.html",controller:"denerollpopupController",size:"md",scope:e,windowTopClass:"tf-modal",resolve:{callback:t}}),t.promise},e.payNow=function(){e.hppPlan.is_smHppPlan=!0,e.hppPlan.checked=!0,e.hppPlan.showPlan=!0,e.hppPlan.disabledPlan=!0,e.device.selectedHPPPlan=e.hppPlan,e.device.plans=[e.hppPlan],""!==e.device.min&&(e.device.showDeviceBy=e.device.min),e.device.showDetails=!0,v.set("HPPPLANS",[e.hppPlan]),v.set("DEVICE",e.device),s.setSelectedDevice(e.device),c.stageHppPlan(e.hppPlan),c.addPlanToCart(e.hppPlan),o.setHppEnrollFlowFlag(!0);var n=o.getSavedDevices();n.push(e.device),o.setSavedDevices(n),t.redirect(i.checkout,{hpp_flow:"Y"})},e.claims=function(){var t=p.getHppTCUrl(e.hppPlan.vendor,e.hppPlan.isMonthly);m.open(t,"_blank")}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,esn:t.esn}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={url:n.rpe.enrollments.hpp_enroll_plan,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("getHppenrollPlan",i)}])})(),(function(){var e={forward:function(e){return{esn:e.esn}},backward:function(e){var t={is_easy_exchange_plus:!1};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.hppplan={};var n=e.response;if(n){var a={auto_refill:!0,auto_enrollflow:!0,plan_id:"",plan_name:n.programName,plan_type:"HPP Program",plan_desc:n.programName,voice:0,sms:0,data:0,service_days:0,price:n.programPrice,part_number:void 0,part_class:void 0,program_id:n.programId,ild_sup:!1,is_hpp:!0,recurringPlanId:0,quantity:1,show_details:!1,shortDesc:void 0,isILDVas:!1,is_addon:!1,isrecurringPlan:!0,isEnrollmentPlan:!0,enrollmentPromoPrice:void 0,termslink:n.programTermsLink,moreinfo:n.programMoreInfo,is_exchange_plus:!1,is_annual:!1,is_monthly:!1,is_byop:!1,contract_number:n.contractNumber,enrollment_date:n.enrollmentDate,next_charge_date:n.nextChargeDate,deductible_amount:n.deductibleAmount,paymentsource_id:n.paymentSourceId};-1!=a.plan_name.indexOf("Plus - Annual")&&(a.is_annual=!0,a.is_exchange_plus=!0),-1!=a.plan_name.indexOf("Plus - Monthly")&&(a.is_monthly=!0,a.is_exchange_plus=!0),-1!=a.plan_name.indexOf("Exchange Annual")&&(a.is_annual=!0),-1!=a.plan_name.indexOf("Exchange Annual BYOP 200")&&(a.is_byop=!0,a.is_annual=!0,a.is_byop=!0),-1!=a.plan_name.indexOf("Exchange Annual BYOP")&&(a.is_byop=!0,a.is_annual=!0,a.is_byop=!0),t.hppplan=a}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("getHppenrollPlan",e)}])})(),angular.module("app").component("enrollHppConfirmation",{templateUrl:"app/views/rpe/enrollments/enrollhpp/enrollhppconfirmation_view.html",bindings:{data:"=",view:"=",close:"&",modalInstance:"=",resolve:"="},controller:["$scope","$done","$appRoutes",function(e,t,n){var a=this;e.showUpdateConfirmMsg=e.$ctrl.resolve.showUpdateConfirmMsg,e.changeHppEnrollment=function(){a.modalInstance.close("changeHppEnrollment")},e.submit=function(){a.modalInstance.close(),t.redirect(n.myaccount.dashboard.alloptions.manageenroll,{hpp_flow:"Y"})}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{paymentSourceId:t.paymentSourceId,accountId:t.accountId,cvv:t.cvv,enrollNow:t.enrollNow,servicePlanId:t.servicePlanId,vasProgram:t.vasProgram,isILDVas:t.isILDVas,category:t.category},min:t.min,programId:t.programId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.rpe.enrollments.enroll_change_plan,contentType:"application/json",httpMethod:"PUT",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("enrollplanchange",i)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985122",12100:"ERROR_1985192",10701:"ERROR_1985141",11200:"ERROR_1985652"},forward:function(e){return{paymentSourceId:e.paymentSourceId,accountId:e.accountId,cvv:e.cvv,enrollNow:e.enrollNow,servicePlanId:e.isILDVas?void 0:e.servicePlanId,min:e.min,programId:e.programId,vasProgram:e.vasProgram,isILDVas:e.isILDVas,category:e.planCategory}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:e.response.response}}};angular.module("app").run(["$voMapConfig",function(t){t.register("enrollplanchange",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l){e.data={},e.form={},e.view={},e.newccpref={},e.view.show_edit_form=!1,e.onPymtSrcSelect=function(){s((function(){e.form.pymtsrc=angular.copy(e.data.pymtsrc)}),100,1)},e.editPymtSrc=function(){e.view.show_edit_form=!0,e.$broadcast("pymtsrc-upd-data",{data:e.data.pymtsrc})},e.hidePymtSrc=function(){e.view.show_edit_form=!1},e.init=function(){e.getPaymentMethods()},e.closePopup=function(e){i.dismiss("cancel")},e.newCardSelected=function(){e.newccpref={showCVV:!0,isUserLoggedIn:t.isLoggedIn(),isSavetoAcctDisable:!0}},e.getPaymentMethods=function(){a.debug("enrollpaypopupcontroller::getPaymentMethods"),o.getPaymentSource({account_id:t.getAccountId()}).then((function(t){a.debug("enrollpaypopupcontroller::getPaymentMethods",l);var n=l;r.clearError(e),e.pymtsources=t.pymtsources,angular.forEach(e.pymtsources,(function(t,a){t.id===n.id&&(e.data.pymtsrc=t)}))})).catch((function(t){r.handleError(t,e),a.warn(t)}))},e.selectAltPymtSrc=function(t){a.debug("Selecting pymt src",e.form.pymtsrc),c.resolve(e.form.pymtsrc),e.closePopup()},e.triggerUpdPymtSrc=function(t){e.$broadcast("pymtsrc-upd",{data:t});var n=e.$on("pymtsrc-upd-ok",(function(t,a){c.resolve(a.data),n(),e.closePopup()}))},e.triggerAddPymtSrc=function(t){e.$broadcast("pymtsrc-add",{data:t});var n=e.$on("pymtsrc-add-ok",(function(t,a){c.resolve(a.data),n(),e.closePopup()}))}}angular.module("app").controller("enrollpaypopupcontroller",e),e.$inject=["$scope","$userService","$q","$log","$uibModalInstance","$errorHandler","$paymentService","$interval","callback","paymentsource"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{paymentSourceId:t.paymentSourceId,accountId:t.accountId,cvv:t.cvv,enrollNow:t.enrollNow,servicePlanId:t.servicePlanId,isILDVas:t.isILDVas,handsetProtectionProgram:t.handsetProtectionProgram?t.handsetProtectionProgram:void 0},min:t.min,programId:t.programId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.rpe.enrollments.enroll_purchase,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("enrollIntoPlan",i)}])})(),(function(){var e={forward:function(e){return{paymentSourceId:e.paymentSourceId,accountId:e.accountId,cvv:e.cvv,enrollNow:e.enrollNow,servicePlanId:e.servicePlanId,min:e.min,programId:e.programId,isILDVas:e.isILDVas,handsetProtectionProgram:e.handsetProtectionProgram?e.handsetProtectionProgram:void 0}},backward:function(e){var t={};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,"0"==t.error_code){var n=e.response.response;t.serviceEndDate=n.serviceEndDate,t.enrolledInAutoRefill="false"===n.enrolledInAutoRefill?"No":"Yes",t.transactionId=n.transactionDetails.transactionId,t.min=n.deviceDetails.min,t.total_amount=n.transactionDetails.transactionTotal,t.nextPaymentDate=n.nextPaymentDate}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("enrollIntoPlan",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants","$filter",function(e,t,n,a,i){var r={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,partyTransactionID:a.partytransactionid,partyID:a.partyida,Category:t.plan_category,productCategory:a.productcategory,esn:t.esn,planCategory:t.plan_category,planSubCategory:t.plan_sub_category,ONLYENROLLEDSERVICES:!0}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e.response}}},o={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{externalID:a.externalid,orderDate:i("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),relatedParties:[{party:{individual:{id:t.webobjid}},roleType:a.roletypec},{party:{partyID:e.source_system,languageAbility:e.language,partyExtension:[{name:a.partytransactionid,value:a.partytransactionval},{name:a.sourcesystem,value:e.source_system}]},roleType:a.roletypea}],service:t.service,locations:t.location,contactDetails:t.contact}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},s={get_vas_plans:{url:n.rpe.enrollments.vas_enrollment_plan,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},cancel_vas_plan:{url:n.rpe.enrollments.vas_enrollment_plan,contentType:"application/json",httpMethod:"PUT",transform:o,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("getVasPlan",s)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils",function(e,t){var n={get_vas_plans:{forward:function(e){return e},backward:function(e){var n={};n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type;var e=e.response;angular.isDefined(e)&&angular.isDefined(e.category)&&(n.category=e.category);var a=[];return angular.isDefined(e)&&angular.isDefined(e.productOffering)&&(angular.forEach(e.productOffering,(function(e,n){var i={};if(angular.isDefined(e.category)&&(i.category=e.category),angular.isDefined(e.description)&&(i.plan_description1=e.description),angular.isDefined(e.id)&&(i.plan_id=e.id),angular.isDefined(e.name)&&(i.plan_name=e.name),angular.isDefined(e.status)&&(i.status=e.status),angular.isDefined(e.validFor)){var r=e.validFor.startDate.split("-"),o=e.validFor.endDate.split("-");i.startDate=r[1]+"-"+r[2]+"-"+r[0],i.endDate=o[1]+"-"+o[2]+"-"+o[0]}if(angular.isDefined(e.productOfferingPrice)&&angular.forEach(e.productOfferingPrice,(function(e,t){e.price&&"USD"==e.price.currencyCode&&(i.price=angular.isDefined(e.price.Amount)?parseFloat(e.price.Amount):"")})),angular.isDefined(e.productSpecification)){i.brand=e.productSpecification.brand,i.part_number=e.productSpecification.id,i.quantity=1,i.isVAS=!0;angular.isDefined(e.productSpecification.characteristicSpecification)&&angular.forEach(e.productSpecification.characteristicSpecification,(function(e,n){e.id&&"planType"==e.id&&("30"==e.value||"MONTHLY"==e.value?i.isMonthly=!0:angular.equals(e.value,"395")?i.is13Month=!0:angular.equals(e.value,"730")&&(i.is24month=!0),i.plan_type=e.value),e.id&&"relatedProgramId"==e.id&&(i.program_id=e.value),e.id&&"planId"==e.id&&(i.plan_id=e.value),e.id&&"subscriptionId"==e.id&&(i.subscription_id=e.value),e.id&&"isRecurring"==e.id&&(i.isRecurring="true"==e.value),e.id&&"isDue"==e.id&&(i.isDue="true"==e.value),e.id&&"nextChargeDate"==e.id&&e.value&&(i.nextChargeDate=t.tfDate(e.value)),e.id&&"paymentSrcId"==e.id&&(i.vasEnrolledPymtId=Number(e.value)),e.id&&"applicableRefundAmount"==e.id&&(i.refundAmount=e.value),e.id&&"vendor"==e.id&&(i.vendor=e.value),e.id&&"planNameScript"==e.id&&(i.planNameScriptId=e.value),e.id&&"planDetailedDescriptionScript"==e.id&&(i.planDescScriptId=e.value),e.id&&"planShortDescriptionScript"==e.id&&(i.planShortDescScriptId=e.value),e.id&&"planInfoScript"==e.id&&(i.planInfoScriptId=e.value),e.id&&"planTermsAndConditionsScript"==e.id&&(i.planTermsScriptId=e.value),e.id&&"vendorTermsAndConditionsLink"==e.id&&(i.planTermsAndConditionsLink=e.value)}))}i.status&&"SUSPENDED"==i.status&&(i.isSuspendedStatus=!0),a.push(i)})),n.productOffering=a),n}},cancel_vas_plan:{errorConfig:{12600:"ERROR_1986214"},forward:function(e){return e},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.response=e.response,t}}};e.register("getVasPlan",n)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{esn:t.esn,min:t.min,accountId:t.accountId,cvvNumber:t.cvvNumber,redeemNow:t.redeemNow,servicePlanId:t.servicePlanId,isILDVas:t.isILDVas,promoCode:t.promoCode,vasPlans:t.vasPlans,enrollNow:t.enrollNow,programId:t.programId},partNumber:t.partNumber,paymentSourceId:t.paymentSourceId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.rpe.app_purchase.confirm_purchase,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("appPurchase",i)}])})(),(function(){var e={forward:function(e){return{esn:e.esn,min:e.min,accountId:e.accountId,cvvNumber:e.cvvNumber,redeemNow:e.redeemNow,servicePlanId:e.servicePlanId,isILDVas:e.isILDVas,promoCode:e.promoCode,partNumber:e.partNumber,paymentSourceId:e.paymentSourceId,vasPlans:e.vasPlans,enrollNow:e.enrollNow,programId:e.programId}},backward:function(e){var t={};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,"0"==t.error_code){var n=e.response.response;t.serviceEndDate=n.serviceEndDate,t.enrolledInAutoRefill="false"===n.enrolledInAutoRefill?"No":"Yes",t.transactionId=n.transactionDetails.transactionId?n.transactionDetails.transactionId:n.vasPlanDetails.transactionDetails.transactionId}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("appPurchase",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{paymentMean:{isDefault:t.isDefault,status:t.status,nickname:t.cc_fields.nick_name,type:t.type,accountHolderName:{firstName:t.pymt_src_info.firstname,lastName:t.pymt_src_info.lastname},creditCard:{year:t.cc_fields.expiration_year,month:t.cc_fields.expiration_month.id,cvv:t.cc_fields.ccv,accountNumber:t.cc_fields.number_mask,type:t.cc_fields.credittype},billingAddress:{addressLine1:t.pymt_src_info.address1,addressLine2:t.pymt_src_info.address2,city:t.pymt_src_info.city,stateOrProvince:t.pymt_src_info.state,zipcode:t.pymt_src_info.zip,country:t.pymt_src_info.country}},cart:t.cart,vasPlans:t.vasPlans,redeemNow:t.redeemNow,servicePlanId:t.servicePlanId,isILDVas:t.isILDVas,promoCode:t.promoCode},esn:t.esn}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.rpe.app_purchase.guest_purchase,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("guestappPurchase",i)}])})(),(function(){var e={forward:function(e){return{esn:e.esn,min:e.min,isDefault:e.isdefault,status:e.status,type:e.type,pymt_src_info:e.pymt_src_info,country:e.country,cc_fields:e.cc_fields,redeemNow:e.redeemNow,servicePlanId:e.servicePlanId,isILDVas:e.isILDVas,promoCode:e.promoCode,partNumber:e.partNumber,cart:e.cart,vasPlans:e.vasPlans}},backward:function(e){var t={};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,"0"==t.error_code){var n=e.response.response.dynamicTransactionDetails;t.serviceEndDate=n.serviceEndDate,t.enrolledInAutoRefill="false"===n.enrolledInAutoRefill?"No":"Yes",t.transactionId=n.servicePlanDetails?n.servicePlanDetails.trasactionInfo.transactionId:n.vasPlanDetails.trasactionInfo.transactionId}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("guestappPurchase",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{paymentMean:{isDefault:t.isDefault,status:t.status,nickname:t.cc_fields.nick_name,type:t.type,accountHolderName:{firstName:t.pymt_src_info.firstname,lastName:t.pymt_src_info.lastname},creditCard:{year:parseInt(t.cc_fields.expiration_year),month:parseInt(t.cc_fields.expiration_month.id),cvv:parseInt(t.cc_fields.ccv),accountNumber:parseInt(t.cc_fields.number_mask),type:t.cc_fields.credittype},billingAddress:{addressLine1:t.pymt_src_info.address1,addressLine2:t.pymt_src_info.address2,city:t.pymt_src_info.city,stateOrProvince:t.pymt_src_info.state,zipcode:parseInt(t.pymt_src_info.zip),country:t.pymt_src_info.country}},cart:t.cart,vasPlans:t.vasPlans,redeemNow:t.redeemNow,servicePlanId:t.servicePlanId,isILDVas:t.isILDVas,promoCode:t.promoCode},esn:t.esn}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.rpe.app_purchase.guest_multi_purchase,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("guestmultiappPurchase",i)}])})(),(function(){var e={forward:function(e){return{esn:e.esn,min:e.min,isDefault:e.isdefault,status:e.status,type:e.type,pymt_src_info:e.pymt_src_info,country:e.country,cc_fields:e.cc_fields,redeemNow:e.redeemNow,servicePlanId:e.servicePlanId,isILDVas:e.isILDVas,promoCode:e.promoCode,partNumber:e.partNumber,cart:e.cart,vasPlans:e.vasPlans}},backward:function(e){return{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,svc_response:e.response.response}}};angular.module("app").run(["$voMapConfig",function(t){t.register("guestmultiappPurchase",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{esn:t.esn,min:t.min,accountId:t.accountId,cvvNumber:t.cvvNumber,redeemNow:t.redeemNow,isILDVas:t.isILDVas,promoCode:t.promoCode,cart:t.cart,vasPlans:t.vasPlans,enrollNow:t.enrollNow,programId:t.programId},paymentSourceId:t.paymentSourceId}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},i={url:n.rpe.app_purchase.multi_app_purchase,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800"],koCodes:{},okkoCodes:{}};t.register("multiappPurchase",i)}])})(),(function(){var e={forward:function(e){return{esn:e.esn,min:e.min,accountId:e.accountId,cvvNumber:e.cvvNumber,redeemNow:e.redeemNow,isILDVas:e.isILDVas,promoCode:e.promoCode,paymentSourceId:e.paymentSourceId,cart:e.cart,vasPlans:e.vasPlans,enrollNow:e.enrollNow,programId:e.programId}},backward:function(e){var t={};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,"0"==t.error_code){var n=e.response.response;t.serviceEndDate=n.serviceEndDate,t.enrolledInAutoRefill="false"===n.enrolledInAutoRefill?"No":"Yes",n.transactionDetails.transactionId?t.transactionId=n.transactionDetails.transactionId:n.vasPlanDetails.transactionDetails.transactionId&&(t.transactionId=n.vasPlanDetails.transactionDetails.transactionId)}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("multiappPurchase",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants","$filter","$log",function(e,t,n,a,i,r){var o={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language,subBrandName:e.subbrand},request:{relatedParties:[{party:{individual:{id:t.webobjid}},roleType:a.roletypec},{party:{partyID:e.servicePartyId,languageAbility:e.language,partyExtension:[{name:a.partytransactionid,value:a.partytransactionval},{name:a.sourcesystem,value:e.source_system}]},roleType:a.roletypeint}],orderDate:i("date")(new Date,"yyyy-MM-dd HH:mm:ss Z"),type:t.estimate_type,orderItems:t.orderItems,billingAccount:t.billingAccount,location:[{addressType:a.address_type,address:{zipcode:t.zipcode,country:t.country}}]}}},backward:function(e){return r.info("estimate ---\x3e  ",e),{error_code:e.status?e.status.code:"0",error_message:e.status?e.status.message:"SUCCESS",error_type:e.status?e.status.type:"SUCCESS",response:e}}},s={url:n.estimateorder,isCookieNeeded:!0,contentType:"application/json",httpMethod:"POST",transform:o,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("estimateorder",s)}])})(),(function(){angular.module("app").run(["$voMapConfig","$servicePlanSelectorService","$devicesCartServices","$utils","$appConstants","$checkoutService","$appConfig","$routeParams",function(e,t,n,a,r,o,s,c){var l={errorConfig:{100:"ERROR_1985600",10001:"ERROR_1985649",11800:"ERROR_1985649",21600:"ERROR_1986217"},forward:function(e){if(n.getSMHppChangeFlag()&&e.orderItems.hasOwnProperty(1)&&(e.orderItems[1].product.productSerialNumber,!0)){var t=n.getSavedDevices();e.orderItems[1].product.productSerialNumber=t[0].esn}if("SIMPLE_MOBILE"==sessionStorage.getItem("$brandName")){var a=e.zipcode;sessionStorage.setItem("estimatezip",a)}return{webobjid:e.webobjid,estimate_type:e.estimate_type,orderItems:e.orderItems,zipcode:e.zipcode,country:e.country,billingAccount:e.billingAccount}},backward:function(e){var l={},d=e.error_code;l.isDeviceIgnored=!1;var u=e.response?e.response.response:void 0;return c.min&&c.planId&&"SIMPLE_MOBILE"==s.brand&&n.setPOorderitem(u.orderItems),"0"==d&&(u.orderPrice&&u.orderPrice.orderPriceExtension&&angular.forEach(u.orderPrice.orderPriceExtension,(function(e,t){e&&e.name&&e.value&&("e911Text"==e.name?(l.e911label=e.value,o.getCheckOutDetails().setE911Text(l.e911label)):"e911FlatText"==e.name?(l.e911Flatlabel=e.value,o.getCheckOutDetails().setE911FlatText(l.e911Flatlabel)):"e911RateText"==e.name&&(l.e911Ratelabel=e.value,o.getCheckOutDetails().setE911RateText(l.e911Ratelabel)))})),angular.isDefined(u.orderItems)&&(l.orderItems=[],angular.forEach(u.orderItems,(function(e,o){var c={};c.ignoreView=!1,c.isAddonPlan=!1,a.isMin(c.min)?c.isMinNotAvailable=!1:c.isMinNotAvailable=!0;var d=[];if(angular.isDefined(e.productOffering)){var u={};if(u.part_number=e.productOffering.id,u.partClass=e.productOffering.name,u.isPlanAvailable=!0,c.showDetails=!0,u.part_number||u.partClass){var p=t.getAllPlanByPartNumber(u.part_number?u.part_number:u.partClass);p?(p.is_addon&&(c.isAddonPlan=!0),c.plans&&c.plans.length>0?c.plans.push(p):(c.plans=[],c.plans.push(p),p.is_addon||(c.servicePlanId=p.plan_id,c.servicePlanPartNumber=p.part_number))):u.isPlanAvailable=!1}e.productOffering.validFor&&(c.validFor=e.productOffering.validFor,c.startDate=e.productOffering.validFor.startDate?a.convertLongDate(e.productOffering.validFor.startDate):void 0,c.endDate=e.productOffering.validFor.endDate?a.convertLongDate(e.productOffering.validFor.endDate):void 0,c.svcstartDate=c.startDate?new Date(c.startDate):void 0,c.svcendDate=c.endDate?new Date(c.endDate):void 0),angular.isDefined(e.productOffering.productSpecification)&&angular.forEach(e.productOffering.productSpecification,(function(e,t){u.part_class=e.id})),d.push(u)}else d=void 0;c.planInfo=d,angular.isDefined(e.supportingResources)&&angular.forEach(e.supportingResources,(function(e,t){angular.equals(e.resourceType,"HANDSET")&&a.isEsn(e.serialNumber)&&(c.serialNumber=e.serialNumber,c.esn=e.serialNumber),angular.equals(e.resourceType,"LINE")&&a.isMin(e.serialNumber)&&(c.min=e.serialNumber),angular.equals(e.resourceType,"SIM_CARD")&&a.isSim(e.serialNumber)&&(c.sim={},c.sim.iccid=e.serialNumber)})),n.getAccountinfo()&&angular.forEach(n.getAccountinfo().devicelist,(function(e,t){(a.checkLastFour(e.min,c.min)||a.checkLastFour(e.esn,c.esn))&&(c.isMinNotAvailable=!1,c.deviceStatus=e.status,c.zipcode=e.zipcode,c.deviceType=e.deviceType,c.showDeviceBy=a.getShowDeviceBy(c),c.deviceStatus&&c.deviceStatus==r.device_status.active?c.reservedLine=!1:c.reservedLine=!0),c.isMinNotAvailable&&(c.deviceStatus=r.device_status.active,c.zipcode=void 0,c.reservedLine=!0)}));var v=angular.copy(n.getSavedDevices());angular.forEach(v,(function(e,t){if(e&&e.min&&c.min&&e.min==c.min||e.esn&&c.esn&&e.esn==c.esn){var n=angular.copy(c.plans);c.servicePlanId=e.servicePlanId,
c.servicePlanPartNumber=e.servicePlanPartNumber,angular.merge(c,e),n&&n.length>0&&(c.plans=n)}}));var g=angular.copy(n.isRedemptionFlow());if(e.orderItemPrice&&(e.orderItemPrice.tax&&(console.log(angular.copy(e.orderItemPrice.tax)),c.e911Tax=e.orderItemPrice.tax.e911Tax?e.orderItemPrice.tax.e911Tax:0,c.e911label=l.e911label?l.e911label:"BAT_24262",c.e911FlatTax=e.orderItemPrice.tax.e911FlatAmount?e.orderItemPrice.tax.e911FlatAmount:0,c.e911Flatlabel=l.e911Flatlabel,c.e911RateTax=e.orderItemPrice.tax.e911RateAmount?e.orderItemPrice.tax.e911RateAmount:0,c.e911Ratelabel=l.e911Ratelabel,c.rcrfTax=e.orderItemPrice.tax.rcrfTax?e.orderItemPrice.tax.rcrfTax:0,c.usfTax=e.orderItemPrice.tax.usfTax?e.orderItemPrice.tax.usfTax:0,c.salesTax=e.orderItemPrice.tax.salesTax?e.orderItemPrice.tax.salesTax:0,c.totalTaxes=e.orderItemPrice.tax.totalTaxes?e.orderItemPrice.tax.totalTaxes:0,c.total=e.orderItemPrice.tax.totalAmountWithDiscountAndTax?e.orderItemPrice.tax.totalAmountWithDiscountAndTax:0,c.amount=e.orderItemPrice.price.amount?e.orderItemPrice.price.amount:0,c.discountamount=e.orderItemPrice.price.amount?e.orderItemPrice.price.amount:0,0==c.total?c.showDetails=!1:g&&"SIMPLE_MOBILE"===s.brand&&(c.showDetails=!0),angular.isDefined(e.orderItemPrice.discounts)&&e.orderItemPrice.discounts.length>0?(c.subTotal=parseFloat(c.amount),angular.forEach(e.orderItemPrice.discounts,(function(t,n){console.log("orderItem.orderItemPrice.discounts",e.orderItemPrice.discounts),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"MULTILINE_DISCOUNT")&&(c.multiline_discount=t.specification.value,c.subTotal=parseFloat(c.subTotal)-parseFloat(c.multiline_discount)),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"DISC10PER")&&(c.disc10per=t.specification.value,c.subTotal=parseFloat(c.subTotal)-parseFloat(c.disc10per)),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"EMPLOYEE_DISCOUNT")&&(c.employee_discount=t.specification.value,c.subTotal=parseFloat(c.subTotal)-parseFloat(c.employee_discount)),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"AMAZON_DISCOUNT")&&(c.amazon_discount=t.specification.value,c.subTotal=parseFloat(c.subTotal)-parseFloat(c.amazon_discount)),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"AUTOREFILL_DISCOUNT")&&(c.autorefill_discount=t.specification.value,c.subTotal=parseFloat(c.subTotal)-parseFloat(c.autorefill_discount)),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"REWARDS_AUTOREFILL_DISCOUNT")&&(c.rewards_autorefill_discmultiline_discountount=t.specification.value),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"REWARDS_MULTILINE_DISCOUNT")&&(c.rewards_multiline_discount=t.specification.value),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"PROMO4L100_DISCOUNT")&&(c.promo4l100_discount=t.specification.value,c.subTotal=parseFloat(c.subTotal)-parseFloat(c.promo4l100_discount)),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"ONE_TIME_DISCOUNT")&&(c.onetime_discount=t.specification.value,c.subTotal=parseFloat(c.subTotal)-parseFloat(c.onetime_discount)),angular.isDefined(t.specification.name)&&angular.equals(t.specification.name,"REWARDS_EMPLOYEE_DISCOUNT")&&(c.rewards_employee_discount=t.specification.value)})),c.subTotal=c.subTotal!=c.amount?c.subTotal:void 0):(c.subTotal=c.amazon_discount=c.employee_discount=c.autorefill_discount=c.multiline_discount=c.disc10per=void 0,c.rewards_autorefill_discount=c.rewards_employee_discount=c.rewards_multiline_discount=void 0),c.multiline_discount&&c.multiline_discount>0&&(c.discountamount=c.discountamount-c.multiline_discount),c.disc10per&&c.disc10per>0&&(c.discountamount=c.discountamount-c.disc10per),c.employee_discount&&c.employee_discount>0&&(c.discountamount=c.discountamount-c.employee_discount),c.amazon_discount&&c.amazon_discount>0&&(c.discountamount=c.discountamount-c.amazon_discount),c.autorefill_discount&&c.autorefill_discount>0&&(c.discountamount=c.discountamount-c.autorefill_discount),c.promo4l100_discount&&c.promo4l100_discount>0&&(c.discountamount=c.discountamount-c.promo4l100_discount),c.onetime_discount&&c.onetime_discount>0&&(c.discountamount=c.discountamount-c.onetime_discount),c.discountamount===c.amount&&(c.discountamount=void 0)),e.orderItemPrice.orderItemPriceExtension&&e.orderItemPrice.orderItemPriceExtension.length>0&&angular.forEach(e.orderItemPrice.orderItemPriceExtension,(function(e,t){angular.isDefined(e.valueType)&&"POINTS"==e.valueType&&("totalPriceAfterDiscount"==e.name&&(a.isNullOrEmpty(e.value)||"NaN"==e.value?c.lrpPriceAfterDiscount=0:c.lrpPriceAfterDiscount=parseFloat(e.value)),"price"==e.name&&(c.lrpPrice=e.value))})),console.log(angular.copy(c)),c.showDetails||l.isDeviceIgnored||(l.isDeviceIgnored=!0)),l.orderItems.push(c),c.isPlanNotAvailable=!1,"SIMPLE_MOBILE"===s.brand&&e.characteristicSpecifications)for(i=0;i<=e.characteristicSpecifications.length;i++)if("isNotPlanAvailableChannel"===e.characteristicSpecifications[i].name){c.isPlanNotAvailable="NOT AVAILABLE"===e.characteristicSpecifications[i].value;break}}))),u.orderPrice&&(l.noTaxRetuned=!1,(u.orderPrice.tax||u.orderPrice.orderPriceExtension)&&(l.orderPrice={}),u.orderPrice.tax&&(l.orderPrice.e911Tax=u.orderPrice.tax.e911Tax?u.orderPrice.tax.e911Tax:0,l.orderPrice.e911label=l.e911label?l.e911label:"BAT_24262",l.orderPrice.e911FlatTax=u.orderPrice.tax.e911FlatAmount?u.orderPrice.tax.e911FlatAmount:0,l.orderPrice.e911Flatlabel=l.e911Flatlabel,l.orderPrice.e911RateTax=u.orderPrice.tax.e911RateAmount?u.orderPrice.tax.e911RateAmount:0,l.orderPrice.e911Ratelabel=l.e911Ratelabel,l.orderPrice.rcrfTax=u.orderPrice.tax.rcrfTax?u.orderPrice.tax.rcrfTax:0,l.orderPrice.usfTax=u.orderPrice.tax.usfTax?u.orderPrice.tax.usfTax:0,l.orderPrice.salesTax=u.orderPrice.tax.salesTax?u.orderPrice.tax.salesTax:0,l.orderPrice.totalTaxes=u.orderPrice.tax.totalTaxes?u.orderPrice.tax.totalTaxes:0,l.orderPrice.totalDiscount=u.orderPrice.tax.totalDiscount?u.orderPrice.tax.totalDiscount:0,l.orderPrice.total=u.orderPrice.tax.totalAmountWithDiscountAndTax?u.orderPrice.tax.totalAmountWithDiscountAndTax:0,l.orderPrice.amount=u.orderPrice.price.amount?u.orderPrice.price.amount:0,angular.isDefined(u.orderPrice.discounts)&&(l.orderPrice.subTotal=parseFloat(l.orderPrice.amount),angular.forEach(u.orderPrice.discounts,(function(e,t){angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"MULTILINE_DISCOUNT")&&(l.orderPrice.multiline_discount=e.specification.value,l.orderPrice.subTotal=parseFloat(l.orderPrice.subTotal)-parseFloat(l.orderPrice.multiline_discount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"DISC10PER")&&(l.orderPrice.disc10per=e.specification.value,l.orderPrice.subTotal=parseFloat(l.orderPrice.subTotal)-parseFloat(l.orderPrice.disc10per)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"PROMO4L100_DISCOUNT")&&(l.orderPrice.promo4l100_discount=e.specification.value,l.orderPrice.subTotal=parseFloat(l.subTotal)-parseFloat(l.orderPrice.promo4l100_discount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"EMPLOYEE_DISCOUNT")&&(l.orderPrice.employee_discount=e.specification.value,l.orderPrice.subTotal=parseFloat(l.orderPrice.subTotal)-parseFloat(l.orderPrice.employee_discount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"AMAZON_DISCOUNT")&&(l.orderPrice.amazon_discount=e.specification.value,l.orderPrice.subTotal=parseFloat(l.orderPrice.subTotal)-parseFloat(l.orderPrice.amazon_discount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"AUTOREFILL_DISCOUNT")&&(l.orderPrice.autorefill_discount=e.specification.value,l.orderPrice.subTotal=parseFloat(l.orderPrice.subTotal)-parseFloat(l.orderPrice.autorefill_discount)),angular.isDefined(e.specification.name)&&angular.equals(e.specification.name,"ONE_TIME_DISCOUNT")&&(l.orderPrice.onetime_discount=e.specification.value,l.orderPrice.subTotal=parseFloat(l.orderPrice.subTotal)-parseFloat(l.orderPrice.onetime_discount))})),l.orderPrice.subTotal=l.orderPrice.subTotal!=l.orderPrice.amount?l.orderPrice.subTotal:void 0),0==l.orderPrice.total&&(l.noTaxRetuned=!0)),u.orderPrice.orderPriceExtension&&angular.forEach(u.orderPrice.orderPriceExtension,(function(e,t){e&&e.name&&e.value&&"totalPriceAfterDiscount"==e.name&&(a.isNullOrEmpty(e.value)||"NaN"==e.value?l.orderPrice.lrpPriceAfterDiscount=0:l.orderPrice.lrpPriceAfterDiscount=parseFloat(e.value))})))),o.getcheckoutredemption()&&o.getdeviceorderitems(),{error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,data:l}}};e.register("estimateorder",l)}])})(),(function(){"use strict";function e(e,t){e.closePopup=function(){t.dismiss("cancel")},e.cancel=function(){t.dismiss("cancel")},e.addstashconfirm=function(){e.confirm(),t.dismiss("cancel")}}angular.module("app").controller("managereserveaddnowcontroller",e),e.$inject=["$scope","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.device}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,esn:t.device}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={managereserveesn:{url:n.my_account.dashboard.managereserve.esn,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO"],okCodes:["0"],koCodes:{},okkoCodes:{}},managereservemin:{url:n.my_account.dashboard.managereserve.min,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("managereserve",r)}])})();!(function(){angular.module("app").run(["$voMapConfig","$servicePlanSelectorService",function(e,t){var n={errorConfig:{},forward:function(e){return{device:e.device}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,"0"==e.error_code&&(angular.isDefined(e.response.reserve)&&e.response.reserve.length>0?(angular.forEach(e.response.reserve,(function(e,t){e.cents=String(e.price).split(".").length>1?String(e.price).split(".")[1].length<2?String(e.price).split(".")[1]+"0":String(e.price).split(".")[1]:"00"})),t.response=e.response.reserve):t.response=e.response.reserve),t}};e.register("managereserve",n)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.device,pinCard:t.pinCard}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,esn:t.device,pinCard:t.pinCard}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={movereservebyesn:{url:n.my_account.dashboard.movereserveCard.esn,contentType:"application/json",httpMethod:"PUT",transform:i,oAuthGrants:["RO","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}},movereservebymin:{url:n.my_account.dashboard.movereserveCard.min,contentType:"application/json",httpMethod:"PUT",transform:a,oAuthGrants:["RO","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("movereservepin",r)}])})(),(function(){var e={errorConfig:{},forward:function(e){return{device:e.device,pinCard:e.pinCard}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};angular.module("app").run(["$voMapConfig",function(t){t.register("movereservepin",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{redeemNow:t.redeemNow},min:t.device}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{redeemNow:t.redeemNow},esn:t.device}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={redeemcardbyesn:{url:n.my_account.dashboard.redeemreserveCard.esn,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}},redeemcardbymin:{url:n.my_account.dashboard.redeemreserveCard.min,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","CCP"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("redeemreservecard",r)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils",function(e,t){var n={errorConfig:{},forward:function(e){return{device:e.device,redeemNow:e.redeemNow}},backward:function(e){var n={};if(n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,angular.isDefined(e.response)){var a={},i=e.response;if(angular.isDefined(i.deviceDetails)&&(angular.isDefined(i.deviceDetails.esn)&&(a.productSerialNumber=i.deviceDetails.esn),angular.isDefined(i.deviceDetails.min)&&(a.min=i.deviceDetails.min)),a.plan_id=i.servicePlanDetails.servicePlanId,a.serviceForecastDate=i.serviceForecastDate,angular.isDefined(a.serviceForecastDate)?a.serviceEndDate=a.serviceForecastDate:a.serviceEndDate=i.serviceEndDate,angular.isDefined(i.reserveCount)&&(a.reserveCount=i.reserveCount),angular.isDefined(i.enrollments)){var r=i.enrollments;angular.forEach(r,(function(e,t){if(console.log("rewards array -> "+e),"VAS"==e.type&&"REWARDS"==e.name&&angular.isDefined(e.characteristics)){var n=e.characteristics;angular.forEach(n,(function(e,t){"accruedPoints"==e.name&&(a.pointsAccrued=e.value)}))}}))}angular.isDefined(i.servicePlanDetails)&&(a.servicePlanDetails=i.servicePlanDetails,t.isNullOrEmpty(a.servicePlanDetails.servicePlanName)||(a.plan_name=a.servicePlanDetails.servicePlanName)),angular.isDefined(i.transactionDetails)&&(a.transactionDetails=i.transactionDetails),angular.isDefined(i.paymentSourceDetails)&&(a.paymentSourceDetails=i.paymentSourceDetails),angular.isDefined(i.vasPlanDetails)&&(a.vasPlanDetails=i.vasPlanDetails,t.isNullOrEmpty(a.vasPlanDetails.vasPlanName)||(a.plan_name=a.vasPlanDetails.vasPlanName)),n.svc_response=a}return n}};e.register("redeemreservecard",n)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.view={filtered_devices:n.devices?n.devices:[],addLineEvent:n.addLineEvent},e.data={device:{},inputDevice:""},e.closePopup=function(){t.dismiss("cancel")},e.addLine=function(){if(r.clearError(e),angular.isDefined(e.data.device.esn))a.setSelectedDevice(e.data.device),e.closePopup(),e.data.device.deviceType==s.device_type.byop||e.data.device.isPseudo?o.url("/activation/byop/collectesn?carrier=VZW"):o.url("/activation/collectesn");else{var t={error_code:"-999",error_message:"ACRE_1141",error_translate:"ACRE_1141",error_type:"ACRE_1141"};r.handleError(t,e)}},e.continue=function(){a.clearSelectedDevice(),i.setAddMoreLineFlag(!0),t.dismiss("cancel"),o.url("/activation/selectdevice?addLine=true")},e.addToLine=function(){e.view.addLineEvent=!0},e.checkout=function(){t.dismiss("cancel"),n.processActivation()}}angular.module("app").controller("addLineController",e),e.$inject=["$scope","$uibModalInstance","resolvParam","$deviceService","$devicesCartServices","$errorHandler","$location","$appConstants"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o){e.selectedgroup={},e.isGrpSel=!1,e.groups=i.getActiveGroups(),e.closePopup=function(){e.selectedgroup={},e.isGrpSel=!1,n.dismiss("cancel")},e.init=function(){e.selectedgroup={},e.isGrpSel=!1,t.info("init active_groups"+e.groups)},e.continue=function(){t.debug("selected Group continue"),r.resolve(e.selectedgroup),n.dismiss("cancel")},e.selectedGroup=function(n){t.debug("selected group",n),e.selectedgroup=n,e.isGrpSel=!0}}angular.module("app").controller("selectGroupCtrl",e),e.$inject=["$scope","$log","$uibModalInstance","$sce","$deviceService","callback","$rootScope"]})(),angular.module("app").component("redeemMinPin",{templateUrl:"app/views/rpe/redemption/redeempinwithmin/redeemminpin_view.html",bindings:{data:"=",view:"=",refillForFriend:"&"},controller:["$scope",function(e){e.validatePinPromo=function(){e.$emit("validatePin")},e.validatePinPromoGrp=function(){e.$emit("validatePinGrp")}}]}),(function(){"use strict";function e(e,t,n,a,i,r){e.close=function(){t.dismiss("cancel")},e.safeLinkCustomer=function(){e.close(),a.location.href=n.safelinkurl+i.min+"&load=false&lang="+r.lang}}angular.module("app").controller("safelinkcustomerController",e),e.$inject=["$scope","$uibModalInstance","$appConfig","$window","resolvParam","$rootScope"]})(),angular.module("app").component("accountRenewalBreakdown",{templateUrl:"app/views/rpe/renewal/accountrenewalbreakdown/accountrenewalbreakdown_view.html",bindings:{data:"=",view:"="},controller:["$scope",function(e){}]}),angular.module("app").component("accountRenewalLrpBreakdown",{templateUrl:"app/views/rpe/renewal/accountrenewalbreakdown/accountrenewallrpbreakdown_view.html",bindings:{billingDetails:"=",view:"="},controller:["$scope",function(e){e.showdevicepopup=function(t){e.$ctrl.devicePopup({tax:t})}}]}),angular.module("app").component("navbarCategory",{templateUrl:"app/views/rpe/service_plans/navbarcategory/navbarcategory_view.html",bindings:{image:"@?",scripttext:"@?",category:"@?"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,accountId:t.accountId}},backward:function(e){return successVariables={},angular.isDefined(e)&&(successVariables={response:e}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={url:n.customer_mgmt.partnermembers,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","CCU"],okCodes:["0","10202"],koCodes:{},okkoCodes:{}};t.register("partnermembers",i)}])})(),(function(){angular.module("app").run(["$voMapConfig",function(e){var t={errorConfig:{},forward:function(e){return{accountId:e.accountId}},backward:function(e){var t={error_code:e.error_code,error_message:e.error_message,error_type:e.error_type,isAffiliated:!1,partnerName:""};if("0"==t.error_code&&angular.isDefined(e.response.customer)){var n=e.response.customer.externalReferences;angular.forEach(n,(function(e,n){"AFFILIATED"==e.partnerType&&(t.isAffiliated=!0,t.partnerName=e.partnerName.toLowerCase())}))}return t}};e.register("partnermembers",t)}])})(),angular.module("app").component("buyAddOns",{templateUrl:"app/views/rpe/service_plans/serviceplanaddons/serviceplansdashboardaddon_view_rpe_103.13.1.html",bindings:{data:"=",close:"&"},controller:["$scope","$log","$uibModal","$done","$appRoutes","$cartService","$renewalservices","$servicePlanSelectorService","$errorHandler",function(e,t,n,a,i,r,o,s,c){e.data={addons:[]},e.data.addons=s.getAddonPlans(),e.addonPopUpCheckout=function(){t.debug("addondashpopupcontroller::Selected Addon Plan !! ");var n=r.getPlans().length>0;if(angular.forEach(e.data.addons,(function(e,t){e.checked&&(r.addPlanToCart(e),n=!0)})),t.debug("Logged single Go for TAX caluculation"),n){var s={};s.renewalType="SINGLE_LINE",o.estimateNoPlanChange(s).then((function(n){t.debug("Logged single Go for TAX caluculation retuned",n),e.closePopup(!0),a.redirect(i.myaccount.dashboard.alloptions.buyaddons.success)})).catch((function(n){t.warn(n),c.handleError(n,e)}))}else e.closePopup(!0)},e.closePopup=function(t){t||r.removeCartPlan(r.getStagedPlan()),e.$ctrl.close()},e.checkForDisable=function(e){var t=!0;return angular.forEach(e,(function(e){t&&(t=!e.checked)})),t}}]}),angular.module("app").component("buyIldAddOns",{templateUrl:"app/views/rpe/service_plans/serviceplanaddons/serviceplansdashboardaddon_view_rpe_103.13.1.html",bindings:{data:"=",close:"&"},controller:["$scope","$log","$uibModal","$done","$appRoutes","$cartService","$renewalservices","$servicePlanSelectorService","$errorHandler",function(e,t,n,a,i,r,o,s,c){e.data={addons:[]},e.data.addons.push(s.getILdAddonPlan()),e.addonPopUpCheckout=function(){t.debug("buyIldAddOns Component::Selected Addon Plan");var n=r.getPlans().length>0;if(angular.forEach(e.data.addons,(function(e,t){e.checked&&(r.addPlanToCart(e),n=!0)})),t.debug("buyIldAddOns::Logged single Go for TAX caluculation",n),n){var s={};s.renewalType="SINGLE_LINE",o.getRenewalAccountStatus().then((function(n){o.estimateNoPlanChange(s).then((function(n){t.debug("buyIldAddOns::Logged single Go for TAX caluculation retuned",n),e.closePopup(!0),a.redirect(i.myaccount.dashboard.alloptions.buyaddons.success)})).catch((function(n){t.warn(n),c.handleError(n,e)}))})).catch((function(n){t.warn(n),c.handleError(n,e)}))}else e.closePopup(!0)},e.closePopup=function(t){t||r.removeCartPlan(r.getStagedPlan()),e.$ctrl.close()},e.checkForDisable=function(e){var t=!0;return angular.forEach(e,(function(e){t&&(t=!e.checked)})),t}}]}),angular.module("app").component("servicePlan",{templateUrl:"app/views/rpe/service_plans/serviceplancomponent/serviceplan_component_view.html",bindings:{plan:"=",addToCart:"&",changePlan:"="},controller:["$scope","$uibModal","$appConfig","$userService","$deviceService","$location","$anchorScroll","$routeParams",function(e,t,n,a,i,r,o,s){e.servRouteParam=r.search(),o.yOffset=200,o(r.hash(e.servRouteParam.plan_id)),e.servRouteParam=s,e.view={loggedIn:a.isLoggedIn(),isActivation:i.isActivationFlow()},e.data={partnerName:a.getPartnerInfo()?a.getPartnerInfo().partnerName:""},e.addplantocart=function(t){e.$ctrl.addToCart({plan:t})},e.shwUpgrdPop=function(){t.open({animation:!1,templateUrl:"app/views/rpe/service_plans/serviceplans_upgrade_pop.html",controller:"upgradeplanpopctrl",windowTopClass:"tf-modal"})},e.getLines=function(e){return new Array(e)}}]}),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c){e.view={},e.closePopup=function(){t.dismiss("cancel")},e.submitPinOrder=function(){console.log("Pin order - ",e.view.pin),n.submitPinOrder({pin:e.view.pin}).then((function(e){s.debug("response pin order-- ",e),t.dismiss("cancel"),"PIN_PORT_CHECKOUT"==e.redirect&&a.redirect(i.activation.portupgradeinstructions),"PIN_CHECKOUT"==e.redirect&&a.redirect(i.activation.pininstructions)})).catch((function(t){r.handleError(t,e),o.scrollTo(0,0)}))}}angular.module("app").controller("addPinPopupController",e),e.$inject=["$scope","$uibModalInstance","$checkoutService","$done","$appRoutes","$errorHandler","$window","$log","$utils"]})(),angular.module("app").component("airtimeSummary",{templateUrl:"app/views/rpe/checkout/airtimesummary/airtimesummary_view.html",bindings:{},controller:["$scope",function(e){}]}),angular.module("app").component("automaticPayments",{templateUrl:"app/views/rpe/checkout/automaticpayments/automaticpayments_view.html",bindings:{toggle:"=",togDisable:"=",info:"@",ariaLabel:"@?",refillAction:"&"},controller:["$scope","$devicesCartServices",function(e,t){e.view={isActivation:t.executionPlanExistsInDevices()},e.automaticPayments=function(t){e.$ctrl.refillAction({autoRef:t})}}]}),angular.module("app").component("billingSummaryDisclaimer",{templateUrl:"app/views/rpe/checkout/billingsummarydisclaimer/billingsummarydisclaimer_view.html",bindings:{},controller:["$scope",function(e){}]}),angular.module("app").component("billingTaxSummary",{templateUrl:"app/views/rpe/checkout/billingtaxsummary/billingtaxsummary_view.html",bindings:{billingDetails:"=",view:"=",plan:"=",formName:"<",showPaymentButton:"<",devicePopup:"&",plOrder:"&",billingItems:"=",shwPymtType:"<",showHeaderText:"<"},controller:["$scope",function(e){e.showdevicepopup=function(t){e.$ctrl.devicePopup({tax:t})}}]}),angular.module("app").component("checkoutAddons",{templateUrl:"app/views/rpe/checkout/checkoutaddons/checkoutaddons_view.html",bindings:{addons:"=",addonToReviewOrder:"&",view:"=",actionAddonPopup:"&",actionIldPopup:"&",filteredPlans:"=",plans:"=",basePlanSelected:"=",ildDetailsPopup:"&",dataaddDetailsPopup:"&",moreDataAddonDetails:"&",isAutoRefillFlow:"="},controller:["$scope","$appConfig",function(e,t){e.isILDAddon=!("NET10"!==t.brand||!e.$ctrl.plans[0].plans[0].isILDVas||"Y"!==e.$ctrl.plans[0].nonPpeFeaturedPhone)}]}),(function(){angular.module("app").component("hppContactInformation",{templateUrl:"app/views/rpe/checkout/hppcontactinformation/hppcontactinformation_view_hpp_103_3.html",bindings:{info:"=",paymentAddress:"=",hidePymtAddr:"@"},controller:"hppContactInformationCtrl"}),angular.module("app").controller("hppContactInformationCtrl",["$scope","$log","$errorHandler","$makemodelService","$deviceService","$sessionService","$appConstants","$userService","$profileService",function(e,t,n,a,i,r,o,s,c){e.models=[],e.loggedIn=s.isLoggedIn(),i.getSelectedDevice()?e.deviceType=i.getSelectedDevice().deviceType:r.get(o.session.device)&&(e.deviceType=r.get(o.session.device).deviceType),a.getDeviceDetails().then((function(t){e.makes=t.response.manufacturers})).catch((function(t){n.handleError(t,e)})),e.onMakeSelect=function(t){e.$ctrl.info.model=void 0,e.models=t.models},e.$on("loggedInBroadcastEvent",(function(t,n){e.loggedIn=!0})),e.$watch("$ctrl.info.addinfo_cntaddress",(function(t,n){e.$ctrl.info.address=t?e.$ctrl.paymentAddress:{}})),e.$watch("$ctrl.info.addinfo_profileadd",(function(){e.$ctrl.info.addinfo_profileadd?(angular.isDefined(c.getProfileDetails().getProfile())?e.$ctrl.info.address=c.getProfileDetails().getProfile().contact:c.getProfileInfo({account_id:s.getAccountId()}).then((function(a){n.clearError(e),e.$ctrl.info.address=c.getProfileDetails().getProfile().contact,angular.isUndefined(e.$ctrl.info.address.country)&&(e.$ctrl.info.address.country="USA"),angular.isDefined(e.$ctrl.info.address.firstname)&&!isNaN(e.$ctrl.info.address.firstname)&&(e.$ctrl.info.address.firstname=""),angular.isDefined(e.$ctrl.info.address.lastname)&&!isNaN(e.$ctrl.info.address.lastname)&&(e.$ctrl.info.address.lastname=""),angular.isDefined(e.$ctrl.info.address.address1)&&angular.equals("No Address Provided".toUpperCase(),e.$ctrl.info.address.address1.toUpperCase())&&(e.$ctrl.info.address.address1=""),angular.isDefined(e.$ctrl.info.address.address2)&&angular.equals("No Address Provided".toUpperCase(),e.$ctrl.info.address.address2.toUpperCase())&&(e.$ctrl.info.address.address2=""),t.debug("Profile retrieved",e.$ctrl.info.address)})).catch((function(a){n.handleError(a,e),t.warn(a)})),e.$ctrl.info.emailAddress=s.getEmail()):e.$ctrl.info.address={}}))}])})(),angular.module("app").component("paymentView",{templateUrl:"app/views/rpe/checkout/paymentview/payment_view.html",bindings:{view:"=",paymentSources:"=",askLogin:"=",taxSummary:"=",preferences:"=",bankFields:"=",ccFields:"=",selectedPayment:"=",showBank:"=",acctLogin:"=",savedCardsEvent:"&",chkoutLogin:"&",fbLogin:"&",newPaymentEvent:"&",formName:"<",editCard:"&",plans:"=",defaultPayment:"=",frgtPwd:"&?"},controller:["$scope",function(e){e.newpayevent=function(t){e.$ctrl.newPaymentEvent({type:t})},e.updatesavedtabs=function(t){e.$ctrl.savedCardsEvent({type:t})}}]}),angular.module("app").component("promoView",{templateUrl:"app/views/rpe/checkout/promoview/promoview_view.html",bindings:{promocode:"="},controller:["$scope",function(e){}]}),angular.module("app").component("redeemLrpPoints",{templateUrl:"app/views/rpe/checkout/redeemlrppoints/redeemlrppoints_view.html",bindings:{billingDetails:"=",loyaltypointsRedeemable:"=",placeOrder:"&",view:"=",devicePopup:"&",billingItems:"=",data:"="},controller:["$scope",function(e){e.showdevicepopup=function(t){e.$ctrl.devicePopup({tax:t})}}]}),angular.module("app").component("reviewOrder",{templateUrl:"app/views/rpe/checkout/revieworder/revieworder_view.html",bindings:{dataaddDetailsPopup:"&",view:"=",prefrences:"=",plans:"=",viewConfig:"=",currentMin:"@",cartUpdate:"&",remPlan:"&",ildToggle:"&",changePlanCo:"&",baseToggle:"&",dataAddonViewdetails:"&",ildAddonViewdetails:"&",ildDetailsPopup:"&",addonViewdetails:"&",ildViewdetails:"&",removeDevice:"&",moreDataAddonDetails:"&",paymentMethod:"=?",dataaddDetailsGrpPopup:"&",ildDetailsGrpPopup:"&"},controller:["$scope",function(e){e.cartupdate=function(t){e.$ctrl.cartUpdate({plan:t})},e.removeplan=function(t,n){e.$ctrl.remPlan({serNo:t,selPlan:n})},e.removeaddonplan=function(t,n){e.$ctrl.plans.splice(n,1),e.$ctrl.viewConfig.addons.push(t)},e.ildToggleStatus=function(t){e.$ctrl.ildToggle({autoRef:t})},e.changePlan=function(t,n){e.$ctrl.changePlanCo({serNo:t,selPlan:n})},e.ildDetailsGrp=function(){e.$ctrl.ildDetailsGrpPopup()},e.dataaddDetailsGrp=function(){e.$ctrl.dataaddDetailsGrpPopup()},e.ildDetails=function(){e.$ctrl.ildDetailsPopup()},e.dataaddDetails=function(){e.$ctrl.dataaddDetailsPopup()},e.autoRefillAction=function(t){e.$ctrl.baseToggle({autoRef:t})},e.remDevice=function(t){e.$ctrl.removeDevice({device:t})}}]}),angular.module("app").component("teleHealthReviewOrder",{templateUrl:"app/views/rpe/checkout/telehealthrevieworder/telehealthrevieworder_view.html",bindings:{view:"=",prefrences:"=",plans:"=",showCloseButton:"=?"},controller:["$scope",function(e){}]}),angular.module("app").component("deviceDetails",{templateUrl:"app/views/rpe/enrollments/enrollmanage/devicedetails/devicedetails_view_myacc107_2.html",bindings:{view:"=",close:"&"},controller:["$scope","$deviceService","$userService","$appConstants",function(e,t,n,a){e.data=t.getSelectedDevice(),e.deviceType={hotspot:a.device_type.hotspot.toUpperCase(),byot:a.device_type.byot.toUpperCase()},console.log(t.getSelectedDevice(),"$scope",e),e.close=function(){e.$ctrl.close()}}]}),angular.module("app").component("easyExchangeProgram",{templateUrl:"app/views/rpe/enrollments/enrollmanage/easyexchange/easyexchange_view.html",bindings:{plan:"=",enrollment:"=",device:"=",pymtsrc:"=",onPlanChange:"&",onCancelEnrollment:"&",onRefillNow:"&",onPymtSrcChange:"&",onError:"&"},controller:["$scope","$done","$q","$uibModal","$appRoutes","$log","$enrollmentService","$errorHandler","$devicesCartServices",function(e,t,n,a,i,r,o,s,c){e.init=function(){r.debug("easyexchangeComponent/init/entry"),r.debug("easyexchangeComponent/init/exit")},e.enrollNow=function(){r.debug("easyexchangeComponent/enrollNow/entry"),t.redirect(i.easyExchange.select.program),r.debug("easyexchangeComponent/enrollNow/exit")},e.processDeEnrollment=function(){r.debug("managehppPlanEnrollment/processDeEnrollment/entry",e.$ctrl.plan),e.deenrollpopup().then((function(t){e.deEnroll(e.$ctrl.plan,t)})),r.debug("manageBasePlanEnrollment/processDeEnrollment/exit")},e.deenrollpopup=function(){var e=n.defer()
;a.open({animation:!1,templateUrl:"app/views/rpe/enrollments/deenroll/deenrollpopup_view_rpe_109_1.html",controller:"denerollpopupController",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:e}});return e.promise},e.deEnroll=function(t,n){r.debug("manageHppPlanEnrollment/deEnroll/entry",t,n),o.deEnrollDevice({min:e.$ctrl.device.min,reason:n,programId:t.program_id}).then((function(t){r.debug("manageHppPlanEnrollment/deEnroll/success",t),s.clearError(e),e.$ctrl.onCancelEnrollment()})).catch((function(t){r.warn("manageHppPlanEnrollment/deEnroll/rejected",t),e.$ctrl.onError({error:t})})),r.debug("manageHppPlanEnrollment/deEnroll/exit")},e.processChangePymtSrc=function(t,n){r.debug("manageHppPlanEnrollment/processChangePymtSrc/entry",t,n),e.$ctrl.onPymtSrcChange({plan:t,payment:n})},e.getAltPymtSrc=function(e){r.debug("manageHppPlanEnrollment/getAltPymtSrc/entry",e);var t=n.defer();return a.open({component:"changeCreditcard",animation:!1,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:t}}).result.then((function(e){}),null),t.promise},e.updEnrlPymtSrcForDevice=function(t,a,i){r.debug("manageHppPlanEnrollment::Updating enrollment for Enrolled Plan",t);var c=n.defer();return s.clearError(e),a.id!=i.id&&(r.debug("Selecting device",e.data.device),o.changeEnrollmentDetails({paymentsourceID:a.id,account_id:parseInt($userService.getAccountId()),plan_id:parseInt(t.plan_id),cvv:"123",min:e.data.device.min,program_id:t.program_id,isILDVas:t.is_ild_vas,isHppPlan:t.is_hpp,enrollNow:!1}).then((function(t){e.$emit("pymtsrc-enrl-upd",{}),c.resolve(e.auto_refill_devices),r.debug("Successfully updated for ",e.data.device,t),e.init()})).catch((function(t){r.debug("Failed update for ",e.data.device,response),r.warn(t),s.handleError(t,e)}))),c.promise}}]}),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p){e.view={},e.view.is_easy_exchange_plus=resolvParam.is_easy_exchange_plus,e.headerText=e.view.is_easy_exchange_plus?"HPP_206":"HPP_213",e.close=function(){$uibModalInstance.dismiss("cancel")},e.init=function(){s.debug("easyexchangeCtrl/init/entry"),s.debug("easyexchangeCtrl/init/exit")},e.enrollNow=function(){s.debug("easyexchangeCtrl/enrollNow/entry"),c.emptyCart(),c.setUserSelectAutoRefill(!0),c.setEnrollFlowFlag(!0),t.redirect(i.easyExchange.select.program),s.debug("easyexchangeCtrl/enrollNow/exit")}}angular.module("app").controller("easyexchangeCtrl",e),e.$inject=["$scope","$done","$q","$uibModal","$appRoutes","$appConfig","$rootScope","$log","$devicesCartServices","$cartService","$enrollmentService","$errorHandler","$renewalservices"]})(),angular.module("app").component("manageIldPlanEnrollment",{templateUrl:"app/views/rpe/enrollments/enrollmanage/manageildplanenrollment/manageildplanenrollment_view.html",bindings:{plan:"=",enrollment:"=",device:"=",pymtsrc:"=",onCancelEnrollment:"&",onRefillNow:"&",onPymtSrcChange:"&",onError:"&"},controller:["$scope","$done","$q","$uibModal","$appRoutes","$appConfig","$rootScope","$log","$devicesCartServices","$renewalservices","$enrollmentService","$deviceService","$cartService","$errorHandler","$appConstants","$location",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m){e.init=function(){s.debug("manageIldPlanEnrollment/init/entry"),s.debug("manageIldPlanEnrollment/init/$ctrl",e.$ctrl),e.wcmurl=r.serviceplans.baseurl,e.lang=o.lang,e.baseplanView=!m.search().basePlan||"true"==m.search().basePlan,e.ildView=!m.search().ild||"true"==m.search().ild,s.debug("basplanview",e.baseplanView),s.debug("ildplanview",e.ildView),e.$on("change-language",(function(t,n){e.wcmurl=r.serviceplans.baseurl,e.lang=o.lang})),s.debug("manageIldPlanEnrollment/init/exit")},e.getenrollserviceplan=function(){s.info("getenrollserviceplans::"),t.redirect(i.rpe.redemption.purchaseplan)},e.refillnowinstead=function(){t.redirect(i.rpe.redemption.checkout)},e.processChangePymtSrc=function(t,n){s.debug("manageIldPlanEnrollment/editPaymentPopup/entry",t,n),e.$ctrl.onPymtSrcChange({plan:t,payment:n})},e.processDeEnrollment=function(){s.debug("manageIldPlanEnrollment/processDeEnrollment/entry"),e.deenrollpopup().then((function(t){e.deEnroll(e.$ctrl.plan,t)})),s.debug("manageIldPlanEnrollment/processDeEnrollment/exit")},e.deenrollpopup=function(){var e=n.defer();a.open({animation:!1,templateUrl:"app/views/rpe/enrollments/deenroll/deenrollpopup_view_rpe_109_1.html",controller:"denerollpopupController",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:e,endDate:!1}});return e.promise},e.deEnroll=function(t,n){s.debug("manageIldPlanEnrollment/deEnroll/entry",t,n);var a;c.isBrandMultiLine()&&(a={id:u.getBanDetails().ban_id}),d.deEnrollDevice({min:e.$ctrl.device.min,reason:n,programId:t.program_id,category:t.isILDVas?g.orderitemildcategory:void 0,planPartNumber:t.part_number,planPartClass:t.part_class,billingAccount:a}).then((function(t){s.debug("manageIldPlanEnrollment/deEnroll/success",t),v.clearError(e),e.$ctrl.onCancelEnrollment()})).catch((function(t){s.warn("manageIldPlanEnrollment/deEnroll/rejected",t),e.$ctrl.onError({error:t})})),s.debug("manageIldPlanEnrollment/deEnroll/exit")},e.reupNow=function(){s.debug("manageIldPlanEnrollment/reupNow/entry"),e.$ctrl.plan.auto_refill=!1,e.$ctrl.plan.auto_enrollflow=!1,c.setEnrollFlowFlag(!1),c.setRedemptionFlow(!0),e.estimateOrder(),s.debug("manageIldPlanEnrollment/reupNow/exit")},e.enrollNow=function(){s.info("manageIldPlanEnrollment/enrollNow checkout page --\x3e ",u.getSelectedDevice()),e.$ctrl.plan.auto_refill=!0,e.$ctrl.plan.auto_enrollflow=!0,c.setRedemptionFlow(!0),c.setEnrollFlowFlag(!1),e.estimateOrder()},e.estimateOrder=function(){var n={};n.renewalType="SINGLE_LINE",s.info("manageIldPlanEnrollment/estimateOrder checkout page --\x3e "),p.addPlanToCart(e.$ctrl.plan),l.estimateNoPlanChange(n).then((function(e){t.redirect(i.checkout)})).catch((function(t){s.warn("manageIldPlanEnrollment/redirectCheckout/estimate/rejected",t),e.$ctrl.plan.auto_refill=!1,c.setEnrollFlowFlag(!1),c.setRedemptionFlow(!1),e.$ctrl.onError({error:t})}))}}]}),angular.module("app").component("manageBasePlanEnrollment",{templateUrl:"app/views/rpe/enrollments/enrollmanage/managebaseplanenrollment/managebaseplanenrollment_view.html",bindings:{plan:"=",enrollment:"=",device:"=",pymtsrc:"=",onPlanChange:"&",onCancelEnrollment:"&",onRefillNow:"&",onPymtSrcChange:"&",onError:"&"},controller:["$scope","$done","$q","$uibModal","$appRoutes","$appConfig","$rootScope","$log","$devicesCartServices","$deviceService","$cartService","$enrollmentService","$errorHandler","$renewalservices","$servicePlanSelectorService","$redemptionService","$appConstants","$utils",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f,h){e.init=function(){s.debug("manageBasePlanEnrollment/init/entry",e.$ctrl),e.wcmurl=r.serviceplans.baseurl,e.lang=o.lang,e.isM2MDeviceOnly=!1,e.$ctrl.device.deviceType&&(r.features.multiline&&e.$ctrl.device.deviceType==f.device_type.carsmart&&(e.isM2MDeviceOnly=!0),r.features.groupbased&&e.$ctrl.device.deviceType==f.device_type.signal_device&&(e.isM2MDeviceOnly=!0)),e.allowBasePlanActions=!0,angular.isDefined(e.$ctrl.device.isEbbEnrolled)&&e.$ctrl.device.isEbbEnrolled&&(s.debug("Is device enrolled in EBB"+e.$ctrl.device.isEbbEnrolled),e.allowBasePlanActions=!1),e.$on("change-language",(function(t,n){e.wcmurl=r.serviceplans.baseurl,e.lang=o.lang})),s.debug("manageBasePlanEnrollment/init/exit")},e.planChange=function(){s.debug("manageBasePlanEnrollment/planChange/entry"),g.clearDevicePlans(),l.selectDevice(e.$ctrl.device),c.setRedemptionFlow(!0),d.emptyCart(),s.info("Selected device - ",e.$ctrl.plan),c.setIsChngPlanRenewal(!0),t.redirect(i.rpe.redemption.purchaseplan),s.debug("manageBasePlanEnrollment/planChange/exit")},e.refillNow=function(){s.debug("manageBasePlanEnrollment/refillNow/entry -- "),e.$ctrl.refillNow(),s.debug("manageBasePlanEnrollment/refillNow/exit")},e.processChangePymtSrc=function(t,n){s.debug("editPaymentPopup/entry",t,n),e.$ctrl.onPymtSrcChange({plan:t,payment:n})},e.getAltPymtSrc=function(e){var t=n.defer();return a.open({component:"changeCreditcard",animation:!1,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{callback:t}}).result.then((function(e){}),null),t.promise},e.updEnrlPymtSrcForDevice=function(t,a,i){s.debug("Updating enrollment for Enrolled Plan",t);var r=n.defer();return p.clearError(e),a.id!=i.id&&(s.debug("Selecting device",e.data.device),u.changeEnrollmentDetails({paymentsourceID:a.id,account_id:parseInt($userService.getAccountId()),plan_id:parseInt(t.plan_id),cvv:"123",min:e.data.device.min,program_id:t.program_id,isILDVas:t.is_ild_vas,enrollNow:!1}).then((function(t){e.$emit("pymtsrc-enrl-upd",{}),r.resolve(e.auto_refill_devices),s.debug("Successfully updated for ",e.data.device,t),e.init()})).catch((function(t){s.debug("Failed update for ",e.data.device,response),s.warn(t),e.$ctrl.onError({error:t})}))),r.promise},e.processDeEnrollment=function(){s.debug("manageBasePlanEnrollment/processDeEnrollment/entry"),e.getDeEnrollReason().then((function(t){e.deEnroll(e.$ctrl.plan,t)})),s.debug("manageBasePlanEnrollment/processDeEnrollment/exit")},e.getDeEnrollReason=function(){s.debug("manageBasePlanEnrollment/getDeEnrollReason/entry");var t=n.defer();a.open({animation:!1,templateUrl:"app/views/rpe/enrollments/deenroll/deenrollpopup_view_rpe_109_1.html",controller:"denerollpopupController",size:"md",scope:e,windowTopClass:"tf-modal",resolve:{callback:t,endDate:!0}});return s.debug("manageBasePlanEnrollment/getDeEnrollReason/exit"),t.promise},e.deEnroll=function(t,n){s.debug("manageBasePlanEnrollment/deEnroll/entry",t,n,l.getRenewalDetails()),c.isBrandMultiLine()?u.deenrollAutorefill({reason:n,billing_account:{id:l.getRenewalDetails().ban_id}}).then((function(t){s.debug("manageBasePlanEnrollment/deEnroll/success",t),p.clearError(e),e.$ctrl.onCancelEnrollment()})).catch((function(t){s.warn("manageBasePlanEnrollment/deEnroll/rejected",t),e.$ctrl.onError({error:t})})):u.deEnrollDevice({min:e.$ctrl.device.min,reason:n,programId:t.program_id}).then((function(t){s.debug("manageBasePlanEnrollment/deEnroll/success",t),p.clearError(e),e.$ctrl.onCancelEnrollment()})).catch((function(t){s.warn("manageBasePlanEnrollment/deEnroll/rejected",t),e.$ctrl.onError({error:t})})),s.debug("manageBasePlanEnrollment/deEnroll/exit")},e.reupNow=function(){s.info("manageBasePlanEnrollment/reupNow/entry - "),m.getRetentionMatrix({servicePlanId:e.$ctrl.plan.plan_id,device:e.$ctrl.device.esn,context:f.retention_context.apply_now,retentionMatrixCheck:!0}).then((function(n){c.setRedeemNowFlag(!0),e.$ctrl.plan.auto_refill=!1,n&&"APPLY_NOW"==n.flow?(d.stagePlan(e.$ctrl.plan),t.redirect(i.rpe.redemption.applynow)):e.estimateOrder(),s.debug("manageBasePlanEnrollment/reupNow/exit")})).catch((function(e){reject(e)}))},e.enrollNow=function(){s.debug("manageBasePlanEnrollment/enrollNow/entry"),c.setEnrollFlowFlag(!0),e.estimateOrder(),s.debug("manageBasePlanEnrollment/enrollNow/exit")},e.estimateOrder=function(){var n={};n.renewalType="SINGLE_LINE",d.addPlanToCart(e.$ctrl.plan),v.estimateNoPlanChange(n).then((function(e){t.redirect(i.checkout)})).catch((function(t){s.warn("manageBasePlanEnrollment/redirectCheckout/estimate/rejected",t),c.setEnrollFlowFlag(!1),p.handleError(t,e)}))}}]}),angular.module("app").component("manageMultilineEnrollment",{templateUrl:"app/views/rpe/enrollments/enrollmanage/managemultilineenrollment/manageenroll_multi_view_myac_116_1.html",bindings:{data:"=",view:"=",plan:"=",enrollment:"=",device:"=",pymtsrc:"=",onCancelEnrollment:"&",onRefillNow:"&",onError:"&",viewDetails:"&?",onPymtSrcChange:"&"},controller:["$scope","$done","$q","$uibModal","$appRoutes","$appConfig","$rootScope","$log","$devicesCartServices","$enrollmentService","$errorHandler","$renewalservices","$userService","$paymentService","$deviceService","$checkoutService",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m){e.data={renewalDetails:{}},e.init=function(){s.debug("manageMultilineEnrollment/init/entry",e.$ctrl),e.wcmurl=r.serviceplans.baseurl,e.lang=o.lang,e.$on("change-language",(function(t,n){e.wcmurl=r.serviceplans.baseurl,e.lang=o.lang})),s.debug("manageMultilineEnrollment/init/exit")},e.processChangePymtSrc=function(t,n){s.debug("manageMultilineEnrollment/entry/processChangePymtSrc",t,n),e.data.renewalDetails=t,n&&e.getAltPymtSrc(n).then((function(a){s.debug("Received alternate payment",a),a&&e.updEnrlPymtSrcForDevice(t,a,n)}))},e.getAltPymtSrc=function(e){var t=n.defer();return a.open({component:"changeCreditcard",animation:!1,size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{paymentsource:e}}).result.then((function(e){t.resolve(e)}),null),t.promise},e.updEnrlPymtSrcForDevice=function(a,r,o){s.debug("manageMultilineEnrollment::Updating enrollment for Enrolled Plan",a,e.$ctrl.device);var l=n.defer();d.clearError(e);var u={};return u.paymentSource={},u.paymentType="EXIST",r.id!=o.id&&(s.debug("manageMultilineEnrollment::Selecting Ban",e.data.renewalDetails),r.enrolled=!0,s.debug("updatePaymentSourceEnroll Payment Source  ",r,r.accounttype),r.accounttype&&(s.debug("pymt_src.accounttype setting as ACH   "),r.type=$appConstants.payment_type.ach),c.addDeviceToCart(e.$ctrl.device),u.changePaymentSrc=!0,u.paymentSource.pymt_src=r,m.processOrder(u).then((function(n){g.getAccountDevices().then((function(e){s.debug("get Account Details to refresh the data accountdevice!!! ",e),t.redirect(i.myaccount.dashboard.alloptions.manageenroll)})).catch((function(t){d.handleError(t,e)}))})).catch((function(t){s.debug("Failed update for "),s.warn(t),d.handleError(t,e)}))),l.promise},e.processDeEnrollment=function(t){s.debug("manageBasePlanEnrollment/processDeEnrollment/entry"),e.getDeEnrollReason().then((function(n){e.deEnroll(t,n)})),s.debug("manageBasePlanEnrollment/processDeEnrollment/exit")},e.getDeEnrollReason=function(){s.debug("manageMultilineEnrollment/getDeEnrollReason/entry");var t=n.defer();a.open({animation:!1,templateUrl:"app/views/rpe/enrollments/deenroll/deenrollpopup_view_rpe_109_1.html",controller:"denerollpopupController",size:"md",scope:e,windowTopClass:"tf-modal",resolve:{callback:t}});return s.debug("manageMultilineEnrollment/getDeEnrollReason/exit"),t.promise},e.deEnroll=function(t,n){s.debug("manageMultilineEnrollment/deEnroll/entry",t,n),l.deenrollAutorefill({reason:n,billing_account:{id:t.ban_id}}).then((function(t){s.debug("manageMultilineEnrollment/deEnroll/success",t),d.clearError(e),e.$ctrl.onCancelEnrollment()})).catch((function(t){s.warn("manageMultilineEnrollment/deEnroll/rejected",t),e.$ctrl.onError({error:t})})),s.debug("manageMultilineEnrollment/deEnroll/exit")},e.reupNow=function(){s.debug("manageMultilineEnrollment/reupNow/entry"),c.setRedeemNowFlag(!0),e.estimateOrder(),s.debug("manageMultilineEnrollment/reupNow/exit")},e.estimateOrder=function(){u.estimatePlanSelection().then((function(e){t.redirect(i.checkout)})).catch((function(t){s.warn("manageMultilineEnrollment/redirectCheckout/estimate/rejected",t),c.setUserSelectAutoRefill(!1),c.setEnrollFlowFlag(!1),d.handleError(t,e)}))}}]}),angular.module("app").component("reservePlanDetails",{templateUrl:"app/views/rpe/redemption/managereserve/reserveplandetails/reserveplandetails_view_rpe_110.1.html",bindings:{plan:"=",planSelected:"&"},controller:["$scope","$deviceService",function(e,t){e.showSelectBtn=!0,t.getSelectedDevice()&&angular.isDefined(t.getSelectedDevice().isEbbEnrolled)&&t.getSelectedDevice().isEbbEnrolled&&(e.showSelectBtn=!1)}]}),angular.module("app").component("basicphonePlans",{templateUrl:"app/views/rpe/service_plans/categories/basicphoneplans/basicphoneplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planClicked:"&?",addToCart:"&",addOnFlow:"=",changePlan:"=",activationFlow:"=",moreDataAddonDetails:"&"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedDevice=n.getSelectedDevice(),e.selectedPlan=function(t){r.debug("basicphone/selectedPlan",t),e.$ctrl.planClicked({plan:t})},e.moreDataAddonDetails=function(t){r.debug("addonPlans/selectedPlan",t),e.$ctrl.moreDataAddonDetails({addon:t})}}]}),angular.module("app").component("hotspotPlans",{templateUrl:"app/views/rpe/service_plans/categories/hotspotplans/hotspotplans_view.html",bindings:{plans:"=",view:"=",planClicked:"&?",selectedPlan:"&?",addToCart:"&",addOnFlow:"=",changePlan:"=",activationFlow:"=",moreDataAddonDetails:"&"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedPlan=function(t){r.debug("smartphonePlans/selectedPlan",t),e.$ctrl.planClicked({plan:t})},e.$ctrl.activationFlow&&(e.$ctrl.plans.hotspot=e.$ctrl.plans.hotspot.filter((function(e){return!e.is_addon}))),e.moreDataAddonDetails=function(t){r.debug("addonPlans/selectedPlan",t),e.$ctrl.moreDataAddonDetails({addon:t})}}]}),angular.module("app").component("carsmartPlans",{templateUrl:"app/views/rpe/service_plans/categories/carsmartplans/carsmartplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planClicked:"&?",addToCart:"&",addOnFlow:"=",changePlan:"=",activationFlow:"=",moreDataAddonDetails:"&"},controller:["$scope","$deviceService","$log",function(e,t,n){e.selectedDevice=t.getSelectedDevice(),e.selectedPlan=function(t){n.debug("carconnectPlans/selectedPlan",t),e.$ctrl.planClicked({plan:t})},e.moreDataAddonDetails=function(t){n.debug("addonPlans/selectedPlan",t),e.$ctrl.moreDataAddonDetails({addon:t})}}]}),angular.module("app").component("homephonePlans",{templateUrl:"app/views/rpe/service_plans/categories/homephoneplans/homephoneplans_view.html",bindings:{plans:"=",view:"=",planClicked:"&?",selectedPlan:"&?",addToCart:"&",addOnFlow:"=",changePlan:"=",activationFlow:"="},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedPlan=function(t){r.debug("smartphonePlans/selectedPlan",t),e.$ctrl.planClicked({plan:t})}}]}),angular.module("app").component("smartphonePlans",{templateUrl:"app/views/rpe/service_plans/categories/smartphoneplans/smartphoneplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planClicked:"&?",addToCart:"&",addOnFlow:"=",changePlan:"=",activationFlow:"=",moreDataAddonDetails:"&"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedDevice=n.getSelectedDevice(),e.selectedPlan=function(t){r.debug("smartphonePlans/selectedPlan",t),e.$ctrl.planClicked({plan:t})},e.moreDataAddonDetails=function(t){r.debug("addonPlans/selectedPlan",t),e.$ctrl.moreDataAddonDetails({addon:t})}}]}),angular.module("app").component("smServiceplansCard",{templateUrl:"app/views/rpe/service_plans/categories/smserviceplanscard/smserviceplanscard_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planCategory:"=",filterQuery:"<?",action:"&?",addToCart:"&",addOnFlow:"=",activationFlow:"=",moreDataAddonDetails:"&"},controller:["$scope","$log","$utils",function(e,t,n){e.action=function(n){t.debug("smartphonePlans/selectedPlan",n),e.$ctrl.action({plan:n})},e.moreDataAddonDetails=function(n){t.debug("addonPlans/selectedPlan",n),e.$ctrl.moreDataAddonDetails({addon:n})}}]}),(function(){"use strict";function e(e,t,n,a){e.filterPlan=function(){t.debug("activeDevices::"),a.selectDevice(e.data.device),e.serviceplanredirect()}}angular.module("app").controller("activeDevices",e),e.$inject=["$scope","$log","$uibModalInstance","$deviceService"]})(),angular.module("app").component("buymoreSavemorePopup",{templateUrl:"app/views/rpe/service_plans/popups/buymoresavemorepopup/buymoresavemorepopup_view_rpe103_8.html",bindings:{view:"=",data:"=",close:"&",modalInstance:"="},controller:["$scope",function(e){e.close=function(){e.$ctrl.close()}}]}),(function(){"use strict";function e(e,t,n,a,i,r){e.lrpData={availablePoints:i("number")(a.rootScope.availablePoints)},e.closePopup=function(){t.dismiss("cancel")},e.augeoRedirect=function(e){e=angular.isDefined(e)?e:"augeoRedeemNowUrl",console.log(e,"augeourl action",n.rewards[e]),r.redirectAugeo({redirect_uri:n.rewards[e]}).then((function(){console.log("Redirect successfull to augeo page")}))}}angular.module("app").controller("insufficientCtrl",e),e.$inject=["$scope","$uibModalInstance","$appConfig","resolvParam","$filter","$lrpEnrollment"]})(),angular.module("app").component("familyPlansPopup",{templateUrl:"app/views/rpe/service_plans/popups/familyplanspopup/familyplanspopup_view_rpe_103.7.html",bindings:{view:"=",data:"=",close:"&",modalInstance:"="},controller:["$scope",function(e){e.close=function(){e.$ctrl.close()}}]}),(function(){"use strict";function e(e,t,n){e.device=n.device,e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("lrppointsdetailspopupController",e),e.$inject=["$scope","$uibModalInstance","resolvParam"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d){e.view={showOfferFamily:!0,lrpData:{redeemPointCookie:!1}},d.isLoggedIn()&&(e.view.showOfferFamily=!1),e.data={selectedPlan:t.getStagedPlan()},e.buyPlan=function(){if(n.info("multiplandiscountpopupcontroller::buyPlan::Selected Plan !! ",e.data.selectedPlan),t.stagePlan(e.data.selectedPlan),a.isActivationFlow()){var o={};o.enrollmentCheck=!1,o.discountvalidation=!1,e.postActivationPlanSelction(o)}else i.VerifyDeviceForRenewal({device:a.getSelectedDevice().esn,plan:e.data.selectedPlan,discountEligible:!1,retentionMatrixCheck:!1}).then((function(t){n.debug("VerifyDeviceForRenewal retuned::",t),e.closePopup(!0),e.postDeviceVerificationAction(t)})).catch((function(t){r.handleError(t,e)}))},e.closePopup=function(t){s.dismiss("cancel"),e.serviceplanredirect()},e.oneTimepurchase=function(){n.info("multiplandiscountpopupcontroller::oneTimepurchase",e.data.selectedPlan,e.view),e.view.lrpData.redeemPointCookie=!!angular.isDefined(c.get("redeemPoints"))&&c.get("redeemPoints"),e.data.selectedPlan&&e.data.selectedPlan.isMultiPurchasePlanDisc&&!e.view.lrpData.redeemPointCookie?e.view.showOfferFamily=!1:e.enrollmentPurchase(!1)},e.enrollmentPurchase=function(t){if(n.info("multiplandiscountpopupcontroller::enrollmentPurchase",t),o.setUserSelectAutoRefill(t),a.isActivationFlow()){var s={};s.enrollmentCheck=!1,s.discountvalidation=!1,e.postActivationPlanSelction(s)}else i.VerifyDeviceForRenewal({device:a.getSelectedDevice().esn,plan:e.data.selectedPlan,discountEligible:!1,retentionMatrixCheck:!1}).then((function(t){n.debug("VerifyDeviceForRenewal retuned::",t),e.closePopup(!0),e.postDeviceVerificationAction(t)})).catch((function(t){r.handleError(t,e)}))}}angular.module("app").controller("multiplandiscountpopupcontroller",e),e.$inject=["$scope","$cartService","$log","$deviceService","$renewalservices","$errorHandler","$devicesCartServices","$uibModalInstance","$cookies","$location","$userService"]})(),(function(){"use strict";function e(e,t,n){e.closePopup=function(){t.dismiss("cancel")},e.myDevices=function(){n.url("/myaccount/dashboard")}}angular.module("app").controller("noactivedevicepopupController",e),e.$inject=["$scope","$uibModalInstance","$location"]})(),(function(){"use strict";function e(e,t,n){e.closePopup=function(){n.dismiss("cancel")}}angular.module("app").controller("servicePlanAutoPopupController",e),e.$inject=["$scope","$log","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n){e.closePopup=function(){n.dismiss("cancel")}}angular.module("app").controller("dataViewDetails_controller",e),e.$inject=["$scope","$log","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n,a){var i=this;i.selectedAddOnId=a.plan_id,i.scriptType=a.planScriptType?a.planScriptType:a.scriptType,i.closePopup=function(){n.dismiss("cancel")}}angular.module("app").controller("viewmoreaddondetails_controller",e),e.$inject=["$scope","$log","$uibModalInstance","selectedAddOn"]})(),(function(){"use strict";function e(e,t,n){e.closePopup=function(){n.dismiss("cancel")}}angular.module("app").controller("ildViewDetails_controller",e),e.$inject=["$scope","$log","$uibModalInstance"]})(),angular.module("app").component("newPayment",{templateUrl:"app/views/rpe/checkout/paymentview/newpayment/newpayment_view.html",bindings:{view:"=",preferences:"=",bankFields:"=",ccFields:"=",newPaymentEvent:"&",formName:"<",close:"&",defaultPayment:"=",paymentSources:"="},controller:["$scope","$paymentService","$userService","$q","$errorHandler","$log","$validation","$rootScope","$filter","$devicesCartServices",function(e,t,n,a,i,r,o,s,c,l){function d(o){var s=a.defer(),c=angular.copy(o.address);return delete s.address,o.billing_address=c,t.addPaymentSource(angular.merge({account_id:n.getAccountId()},o)).then((function(t){r.debug("Payment source added",t),o.id=t.payment_source_id,s.resolve(o),i.clearError(e)})).catch((function(e){r.warn(e),s.reject(e)})),s.promise}if(!e.$ctrl.paymentSources||e.$ctrl.paymentSources.length||l.isPaymentSourceAvailable()){s.paymentType=null,e.$ctrl.view.showCreditCardBlock=!1;var u=c("filter")(e.$ctrl.paymentSources,{type:"paypal"}),p=c("filter")(e.$ctrl.paymentSources,{type:"venmo"});angular.isDefined(u)&&u.length>0&&(e.$ctrl.view.disablePayPal=!0),angular.isDefined(p)&&p.length>0&&(e.$ctrl.view.disableVenmo=!0)}else s.paymentType="creditCard",e.$ctrl.view.showCreditCardBlock=!0;e.$ctrl.preferences.isUserLoggedIn&&(e.$ctrl.preferences.save_paypal=!0),angular.isDefined(e.$ctrl.view)&&angular.isDefined(e.$ctrl.view.hidePayPal)&&e.$ctrl.view.hidePayPal&&(e.$ctrl.view.disablePayPal=!0),e.$watch("$ctrl.paymentSources",(function(){var t=c("filter")(e.$ctrl.paymentSources,{type:"paypal"}),n=c("filter")(e.$ctrl.paymentSources,{type:"venmo"});angular.isDefined(t)&&t.length>0&&(e.$ctrl.view.disablePayPal=!0),angular.isDefined(n)&&n.length>0&&(e.$ctrl.view.disableVenmo=!0)})),e.paymentTypeChange=function(){s.paymentType=event.target.value,e.$ctrl.view.showCreditCardBlock="creditCard"==s.paymentType},e.tabevent=function(t){e.$ctrl.newPaymentEvent({type:t})},e.savetomyaccount=function(){e.$ctrl.preferences.isDefaultPaymentPref&&(e.$ctrl.preferences.save_card=!0)},e.newCCAdded=function(){d(e.$ctrl.ccFields).then((function(t){e.$emit("newpymt-added",{data:t})})).catch((function(t){e.$ctrl.ccFields={address:{country:"USA"}},e.$emit("newpymt-failed",{data:t})}))},e.newAchAdded=function(){d(e.$ctrl.bankFields).then((function(t){e.$emit("newpymt-added",{data:t})})).catch((function(t){e.$ctrl.bankFields={address:{country:"USA"}},e.$emit("newpymt-failed",{data:t})}))}}]}),angular.module("app").component("savedPayment",{templateUrl:"app/views/rpe/checkout/paymentview/savedpayment/savedpayment_view.html",bindings:{view:"=",preferences:"=",bankFields:"=",ccFields:"=",askLogin:"=",selectedPayment:"=",paymentSources:"=",showBank:"=",acctLogin:"=",savedCardsEvent:"&",chkoutLogin:"&",fbLogin:"&",newPaymentEvent:"&",formName:"<",editCard:"&",plans:"=",close:"&",defaultPayment:"=",frgtPwd:"&?"},controller:["$scope","$checkoutService","$log","$rootScope",function(e,t,n,a){e.pay_sources=[],e.updatesavedtab=function(t){"ADD"==t?(a.paymentType="creditCard",e.$ctrl.view.showCreditCardBlock=!0):(a.paymentType=null,e.$ctrl.view.showCreditCardBlock=!1),e.$ctrl.savedCardsEvent({type:t})},e.savecard=function(){e.$ctrl.updateSavedCard()},e.login=function(){e.$ctrl.chkoutLogin()},e.fblogin=function(){e.$ctrl.fbLogin()},e.newpymttabevent=function(t){e.$ctrl.newPaymentEvent({type:t})},e.saveEditPymt=function(){n.debug("Inside saveEditPymt function"),n.debug("Input =",e.$ctrl.selectedPayment),t.updatePaymentDetails({paymentSource:e.$ctrl.selectedPayment}).then((function(t){n.debug(t),e.$ctrl.paymentSources=t,e.$ctrl.view.activeDeviceEdit=!1})).catch((function(t){e.$emit("handle-error",{data:t})}))},e.updateSavedCard=function(){n.debug("savedPayment/updateSavedCard/entry"),a.$emit("card-selected",{card:e.$ctrl.selectedPayment}),n.debug("savedPayment/updateSavedCard/exit")},e.forgotPassword=function(){e.$ctrl.frgtPwd()},e.getCardsData=function(t){for(var n=[],a=0;a<t.length;a++)"ach"!=t[a].type&&"dinersclub"!=t[a].type&&"maestro"!=t[a].type&&"diners"!=t[a].type&&(n.push(t[a]),e.pay_sources=n);e.$ctrl.selectedPayment=e.pay_sources[0]}}]}),angular.module("app").component("addonPlans",{templateUrl:"app/views/rpe/service_plans/categories/plantypes/addonplans/addonplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planSelected:"&?",addToCart:"&",addOnFlow:"=",changePlan:"=",activationFlow:"=",onError:"&",moreDataAddonDetails:"&"},controller:["$scope","$log","$utils","$voMapConfig","$errorHandler",function(e,t,n,a,i){e.init=function(){if(e.addons_smartphone=!0,t.info("addonPlans Init::",e.$ctrl.plans,e.$ctrl.addOnFlow),0===e.$ctrl.plans.length&&e.$ctrl.addOnFlow){var r=n.translateError({error_code:"-10103"},a.get("serviceplan"));i.handleError(r,e),t.info("addonPlans errored::",r)}e.addOnsPlans=e.getAddOnPlans(e.$ctrl.plans)},e.selectedPlan=function(n){t.debug("addonPlans/selectedPlan",n),e.$ctrl.planSelected({plan:n})},e.moreDataAddonDetails=function(n){t.debug("addonPlans/selectedPlan",n),e.$ctrl.moreDataAddonDetails({addon:n})},e.getAddOnPlans=function(n){if(e.addOns=[],t.info("addons -- added so far --",e.addOns),n.length){var a;angular.forEach(n,(function(t,n){"ADD_ON_DATA"==t.servicePlanGroup&&e.addOns.push(t),"ADD_ON_ILD"==t.servicePlanGroup&&(a=t)})),e.addOns.push(a)}return t.info("addons -- added so far --",e.addOns),e.addOns}}]}),angular.module("app").component("dataaddonPlans",{templateUrl:"app/views/rpe/service_plans/categories/plantypes/dataaddonplans/dataaddonplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planSelected:"&?",addToCart:"&",addOnFlow:"=",changePlan:"=",activationFlow:"=",onError:"&",moreDataAddonDetails:"&"},controller:["$scope","$log","$utils","$voMapConfig","$errorHandler",function(e,t,n,a,i){e.init=function(){if(e.addons_smartphone=!0,t.info("dataAddonPlans Init::",e.$ctrl.plans,e.$ctrl.addOnFlow),0===e.$ctrl.plans.length&&e.$ctrl.addOnFlow){var r=n.translateError({error_code:"-10103"},a.get("serviceplan"));i.handleError(r,e),t.info("dataAddonPlans errored::",r)}e.addOnsPlans=e.getAddOnPlans(e.$ctrl.plans)},e.selectedPlan=function(n){t.debug("dataAddonPlans/selectedPlan",n),e.$ctrl.planSelected({plan:n})},e.moreDataAddonDetails=function(n){t.debug("addonPlans/selectedPlan",n),e.$ctrl.moreDataAddonDetails({addon:n})},e.getAddOnPlans=function(n){if(e.addOns=[],t.info("addons -- added so far --",e.addOns),n.length){angular.forEach(n,(function(t,n){"ADD_ON_DATA"==t.servicePlanGroup&&e.addOns.push(t)}))}return t.info("addons -- added so far --",e.addOns),e.addOns}}]}),angular.module("app").component("dataonlyPlans",{templateUrl:"app/views/rpe/service_plans/categories/plantypes/dataonlyplans/dataonlyplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planSelected:"&?",moreDataAddonDetails:"&"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedDevice=n.getSelectedDevice(),e.selectedPlan=function(t){r.debug("dataonlyPlans/selectedPlan",t),e.$ctrl.planSelected({plan:t})},e.moreDataAddonDetails=function(t){r.debug("addonPlans/selectedPlan",t),e.$ctrl.moreDataAddonDetails({addon:t})}}]}),angular.module("app").component("monthlyPlans",{templateUrl:"app/views/rpe/service_plans/categories/plantypes/monthlyplans/monthlyplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planSelected:"&?"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedDevice=n.getSelectedDevice(),e.selectedPlan=function(t){r.debug("monthlyPlans/selectedPlan",t),e.$ctrl.planSelected({plan:t})}}]}),angular.module("app").component("paygoPlans",{templateUrl:"app/views/rpe/service_plans/categories/plantypes/paygoplans/paygoplans_view.html",bindings:{plans:"=",view:"=",hasplans:"=",planSelected:"&?"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedPlan=function(t){r.debug("paygoplans/selectedPlan",t),e.$ctrl.planSelected({plan:t})}}]}),
angular.module("app").component("upgradePlans",{templateUrl:"app/views/rpe/service_plans/categories/plantypes/upgradeplans/upgradeplans_view.html",bindings:{plans:"=",view:"=",planSelected:"&?"},controller:["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedPlan=function(t){r.debug("paygoplans/selectedPlan",t),e.$ctrl.planSelected({plan:t})}}]}),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},deviceid:t.deviceid,request:{operatingSystemId:t.operatingsystem_id}}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={apn:{url:n.apn,contentType:"application/json",httpMethod:"POST",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("apnsettings",i)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985607",12400:"ERROR_1985653",10101:"ERROR_1985654","-10100":"ERROR_1985664"},forward:function(e){var t={};return t.deviceid=e.deviceid,t.operatingsystem_id=angular.isDefined(e.operatingsystem)?e.operatingsystem.id:void 0,t},backward:function(e){var t={};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)){if(angular.isDefined(e.response.operatingSystems)){t.operatingSystems=[];for(var n=0;n<e.response.operatingSystems.length;n++)t.operatingSystems.push({id:e.response.operatingSystems[n].operatingSystemId,description:e.response.operatingSystems[n].operatingSystemDescription})}if(e.response.APNSettings&&(t.apnsettings=e.response.APNSettings,e.response.APNSettings.settings)){var a=[];angular.forEach(e.response.APNSettings.settings,(function(e,t){e.settingName&&"X_PARENT_NAME"!=e.settingName&&"RATE_PLAN"!=e.settingName&&a.push(e)})),t.apnsettings.settings=a}}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("apnsettings",e)}])})(),angular.module("app").component("apnInstructions",{templateUrl:"app/views/apn/apninstructions/apninstructions_view.html",bindings:{apnInst:"="}}),(function(){var e={forward:function(e){return{zipcode:JSON.stringify(e.zipcode)}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=[],a=[],i=[],r=[];if(angular.equals(e.error_code,"0")){var o=e.response.response.productOffering;angular.forEach(o,(function(e,t){var o={partClass:"",brand:"",operatingSystem:"",deviceFeature:"",ranking:""};o.partClass=e.name,angular.forEach(e.productSpecification,(function(e,t){o.brand=e.brand,-1==a.indexOf(o.brand)&&a.push(o.brand),angular.forEach(e.characteristicSpecification,(function(e,t){angular.equals(e.id,"operatingSystem")&&(o.operatingSystem=e.value,-1==i.indexOf(o.operatingSystem)&&i.push(o.operatingSystem)),angular.equals(e.id,"deviceFeature")&&(o.deviceFeature=e.value,-1==r.indexOf(o.deviceFeature)&&r.push(o.deviceFeature)),angular.equals(e.id,"ranking")&&(o.ranking=e.value)}))})),n.push(o)})),t.deviceModels=n,t.deviceBrandList=a,t.deviceOperatingSystemList=i,t.devicesFeatureList=r}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("coveragemap_devicemodel",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,category:a.productcategory,criteria:t.zipcode}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{relatedParties:[{party:{partyID:e.servicePartyId,languageAbility:e.language,partyExtension:[{name:a.partytransactionid,value:a.partytransactionval},{name:a.sourcesystem,value:e.source_system}]},roleType:a.internal}],serviceCategory:[{type:a.context,value:a.coverage_map}],serviceSpecification:{brand:e.brand},service:t.service,relatedResources:t.relatedResources,productOffering:t.productOffering,location:t.location}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={cmap_byzip:{url:n.coveragemap.by_zipcode.zipcode,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},cmap_dtl:{url:n.coveragemap.by_dtl,contentType:"application/json",httpMethod:"POST",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("coveragemap",o)}])})(),(function(){var e={forward:function(e){return{zipcode:JSON.stringify(e.zipcode),service:e.service,relatedResources:e.relatedResources,productOffering:e.productOffering,location:e.location}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.equals(t.error_code,"0")&&(t.location=e.response.response.location.href,t.qualificationResult=e.response.response.qualificationResult),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("coveragemap",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language},request:{id:a.partytransactionval,relatedParties:[{party:{partyID:e.servicePartyId},roleType:a.internal}],customerAcounts:[{brand:e.brand}],contactMedium:[{preferences:[{email:!1,call:!1,sms:!0,mail:!1,category:a.email_offers}],contactDetails:[{emailAddress:t.email}],type:a.email}]}}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={unsubscribe:{url:n.unsubscribe,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("unsubscribeemail",r)}])})(),(function(){var e={errorConfig:{999:"ERROR_1985665"},forward:function(e){var t={};return t.email=e.email,t},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};angular.module("app").run(["$voMapConfig",function(t){t.register("unsubscribeemail",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c){}angular.module("app").controller("errorController",e),e.$inject=["$scope","$http","$window","$appConfig","$rootScope","$log","$cartService","$routeParams","$appConstants"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){var t={};return angular.isDefined(e.response)&&(t={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},t)}},i={byopmakemodel:{url:n.byopmakemodel,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("byopmakemodel",i)}])})(),(function(){var e={errorConfig:{10100:"script_missing"},forward:function(e){return{background:!0}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(t.response=e.response),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("byopmakemodel",e)}])})(),(function(){"use strict";function e(e){return void 0!==e}function t(t,n,a,i){document.getElementById("back-to-top").style.display="none",t.brandName=i.brand,t.init=function(){n.ildRatesJson().then((function(n){var a=JSON.parse(JSON.stringify(n)),i=[];if(e(a.productCatalog)&&e(a.productCatalog[0])&&e(a.productCatalog[0].productOffering))for(var r=a.productCatalog[0].productOffering,o=0;o<r.length;o++)if(e(r[o].offeringTerms)&&e(r[o].marketingSegment)&&e(r[o].offeringTerms[0])&&e(r[o].offeringTerms[0].offeringPrice)&&e(r[o].offeringTerms[0].offeringPrice[0])&&e(r[o].offeringTerms[0].offeringPrice[0].price)&&e(r[o].offeringTerms[0].offeringPrice[0].price.amount)&&e(r[o].marketingSegment.name)){var s=r[o].offeringTerms[0].offeringPrice[0].price.amount,c=r[o].marketingSegment.name,l={Name:c,Amount:s};i.push(l)}t.Countries=i})).catch((function(e){t.current_retry_count<i.BI_RETRY_COUNT&&$interval((function(){t.init()}),7e3,2)}))},t.selectedIndex=0,t.alphabetFilter="All",t.setFilter=function(e,n){t.selectedIndex=n,t.alphabetFilter=e},t.alphabetsList=["All","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.startsWith=function(e){var n=(e.Name+"").toLowerCase(),a=t.alphabetFilter;return"All"===a||0===n.indexOf(a.toLowerCase())},angular.element(a).bind("scroll",(function(e){document.documentElement.scrollTop>300?document.getElementById("back-to-top").style.display="block":document.getElementById("back-to-top").style.display="none"})),t.topFunction=function(){document.documentElement.scrollTop=0}}angular.module("app").controller("ildinternationalratescontroller",t),t.$inject=["$scope","$ildinternationalrateservice","$window","$appConfig"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{brand:e.brand,sourceSystem:e.source_system,category:e.ild_category,language:e.language}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={url:a.ildinternationalrates,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("ildinternationalrates",r)}])})(),(function(){var e={forward:function(e){return{brand:e.brand,sourceSystem:e.source_system,category:e.category,language:e.language}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t=e.response}};angular.module("app").run(["$voMapConfig",function(t){t.register("ildinternationalrates",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,subBrandName:e.subbrand,identifier:e.ildavailability.locationId,locationId:t.intphone}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={url:a.ild.availability,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};t.register("ildservicequalification",r)}])})(),(function(){angular.module("app").run(["$voMapConfig",function(e){var t={errorConfig:{10101:"ILD_103",10102:"ILD_104"},forward:function(e){return{intphone:e.intphone}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.qualified=!1;var n=e.response;return n&&(n.serviceCharacteristics&&angular.forEach(n.serviceCharacteristics,(function(e,n){"call_status"==e.name&&e.value&&(t.callStatus=e.value),"call_rate"==e.name&&e.value&&(t.callRate=e.value)})),n.location&&(t.location=n.location),n.serviceSpecification&&(t.serviceSpecification=n.serviceSpecification),n.qualificationResult&&(t.qualified="qualified"==n.qualificationResult),n.relatedParties&&(t.relatedParties=n.relatedParties)),t}};e.register("ildservicequalification",t)}])})(),(function(){function e(e,t,n,a,i,r){e.enrollNow=function(){n.setAssurionEnrollFlow(!0),e.$ctrl.plan.status="ENROLLED",a.stageAssurionPlan(e.$ctrl.plan),i.redirect(r.hpp.checkout)}}angular.module("app").component("hppBenefitsBreakdown",{templateUrl:"app/views/protectyourphone/hppconfirmation/hppbreakdown/hppbreakdown_view.html",bindings:{plan:"=",device:"="},controller:"hppBenefitsBreakdownController"}),angular.module("app").controller("hppBenefitsBreakdownController",e),e.$inject=["$scope","$log","$hppservice","$cartService","$done","$appRoutes"]})(),(function(){angular.module("app").run(["$appConfig","$appConstants","$svcConfig","$serviceUriConfig",function(e,t,n,a){var i={forward:function(n){return{externalID:t.externalid,relatedParties:[{party:{partyID:t.partyidc,individual:{id:n.webobjid}},roleType:t.roletypec},{party:{partyID:t.partyida,languageAbility:e.language,partyExtension:[{name:t.partytransactionid,value:t.partytransactionval},{name:t.sourcesystem,value:e.source_system},{name:t.brand,value:e.brand}]},roleType:t.roletypeint}],serviceQualification:{serviceQualificationItems:[{resource:{serialNumber:n.esn,resourceCategory:"HANDSET"}}]}}},backward:function(e){return{response:e.response,error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={url:a.hpp_applecare_eligibility,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}};n.register("hppapplecareeligibility",r)}])})(),(function(){angular.module("app").run(["$voMapConfig",function(e){var t={errorConfig:{10008:"ERROR_3041",60001:"MYAC_99652",60002:"LRP_5146",60003:"ERROR_1985928",60004:"ERROR_1985925",60005:"ERROR_1985928",60006:"ERROR_1985943",60007:"ERROR_1985947"},forward:function(e){return e},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};e.register("hppapplecareeligibility",t)}])})(),(function(){"use strict";function e(e,t,n,a,i){e.plan=e.$resolve.resolvParam.plan,e.view={hppTermsConditionUrl:"",showTermsConditionUrl:!0},e.closePopup=function(){n.dismiss("cancel")},e.init=function(){e.updateHppTCUrl()},e.updateHppTCUrl=function(){if(e.plan&&!a.isNullOrEmpty(e.plan.vendor)){if(e.view.hppTermsConditionUrl="",a.isNullOrEmpty(e.plan.planTermsAndConditionsLink))e.view.hppTermsConditionUrl=a.getHppTCUrl(e.plan.vendor,e.plan.isMonthly);else{e.view.hppTermsConditionUrl=e.plan.planTermsAndConditionsLink;var t="es_ES"===i.get("locale")?"?lang=es_ES":"?lang=en_US";e.view.hppTermsConditionUrl+=t}e.view.showTermsConditionUrl=!0}else e.view.showTermsConditionUrl=!1}}angular.module("app").controller("hppMoreInfoController",e),e.$inject=["$scope","$log","$uibModalInstance","$utils","$cookieService"]})(),(function(){angular.module("app").component("orderSummary",{templateUrl:"app/views/protectyourphone/ordersummary/ordersummary_view.html",bindings:{plans:"=",view:"="}})})(),(function(){var e={errorConfig:{10100:"RDSG_5219"},forward:function(e){var t={};return t.esn=e.esn,t},backward:function(e){var t={is_byop:!1};if(t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)){t.programs={exchange:{},exchangeplus:{}};for(var n=0;n<e.response.programs.length;n++){var a={id:e.response.programs[n].programId,desc:e.response.programs[n].programDescription,moreinfo:e.response.programs[n].programMoreInfo,name:e.response.programs[n].programName,price:e.response.programs[n].programPrice,termslink:e.response.programs[n].programTermsLink,is_plus:!1};-1!=e.response.programs[n].programName.indexOf("Plus - Annual")&&(a.is_annual=!0,a.is_plus=!0,t.programs.exchangeplus.annual=a),-1!=e.response.programs[n].programName.indexOf("Plus - Monthly")&&(a.is_monthly=!0,a.is_plus=!0,t.programs.exchangeplus.monthly=a),-1!=e.response.programs[n].programName.indexOf("Exchange Annual")&&(a.is_annual=!0,t.programs.exchange=a),-1!=e.response.programs[n].programName.indexOf("Exchange Annual BYOP 200")&&(t.programs.is_byop=!0,a.is_annual=!0,a.is_byop=!0,a.partNumber=e.response.programs[n].partNumber,t.programs.byop_exchange_200=a),-1!=e.response.programs[n].programName.indexOf("Exchange Annual BYOP")&&(t.programs.is_byop=!0,a.is_annual=!0,a.is_byop=!0,a.partNumber=e.response.programs[n].partNumber,t.programs.byop_exchange=a)}}return t}};angular.module("app").run(["$voMapConfig",function(t){t.register("easyexchangeesn",e)}])})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig",function(e,t,n){var a={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,min:t.min}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,esn:t.esn}},backward:function(e){return successVariables={},angular.isDefined(e.response)&&(successVariables={response:e.response}),angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},successVariables)}},r={bymin:{url:n.rpe.enrollments.hpp_programs,contentType:"application/json",httpMethod:"GET",transform:a,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},byesn:{url:n.rpe.enrollments.hpp_programs,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("hppPrograms",r)}])})(),(function(){var e={errorConfig:{10100:"RDSG_5219"},forward:function(e){return{min:e.min}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,angular.isDefined(e.response)&&(t.programs={},angular.forEach(e.response.programs,(function(e,n){var a={auto_refill:!1,auto_enrollflow:!1,isAddonFlow:!1,plan_id:"",plan_name:e.programName,plan_type:"HPP Program",plan_desc:e.programDescription,voice:0,sms:0,data:0,service_days:0,price:e.programPrice,part_number:void 0,part_class:void 0,program_id:e.programId,ild_sup:!1,is_hpp:!0,recurringPlanId:0,quantity:1,show_details:!1,shortDesc:void 0,isILDVas:!1,is_addon:!1,isrecurringPlan:!0,isEnrollmentPlan:!0,enrollmentPromoPrice:void 0,termslink:e.programTermsLink,moreinfo:e.programMoreInfo,is_exchange_plus:!1,is_annual:!1,is_monthly:!1,is_byop:!1};-1!=a.plan_name.indexOf("Plus - Annual")&&(a.is_annual=!0,a.is_exchange_plus=!0),-1!=a.plan_name.indexOf("Plus - Monthly")&&(a.is_monthly=!0,a.is_exchange_plus=!0),-1!=a.plan_name.indexOf("Exchange Annual")&&(a.is_annual=!0),-1!=a.plan_name.indexOf("Exchange Annual BYOP 200")&&(a.is_byop=!0,a.is_annual=!0,a.is_byop=!0),-1!=a.plan_name.indexOf("Exchange Annual BYOP")&&(a.is_byop=!0,a.is_annual=!0,a.is_byop=!0),a.is_exchange_plus?(t.programs.exchangePlus||(t.programs.exchangePlus=[]),t.programs.exchangePlus.push(a)):(t.programs.regular||(t.programs.regular=[]),t.programs.regular.push(a))}))),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("hppPrograms",e)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s){e.performSearch=function(){var e=n.protocol()+"://"+n.host(),t=e+"/searchresults?key="+this.asyncSelected;window.location.href=t},e.pageChanged=function(){console.log("current page scope -> ",e.data.currentPage),e.submitSearch(e.data.currentPage,e.query)},e.selectedsearch=function(e,t,n,a){s.open(e.url,"_self").focus()},e.autocomplete=function(){e.submitSearch(1,e.query)},e.submitSearch=function(n,a){var o;o={method:"POST",url:i.sitesearch,headers:{"Content-Type":"application/json"},data:{q:a,engine_key:i.swiftTypeEngineKey,page:n,per_page:e.data.itemsPerPage,spelling:"always",filters:{page:{language:t.lang}}}},console.log("httpReq -> ",o),r(o).then((function(t){console.log("response -> ",t),e.results=[],angular.isDefined(t.data.records.page)&&(t.data.records.page.map((function(t){e.results.push({title:t.title,body:t.body,description:t.description,highlight:{title:t.highlight.title},url:t.url})})),e.resultTotal=t.data.info.page.total_result_count,angular.isDefined(t.data.info)&&angular.isDefined(t.data.info.page)&&angular.isDefined(t.data.info.page.spelling_suggestion)&&angular.isDefined(t.data.info.page.spelling_suggestion.text)&&(e.spell_suggestion=t.data.info.page.spelling_suggestion.text))})).catch((function(e){}))},e.getLocation=function(a){var o,s=n.search().key;if(a&&a.length>=3)return angular.isDefined(s)&&(e.query=s),o={method:"POST",url:i.sitesearch,headers:{"Content-Type":"application/json"},data:{q:a,engine_key:i.swiftTypeEngineKey,page:1,per_page:10,spelling:"always",filters:{page:{language:t.lang}}}},r(o).then((function(e){return e.data.records.page.filter((function(e){if(""!=e.title)return e}))}))},e.init=function(){var t=n.search().key;angular.isDefined(t)&&(e.query=t),e.data={},e.data.itemsPerPage=10,e.data.currentPage=1,e.pageChanged()}}angular.module("app").controller("searchController",e),e.$inject=["$scope","$rootScope","$location","$routeParams","$appConfig","$http","$httpParamSerializer","$window"]})(),(function(){function e(e,t,n,a){e.closePopup=function(){n.dismiss("cancel")},e.needAirtimePlan=function(){t.debug("needplanController::needAirtimePlan::continue"),a.resolve(!0),e.closePopup()}}angular.module("app").controller("needplanController",e),e.$inject=["$scope","$log","$uibModalInstance","callback"]})(),(function(){function e(e,t,n,a,i){e.gotomylogin=function(){e.closePopup(),a.redirect(i.myaccount.createaccount.createnewaccount)},e.gotorecoveryflow=function(){e.closePopup(),a.redirect(i.accountrecovery)},e.closePopup=function(){t.dismiss("cancel")}}angular.module("app").controller("multilinediscountController",e),e.$inject=["$scope","$uibModalInstance","items","$done","$appRoutes"]})(),(function(){"use strict";function e(e,t,n,a){e.ticketHistory=function(){$userService.tkthistory({esn:$deviceService.getSelectedDevice().esn}).then((function(t){$errorHandler.clearError(e.tkterror),e.$ctrl.tickets_history=t.tickets})).catch((function(n){$errorHandler.handleError(n,e.tkterror),t.warn("Ticket history failed",$deviceService.getSelectedDevice(),n,e.tkterror)}))},e.view={ticketDetails:[{id:"987451113",date:"02/02/2016",type:"sim card exchange",status:"open",tracking_id:"919928311",description:"your exchange is being processed",device:"MATT"},{id:"987451113",date:"02/02/2016",type:"sim card exchange",status:"open",tracking_id:"919928311",description:"your exchange is being processed",device:"MATT"}]},e.done=function(){n.redirect(a.home)}}angular.module("app").controller("ttSearchResults",e),e.$inject=["$scope","$log","$done","$appRoutes"]})(),(function(){"use strict";function e(e,t,n,a,i){e.isUserLoggedIn=a.isLoggedIn(),console.log("act dev",i),e.data.active_devices=i,e.cancel=function(){},e.trackTicket=function(){}}angular.module("app").controller("trackTicketshome",e),e.$inject=["$scope","$log","$done","$userService","rpeDevices"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$appConstants","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{common:{brandName:e.brand,sourceSystem:e.source_system,language:e.language,clientid:e.validateaddrclientid},request:{relatedParties:[{party:{partyExtension:[{name:n.productserialnumber,value:t.esn,type:n.handset}]},roleType:n.roletypec},{party:{partyID:e.servicePartyId},roleType:n.roletypeint}],locations:[{addressType:n.e911,address:{addressLine1:t.address.address1,addressLine2:t.address.address2,city:t.address.acctcity,country:n.default_country,stateOrProvince:t.address.acctstate,zipcode:t.address.acctzip}}]}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type}}},r={add:{url:a.address_mgmt.manage_address,contentType:"application/json",httpMethod:"POST",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","-1"],koCodes:{},okkoCodes:{}},update:{url:a.address_mgmt.manage_address,contentType:"application/json",httpMethod:"PUT",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0","11800","-1"],koCodes:{},okkoCodes:{}}};t.register("manageaddress",r)}])})(),(function(){var e={forward:function(e){return{address:e.address,esn:e.device.esn}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t}};angular.module("app").run(["$voMapConfig",function(t){t.register("manageaddress",e)}])})(),(function(){angular.module("app").run(["$voMapConfig","$appConstants",function(e,t){var n={errorConfig:{"-999":"ERROR_1985870"},forward:function(e){return{resource:[{serialNumber:e.device.min,name:t.currentmin,type:t.line}],serviceCategory:[{type:t.context,value:t.wifi_eligibility}]}},backward:function(e){var n={};if(n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,angular.isDefined(e.response)&&angular.isDefined(e.response.response)){angular.isDefined(e.response.response.locations)&&(n.locations=[],e.response.response.locations.map((function(e){n.locations.push({type:e.addressType,address1:e.address.addressLine1,address2:e.address.addressLine2,acctcity:e.address.city,acctstate:e.address.stateOrProvince,acctzip:e.address.zipcode})}))),angular.isDefined(e.response.response.qualificationResult)&&(n.qualificationResult=e.response.response.qualificationResult==t.qualified);var a=e.response.response.serviceCharacteristics;a&&angular.forEach(a,(function(e,t){"handsetEligible"==e.name&&(n.handsetEligible="true"==e.value),"simCardEligible"==e.name&&(n.simCardEligible="true"==e.value),"isAddressRequired"==e.name&&(n.isAddressRequired="true"==e.value)}))}return n}};e.register("wifi_eligibility",n)}])})(),angular.module("app").component("byopWifiNotEligible",{templateUrl:"app/views/wificalling/collectdevice/byopwifinoteligible_wic_101.3.html",bindings:{close:"&"},controllerAs:"ctrl",controller:["$log","$appConfig","$window",function(e,t,n){var a=this;a.shopSims=function(){a.close(),n.location.href=t.buy_sim_card_link}}]}),angular.module("app").component("wifiNotEligible",{templateUrl:"app/views/wificalling/collectdevice/wifinoteligible_wic_101.3.html",bindings:{close:"&"},controllerAs:"ctrl",controller:["$scope","$log","$done","$appConfig","$window",function(e,t,n,a,i){var r=this;r.shopPhones=function(){t.info("clicked on shop phone button"),r.close(),i.location.href=a.coveragecheck.shopphonesurl}}]}),angular.module("app").component("similarAddress",{templateUrl:"app/views/wifi/similaraddress/similaraddress_view.html",bindings:{view:"=",close:"&"},controller:["$scope",function(e){e.view={recomendedadress:[{adress:"305 405 0687"},{adress:"305 405 0687"},{adress:"305 405 0687"},{adress:"305 405 0687"}],addresses:[{adress:"305 405 0687"},{adress:"305 405 0687"}]},e.select_recommendedaddress=function(){},e.select_enteredaddress=function(){},e.close=function(){e.$ctrl.close()}}]}),(function(){"use strict";function e(e,t,n,a,i){e.data={zipcode:"",address:{isvalid:!1},productoffering:{}},e.init=function(){e.data.zipcode=void 0,e.data.address.isvalid=!1,n.info("Inside ziptotechController init function",e.data)},e.getAddressForZip=function(){n.info("Inside ziptotechController getAddressForZip function"),n.debug("Input Zip =",e.data.zipcode),i.getAddressByZip({zipcode:e.data.zipcode}).then((function(t){a.clearError(e),n.info(t),e.data.address=t.address})).catch((function(t){a.handleError(t,e)}))},e.getPhoneUrlByZip=function(){n.info("Inside ziptotechController getPhoneUrlByZip function"),n.debug("Input Zip =",e.data.zipcode),i.getPhoneUrlbyZip({zipcode:e.data.zipcode}).then((function(i){a.clearError(e),n.info(i),i.product&&t.open(i.product.href,"_self")})).catch((function(t){a.handleError(t,e)}))},e.clearData=function(){n.info("Inside ziptotechController clearData function"),e.data.address={},e.data.zipcode=void 0,e.data.address.isvalid=!1}}angular.module("app").controller("ziptotechController",e),e.$inject=["$scope","$window","$log","$errorHandler","$coveragemapService"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants",function(e,t,n,a){var i={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,zipCode:t.zipcode}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},r={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,language:e.language,category:a.productcategory,criteria:t.criteria}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e}}},o={validate_zip:{url:n.ziptotech.validatezip.url,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}},ziptotech:{url:n.ziptotech.phoneurl,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("ziptotech",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$appConfig",function(e,t){var n={forward:function(e){return{criteria:JSON.stringify(e.criteria)}},backward:function(e){var n={};return n.error_code=e.error_code,n.error_message=e.error_message,n.error_type=e.error_type,n.product={},angular.equals(e.error_code,"0")&&e.response.response.productOffering&&angular.forEach(e.response.response.productOffering,(function(e,a){n.product.href=t.ziptotechUrl+e.href})),n}};e.register("ziptotech",n)}])})(),(function(){var e={forward:function(e){return{zipcode:e.zipcode}},backward:function(e){var t={};return t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type,t.address={},angular.equals(e.error_code,"0")?(t.address.isvalid=!0,t.address.city=e.response.response.parsedAddress.city,t.address.state=e.response.response.parsedAddress.stateName):t.address.isvalid=!1,t}};angular.module("app").run(["$voMapConfig",function(t){t.register("validatezip",e)}])})(),(function(){"use strict";function e(e,t,n){e.action=function(a){"decline"===a?n.dismiss("cancel"):"accept"===a&&(t.open(e.redirectUrl,"_blank"),n.dismiss("cancel"))},e.close=function(){n.dismiss("cancel")}}angular.module("app").controller("accessibilitypopupcontroller",e),e.$inject=["$scope","$window","$uibModalInstance"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g){var m=0,f=this,h=f.data.deviceData.configId;f.modules=t.ubi[h],e.info(f,"inside balancedetails component"),f.view={defaultHeadingLevel:2,suppressClassHr:!1},f.data.view={showLoading:!1,showTimeoutFailure:!1,defaultHeadingLevel:2,isSafeLink:f.data.isSafelink,brandName:!1,brandNameTF:!1,showM2MBalChanges:!1,hideAdditionalDataOption:!0},f.$onInit=function(){e.debug("balanceDetailsController/init",f.data),f.data.deviceData&&f.getDataInfo({min:f.data.min}),angular.equals(t.brand,c.brandNT)&&(f.data.view.brandName=!0),angular.equals(t.brand,c.brandTF)&&(f.data.view.brandNameTF=!0),f.data.deviceType&&"carsmart"==f.data.deviceType&&(f.data.view.showM2MBalChanges=!0),f.hideAdditionalDataBtn(f.data.deviceType)},f.showBy=function(){return t.features.groupbased&&f.data.group&&f.data.group.groupName?f.data.group.groupName:f.data.deviceNickname||f.data.min==f.data.showDeviceBy?f.data.min!=f.data.showDeviceBy||f.data.deviceNickname?f.data.deviceNickname:v("tel")(f.data.min):f.data.min!=f.data.showDeviceBy?v("deviceName")(f.data):void 0},f.displayBalanceDone=function(){e.debug("balanceDetailsController/displayBalanceDone"),loggedIn?l.redirect(s.balanceinquiry.balancedetails.done):l.redirect(s.home)},f.getData=function(){f.view.isTimedOut=!0},f.getDataInfo=function(n){e.info("inside getDataInfo",n),f.data.view.showTimeoutFailure=!1,
d.getUnifiedBalance({min:n.min,type:"LINE",background:!0}).then((function(a){e.info(a,"response in getdatainfo method");var r=a.configId;f.modules=t.ubi[r],f.data.deviceData=a,f.data.deviceData.deviceDataDetails.retry&&m<t.BI_RETRY_COUNT?(f.data.view.showLoading=!0,g((function(){e.info("inside interval for retry",m),m++,f.getDataInfo(n)}),7e3,1)):f.data.deviceData.deviceDataDetails.retry&&m==t.BI_RETRY_COUNT?(e.info("inside interval for retry failed",m),m=0,f.data.view.showLoading=!1,f.data.view.showTimeoutFailure=!0):f.data.view.showLoading=!1,f.data.servicePlanName=i.getSelectedDevice().servicePlanName})).catch((function(t){e.info(t,"error in getdatainfo method"),o.handleError(t,f),f.data.view.showLoading=!1,f.data.view.showTimeoutFailure=!1}))},f.hideAdditionalDataBtn=function(e){"HOTSPOT"!=e&&"BYOT"!=e&&"HOMEPHONE"!=e&&"carsmart"!=e&&"M2M_WER_PERS"!=e&&(f.data.view.hideAdditionalDataOption=!1)}}angular.module("ubi").component("ubiBalanceDetails",{templateUrl:"app/views/ubi/components/landingpage/balancedetails/balancedetails_bi_106.1_view.html",controller:e,controllerAs:"ctrl",bindings:{loggedIn:"=",data:"="}}),e.$inject=["$log","$appConfig","$uibModal","$route","$deviceService","$servicePlanSelectorService","$errorHandler","$appRoutes","$appConstants","$done","$balanceenquiryservice","$cartService","$devicesCartServices","$filter","$interval"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u){e.processBalanceInquiryBySim=function(a){t.info("biCollectSimSerialController/processBalanceInquiryBySim/entry",e.data.sim,a),l.validateBIDevice({device:e.data.sim,background:!1,checkterms:a}).then((function(n){t.debug("biCollectSimSerialController/processBalanceInquiryBySim/validdevice",n),e.device=o.getSelectedDevice(),"FLASH"==n.flow?u.getModalPoup("app/views/rpe/alerts/flash_view_rpe_101.4.html","flashCtrl","coldflash").then((function(e){t.info("biCollectSimSerialController/processBalanceInquiryBySim/validdevice its a cold flash",e),e&&v()})):"OTAPENDING"==n.flow?(t.info("biCollectSimSerialController/processBalanceInquiryBySim/validdevice:: OTAPENDING"),u.getModalPoup("app/views/rpe/alerts/otapending_view_rpe_101_5.html","otapendingCtrl")):"TRANSACTION_PENDING"==n.flow?p():"TERMSPOPUP"==n.flow?u.getModalPoup("app/views/ubi/components/subcomponents/termsconditionspopup/termsconditions_view_BI_102.1.1.html","termsconditionsctrl").then((function(n){t.info("biSelectDeviceController/processBalanceInquiryByMin terms acccpted",n),n?e.processBalanceInquiryBySim(!1):c.redirect(s.balanceinquiry.selectdevice.deviceselected)})):"PROCEED_FINAL"==n.flow?v():c.redirect(s.balanceinquiry.selectdevice.deviceselected)})).catch((function(a){t.warn("biCollectSimSerialController/processBalanceInquiryBySim/invaliddevice",e.data.sim,a),n.handleError(a,e)})),t.debug("biCollectSimSerialController/processBalanceInquiryByMin/entry",e.data.sim)},e.showFlash=function(t){var n=r.defer();a.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/flashpopup_view.html",controller:"biFlashPopupController",windowTopClass:"tf-modal",size:"md",scope:e,resolve:{flashMessage:function(){return t}}}).result.then((function(e){n.resolve(e)}));return n.promise};var p=function(){return a.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/pending_transaction_popup.html",controller:"pendingTransactionCtrl",size:"md",windowTopClass:"tf-modal"})},v=function(){var t=e.showProcessingPopup(),n={device:e.device.esn,background:!0,ignoreEnquiryFlow:!1,current_retry_count:0,retryBI:!0,modinst:t};e.getBalanceForDevice(n)};e.getBalanceForDevice=function(a){t.debug("biCollectSimSerialController::getBalanceForDevice ",a);var i=a.modinst;l.postFlashFlow(a).then((function(a){t.debug("biCollectSimSerialController::BI response in controller is ",a),i.dismiss("cancel"),n.clearError(e.device),t.debug(e.device),e.refreshAnim=!1,c.redirect(s.balanceinquiry.selectdevice.deviceselected)})).catch((function(r){t.debug("biCollectSimSerialController::BI failure retrying",o.getSelectedDevice()),o.getSelectedDevice().balance&&o.getSelectedDevice().balance.retryBi?d((function(){a.current_retry_count=o.getSelectedDevice().balance.retryCount,a.retryBI=!0,e.getBalanceForDevice(a)}),7e3,1):(t.warn("biCollectSimSerialController/postFlash/invaliddevice",e.device,r),i.dismiss("cancel"),e.showTechnicalDifficultyPopup(),o.getSelectedDevice().balance.available=!0,n.handleError(r,e))}))},e.showTechnicalDifficultyPopup=function(){t.debug("biLoginController/showTechnicalDifficultyPopup/entry");a.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/processbalancepopup/processbalancetimeout_bi_105.1_view.html",controller:"processBalanceController",size:"md",windowTopClass:"tf-modal"});t.debug("biLoginController/showTechnicalDifficultyPopup/exit")},e.showProcessingPopup=function(){t.debug("biSelectDeviceController/showProcessingPopup/entry");var e=a.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/processbalancepopup/processbalancepopup_bi_103.1_view.html",controller:"processBalanceController",size:"md",windowTopClass:"tf-modal"});return t.debug("biSelectDeviceController/showProcessingPopup/exit"),e}}angular.module("ubi").component("collectSimSerial",{templateUrl:"app/views/ubi/components/landingpage/collectsimserialnumber/collectsimserialnumber_bi_101.4_view.html",controller:e}),e.$inject=["$scope","$log","$errorHandler","$uibModal","$route","$q","$deviceService","$appRoutes","$done","$balanceenquiryservice","$interval","$utils"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g){var m=this;m.data={device:"",showdevicelist:!0},m.devices=m.deviceList,m.defaultHeadingLevel=angular.isDefined(m.defaultHeadingLevel)?$scope.defaultHeadingLevel:3,m.$onInit=function(){if(e.debug("biSelectDeviceController::init",m.devices),m.data.showdevicelist=!0,angular.isDefined(m.devices)&&1==m.devices.length)m.processBalanceInquiryByMin(m.devices[0],!0);else if(p.search().hasOwnProperty("esn")){var n=p.search().esn;angular.forEach(m.devices,(function(e,t){e.esn===n&&(m.data.device=m.devices[t],m.processBalanceInquiryByMin(m.data.device))}))}else if(u.features.groupbased&&1==r.getActiveGroups().length)m.processBalanceInquiryByMin(r.getActiveGroups()[0].group,!0);else if("true"===p.search().devicePresent&&v.get(g.session.device))m.processBalanceInquiryByMin(v.get(g.session.device),!0);else if(!u.features.groupbased||angular.isDefined(r.getActiveGroups())&&0!=r.getActiveGroups().length)if(u.features.groupbased||angular.isDefined(m.devices)){if(!u.features.groupbased&&!angular.isDefined(m.devices.length)){m.data.showdevicelist=!1;var a=l.translateError({error_code:"1985922"},{errorConfig:{1985922:"ERROR_1985922"}});t.handleError(a,m)}}else{m.data.showdevicelist=!1;var a=l.translateError({error_code:"1985922"},{errorConfig:{1985922:"ERROR_1985922"}});t.handleError(a,m)}else{m.data.showdevicelist=!1;var a=l.translateError({error_code:"1985922"},{errorConfig:{1985922:"ERROR_1985922"}});t.handleError(a,m)}},m.processBalanceInquiryByMin=function(n,a){e.info("biSelectDeviceController/processBalanceInquiryByMin/entry",n,a);var i=m.showProcessingPopup();r.selectDevice(n),c.validateBIDevice({min:n?n.min:m.data.device.min,background:!0,checkterms:a}).then((function(t){e.debug("biSelectDeviceController/processBalanceInquiryByMin/validdevice",t,i),m.device=r.getSelectedDevice(),i.opened.then((function(){i.dismiss()})),"FLASH"==t.flow?l.getModalPoup("app/views/rpe/alerts/flash_view_rpe_101.4.html","flashCtrl").then((function(t){e.info("biSelectDeviceController/processBalanceInquiryByMin its a cold flash",t),t&&h()})):"OTAPENDING"==t.flow?(e.info("biSelectDeviceController/processBalanceInquiryByMin:: OTAPENDING"),l.getModalPoup("app/views/rpe/alerts/otapending_view_rpe_101_5.html","otapendingCtrl")):"TRANSACTION_PENDING"==t.flow?f():"TERMSPOPUP"==t.flow?l.getModalPoup("app/views/ubi/components/subcomponents/bitermsconditionspopup/bitermsconditions_view_BI_102.1.1.html","bitermsconditionsctrl").then((function(t){e.info("biSelectDeviceController/processBalanceInquiryByMin terms acccpted",t),t?m.processBalanceInquiryByMin(n,!1):s.redirect(o.balanceinquiry.selectdevice.deviceselected)})):"PROCEED_FINAL"==t.flow?h():s.redirect(o.balanceinquiry.selectdevice.deviceselected)})).catch((function(a){i.opened.then((function(){i.dismiss()})),e.warn("biSelectDeviceController/processBalanceInquiryByMin/invaliddevice",n,a),m.showTechnicalDifficultyPopup(),t.handleError(a,m)})),e.debug("biSelectDeviceController/processBalanceInquiryByMin/entry",n)},m.showTechnicalDifficultyPopup=function(){e.debug("biSelectDeviceController/showTechnicalDifficultyPopup/entry");n.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/processbalancepopup/processbalancetimeout_bi_105.1_view.html",controller:"processBalanceController",size:"md",windowTopClass:"tf-modal"});e.debug("biSelectDeviceController/showTechnicalDifficultyPopup/exit")},m.showProcessingPopup=function(){e.debug("biSelectDeviceController/showProcessingPopup/entry");var t=n.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/processbalancepopup/processbalancepopup_bi_103.1_view.html",controller:"processBalanceController",size:"md",windowTopClass:"tf-modal"});return e.debug("biSelectDeviceController/showProcessingPopup/exit"),t};var f=function(t){var a=n.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/pending_transaction_popup.html",controller:"pendingTransactionCtrl",size:"md",windowTopClass:"tf-modal"});return e.debug("biSelectDeviceController/showProcessingPopup/exit"),a},h=function(){var e=m.showProcessingPopup(),t={min:m.device.min,background:!0,ignoreEnquiryFlow:!1,current_retry_count:0,retryBI:!0,modinst:e};m.getBalanceForDevice(t)};m.getBalanceForDevice=function(n){e.debug("biSelectDeviceController::getBalanceForDevice ",n);var a=n.modinst;c.postFlashFlow(n).then((function(n){e.debug("biSelectDeviceController::BI response in controller is ",n),a.dismiss("cancel"),t.clearError(m.device),e.debug(m.device),m.refreshAnim=!1,s.redirect(o.balanceinquiry.selectdevice.deviceselected)})).catch((function(n){e.debug("biSelectDeviceController::BI failure retrying",r.getSelectedDevice()),e.warn("biSelectDeviceController/postFlash/invaliddevice",m.device,n),a.dismiss("cancel"),m.showTechnicalDifficultyPopup(),r.getSelectedDevice().balance.available=!0,t.handleError(n,m)}))}}angular.module("ubi").component("ubiSelectDevice",{templateUrl:"app/views/ubi/components/landingpage/selectdevice/selectdevice_bi_102.1_view.html",controller:e,controllerAs:"ctrl",bindings:{deviceList:"=",loggedIn:"="}}),e.$inject=["$log","$errorHandler","$uibModal","$route","$q","$deviceService","$appRoutes","$done","$balanceenquiryservice","$utils","$interval","$appConfig","$location","$sessionService","$appConstants"]})(),angular.module("ubi").component("addlFeatures",{templateUrl:"app/views/ubi/components/modules/addlfeatures/addlfeatures_view.html",bindings:{data:"=",view:"=",device:"=",getDataInfo:"&",pageProps:"=?"},controller:["$scope","$deviceService","$done","$appRoutes","$sessionService","$appConstants","$log","$cartService","$utils","$errorHandler",function(e,t,n,a,i,r,o,s,c,l){e.basePlanEnroll=function(){n.redirect(a.ubi.autorefill)},e.refill=function(){i.set(r.session.context,"REDEMPTION"),i.set(r.session.device,t.getSelectedDevice()),n.redirect(a.ubi.refill)},e.getMoreData=function(){n.redirect(a.ubi.addonpurchase)}}]}),angular.module("ubi").component("addonData",{templateUrl:"app/views/ubi/components/modules/addondata/addondata_view.html",bindings:{data:"<",view:"=",getDataInfo:"&",pageProps:"=?",isParent:"=?",device:"=?"},controllerAs:"ctrl",controller:[function(){var e=this;e.$onChanges=function(){e.view.hideAddon=!1,angular.isDefined(e.data)&&angular.isDefined(e.data.deviceDataDetails)&&(angular.isDefined(e.data.deviceDataDetails.addOnDataDetails)&&angular.isUndefined(e.data.deviceDataDetails.addOnDataDetails.addonDataBalance)||angular.isUndefined(e.data.deviceDataDetails.addOnDataDetails))&&!e.data.deviceDataDetails.retry&&(e.view.hideAddon=!0),e.data=angular.isDefined(e.data.deviceDataDetails)&&angular.isDefined(e.data.deviceDataDetails.addOnDataDetails)&&angular.isDefined(e.data.deviceDataDetails.addOnDataDetails.addonDataBalance)?e.data.deviceDataDetails.addOnDataDetails.addonDataBalance.value:e.data}}]}),angular.module("ubi").component("balanceDetailedSummary",{templateUrl:"app/views/ubi/components/modules/balancedetailedsummary/balancedetailedsummary_view.html",bindings:{data:"=",view:"=",getDataInfo:"&",pageProps:"=?"},controllerAs:"ctrl",controller:[function(){}]}),angular.module("ubi").component("balanceInstructions",{templateUrl:"app/views/ubi/components/modules/balanceinstructions/balanceinstructions_view.html",bindings:{data:"=",pageProps:"=?"}}),angular.module("ubi").component("balanceSmsInstructions",{templateUrl:"app/views/ubi/components/modules/balancesmsinstructions/balancesmsinstructions_view.html",bindings:{data:"=",device:"=",pageProps:"=?"}}),angular.module("ubi").component("balanceSummary",{templateUrl:"app/views/ubi/components/modules/balancesummary/balancesummary_view.html",bindings:{data:"=",view:"=",device:"=",getDataInfo:"&",pageProps:"=?"}}),angular.module("ubi").component("basePlanInfo",{templateUrl:"app/views/ubi/components/modules/baseplaninfo/baseplaninfo_view.html",bindings:{device:"=",showIldBalance:"&",view:"=",pageProps:"=?"},controllerAs:"ctrl",controller:["$scope","$deviceService","$done","$appRoutes",function(e,t,n,a){var i=this;e.deviceServicePlanName=t.getSelectedDevice().servicePlanName,i.manageReserve=function(e){t.selectDevice(e),n.redirect(a.myaccount.dashboard.alloptions.managereserve)}}]}),angular.module("ubi").component("callBalanceInstructions",{templateUrl:"app/views/ubi/components/modules/callbalanceinstructions/callbalanceinstructions_view.html",bindings:{data:"=",device:"=",pageProps:"=?"}}),angular.module("ubi").component("carryoverDataBalance",{templateUrl:"app/views/ubi/components/modules/carryoverdatabalance/carryoverdatabalance_view.html",bindings:{data:"=",device:"=",view:"=",getDataInfo:"&",pageProps:"=?"}}),angular.module("ubi").component("groupDataUsageSummary",{templateUrl:"app/views/ubi/components/modules/groupdatausagesummary/groupdatausagesummary_view.html",bindings:{data:"=",pageProps:"=?"},controller:GroupDataUsageSummaryCtrl}),GroupDataUsageSummaryCtrl.$inject=["$scope","$log"],angular.module("ubi").component("ild",{templateUrl:"app/views/ubi/components/modules/ild/ild_view.html",bindings:{data:"=",view:"=",getDataInfo:"&",pageProps:"=?"},controllerAs:"ctrl",controller:["$appConfig","$userService","$deviceService","$balanceenquiryservice","$log","$errorHandler","$appConstants","$cartService","$devicesCartServices","$renewalservices","$done","$appRoutes","$servicePlanSelectorService",ildController]}),angular.module("ubi").component("tfild",{templateUrl:"app/views/ubi/components/modules/ild/tfild_view.html",bindings:{data:"=",view:"=",getDataInfo:"&",pageProps:"=?"},controllerAs:"ctrl",controller:["$appConfig","$userService","$deviceService","$balanceenquiryservice","$log","$errorHandler","$appConstants","$cartService","$devicesCartServices","$done","$appRoutes","$servicePlanSelectorService","$window",tfildController]}),angular.module("ubi").component("paygoBalance",{templateUrl:"app/views/ubi/components/modules/paygobalance/paygobalance_view.html",bindings:{data:"=",device:"=",view:"=",getDataInfo:"&",pageProps:"=?"}}),angular.module("ubi").component("planBalance",{templateUrl:"app/views/ubi/components/modules/planBalance/planBalance_view.html",bindings:{data:"=",valueType:"@",deviceDetails:"=",pageProps:"=?"},controllerAs:"ctrl",controller:[function(){var e=this;e.data[e.valueType+"DataBalance"]&&(e.dataBalanceValue=e.data[e.valueType+"DataBalance"].value),e.data[e.valueType+"DataUsage"]&&(e.dataUsageValue=e.data[e.valueType+"DataUsage"].value),e.data[e.valueType+"VoiceBalance"]&&(e.voiceValue=e.data[e.valueType+"VoiceBalance"].value),e.data[e.valueType+"TextBalance"]&&(e.textValue=e.data[e.valueType+"TextBalance"].value)}]}),angular.module("ubi").component("textBalanceInstructions",{templateUrl:"app/views/ubi/components/modules/textbalanceinstructions/textbalanceinstructions_view.html",bindings:{data:"=",device:"=",pageProps:"=?"}}),angular.module("ubi").component("tfCarsmartBalance",{templateUrl:"app/views/ubi/components/modules/tfcarsmartbalance/tfcarsmartbalance_view.html",bindings:{data:"=",view:"=",device:"=",deviceData:"=",getDataInfo:"&",pageProps:"=?"}}),angular.module("ubi").component("timedoutOrFailure",{templateUrl:"app/views/ubi/components/modules/timedoutorfailure/timedoutorfailure_view.html",bindings:{getDataInfo:"&",device:"=",pageProps:"=?"}}),angular.module("ubi").component("unlimitedDataValue",{templateUrl:"app/views/ubi/components/modules/unlimiteddatavalue/unlimiteddatavalue_view.html",bindings:{data:"=",device:"=",view:"=",getDataInfo:"&",pageProps:"=?"}}),angular.module("ubi").component("unlimitedPaygo",{templateUrl:"app/views/ubi/components/modules/unlimitedpaygo/unlimitedpaygo_view.html",bindings:{data:"=",device:"=",view:"=",getDataInfo:"&",pageProps:"=?"}}),angular.module("ubi").component("unlimitedPlanBalance",{templateUrl:"app/views/ubi/components/modules/unlimitedplanbalance/unlimitedplanbalance_view.html",bindings:{data:"=",device:"=",view:"=",getDataInfo:"&",pageProps:"=?"}}),angular.module("ubi").component("usageProgressBar",{templateUrl:"app/views/ubi/components/modules/usageprogressbar/usageprogressbar_view.html",bindings:{data:"=",view:"=",device:"=",deviceData:"=",getDataInfo:"&",pageProps:"=?"}}),(function(){"use strict";function e(e,t,n,a){e.accept=function(){e.close(),a.resolve(!0)},e.close=function(){t.dismiss("cancel")}}angular.module("ubi").controller("bitermsconditionsctrl",e),e.$inject=["$scope","$uibModalInstance","$log","callback"]})(),angular.module("ubi").component("carryoverData",{templateUrl:"app/views/ubi/components/subcomponents/carryoverdata/carryoverdata_view.html",bindings:{data:"<",view:"=",getDataInfo:"&",pageProps:"=?",isParent:"=?",device:"=?",unitType:"@"},controllerAs:"ctrl",controller:[function(){}]}),angular.module("ubi").component("checkDataSize",{templateUrl:"app/views/ubi/components/subcomponents/checkdatasize/checkdatasize_view.html",bindings:{data:"="}}),(function(){"use strict";function e(e,t,n,a,i){i.capped?e.scriptid="x":e.scriptid="y",e.close=function(){t.dismiss("cancel")}}angular.module("ubi").controller("managedatlimitconfirmationpopupController",e),e.$inject=["$scope","$uibModalInstance","$appConfig","$window","resolvParam"]})(),(function(){"use strict";function e(e,t,n,a){e.device=e.$resolve.device,e.checkrateurl=a.checkrateurl,e.close=function(){t.dismiss("cancel")}}angular.module("ubi").controller("ildBalancePopupController",e),e.$inject=["$scope","$uibModalInstance","$log","$appConfig"]})(),angular.module("ubi").component("infoData",{templateUrl:"app/views/ubi/components/subcomponents/infodata/infodata_view.html",bindings:{infoText:"@",data:"="}}),angular.module("ubi").component("loadingAnimation",{templateUrl:"app/views/ubi/components/subcomponents/loadinganimation/loadinganimation_view.html",bindings:{loadingIcon:"@",getDataInfo:"&",view:"=",pageProps:"=?"},controllerAs:"ctrl",controller:["$interval",function(e){var t=this;t.loopCount=5,t.count=0,e((function(){t.count==t.loopCount&&(t.count=0),t.animated_text="";for(var e=0;e<=t.count;e++)t.animated_text=t.animated_text+t.loadingIcon;t.count++}),1e3),t.getIcon=function(e){return new Array(e)}}]}),angular.module("ubi").component("moreOptions",{templateUrl:"app/views/ubi/components/subcomponents/moreoptions/moreoptions_view.html",bindings:{infoText:"@",imageName:"@",imageAltText:"@",clickAction:"&"}}),(function(){"use strict";function e(e,t){e.close=function(){t.dismiss("cancel")}}angular.module("ubi").controller("processBalanceController",e),e.$inject=["$scope","$uibModalInstance"]})(),angular.module("ubi").component("progressBar",{templateUrl:"app/views/ubi/components/subcomponents/progressbar/progressbar_view.html",bindings:{data:"<",view:"=",labelKey:"@",progressbarType:"@",valueKey:"@",showHeading:"=",expiryDate:"=",expiryText:"@",isUnlimited:"=",isPlanHotspot:"=",headingText:"@",pageProps:"=?"},controllerAs:"ctrl",controller:[function(){var e=this;e.$onChanges=function(){e.dataSummary={usedData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.basePlanDataUsage)?e.data.deviceDataDetails.basePlanDataDetails.basePlanDataUsage.value:"",balanceData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.defaultDataBalance)?e.data.deviceDataDetails.basePlanDataDetails.defaultDataBalance.value:"",dataPercentage:e.data.deviceDataDetails.used_percentage,totalPlanData:angular.isDefined(e.data.deviceDataDetails.totalData)&&angular.isDefined(e.data.deviceDataDetails.totalData.basePlanData)?e.data.deviceDataDetails.totalData.basePlanData.value:""},e.isPlanHotspot&&(e.dataSummary={usedData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.hotSpotUsage)?e.data.deviceDataDetails.basePlanDataDetails.hotSpotUsage.value:"",balanceData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.hotSpotBalance)?e.data.deviceDataDetails.basePlanDataDetails.hotSpotBalance.value:"",dataPercentage:e.data.deviceDataDetails.hotspot.used_percentage,totalPlanData:angular.isDefined(e.data.deviceDataDetails.totalData)&&angular.isDefined(e.data.deviceDataDetails.totalData.hotSpotTotal)?e.data.deviceDataDetails.totalData.hotSpotTotal.value:""}),e.progressbarValue=[{class_name:"",used_perc:angular.isDefined(e.dataSummary)?e.dataSummary.dataPercentage:e.data.deviceDataDetails.used_percentage}],e.progressbarValue.length>=1&&e.progressbarValue[0].used_perc>80&&e.progressbarValue[0].used_perc<=100&&(e.progressbar={class_name:"progress-danger"})}}]}),angular.module("ubi").component("remainingBalance",{templateUrl:"app/views/ubi/components/subcomponents/remainingbalance/remainingbalance_view.html",bindings:{balanceText:"@",data:"<",valueText:"@",unitType:"@"}}),(function(){"use strict";function e(e,t,n,a){e.close=function(){t.dismiss("cancel")}}angular.module("ubi").controller("remainingBalancePopupController",e),e.$inject=["$scope","$uibModalInstance","$log","$appConfig"]})(),angular.module("ubi").component("setDeviceLimits",{templateUrl:"app/views/ubi/components/subcomponents/setdevicelimits/setdevicelimits_view.html",bindings:{data:"=",slideConfig:"=?",view:"="},controller:["$scope","$deviceService",function(e,t){e.divEqu=function(){angular.forEach(e.$ctrl.data,(function(e){e.limit=6.25})),console.log(e.$ctrl.data)}}]}),angular.module("ubi").component("tfCarsmartProgressBar",{templateUrl:"app/views/ubi/components/subcomponents/tfcarsmartprogressbar/tfcarsmartprogressbar_view.html",bindings:{data:"<",view:"=",labelKey:"@",progressbarType:"@",valueKey:"@",showHeading:"=",expiryDate:"=",expiryText:"@",isUnlimited:"=",isPlanHotspot:"=",headingText:"@",pageProps:"=?"},controllerAs:"ctrl",controller:[function(){var e=this;e.$onChanges=function(){e.dataSummary={usedData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.basePlanDataUsage)?e.data.deviceDataDetails.basePlanDataDetails.basePlanDataUsage.value:"",balanceData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.defaultDataBalance)?e.data.deviceDataDetails.basePlanDataDetails.defaultDataBalance.value:"",dataPercentage:e.data.deviceDataDetails.used_percentage,totalPlanData:angular.isDefined(e.data.deviceDataDetails.totalData)&&angular.isDefined(e.data.deviceDataDetails.totalData.basePlanData)?e.data.deviceDataDetails.totalData.basePlanData.value:""},e.isPlanHotspot&&(e.dataSummary={usedData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.hotSpotUsage)?e.data.deviceDataDetails.basePlanDataDetails.hotSpotUsage.value:"",balanceData:angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails)&&angular.isDefined(e.data.deviceDataDetails.basePlanDataDetails.hotSpotBalance)?e.data.deviceDataDetails.basePlanDataDetails.hotSpotBalance.value:"",dataPercentage:e.data.deviceDataDetails.hotspot.used_percentage,totalPlanData:angular.isDefined(e.data.deviceDataDetails.totalData)&&angular.isDefined(e.data.deviceDataDetails.totalData.hotSpotTotal)?e.data.deviceDataDetails.totalData.hotSpotTotal.value:""}),e.progressbarValue=[{class_name:"",used_perc:angular.isDefined(e.dataSummary)?e.dataSummary.dataPercentage:e.data.deviceDataDetails.used_percentage}],e.progressbarValue.length>=1&&e.progressbarValue[0].used_perc>80&&e.progressbarValue[0].used_perc<=100&&(e.progressbar={class_name:"progress-danger"})}}]}),angular.module("app").component("ubiCollectDevices",{templateUrl:"app/views/ubi/components/landingpage/login/collectdevices/collect_devices_bi_101.5.html",bindings:{data:"=",login:"&",fbAction:"&"},controllerAs:"ctrl",controller:["$scope",function(e){}]}),angular.module("app").component("ubiCollectPhone",{templateUrl:"app/views/ubi/components/landingpage/login/collectphone/collect_phone_bi_110.1.html",bindings:{data:"=",login:"&",fbAction:"&"},controllerAs:"ctrl",controller:["$scope",function(e){}]}),angular.module("ubi").component("ubiLoginForm",{templateUrl:"app/views/ubi/components/landingpage/login/loginform/loginform_bi_101.2.1_view.html",bindings:{data:"=",login:"&",fbAction:"&",forgotPassword:"&"},controllerAs:"ctrl",controller:["$scope",function(e){e.forgotPasswordAction=function(){e.$emit("forgotPasswordFunc",{})}}]}),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f){e.data={username:"",password:"",keepmeloggedin:!1,esn:"",min:"",isBrandMultiline:m.features.multiline,isGroupBased:m.features.groupbased,show_otherdevice_opt:!1},e.view={show_phoneform:!1,show_loginform:!1,show_otherdeviceform:!1,show_simserial:!0},e.init=function(){t.debug("biLoginController/init"),(m.features.multiline||m.features.groupbased)&&(e.data.show_otherdevice_opt=!0)},e.showLoginForm=function(){t.debug("biLoginController/showLoginForm"),e.view.show_phoneform=!1,e.view.show_loginform=!0,e.view.show_simserial=!1,e.view.show_otherdeviceform=!1},e.showPhoneForm=function(){t.debug("biLoginController/showPhoneForm"),e.view.show_phoneform=!0,e.view.show_loginform=!1,e.view.show_simserial=!1,e.view.show_otherdeviceform=!1},e.userlogin=function(){t.debug("biLoginController/userlogin"),s.accountRecoveryStatus({option:e.data.username}).then((function(a){t.debug("biLoginController::accountRecoveryStatus response",a),a.isValidAccount&&a.identifier&&r.userLogin({email:a.identifier,password:e.data.password}).then((function(a){n.clearError(e),t.debug("BI/userlogin/Login Success !!!",a),p.setOpinionLabCookie("","",e.data.username);var i=new Date((new Date).setFullYear((new Date).getFullYear()+10));p.setCookie("tfUserLoggedin",i),r.setEmail(e.data.username),t.debug("email->",r.getEmail()),t.debug("Keep me signed in",e.data),e.data.keepmeloggedin?(t.debug("loginController::login::Response::",a),r.getRoNsToken({email:e.data.username,password:e.data.password}).then((function(e){l.redirect(c.balanceinquiry.login.selectdevice)}))):(l.redirect(c.balanceinquiry.login.selectdevice),r.disableKeepMeSignedIn())})).catch((function(a){t.warn(a),n.handleError(a,e)}))})).catch((function(a){t.warn(a),n.handleError(a,e)}))},e.collectSimSerial=function(){l.redirect(c.balanceinquiry.collectSimSerial)},e.minlogin=function(r){t.info("biLoginController/minlogin",r),v.validateBIDevice({min:e.data.min,last4device:e.data.esn,checkterms:r}).then((function(n){t.debug("biLoginController/validateUserDevice/success",n),e.device=i.getSelectedDevice(),"FLASH"==n.flow?a.getModalPoup("app/views/rpe/alerts/flash_view_rpe_101.4.html","flashCtrl","coldflash").then((function(e){t.info("biLoginController/validateUserDevice its a cold flash",e),e&&_()})):"OTAPENDING"==n.flow?(t.info("biLoginController::validateUserDevice OTAPENDING"),a.getModalPoup("app/views/rpe/alerts/otapending_view_rpe_101_5.html","otapendingCtrl")):"TERMSPOPUP"==n.flow?a.getModalPoup("app/views/ubi/components/subcomponents/bitermsconditionspopup/bitermsconditions_view_BI_102.1.1.html","bitermsconditionsctrl").then((function(n){t.info("biSelectDeviceController/processBalanceInquiryByMin terms acccpted",n),n?e.minlogin(!1):l.redirect(c.balanceinquiry.selectdevice.deviceselected)})):"TRANSACTION_PENDING"==n.flow?h():"PROCEED_FINAL"==n.flow?_():l.redirect(c.balanceinquiry.selectdevice.deviceselected)})).catch((function(a){t.warn("biLoginController/validateUserDevice/error",a),n.handleError(a,e)}))};var h=function(){var e=d.open({animation:!1,templateUrl:"app/views/subcomponents/pending_transaction_popup.html",controller:"pendingTransactionCtrl",size:"md",windowTopClass:"tf-modal"});return t.debug("biSelectDeviceController/showProcessingPopup/exit"),e};e.fblogin=function(){t.debug("CollectPasswordCtrl Fb login ",e.view),o.verifyfblink().then((function(n){t.debug("link account service returned ",n),e.view.showFacebookOption=n.status,n.status&&(t.debug("Facebook Login Success!!"),l.redirect(c.balanceinquiry.login.selectdevice))})).catch((function(a){t.warn("verifyfblink service failed ",a),n.handleError(a,e)}))},e.$on("forgotPasswordFunc",(function(i,r){if(t.debug("$scope.data.email --\x3e "+e.data.username),a.isNullOrEmpty(e.data.username)){var o={error_code:"1005",error_message:"",error_translate:"ERROR_1985884",error_type:"ERROR_1985884"};n.handleError(o,e)}else s.forgotPassword({data:e.data.username}).then((function(t){e.passwordSentSucessfully()})).catch((function(a){t.warn(a),n.handleError(a,e)}))})),e.passwordSentSucessfully=function(){t.debug("Password sent succcessfull "),t.debug("Opening popup Password sent succcessfull ");d.open({animation:!1,templateUrl:"app/views/myaccount/accountrecovery/forgotpassword/passwordsent_view_myac_103.2.html",controller:"passwordsentController",size:"md",backdrop:"static",windowTopClass:"tf-modal",resolve:{resolvParam:function(){return{username:e.data.username}}}})};var _=function(){var t=e.showProcessingPopup(),n={min:e.device.min,background:!0,ignoreEnquiryFlow:!1,current_retry_count:0,retryBI:!0,modinst:t};e.getBalanceForDevice(n)};e.getBalanceForDevice=function(a){t.debug("biLoginController::getBalanceForDevice ",a);var r=a.modinst;v.postFlashFlow(a).then((function(a){t.debug("biLoginController::BI response in controller is ",a),r.dismiss("cancel"),n.clearError(e.device),t.debug(e.device),e.refreshAnim=!1,l.redirect(c.balanceinquiry.selectdevice.deviceselected)})).catch((function(o){t.debug("biLoginController::BI failure retrying",i.getSelectedDevice()),i.getSelectedDevice().balance&&i.getSelectedDevice().balance.retryBi?g((function(){a.current_retry_count=i.getSelectedDevice().balance.retryCount,a.retryBI=!0,e.getBalanceForDevice(a)}),7e3,1):(t.warn("biLoginController/postFlash/invaliddevice",e.device,o),r.dismiss("cancel"),e.showTechnicalDifficultyPopup(),i.getSelectedDevice().balance.available=!0,n.handleError(o,e))}))},e.showTechnicalDifficultyPopup=function(){t.debug("biLoginController/showTechnicalDifficultyPopup/entry");d.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/processbalancepopup/processbalancetimeout_bi_105.1_view.html",controller:"processBalanceController",size:"md",windowTopClass:"tf-modal"});t.debug("biLoginController/showTechnicalDifficultyPopup/exit")},e.showProcessingPopup=function(){t.debug("biSelectDeviceController/showProcessingPopup/entry");var e=d.open({animation:!1,templateUrl:"app/views/ubi/components/subcomponents/processbalancepopup/processbalancepopup_bi_103.1_view.html",
controller:"processBalanceController",size:"md",windowTopClass:"tf-modal"});return t.debug("biSelectDeviceController/showProcessingPopup/exit"),e},e.showOtherDeviceForm=function(){t.debug("biLoginController/showOtherDeviceForm"),e.view.show_phoneform=!1,e.view.show_loginform=!1,e.view.show_simserial=!1,e.view.show_otherdeviceform=!0},e.searchByDevice=function(){t.debug("biLoginController/searchByDevice"),v.validateBIDevice({min:e.data.min,last4device:e.data.esn,checkterms:!0}).then((function(n){t.debug("biLoginController/validateUserDevice/success",n),e.device=i.getSelectedDevice(),"FLASH"==n.flow?a.getModalPoup("app/views/rpe/alerts/flash_view_rpe_101.4.html","flashCtrl","coldflash").then((function(e){t.info("biLoginController/validateUserDevice its a cold flash",e),e&&_()})):"OTAPENDING"==n.flow?(t.info("biLoginController::validateUserDevice OTAPENDING"),a.getModalPoup("app/views/rpe/alerts/otapending_view_rpe_101_5.html","otapendingCtrl")):"TERMSPOPUP"==n.flow?a.getModalPoup("app/views/ubi/components/subcomponents/bitermsconditionspopup/bitermsconditions_view_BI_102.1.1.html","bitermsconditionsctrl").then((function(n){t.info("biSelectDeviceController/processBalanceInquiryByMin terms acccpted",n),n?e.minlogin(!1):l.redirect(c.balanceinquiry.selectdevice.deviceselected)})):"TRANSACTION_PENDING"==n.flow?h():"PROCEED_FINAL"==n.flow?_():l.redirect(c.balanceinquiry.selectdevice.deviceselected)})).catch((function(a){t.warn("biLoginController/validateUserDevice/error",a),n.handleError(a,e)}))}}angular.module("ubi").component("ubiLoginPage",{templateUrl:"app/views/ubi/components/landingpage/login/loginpage/login_bi_101.1_view.html",controller:e}),e.$inject=["$scope","$log","$errorHandler","$utils","$deviceService","$userService","$facebookService","$accountService","$appRoutes","$done","$uibModal","$q","$cookieService","$balanceenquiryservice","$interval","$appConfig","$appConstants"]})(),(function(){function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m){var f;return BalanceEnquiryServiceInst={_data:{deviceData:{}},setDeviceData:function(e){BalanceEnquiryServiceInst._data.deviceData=e},getDeviceData:function(){return BalanceEnquiryServiceInst._data.deviceData}},BalanceEnquiryServiceInst.validateBIDevice=function(e){var i={};t.info("validateBIDevice service!! ...",e);var l=!!e.last4device,d=!l;return n((function(n,u){o.validateUserDevice({device:e.min,background:e.background}).then((function(o){t.info("validateBIDevice::validateUserDevice Returned",o);var p=o.svc_response,v=p.deviceStatus;l&&(p.esn.endsWith(e.last4device)||void 0!==p.sim.iccid&&p.sim.iccid.endsWith(e.last4device))&&(d=!0),d?v&&v==s.device_status.active?(t.info("validateBIDevice::validateUserDevice:;Device is Active checkterms is ",e.checkterms),c.features.groupbased&&e.checkterms?(i.flow="TERMSPOPUP",n(i)):p.flashMessage?(t.info("validateBIDevice::validateUserDevice:;Device is Active but has flash"),i.flow="FLASH",n(i)):p.transactionPending&&"OTAPENDING"==p.transactionPending?(i.flow="OTAPENDING",n(i)):(t.info("validateBIDevice::validateUserDevice:;Device is Active no flash"),i.flow="PROCEED_FINAL",n(i))):v==s.device_status.ota_pending||p.transactionPending&&p.transactionPending==s.device_status.carrier_pending?(i.flow="TRANSACTION_PENDING",n(i)):!angular.equals(p.deviceStatus,"ACTIVE")&&""!=p.min&&angular.equals(p.brand,"NET10")&&angular.equals(p.inquiryType,"BALANCE")?(t.info("validateBIDevice::validateUserDevice:;Device is Active no flash"),i.flow="PROCEED_FINAL",n(i)):(t.info("validateBIDevice::validateUserDevice:;Device is not Active"),f=r.translateError({error_code:"-10108"},a.get("validatedevice")),u(f)):(t.info("validateBIDevice::last4ofdevice didnot match"),f=r.translateError({error_code:"10100"},a.get("enquiryflow")),u(f))})).catch((function(e){u(e)}))}))},BalanceEnquiryServiceInst.postFlashFlow=function(e){t.info("BalanceEnquiryServiceInst:postFlashFlow service!! ...",e);var i=o.getSelectedDevice();return o.getSelectedDevice().balance={},o.getSelectedDevice().balance.available=!1,n((function(n,o){i?(t.info("BalanceEnquiryServiceInst:postFlashFlow service"),BalanceEnquiryServiceInst.getUnifiedBalance(e).then((function(e){n(e)})).catch((function(e){o(e)}))):(t.info("postFlashFlow::Technical diffculty in fetching the data"),f=r.translateError({error_code:"-10108"},a.get("validatedevice")),o(f))}))},BalanceEnquiryServiceInst.getBalanceEnquiryFlowID=function(r){return t.info("getBalanceEnquiryFlowID service!! ...",r),n((function(t,n){getBalanceFlow=function(t){return i.run(t,e.get("enquiryflow").esn,a.get("enquiryflow"))},this.getBalanceFlow({esn:r.esn,background:r.background}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},BalanceEnquiryServiceInst.getDeviceBalance=function(r){return t.info("getDeviceBalance service!! ...",r),n((function(n,o){getdatausage=function(t){return i.run(t,e.get("getdatausage").esn,a.get("getdatausage"))},this.getdatausage({min:r.min,type:r.type,background:!!r.background&&r.background}).then((function(e){n(e)})).catch((function(e){t.info("getDeviceBalance service erroed!! ...",e),o(e)}))}))},BalanceEnquiryServiceInst.getUnitBalance=function(r){return t.info("BalanceEnquiryServiceInst::getUnitBalance service!! ...",r),n((function(n,o){getbalinqry=function(t){return i.run(t,e.get("getbalinqry").esn,a.get("getbalinqry"))},reqbenfbal=function(t){return i.run(t,e.get("reqbenfbal").v2,a.get("reqbenfbal"))},this.getbalinqry(r).then((function(e){t.info("BalanceEnquiryServiceInst::getUnitBalance::getbalinqry service!! ...",e),this.reqbenfbal({esn:r.esn,transaction_id:e.transaction_id,background:!!r.background&&r.background}).then((function(e){t.info("BalanceEnquiryServiceInst::reqbenfbal::getbalinqry service!! ...",e),n(e)})).catch((function(e){o(e)}))})).catch((function(e){o(e)}))}))},BalanceEnquiryServiceInst.getDeviceUsage=function(e){var i={},l=o.getSelectedDevice();return t.info("BalanceEnquiryServiceInst::getDeviceUsage service!! ...",e,l),n((function(n,d){BalanceEnquiryServiceInst.getBalanceEnquiryFlowID({esn:l?l.esn:e.device,background:!!e.background&&e.background}).then((function(u){if(t.info("getDeviceUsage::getBalanceEnquiryFlowID Returned",u),angular.isDefined(e.ignoreEnquiryFlow)&&e.ignoreEnquiryFlow&&(u={},u.blanceFlow={enquriyflowid:"BI_01"}),u.blanceFlow&&u.blanceFlow.enquriyflowid)if(t.info("getDeviceUsage::Going for databalance"),o.getSelectedDevice().balance={},o.getSelectedDevice().balance.scriptId=u.blanceFlow.script_id,"BI_01"==u.blanceFlow.enquriyflowid||"BI_03"==u.blanceFlow.enquriyflowid){if("BI_01"==u.blanceFlow.enquriyflowid){var p=e.current_retry_count?e.current_retry_count:0;p++,o.getSelectedDevice().balance={},o.getSelectedDevice().balance.flow="SHOWBALANCE",o.getSelectedDevice().balance.isUsage=!1,o.getSelectedDevice().balance.available=!1,o.getSelectedDevice().balance.retryBi=!1,o.getSelectedDevice().balance.retryCount=p,p<c.BI_RETRY_COUNT&&(o.getSelectedDevice().balance.retryBi=!0)}BalanceEnquiryServiceInst.getDeviceBalance({min:l.min,type:e.type?e.type:s.default_bal,background:!!e.background&&e.background}).then((function(e){t.info("getDeviceUsage::getDeviceBalance::succesful",e),o.getSelectedDevice().balance.available=!0,o.getSelectedDevice().balance.basePlanBalance=e.balanceDetails,"BI_01"==u.blanceFlow.enquriyflowid?(o.getSelectedDevice().balance.flow="SHOWBALANCE",o.getSelectedDevice().balance.isUsage=!0):o.getSelectedDevice().balance.flow="SMSBALANCE",t.info("getDeviceUsage::got balcne Resolveing now",i,o.getSelectedDevice()),n(e)})).catch((function(e){d(e)}))}else"BI_06"==u.blanceFlow.enquriyflowid?(o.getSelectedDevice().balance.flow="MODELINSTRUCTIONS",n(i)):"BI_07"==u.blanceFlow.enquriyflowid&&(o.getSelectedDevice().balance.flow="BIINSTRUCTIONS",n(i));else t.info("getDeviceUsage::Technical deffculty in fetching the usage"),f=r.translateError({error_code:"-10108"},a.get("validatedevice")),d(f)})).catch((function(e){o.getSelectedDevice().balance={},d(e)}))}))},BalanceEnquiryServiceInst.getDeviceUnitsBalance=function(e){var a=o.getSelectedDevice();t.info("BalanceEnquiryServiceInst::getDeviceUnitsBalance service!! ...",e,a);var i=e.current_retry_count?e.current_retry_count:0;return n((function(n,r){i++,o.getSelectedDevice().balance={},o.getSelectedDevice().balance.flow="SHOWBALANCE",o.getSelectedDevice().balance.isUsage=!1,o.getSelectedDevice().balance.available=!1,o.getSelectedDevice().balance.retryBi=!1,o.getSelectedDevice().balance.retryCount=i,i<c.BI_RETRY_COUNT&&(o.getSelectedDevice().balance.retryBi=!0),BalanceEnquiryServiceInst.getUnitBalance({esn:a?a.esn:e.device,background:!!e.background&&e.background}).then((function(e){if(t.info("BalanceEnquiryServiceInst::getDeviceUnitsBalance service response",e),e){var a=e.data_balance/1024;e.data_balance=a}if(e.paid_benefits.data_balance){var i=e.paid_benefits.data_balance/1024;e.paid_benefits.data_balance=i}if(e.free_benefits.data_balance){var r=e.free_benefits.data_balance/1024;e.free_benefits.data_balance=r}t.info("BalanceEnquiryServiceInst::getDeviceUnitsBalance service::final response",e),o.getSelectedDevice().balance.basePlanBalance=e,o.getSelectedDevice().balance.available=!0,n(e)})).catch((function(e){r(e)}))}))},BalanceEnquiryServiceInst.evaluateManageDataLimitFlow=function(e,n){t.info("balinq device",e),r.isMin(e.min)?d.isLoggedIn()?(u.set(s.session.device,o.getSelectedDevice()),g.redirect(m.balanceinquiry.manageDataLimit.updateDataLimit,{devicePresent:"true"})):e.accountStatus==s.dummy_account?p.accountRecoveryStatus({option:e.min?e.min:e.esn}).then((function(e){t.debug("account status response --\x3e ",e),v.setAccountinfo(p.getAccountDetails()),u.set(s.session.device,o.getSelectedDevice()),g.redirect(m.myaccount.getusername.dummymin.secpinanswer,{flowType:"mdl"})})).catch((function(e){n(e)})):(u.set(s.session.device,o.getSelectedDevice()),g.redirect(m.myaccount.getusername.validemailmin,{devicePresent:"true",flowType:"mdl"})):g.redirect(m.balanceinquiry.manageDataLimit.collectmin)},BalanceEnquiryServiceInst.getUnifiedBalance=function(r){return t.info("getUnified service!! ...",r),n((function(n,c){getunifiedbalance=function(t){return i.run(t,e.get("unifiedbalance").min,a.get("unifiedbalance"))};o.getSelectedDevice();this.getunifiedbalance({min:r.min,type:r.type?r.type:s.line,background:!!r.background&&r.background}).then((function(e){BalanceEnquiryServiceInst.setDeviceData(e),n(e)})).catch((function(e){t.info("getUnified service errored!! ...",e),c(e)}))}))},BalanceEnquiryServiceInst.retryMethod=function(){this.getDeviceData()},BalanceEnquiryServiceInst}angular.module("ubi").factory("$balanceenquiryservice",e),e.$inject=["$svcConfig","$log","$q","$voMapConfig","$serviceUtils","$utils","$deviceService","$appConstants","$appConfig","$interval","$userService","$sessionService","$accountService","$devicesCartServices","$done","$appRoutes"]})(),(function(){angular.module("app").run(["$appConfig","$appConstants","$svcConfig","$serviceUriConfig",function(e,t,n,a){var i={forward:function(n){return{min:n.min,background:n.background,type:angular.isDefined(n.type)?n.type:t.default_bal,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},e.response)}},r={esn:{url:a.my_account.dashboard.my_devices.get_data_usage,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};n.register("getdatausage",r)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985122",12600:"ERROR_1985165",20300:"ERROR_1985653"},forward:function(e){return{min:e.min,background:e.background,type:e.type}},backward:function(e){var t={},n={};n.ildAddOn={},t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var a=e;return t.response=a,a&&(n.usedBalance=parseInt(a.usage),n.lastUpdate=a.lastUpdate,n.totalData=a.totalData,n.remainingBalance=a.balance?Number(a.balance):n.totalData-n.usedBalance,n.serviceEndDate=a.serviceEndDate,n.serviceBeginDate=a.serviceBeginDate,n.totalData>1048576?n.unlimitedData=!0:n.unlimitedData=!1,n.totalData&&n.totalData>0&&(n.isDataDevice=!0),n.totalData&&angular.isDefined(n.usedBalance)&&(n.balance_percentage=n.usedBalance/n.totalData*100),t.balanceDetails=n),e.ildAddOn&&(t.balanceDetails.ildAddOn=e.ildAddOn),angular.isDefined(e.dataAddOn)&&(t.balanceDetails.addOnData={},t.balanceDetails.addOnData.balance=e.dataAddOn.balance,t.balanceDetails.addOnData.lastUpdate=e.dataAddOn.lastUpdate,t.balanceDetails.addOnData.serviceEndDate=e.dataAddOn.serviceEndDate,t.balanceDetails.addOnData.serviceBeginDate=e.dataAddOn.serviceBeginDate,t.balanceDetails.addOnData.description=e.dataAddOn.description),t}};angular.module("app").run(["$voMapConfig",function(t){t.register("getdatausage",e)}])})(),(function(){angular.module("ubi").run(["$appConfig","$appConstants","$svcConfig","$serviceUriConfig",function(e,t,n,a){var i={forward:function(n){return{identifier:n.min,background:n.background,type:angular.isDefined(n.type)?n.type:t.default_bal,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},e.response)}},r={min:{url:a.ubi.getbalanceinquiry,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};n.register("unifiedbalance",r)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985865"},forward:function(e){return e.background=!e.background||e.background,e},backward:function(e){function t(e){e&&(r.deviceDataDetails.totalData={},e.forEach((function(e){r.deviceDataDetails.totalData[i[e.name]]={},r.deviceDataDetails.totalData[i[e.name]].value=a(e.value,e.valueType),r.deviceDataDetails.totalData[i[e.name]].type=e.valueType})))}function n(e,t){"SERVICE_PLAN"==e&&(r.deviceDataDetails.basePlanDataDetails={},t.forEach((function(e){r.deviceDataDetails.basePlanDataDetails[i[e.name]]={},r.deviceDataDetails.basePlanDataDetails[i[e.name]].value=a(e.value,e.valueType,e.name),r.deviceDataDetails.basePlanDataDetails[i[e.name]].type=e.valueType,"TETHERED_EXPIRY_DATE"==e.name&&(r.dataExpirationDate=e.value)}))),"DATA_ADDON"==e&&(r.deviceDataDetails.addOnDataDetails={},t.forEach((function(e){r.deviceDataDetails.addOnDataDetails[i[e.name]]={},r.deviceDataDetails.addOnDataDetails[i[e.name]].value=a(e.value,e.valueType,e.name),r.deviceDataDetails.addOnDataDetails[i[e.name]].type=e.valueType})))}function a(e,t,n){if(r.deviceDataDetails.basePlanDataDetails&&(e>=5e4&&"min"==t||e>=99999&&"msg"==t||e>=1099511627776&&"bytes"==t)){var a;"VOICE_BALANCE"==n||"TEXT_BALANCE"==n||"DATA_BALANCE"==n?a="default":"FREE_VOICE_BALANCE"==n||"FREE_TEXT_BALANCE"==n||"FREE_DATA_BALANCE"==n?a="free":"TOTAL_VOICE_BALANCE"==n||"TOTAL_TEXT_BALANCE"==n||"TOTAL_DATA_BALANCE"==n?a="total":"UNL_VOICE_BALANCE"!=n&&"UNL_TEXT_BALANCE"!=n&&"UNL_DATA_BALANCE"!=n&&"UNL_DATA_EXPIRATION_DATE"!=n||(a="unlimited"),"min"==t&&(r.deviceDataDetails[a+"VoiceBucketUnlimited"]=!0),"msg"==t&&(r.deviceDataDetails[a+"TextBucketUnlimited"]=!0),"bytes"==t&&(r.deviceDataDetails[a+"DataBucketUnlimited"]=!0)}var i=e;return"bytes"==t?i=(e/1048576).toFixed(2):i}var i={SERVICE_PLAN_DATA:"basePlanData",ADDON_DATA:"addonTotalData",TOTAL_DATA:"basePlanTotalData",VOICE_BALANCE:"defaultVoiceBalance",TEXT_BALANCE:"defaultTextBalance",DATA_BALANCE:"defaultDataBalance",DATA_USAGE:"defaultDataUsage",FREE_VOICE_BALANCE:"freeVoiceBalance",FREE_TEXT_BALANCE:"freeTextBalance",FREE_DATA_BALANCE:"freeDataBalance",FREE_DATA_USAGE:"freeDataUsage",TOTAL_VOICE_BALANCE:"totalVoiceBalance",TOTAL_TEXT_BALANCE:"totalTextBalance",TOTAL_DATA_BALANCE:"totalDataBalance",TOTAL_DATA_USAGE:"totalDataUsage",UNL_VOICE_BALANCE:"unlimitedVoiceBalance",UNL_TEXT_BALANCE:"unlimitedTextBalance",UNL_DATA_BALANCE:"unlimitedDataBalance",UNL_DATA_EXPIRATION_DATE:"unlimitedDataExpiration",UNL_PLAN_EXPIRATION_DATE:"unlimitedPlanExpiration",SERVICE_PLAN_DATA_BALANCE:"basePlanDataBalance",SERVICE_PLAN_DATA_USAGE:"basePlanDataUsage",ADDON_DATA_BALANCE:"addonDataBalance",ADDON_DATA_USAGE:"addonDataUsage",REMOVED_DEVICE_DATA_USAGE:"removedDataUsage",CARRYFORWARDED_DATA:"carryForwardedData",TETHERED_DATA_BALANCE:"hotSpotBalance",TETHERED_DATA_USAGE:"hotSpotUsage",TETHERED_DATA:"hotSpotTotal"},r={};if(r.deviceDataDetails={retry:!1,isPlanUnlimited:!1,isPlanWithHotspot:!1,defaultTextBucketUnlimited:!1,defaultDataBucketUnlimited:!1,defaultVoiceBucketUnlimited:!1,freeTextBucketUnlimited:!1,freeDataBucketUnlimited:!1,freeVoiceBucketUnlimited:!1,totalTextBucketUnlimited:!1,totalDataBucketUnlimited:!1,totalVoiceBucketUnlimited:!1,unlimitedVoiceBucketUnlimited:!1,unlimitedTextBucketUnlimited:!1,unlimitedDataBucketUnlimited:!1},r.error_code=e.error_code,r.error_message=e.error_message,r.error_type=e.error_type,e.configuration&&(r.configId=e.configuration.displayConfigId,r.balanceInstructions=e.configuration.instruction,r.disclaimer=e.configuration.disclaimer,r.balanceUpdatedOn=e.configuration.balanceUpdatedOn),e.customerAccount&&e.customerAccount.length>0&&e.customerAccount[0].service&&e.customerAccount[0].service.products&&e.customerAccount[0].service.products.length>0){var o=e.customerAccount[0].service.products[0];r.deviceType=o.productCategory,o.relatedServices.forEach((function(e){e.serviceSpecification&&e.serviceSpecification.length>0&&"SERVICE_PLAN"==e.category&&t(e.serviceSpecification),e.serviceCharacteristics&&e.serviceCharacteristics.length>0&&("pending"==e.serviceCharacteristics[0].value.toLowerCase()&&(r.deviceDataDetails={},r.deviceDataDetails.retry=!0),n(e.category,e.serviceCharacteristics))})),r.deviceDataDetails.used_percentage=101,!r.deviceDataDetails.retry&&r.deviceDataDetails.basePlanDataDetails&&r.deviceDataDetails.basePlanDataDetails.basePlanDataUsage&&r.deviceDataDetails.totalData&&r.deviceDataDetails.totalData.basePlanData&&(r.deviceDataDetails.used_percentage=r.deviceDataDetails.basePlanDataDetails.basePlanDataUsage.value/r.deviceDataDetails.totalData.basePlanData.value*100),r.deviceDataDetails.totalData&&r.deviceDataDetails.totalData.basePlanTotalData&&r.deviceDataDetails.totalData.basePlanTotalData.value>=1048576&&(r.deviceDataDetails.isPlanUnlimited=!0,r.deviceDataDetails.basePlanDataDetails&&r.deviceDataDetails.basePlanDataDetails.defaultDataUsage&&r.deviceDataDetails.basePlanDataDetails.defaultDataUsage.value>40960&&(r.deviceDataDetails.used_percentage=50)),r.deviceDataDetails.totalData&&r.deviceDataDetails.totalData.hotSpotTotal&&r.deviceDataDetails.basePlanDataDetails&&r.deviceDataDetails.basePlanDataDetails.hotSpotUsage&&(r.deviceDataDetails.isPlanWithHotspot=!0,r.deviceDataDetails.hotspot={used_percentage:r.deviceDataDetails.basePlanDataDetails.hotSpotUsage.value/r.deviceDataDetails.totalData.hotSpotTotal.value*100})}return r}};angular.module("ubi").run(["$voMapConfig",function(t){t.register("unifiedbalance",e)}])})(),(function(){angular.module("ubi").run(["$appConfig","$appConstants","$svcConfig","$serviceUriConfig",function(e,t,n,a){var i={forward:function(t){return{esn:t.esn,background:t.background,brandName:e.brand,sourceSystem:e.source_system,language:e.language}},backward:function(e){return angular.merge({error_code:e.status.code,error_message:e.status.description,error_type:e.status.type},e.response)}},r={esn:{url:a.balanceenquiry.enquiryflow,contentType:"application/json",httpMethod:"GET",transform:i,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};n.register("enquiryflow",r)}])})(),(function(){var e={errorConfig:{10100:"ERROR_1985865"},forward:function(e){return{esn:e.esn,background:!e.background||e.background}},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var n=e;return n&&(t.blanceFlow={},t.blanceFlow.enquriyflowid=n.flowId,t.blanceFlow.script_id=n.scriptId),t}};angular.module("ubi").run(["$voMapConfig",function(t){t.register("enquiryflow",e)}])})(),(function(){"use strict";function e(e,t,n){e.init=function(){e.flashMessage=e.$resolve.flashMessage,e.flashMessage.flash={en:e.flashMessage.flashText,es:e.flashMessage.flashSpanishText}},e.close=function(){e.flashMessage.isFlashHot?t.dismiss("cancel"):t.close()}}angular.module("ubi").controller("biFlashPopupController",e),e.$inject=["$scope","$uibModalInstance","$log"]})(),(function(){"use strict";function e(e,t,n,a,i){e.close=function(){i.dismiss("cancel")}}angular.module("ubi").controller("pendingTransactionCtrl",e),e.$inject=["$scope","$userService","$rootScope","$log","$uibModalInstance"]})(),(function(){angular.module("app").run(["$appConfig","$svcConfig","$serviceUriConfig","$appConstants","$deviceService",function(e,t,n,a,i){var r={forward:function(t){return{brandName:e.brand,sourceSystem:e.source_system,channel:a.channel,category:a.service_plan,partyID:a.partyida,language:e.language,criteria:{planCategory:a.smHPPConfig.planCategory,planSubCategory:a.smHPPConfig.planSubCategory,deviceType:t.deviceType,zipCode:t.zipcode,esn:t.esn}}},backward:function(e){return{error_code:e.status.code,error_message:e.status.description,error_type:e.status.type,response:e.response}}},o={productoffering:{url:n.productoffering,contentType:"application/json",httpMethod:"GET",transform:r,oAuthGrants:["RO","NS","CCP","CCU"],okCodes:["0"],koCodes:{},okkoCodes:{}}};t.register("productoffering",o)}])})(),(function(){angular.module("app").run(["$voMapConfig","$utils","$appConstants",function(e,t,n){var a={errorConfig:{10100:"RDSG_5219",12206:"ERROR_198366",12207:"ERROR_198366",12208:"ERROR_19792",12209:"ERROR_19792",12205:"ERROR_19792"},forward:function(e){return e},backward:function(e){var t={};t.error_code=e.error_code,t.error_message=e.error_message,t.error_type=e.error_type;var a=[],e=e.response;angular.isDefined(e)&&angular.isDefined(e.category)&&(t.category=e.category);var i,r=[],o=!1,s=0,c="",l=!1;return angular.isDefined(e)&&angular.isDefined(e.productOffering)&&(angular.forEach(e.productOffering,(function(e,d){var u={};if(u.checked=!1,u.showPlan=!0,angular.isDefined(e.category)&&(u.category=e.category),angular.isDefined(e.description)&&(u.plan_description=e.description),angular.isDefined(e.id)&&(u.part_class=e.id),angular.isDefined(e.name)&&(u.plan_name=e.name),angular.isDefined(e.status)&&(u.status=e.status),angular.isDefined(e.reason)&&(u.reason=e.reason),angular.isDefined(e.validFor)){var p=e.validFor.startDate.split("-"),v=e.validFor.endDate.split("-");u.hppstartDate=p[1]+"-"+p[2]+"-"+p[0],u.hppendDate=v[1]+"-"+v[2]+"-"+v[0],u.startDate=e.validFor.startDate,u.endDate=e.validFor.endDate}if(o=!(!u.status||u.status!=n.smHPPConfig.planStatus.available),angular.isDefined(e.productOfferingPrice)&&angular.forEach(e.productOfferingPrice,(function(e,t){e.price&&e.price.currencyCode==n.smHPPConfig.currencyCode&&(u.price=angular.isDefined(e.price.Amount)?parseFloat(e.price.Amount):"",u.status==n.smHPPConfig.planStatus.enrolled&&(s=u.price))})),angular.isDefined(e.productSpecification)){u.brand=e.productSpecification.brand,u.part_number=e.productSpecification.id,u.quantity=1,u.auto_refill=!1,u.is_addon=!0,u.is_smHppPlan=!0,u.vendor="ASURION";angular.isDefined(e.productSpecification.characteristicSpecification)&&angular.forEach(e.productSpecification.characteristicSpecification,(function(e,a){e.id&&e.id==n.smHPPConfig.planType&&(angular.equals(e.value,"30")||angular.equals(e.value,n.smHPPConfig.days.month)?u.isMonthly=!0:angular.equals(e.value,"395")?(u.is13Month=!0,u.status==n.smHPPConfig.planStatus.enrolled&&(c="13Month")):angular.equals(e.value,"730")&&(u.is24month=!0,u.status==n.smHPPConfig.planStatus.enrolled&&(c="24Month")),u.plan_type=n.smHPPConfig.addOns),e.id&&e.id==n.smHPPConfig.deviceType&&(u.device_type=e.value),e.id&&e.id==n.smHPPConfig.relatedProgramId&&(u.program_id=e.value),e.id&&e.id==n.smHPPConfig.planId&&(u.plan_id=e.value),e.id&&e.id==n.smHPPConfig.subscriptionId&&(u.plan_id=e.value,u.subscription_id=e.value),e.id&&e.id==n.smHPPConfig.isRecurring&&(u.isRecurring=e.value),e.id&&e.id==n.smHPPConfig.isDue&&(u.isDue=e.value),e.id&&e.id==n.smHPPConfig.nextChargeDate&&(u.nextChargeDate=e.value),e.id&&e.id==n.smHPPConfig.vasScriptId&&(t.vasScriptId=e.value),e.id&&"vendor"==e.id&&(u.vendor=e.value),e.id&&"planNameScript"==e.id&&(u.planNameScriptId=e.value),e.id&&"planDetailedDescriptionScript"==e.id&&(u.planDescScriptId=e.value),e.id&&"planShortDescriptionScript"==e.id&&(u.planShortDescScriptId=e.value),e.id&&"planInfoScript"==e.id&&(u.planInfoScriptId=e.value),e.id&&"planTermsAndConditionsScript"==e.id&&(u.planTermsScriptId=e.value),e.id&&"vendorTermsAndConditionsLink"==e.id&&(u.planTermsAndConditionsLink=e.value)}))}!u.status||u.status!=n.smHPPConfig.planStatus.enrolled&&u.status!=n.smHPPConfig.planStatus.enrolled_scheduled||(u.status=n.smHPPConfig.planStatus.enrolled,u.isEnrolledStatus=!0,i=u.status),!u.status||u.status!=n.smHPPConfig.planStatus.suspended&&u.status!=n.smHPPConfig.planStatus.suspended_pay_reject||(u.isSuspendedStatus=!0,i=u.status),(u.isEnrolledStatus||u.isSuspendedStatus)&&u.isDue?a.push(u):u.status!=n.smHPPConfig.planStatus.suspended_pay_reject||u.isDue?o&&r.push(u):a.push(u),(u.isEnrolledStatus||u.isSuspendedStatus)&&(l=!0),u.isSuspendedStatus&&angular.isDefined(u.reason)&&angular.equals(u.reason,n.smHPPConfig.Deenrollment)&&(u.pymtDueScriptId="BAT_25048"),u.isMonthly&&u.isEnrolledStatus&&u.isDue&&!u.isRecurring&&(u.pymtDueScriptId="ACRE_7478")})),a&&a.length>0?t.productOffering=a:l||(t.productOffering=r),t.eligible=o,t.enrolled_suspended=l,t.enrollStatus=i,t.enrolledAmount=s,t.enrolledPlan=c),t}};e.register("productoffering",a)}])})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f){t.data={device:"",active_devices:[]};var h={};t.isRefillForFriend=!1,t.$on("change-language",(function(e,t){h&&(h.showDeviceBy="en_US"==t?"PAY FOR A FRIEND":"PAGAR POR UN AMIGO")})),t.init=function(){t.isHppNotEnrolledDeviceExists=!0,t.isLoggedIn=m.isLoggedIn(),m.isLoggedIn()&&i.getAccountDevices({}).then((function(e){angular.forEach(i.getActiveDevices(),(function(e,n){if(e.isHandsetProtectionEligible&&!e.isHandsetProtectionEnrolled){t.data.active_devices.push(e);var a=t.data.active_devices.shift();t.data.active_devices.push(a)}})),i.hasSelectedDevice()&&(t.data.device=i.getSelectedDevice()),angular.isDefined(t.data.active_devices)&&t.data.active_devices.length>0?t.isHppNotEnrolledDeviceExists=!0:t.isHppNotEnrolledDeviceExists=!1,f("HPP_338").then((function(e){t.$watch("data",(function(n,a){n&&(h.min=e,t.data.active_devices.push(h))}))}))})).catch((function(e){g.handleError(e,t)})),angular.isDefined(t.data.active_devices)&&t.data.active_devices.length>0?t.noHppDeviceFlag=!0:t.noHppDeviceFlag=!1},t.newDeviceNumber=function(){t.data.device&&t.data.device.showDeviceBy===h.showDeviceBy&&(t.isRefillForFriend=!0,t.isHppNotEnrolledDeviceExists=!1,t.data.device="")},t.validateUserDevice=function(){var e="",n={};if(e=angular.isObject(t.data.device)?t.data.device.min:t.data.device,m.isLoggedIn()){var s=!1;if(angular.forEach(i.getActiveDevices(),(function(a,r){a.min===e?(s=!0,n=a):i.validateUserDevice({device:e}).then((function(e){if("DUMMY_ACCOUNT"==e.svc_response.accountStatus){var n={error_message:"In order to continue with the transaction, you must first add the phone to this account or log out.",error_translate:"HPP_303",error_type:"FAILURE"};return void g.handleError(n,t)}})).catch((function(e){g.handleError(e,t)}))})),!s){var l={error_message:"The device with the information you provided belongs to another account. In order to complete the transaction, log out of this account and sign in to that account.",error_translate:"HPP_302",error_type:"FAILURE"};return void g.handleError(l,t)}if(n.isHandsetProtectionEligible&&n.isHandsetProtectionEnrolled){var l={error_message:"Whoops. It looks like you&#39;re already enrolled in our Mobile Protect Program. If you need assistance with your account, please contact Asurion at 1-866-598-4874.",error_translate:"ERROR_1986073",error_type:"FAILURE"};return void g.handleError(l,t)}}i.validateUserDevice({device:e}).then((function(e){angular.isDefined(e.svc_response.accountId)&&c.setDeviceAccountid(e.svc_response.accountId);var n=i.getSelectedDevice();o.getCustomerAccountStatus(n).then((function(e){if("DUMMY_ACCOUNT"==e.accountStatus){var o={error_message:"In order to continue with the transaction, you must first add the phone to this account or log out.",error_translate:"HPP_303",error_type:"FAILURE"};return void g.handleError(o,t)}if(angular.isDefined(e.ban_id)&&(c.setBanId(e.ban_id),"SIMPLE_MOBILE"==a.brand&&angular.isDefined(t.data.device))){var s=n.deviceType,l=n.zipcode,d=n.esn;i.getProductOfferingPrograms({deviceType:s,zipcode:l,esn:d}).then((function(e){if(angular.isDefined(e.productOffering))n.hppDetails=e,i.setSelectedDevice(n),r.path("/asurion/hppplans/redemption");else if(angular.isDefined(e.enrollStatus)&&"ENROLLED"==e.enrollStatus){var a={error_message:"Whoops. It looks like you&#39;re already enrolled in our Mobile Protect Program. If you need assistance with your account, please contact Asurion at 1-866-598-4874.",error_translate:"ERROR_1986073",error_type:"FAILURE"};g.handleError(a,t)}else{var a={error_message:"Unfortunately, your device is not eligible for our Handset Protection Program.",error_translate:"HPP_304",error_type:"FAILURE"};g.handleError(a,t)}})).catch((function(e){g.handleError(e,t)}))}})).catch((function(e){g.handleError(e,t)}))})).catch((function(e){g.handleError(e,t)}))}}angular.module("app").controller("hppLandingPageController",e),e.$inject=["$uibModal","$scope","$log","$appConfig","$deviceService","$location","$renewalservices","$done","$devicesCartServices","$cartService","$rootScope","$appRoutes","$appConstants","$filter","$errorHandler","$userService","$translate"]})(),(function(){"use strict";function e(e,t,n,a,i,r,o,s,c,l,d,u,p,v,g,m,f){t.init=function(){var e=i.getSelectedDevice();angular.isDefined(e)&&(v.setSessionItem("selDevice1",e),t.hppDetails=e.hppDetails),angular.isUndefined(e)&&angular.isUndefined(i.getHppDevice())?null!=(e=v.getSessionItem("selDevice1"))&&(t.hppDetails=e.hppDetails,i.setSelectedDevice(e)):angular.isDefined(i.getHppDevice())&&(e=i.getHppDevice(),t.hppDetails=e.hppDetails,i.setSelectedDevice(e)),angular.isDefined(i.getHppDetails())&&(t.hppDetails=i.getHppDetails());var n={},a={};t.hppPlansArr=[],angular.isDefined(t.hppDetails.productOffering)&&t.hppDetails.productOffering.length>0&&(t.hppDetails.productOffering.map((function(e,t){1==e.is13Month?n=e:1==e.is24month&&(a=e)})),t.hppPlansArr.push(n),t.hppPlansArr.push(a),t.plan13Mnths=n,t.plan24Mnths=a)},t.hppPlansMore=[],t.initMore=function(){t.allSliderPlan=!0;var e=i.getSelectedDevice();t.hppPlansMore=[],angular.isDefined(e.selectedHPPPlan)&&t.hppPlansMore.push(e.selectedHPPPlan)},t.clickSlider=function(){if(t.allSliderPlan=!1,angular.isDefined(i.getSelectedDevice().hppDetails.productOffering))var e=i.getSelectedDevice().hppDetails;else var e=i.getHppDetails();var n={},a={};t.hppPlansMore=[],angular.isDefined(e.productOffering)&&e.productOffering.length>0&&(e.productOffering.map((function(e,t){1==e.is13Month?n=e:1==e.is24month&&(a=e)})),t.hppPlansMore.push(n),t.hppPlansMore.push(a))},t.compareHPPPlans=function(){e.open({animation:!1,templateUrl:"app/views/asurion/hpp/sm_hpp_comp_plans_popup.html",controller:["$scope","$uibModalInstance","$deviceService",function(e,t,n){var a=n.getSelectedDevice(),i=a.hppDetails,r={},o={};angular.isDefined(i.productOffering)&&i.productOffering.length>0&&(i.productOffering.map((function(e,t){1==e.is13Month?r=e:1==e.is24month&&(o=e)})),e.plan13Months=r,e.plan24Months=o),e.cancel=function(){t.dismiss("cancel")},e.selectHPPPopup=function(a){0==l.getPlans().length&&angular.isDefined(n.getSelectedDevice().cartPlans)&&(l.resetPlans(n.getSelectedDevice().cartPlans),delete n.getSelectedDevice().cartPlans),l.stagePlan(a),l.addPlanToCart(l.getStagedPlan()),l.clearStagedPlan(),c.setSMHppEnrollFlowFlag("yes"),m.validateProvisionLogin().then((function(e){
"ACTIVATION_LOGIN"==e.redirect?s.redirect(u.activation.createaccount):s.redirect(u.activation.checkout)})).catch((function(t){$errorHandler.handleError(t,e)})),t.dismiss("cancel")}}],windowTopClass:"tf-modal",backdrop:"static",resolve:{}})},t.selectHPPPlan=function(e){var a=v.getSessionItem("$devicesCartServices");if(a.saveddevices.length>0){t.selectedplan=v.getSessionItem("selectedplan"),t.serialNumber=a.saveddevices[0].esn,c.setSMHppChangeFlag(!0),t.selectedplan&&c.removePlanFromDevice(t.serialNumber,t.selectedplan);var r=a.saveddevices;r.length-1>1&&(r[r.length-1][0].plans,a.saveddevices[r.length-1][0].plans[1]=e);var o=v.getSessionItem("$devicesCartServices");v.setSessionItem("$devicesCartServices",a),o=v.getSessionItem("$devicesCartServices"),i.setSelectedDevice(o.saveddevices)}0==l.getPlans().length&&angular.isDefined(i.getSelectedDevice().cartPlans)&&(l.resetPlans(i.getSelectedDevice().cartPlans),delete i.getSelectedDevice().cartPlans),l.stagePlan(e),l.addPlanToCart(l.getStagedPlan()),l.clearStagedPlan(),c.setSMHppEnrollFlowFlag("yes"),m.validateProvisionLogin().then((function(e){l.getStagedPlan()&&(l.addPlanToCart(l.getStagedPlan()),l.clearStagedPlan()),"ACTIVATION_LOGIN"==e.redirect?(n.debug("provisionloginRes::ACTIVATION_LOGIN"),s.redirect(u.activation.createaccount)):s.redirect(u.activation.checkout)})).catch((function(e){n.debug(e),$errorHandler.handleError(e,t)})),v.setSessionItem("selectedplan",e)},t.selectHPPPlanRedeem=function(e){t.seePlansFlag=i.getSeePlansFlag(),i.setCheckoutFlowFlag(!0),angular.isDefined(i.getSelectedDevice())?t.device=i.getSelectedDevice():angular.isDefined(i.getHppDevice())&&(t.device=i.getHppDevice()),t.seePlansFlag&&angular.isDefined(t.device)&&angular.isDefined(t.device.execution_plan)&&delete t.device.execution_plan,t.device.selectedHPPPlan=e,i.setSelectedDevice(t.device),l.stagePlan(e),c.setIsChngPlanRenewal(!1),l.addPlanToCart(l.getStagedPlan()),l.clearStagedPlan(),o.estimateNoPlanChange({renewalType:p.smHPPConfig.renewalType}).then((function(e){c.setSMHppEnrollFlowFlag("yes"),s.redirect(u.activation.checkout)})).catch((function(e){}))},t.selectHPPMoreInfo=function(e){var t=i.getSelectedDevice();t.selectedHPPPlan=e,i.setSelectedDevice(t),s.redirect(u.asurion.redemptionmoreinfo)},t.skipEnrollment=function(){c.setSMHppEnrollFlowFlag("no");var e=v.getSessionItem("$devicesCartServices").saveddevices;if(void 0!==e[0]&&void 0!==e[0].plans&&e[0].plans.hasOwnProperty(1)){var n=e[0].plans[1],a=e[0].esn;c.removePlanFromDevice(a,n)}m.validateProvisionLogin().then((function(e){"ACTIVATION_LOGIN"==e.redirect?s.redirect(u.activation.createaccount):s.redirect(u.activation.checkout)})).catch((function(e){$errorHandler.handleError(e,t)}))},t.backDashboard=function(){r.path("/asurion/hppplans/redemption")},t.view={hppTermsConditionUrl:""},t.view.hppTermsConditionUrl=f.getTermsConditionHppUrl(t.enrolledPlan),t.showTermsAndConditions=function(){var e=i.getSelectedDevice();angular.isDefined(e.cartPlans)||(e.cartPlans=l.getPlans(),i.setSelectedDevice(e)),r.path("/termsandconditions")},t.checkFrequentlyAskedQuestions=function(){var e=i.getSelectedDevice();angular.isDefined(e.cartPlans)||(e.cartPlans=l.getPlans(),i.setSelectedDevice(e)),window.location.href="https://support.simplemobile.com"}}angular.module("app").controller("hppplansController",e),e.$inject=["$uibModal","$scope","$log","$appConfig","$deviceService","$location","$renewalservices","$done","$devicesCartServices","$cartService","$rootScope","$appRoutes","$appConstants","$serviceUtils","$window","$actreactportUpgradeService","$utils"]})(),(function(){"use strict";function e(e,t,n,a,i,r){e.loyalty_points_fields=e.view.checkLRPPaymentToggleStatus,e.tandcSel=!1,e.view.shwTermsError=!1,e.clickdTC=function(){e.view.hideLRPInCheckout||(e.tandcSel=!e.tandcSel,e.tandcSel&&(e.view.shwTermsError=!1))},e.claimRewards=function(){if(!e.view.hideLRPInCheckout){if(!e.tandcSel)return void(e.view.shwTermsError=!0);n.placeOrder({paymentType:i.event.exist,paymentSource:e.data,cc_fields:{},loyalty_points_fields:e.loyalty_points_fields,bank_fields:{}}).then((function(n){e.place_order_btn_disabled=!1,angular.isDefined(document.querySelectorAll("div.cart_nav.hidden-xs"))&&document.querySelectorAll("div.cart_nav.hidden-xs").length>0&&document.querySelectorAll("div.cart_nav.hidden-xs")[0].classList.remove("hide"),a.setOrderSummary(n),t.url("purchasesummary")})).catch((function(t){e.place_order_btn_disabled=!1,e.setPoError(t),r.handleError(t,e)}))}}}angular.module("app").controller("rewardsSummary",e),e.$inject=["$scope","$location","$checkoutService","$cartService","$appConstants","$errorHandler"]})(),angular.module("app").controller("ModalDemoCtrl",["$scope","$uibModal","$log",function(e,t,n){e.items=["item1","item2","item3"],e.animationsEnabled=!0,e.open=function(a){t.open({animation:e.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",size:a,resolve:{items:function(){return e.items}}}).result.then((function(t){e.selected=t}),(function(){n.info("Modal dismissed at: "+new Date)}))},e.toggleAnimation=function(){e.animationsEnabled=!e.animationsEnabled}}]),angular.module("app").controller("ModalInstanceCtrl",["$scope","$uibModalInstance","items",function(e,t,n){e.items=n,e.selected={item:e.items[0]},e.ok=function(){t.close(e.selected.item)},e.cancel=function(){t.dismiss("cancel")}}]),angular.module("app").controller("TestPlugin",["$scope","$timeout",function(e,t){e.data={},e.showcontent=!1,t((function(){e.showcontent=!0}),2e3),e.data.test="MasterCard",e.data.test1="MasterCard",e.data.test2="MasterCard",e.opened=!1,e.open=function(){$log.log(e.opened),e.opened=!e.opened},e.deletePlan=function(){$log.log("*Delete"),$log.log(e.plan)},e.quantityChange=function(){$log.log("*quantityChange"),$log.log(e.plan)},e.enrollChange=function(){$log.log("*enrollChange"),$log.log(e.plan)},e.plan={price:"12.56",enrollprice:"11.12",auto_refill:!0,voice:100,sms:150,data:1254,service_days:30,enrol_promo:{promoPrice:"11.12"}}}]),angular.module("app").directive("tfHeaderLink",(function(){return{restrict:"E",scope:{action:"&?",translateText:"@?"},templateUrl:"tf-header-link.html"}})),angular.module("app").directive("tfLeftAlign",(function(){function e(e,t,n){angular.element(t).addClass("pull-left"),angular.element(t).addClass("text-left")}return{restrict:"A",link:e}})),angular.module("app").directive("tfNumbersonly",(function(){return{restrict:"A",link:function(e,t,n,a){t.on("keydown",(function(e){return e.shiftKey?(e.preventDefault(),!1):[8,13,27,37,38,39,40].indexOf(e.which)>-1||(e.which>=48&&e.which<=57||(e.which>=96&&e.which<=105||(e.preventDefault(),!1)))}))}}})),angular.module("app").directive("tfPhoneType",(function(){return{restrict:"E",scope:{translateTxt:"@?",deviceType:"@?",text:"@?"},templateUrl:"tf-phone-type.html"}})),angular.module("app").directive("tfPage",(function(){function e(e,t,n){e.heading={text:n.headingText,icon:n.headingIcon,translate:n.headingTranslate},setTimeout((function(){t.find("h1").focus()}),500)}return{restrict:"E",transclude:{body:"?tfPageBody"},scope:{},templateUrl:"tfPage.html",link:e}})),angular.module("app").directive("tfStackedIcon",(function(){return{restrict:"E",templateUrl:"tf-stacked-icon.html",scope:{icon:"=",isVisible:"=?"}}})),(function(){angular.module("app").controller("AccordionCtrl",["$scope",function(e){e.oneAtATime=!0,e.status={isCustomHeaderOpen:!1,isFirstOpen:!0,isFirstDisabled:!1}}])})(),(function(){angular.module("app").directive("accordion",(function(){return{transclude:!0,replace:!0,restrict:"E",template:function(e,t){return'<div ng-controller="AccordionCtrl" class="accordion theme_'+t.themeColor+'"><uib-accordion close-others="oneAtATime"><div uib-accordion-group is-open="status.isOrderReviewOpen"><uib-accordion-heading><span class=" fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x" ng-class="{faminus: status.isOrderReviewOpen, faplus: !status.isOrderReviewOpen}"></i></span>'+t.headingText+'</uib-accordion-heading><div class="accordion_panel" ng-transclude></div></div></uib-accordion></div>'}}}))})(),angular.module("app").directive("tfAccordionView",(function(){return{restrict:"E",scope:{isOpen:"=",headingText:"@",iconType:"@?",imageName:"@?",imageClass:"@?",imageAlttext:"@?",showImage:"@?"},templateUrl:"tf-accordion-view.html"}})),angular.module("app").directive("tfAccordionViewSecondary",(function(){return{restrict:"E",scope:{isOpen:"=",headingText:"@",iconType:"@?",imageName:"@?",imageClass:"@?",imageAlttext:"@?",showImage:"@?"},templateUrl:"tf-accordion-view-secondary.html"}})),angular.module("app").directive("abpScript",["$appConfig","$window",function(e,t){return{restrict:"E",scope:{},transclude:!0,link:function(){var t,n=document.getElementsByTagName("head")[0];t=document.createElement("script"),t.src=e.abp_url,t.type="text/javascript",t.crossorigin="anonymous",n.appendChild(t)}}}]),(function(){angular.module("app").directive("a",(function(){return{restrict:"E",link:function(e,t,n){angular.isDefined(n.href)||angular.element(t).attr("href","javascript:void(0)"),e.$watch("$root.showSpinner",(function(){e.$root.showSpinner?angular.element(t).addClass("adisabled"):angular.element(t).removeClass("adisabled")}),!0)}}}))})(),(function(){angular.module("app").directive("tfBiProgress",(function(){function e(e,t){e.animated_text="",e.count=0,t((function(){5==e.count&&(e.count=0),e.animated_text="";for(var t=0;t<=e.count;t++)e.animated_text=e.animated_text+"-";e.count++}),1e3)}return e.$inject=["$scope","$interval"],{restrict:"E",scope:{animated:"="},templateUrl:"tf-bi-progress.html",controller:e}})),angular.module("app").directive("tfMinuteCounter",(function(){function e(e,t){e._counter=0,e.count=function(){e._counter=e._counter+1},t((function(){e.count()}),6e4)}return e.$inject=["$scope","$interval"],{restrict:"E",scope:{timer:"="},templateUrl:"tf-minute-counter.html",controller:e}}))})(),(function(){angular.module("app").directive("billingSummary",["$appConfig",function(e){return{restrict:"E",templateUrl:"billingSummary.html",scope:{view:"=",taxSummary:"=",formName:"<",devicePopup:"&",plOrder:"&",data:"=?"},link:function(t){t.multiline=e.features.multiline,t.devicepopup=function(e){t.devicePopup({tax:e})}},controller:["$scope",function(e){e.rewardsTermsOfUse=function(){window.open("/rewards/termsofuse","_blank")}}]}}]),angular.module("app").directive("billingSummaryDetails",(function(){return{restrict:"E",templateUrl:"billingSummaryDetails.html",scope:{chargesLabel:"@?",chargesValue:"=?",airtimeSummary:"@?",negativeSign:"=?",loyaltypointsRedeemable:"=?",partnerName:"=?"}}})),angular.module("app").directive("pointsBreakDown",(function(){return{restrict:"E",templateUrl:"pointsBreakDown.html",scope:{chargesLabel:"@?",chargesValue:"=?"}}}))})(),(function(){angular.module("app").directive("tfBillingAddress",["$timeout","$zipcodeService","$zipcodeValidationService","$appConfig",function(e,t,n,a){return{restrict:"E",scope:{billingInfo:"=?",showPhone:"@?",tabIndex:"@?",zipCodeValidationStatus:"=?"},link:function(i,r,o){var s=!1,c=0;i.$watchCollection("billingInfo.zip",(function(e,n){if(angular.isDefined(e)){var a="USA"==i.billingInfo.country?4:1;if(e.length>a){var r=i.billingInfo.country;t.getStateAndCityFromZip(e,r).then((function(e){""===e.city||""===e.state?(s=!0,i.stateFailed=""===e.state||(i.billingInfo.state=e.state)):(i.billingInfo.state=e.state.toUpperCase(),i.billingInfo.city=e.city,s=!1,i.stateFailed=!1)}),(function(e){i.billingInfo.state="",s=!0,i.stateFailed=!1}))}}})),i.$watchCollection("billingInfo.zip",(function(e,t){if(i.zipCodeValidationStatus=!0,angular.isDefined(e)&&5==e.length){var r=a.source_system;c++,n.validateZipCode(e,c,r).then((function(e){("success"===angular.lowercase(e.status.type)&&"0"===e.status.code||"info"===angular.lowercase(e.status.type)&&"30002"===e.status.code)&&(n.setPlaceOrderValidity(!1),i.zipCodeValidationStatus=!0)})).catch((function(e){"failure"===angular.lowercase(e.status.type)&&"30001"===e.status.code?(n.setPlaceOrderValidity(!0),i.zipCodeValidationStatus=!1):n.setPlaceOrderValidity(!1)}))}})),i.$watchCollection("billingInfo.country",(function(e,t){angular.isDefined(e)&&t!=e&&(i.billingInfo.zip="",i.billingInfo.state="",i.billingInfo.city="",i.stateFailed=!1)})),i.$watchCollection("billingInfo.firstname",(function(e,t){angular.isDefined(e)&&(i.billingInfo.firstname=i.billingInfo.firstname.replace(/[^A-Za-z]/gi,""))})),i.$watchCollection("billingInfo.lastname",(function(e,t){angular.isDefined(e)&&(i.billingInfo.lastname=i.billingInfo.lastname.replace(/[^A-Za-z]/gi,""))})),angular.equals({},i.billingInfo)&&e((function(){i.billingInfo={country:"USA"}}),100)},templateUrl:"billingaddress_tpl.html"}}])})(),angular.module("app").directive("braintreeScript",["$appConfig","$window",function(e,t){return{restrict:"E",scope:{},transclude:!0,link:function(){var t,n,a,i,r,o=document.getElementsByTagName("head")[0];t=document.createElement("script"),a=document.createElement("script"),n=document.createElement("script"),r=document.createElement("script"),i=document.createElement("script"),t.src=e.braintree_url,t.type="text/javascript",t.id="braintree_sdk",n.src=e.braintree_venmo_url,n.type="text/javascript",n.id="braintree_venmo_sdk",a.src=e.braintree_pay_pal_url,a.type="text/javascript",a.id="braintree_paypal_sdk",i.src=e.braintree_device_collector_url,i.type="text/javascript",i.id="braintree_device_collector_sdk",r.src=e.pay_pal_url,r.type="text/javascript",r.id="paypal_sdk",o.appendChild(t),o.appendChild(a),o.appendChild(n),o.appendChild(i),o.appendChild(r)}}}]),angular.module("app").directive("braintreePay",["$appConfig","$window","$rootScope",function(e,t,n){return{restrict:"E",scope:{},transclude:!0,link:function(a,i,r){var o={};JSON.parse(t.sessionStorage.getItem("PAYPAL_CLIENT_ID"));braintree.client.create({authorization:JSON.parse(t.sessionStorage.getItem("BRAINTREE_TOKEN"))}).then((function(t){return braintree.dataCollector.create({client:t,paypal:!0}).then((function(e){o.deviceData=e.deviceData})).catch((function(t){console.error("Device Data Error",t),e.features.braintreeDeviceDataStrict&&(n.disablePaypal=!1,a.$emit("PAYPAL_ORDER_FAILED_EVENT"))})),braintree.paypalCheckout.create({client:t})})).then((function(e){return paypal.Buttons({style:{height:50},createBillingAgreement:function(){return e.createPayment({flow:"vault",intent:"tokenize",enableShippingAddress:!0,requestBillingAgreement:!0,currency:"USD"})},onApprove:function(t,i){o.data=t,o.actions=i,e.tokenizePayment(t).then((function(e){o.tokenizePayment=e,a.$emit("BRAINTREE_PAYMENT_SUCCESS_EVENT",o)})).catch((function(e){console.error("Payment Tokenization Error: ",e),n.disablePaypal=!1,a.$emit("PAYPAL_ORDER_FAILED_EVENT")})),n.disablePaypal=!1},onCancel:function(){n.disablePaypal=!1},onError:function(e){console.error("Payment Auth Error",e),n.disablePaypal=!1,a.$emit("PAYPAL_ORDER_FAILED_EVENT")}}).render("#braintree-paypal-button-container")})).catch((function(e){console.error("Client Error!",e),n.disablePaypal=!1,a.$emit("PAYPAL_ORDER_FAILED_EVENT")}))},template:'<div id="braintree-paypal-button-container"></div>'}}]);const defaultAddress={billingAddress:{line1:"No Address Provided",line2:"No Address Provided",city:"Miami",countryCode:"USA",state:"FL",postalCode:"33116"}};angular.module("app").directive("braintreeVenmo",["$appConfig","$window","$log","$rootScope",function(e,t,n,a){return{restrict:"E",scope:{},transclude:!0,link:function(e,i,r){function o(e){d.addEventListener("click",(function(){d.disabled=!0,e.tokenize().then(c).catch(s).then((function(){d.removeAttribute("disabled")}))}))}function s(e){n.info("handle venmo ",e),"VENMO_CANCELED"===e.code?n.info("App is not available or user aborted payment flow"):"VENMO_APP_CANCELED"===e.code?n.info("User canceled payment flow"):n.error("An error occurred:",e.message)}function c(e){e.details.billingAddress=defaultAddress.billingAddress,l.tokenizePayment=e,n.info("Venmo tokenizePayment payload:",e),document.getElementById("venmo").checked=!0,a.paymentType="venmo",a.$broadcast("BRAINTREE_PAYMENT_SUCCESS_EVENT",l),d.disabled=!0,d.style.display="none"}var l={},d=document.getElementById("venmo-button");braintree.client.create({authorization:JSON.parse(t.sessionStorage.getItem("BRAINTREE_TOKEN"))}).then((function(e){return Promise.all([braintree.dataCollector.create({client:e,paypal:!0}),braintree.venmo.create({client:e,allowDesktop:!0,allowNewBrowserTab:!1,ignoreHistoryChanges:!0})])})).then((function(e){var t=e[0],a=e[1];if(n.info("Venmo dataCollector deviceData:",t.deviceData),l.deviceData=t.deviceData,!a.isBrowserSupported())return void n.info("Browser does not support Venmo",navigator.appVersion);o(a),a.hasTokenizationResult()&&(d.disabled=!0,d.style.display="none")}))},template:'<input type="image" id="venmo-button" src="assets/images/venmobutton.svg"></input>'}}]),(function(){angular.module("app").directive("brandFeatures",[function(){return{restrict:"A",controller:["$scope","$element","$attrs","$appConfig",function(e,t,n,a){angular.isDefined(a.features[n.brandFeatures])&&(a.features[n.brandFeatures]||t.remove())}]}}])})(),(function(){angular.module("app").directive("createAccountIcon",(function(){return{restrict:"E",transclude:!0,replace:!0,template:"<div ng-transclude></div>"}}))})(),(function(){angular.module("app").directive("tfCreditCardForm",["$filter",function(e){return{restrict:"E",scope:{creditCardInfo:"=?",preferences:"=?",theme:"@",formName:"@?",labelName:"@?",bankInfo:"=?",showBank:"@",tabIndex:"@?",dummy:"@?"},link:function(t,n,a){angular.isUndefined(t.preferences)&&(t.preferences={showCVV:!1,isUserLoggedIn:!1,isSavetoAcctDisable:!1}),t.months=t.$root.months,angular.forEach(t.months,(function(e){e.isActive=!0})),t.years=t.$root.ccExpYears,t.$watchCollection("creditCardInfo.expiration_year",(function(n,a){var i=e("date")(new Date,"MM"),r=e("date")(new Date,"yyyy");angular.isDefined(n)&&(n===r?(angular.forEach(t.months,(function(e){parseInt(i)>parseInt(e.id)&&(e.isActive=!1)})),t.creditCardInfo.expiration_month&&(t.creditCardInfo.expiration_month=parseInt(t.creditCardInfo.expiration_month.id)<parseInt(i)?void 0:t.creditCardInfo.expiration_month)):angular.forEach(t.months,(function(e){e.isActive=!0})))}))},templateUrl:"creditcardform_tpl.html"}}])})(),angular.module("app").directive("easyExchangePlan",(function(){return{restrict:"E",templateUrl:"easy-exchange-plan-view.html",scope:{moreInfoPopup:"&?",easyExchangeType:"@?",imageName:"@?",headerText:"@?",infoPopup:"@?",planDescription:"@?",planDetails:"=?",planEnroll:"&?",heightGroup:"@?"},link:function(e,t,n){}}})),(function(){angular.module("app").directive("tfEditHideInline",(function(){return{restrict:"E",scope:{isOpen:"=",editAction:"&?",hideAction:"&?",tabIndex:"@?",shwLabel:"@?",txtDec:"@"},templateUrl:"tf-edit-hide-inline.html"}})),angular.module("app").directive("tfEditCancelInline",(function(){return{restrict:"E",scope:{isOpen:"=",cancelAction:"&?",tabIndex:"@?"},templateUrl:"tf-edit-cancel-inline.html"}}))})(),(function(){angular.module("app").directive("errormsg",(function(){function e(e){e.isOpen=function(){return angular.isDefined(e.error)&&(angular.isDefined(e.error.error_message)||angular.isDefined(e.error.error_translate))},e.close=function(){e.error={}},e.isTranslationAvail=function(){return angular.isDefined(e.error)&&angular.isDefined(e.error.error_translate)}}return e.$inject=["$scope"],{restrict:"E",scope:{error:"="},template:function(e,t){return'<div class="errormsg-primary tf-alert alert alert-danger" ng-show="isOpen()"><span title="{{error.error_message | translate}}" ng-if="!isTranslationAvail()"><i class="icon-exclamation-triangle" role="presentation"></i><span ng-bind-html="error.error_message"></span></span><span title="{{error.error_translate | translate}}" ng-if="isTranslationAvail()"><i class="icon-exclamation-triangle" role="presentation"></i><span translate="{{error.error_translate}}"></span></span></div>'},controller:e}}))})(),(function(){angular.module("app").directive("tfDate",(function(){function e(e){var t=new Date,n=t.getFullYear()-13,a=new Date("31-Dec-"+n);e.date_options={maxDate:a,datepickerMode:"year"},this.getScope=function(){return e},e.opened=!1,e.open=function(){e.opened=!e.opened}}return e.$inject=["$scope"],{templateUrl:"tfDate.html",restrict:"E",scope:{modelValue:"=",maxDate:"@?",id:"@?",name:"@?",placeholderText:"@?",optional:"@?",tabIndex:"@?",fieldDescription:"@?",screenReaderText:"@?"},controller:e}})),angular.module("app").directive("tfCvvNumber",(function(){function e(e){this.getScope=function(){return e}}return e.$inject=["$scope"],{templateUrl:"tfCVVNumber.html",restrict:"E",scope:{modelValue:"=",id:"@?",name:"@?",placeholderText:"@?",maxLength:"@?"},controller:e}})),angular.module("app").directive("tfType",["$appConfig","$compile",function(e,t){var n={creditcard:{validator:"creditcard,luhn",validMethod:"blur","creditcard-error-message":"RDSG_5216","field-description":"ERROR_1985697"},email:{validator:"email",validMethod:"blur","email-error-message":"ERROR_1985624","field-description":"ERROR_1985699"},confirmemail:{validator:"matching",validMethod:"blur","matching-error-message":"EMAIL_DONT_MATCH"},minemail:{validator:"minemailcheck",validMethod:"blur"},minemailsimesn:{validator:"minemailsimesncheck",validMethod:"blur"},minemailsim:{validator:"minemailsimcheck",validMethod:"blur"},minsimesn:{validator:"minsimesncheck",validMethod:"blur"},esnsimmin:{validator:"number,minlength=14,maxlength=21",validMethod:"blur","number-error-message":"ERROR_1985631","minlength-error-message":"ERROR_1985647"},simmin:{validator:"number, minlength=10",validMethod:"blur","number-error-message":"ERROR_1985631","minlength-error-message":"ERROR_1985607"},esnmin:{validator:"number, minlength=11,maxlength=20",validMethod:"blur","number-error-message":"ERROR_1985631","minlength-error-message":"ERROR_1985615"},esnsim:{validator:"number, minlength=11",validMethod:"blur","number-error-message":"ERROR_1985631","minlength-error-message":"ERROR_1985615"},pinmin:{validator:"number, minlength=15",validMethod:"blur","number-error-message":"ERROR_1985631","minlength-error-message":"ERROR_1985616","field-description":"ERROR_1985698"},number:{validator:"number",validMethod:"blur","number-error-message":"ERROR_1985631"},password:{validator:"required","field-description":"ERROR_1985695"},specialcharPassword:{validator:"minlength=6, specialCharpassword",validMethod:"blur","minlength-error-message":"ERROR_1985798","field-description":"ERROR_1985695"},confirmpassword:{validator:"minlength=6, matching",validMethod:"blur","matching-error-message":"ERROR_1985627","minlength-error-message":"ERROR_1985900"},sim:{validator:"number, minlength=19",validMethod:"blur","number-error-message":"ERROR_1985631","minlength-error-message":"ERROR_1985617","field-description":"ERROR_1985692"},zip:{validator:"zipcode, maxlength=5",validMethod:"blur","zipcode-error-message":"ERROR_1985628","field-description":"ERROR_1985682"},zipCAN:{validator:"zipcodeCanada",validMethod:"blur","zipcode-error-message":"ERROR_1985628","field-description":"ERROR_1985682"},zipNONUSNONCAN:{validator:"zipcodeNonUSNonCanada",validMethod:"blur","zipcode-error-message":"ERROR_1985628","field-description":"ERROR_1985682"},securitypin:{validator:"number,minlength=4,maxlength=5",validMethod:"blur","minlength-error-message":"ERROR_1985629","maxlength-error-message":"ERROR_1985630","field-description":"ERROR_1985693"},securitypin_1:{validator:"number,minlength=4,maxlength=4",validMethod:"blur","minlength-error-message":"ERROR_1985629","maxlength-error-message":"ERROR_1985630","field-description":"ERROR_1985693"},lastfour_serial:{validator:"number,minlength=4,maxlength=4",validMethod:"blur","minlength-error-message":"ERROR_1985629","maxlength-error-message":"ERROR_1985630","field-description":"ERROR_1985741"},lastfour_sim:{validator:"number,minlength=4,maxlength=4",validMethod:"blur","minlength-error-message":"ERROR_1985629","maxlength-error-message":"ERROR_1985630","field-description":"ERROR_1985742"},sixdigits_verification:{validator:"number,minlength=6,maxlength=6",validMethod:"blur","minlength-error-message":"ERROR_1985629","maxlength-error-message":"ERROR_1985630","field-description":"ERROR_1985742"},cvv:{validator:"number,minlength=3,maxlength=4",validMethod:"blur","minlength-error-message":"ERROR_1985629","maxlength-error-message":"ERROR_1985630","field-description":"ERROR_1985687"},cvvamex:{validator:"number,minlength=4,maxlength=4",validMethod:"blur","minlength-error-message":"ERROR_1985629","maxlength-error-message":"ERROR_1985630","field-description":"ERROR_1985687"},alphabets:{validator:"onlyalpha,maxlength=20",validMethod:"blur,watch","onlyalpha-error-message":"ERROR_1985644"},alphanumeric:{validator:"alphanumeric,maxlength=30",validMethod:"blur","alphanumeric-error-message":"ERROR_1985645"},phonenumber:{validator:"phonenumber",validMethod:"blur","phonenumber-error-message":"ERROR_1985631"},lastfour:{validator:"number,minlength=4,maxlength=4",validMethod:"blur","lastfour-error-message":"ERROR_1985631","minlength-error-message":"ERROR_1985629"},dob:{validator:"dob",validMethod:"blur","dob-error-message":"ERROR_1985509"},bank_acc_num:{validator:"number,maxlength=17,minlength=4",validMethod:"blur","minlength-error-message":"ERROR_1985635","maxlength-error-message":"ERROR_1985635","field-description":"ERROR_1985688"},bank_route_num:{validator:"number,maxlength=9,minlength=9",validMethod:"blur","minlength-error-message":"ERROR_1985636","maxlength-error-message":"ERROR_1985636","field-description":"ERROR_1985689"},city:{validator:"city,maxlength=100",validMethod:"blur,watch","maxlength-error-message":"ERROR_1985636","field-description":"ERROR_1985680","city-error-message":"ERROR_1985833"},address:{validator:"address",validMethod:"blur,watch","field-description":"ERROR_1985678","address-error-message":"ERROR_1985835"},intlphonenumber:{validator:"intlphonenumber",validMethod:"blur","phonenumber-error-message":"ERROR_19553"},simbyop:{validator:"number",validMethod:"blur","number-error-message":"ERROR_1985631","field-description":"ERROR_1985692"},actNumber:{validator:"actNumber",validMethod:"blur","accnum-error-message":"ERROR_1985628","field-description":"ERROR_1985682"},actPwd:{validator:"actPwd",validMethod:"blur","accpin-error-message":"ERROR_1985631","field-description":"ERROR_1985713"},cdmaEsnCheck:{validator:"allowableDigits,cdmaNumber,cdmaAlphanumeric",validMethod:"blur","allowableDigits-error-message":"ERROR_1985631","cdmaNumber-error-message":"ERROR_10525","cdmaAlphanumeric-error-message":"ERROR_10526"}};return{restrict:"A",require:"^tfTextbox",link:function(a,i,r,o){var s=i[0].querySelector("input");if(angular.isDefined(r.tfRequired)&&angular.isUndefined(r.ariaRequired)&&angular.element(s).attr("aria-required","true"),angular.isDefined(r.tfType)){"number"!=r.tfType&&"zip"!=r.tfType&&"securitypin"!=r.tfType&&"cvv"!=r.tfType&&"cvvamex"!=r.tfType&&"zipCAN"!=r.tfType&&"zipNONUSNONCAN"!=r.tfType&&"creditcard"!=r.tfType&&"esnsimmin"!=r.tfType&&"sim"!=r.tfType&&"phonenumber"!=r.tfType&&"lastfour"!=r.tfType&&"pinmin"!=r.tfType&&"bank_route_num"!=r.tfType&&"city"!=r.tfType&&"bank_acc_num"!=r.tfType&&"password"!=r.tfType&&"confirmpassword"!=r.tfType&&"minemail"!=r.tfType&&"securitypin_1"!=r.tfType&&"email"!=r.tfType&&"lastfour_serial"!=r.tfType&&"lastfour_sim"!=r.tfType&&"address"!=r.tfType&&"minsimesn"!=r.tfType&&"intlphonenumber"!=r.tfType&&"sixdigits_verification"!=r.tfType||(angular.isUndefined(r.fieldDescription)||""==r.fieldDescription?angular.element(s).attr("field-description",n[r.tfType]["field-description"]):angular.isDefined(r.fieldDescription)&&angular.element(s).attr("field-description",r.fieldDescription)),"text"!=r.tfType&&"alphabets"!=r.tfType&&"alphanumeric"!=r.tfType||angular.isDefined(r.tfRequired)&&(angular.isUndefined(r.fieldDescription)||""==r.fieldDescription?angular.element(s).attr("field-description",r.placeholderText):angular.isDefined(r.fieldDescription)&&angular.element(s).attr("field-description",r.fieldDescription)),"email"==r.tfType?angular.element(s).attr("type","email"):"password"==r.tfType||"confirmpassword"==r.tfType||"specialcharPassword"==r.tfType||"cvv"==r.tfType||"cvvamex"==r.tfType?angular.element(s).attr("type","password"):"number"==r.tfType||"zip"==r.tfType||"securitypin"==r.tfType||"zipCAN"==r.tfType||"zipNONUSNONCAN"==r.tfType||"creditcard"==r.tfType||"esnsimmin"==r.tfType||"sim"==r.tfType||"phonenumber"==r.tfType||"lastfour"==r.tfType||"intlphonenumber"==r.tfType||"simbyop"==r.tfType?angular.element(s).attr("type","tel"):angular.element(s).attr("type","text");var c=[],l="blur";if(angular.isDefined(r.tfRequired)&&(c.push("required"),angular.element(s).attr("required-error-message",e.requiredErrorMessage)),angular.isDefined(n[r.tfType])){c.push(n[r.tfType].validator),l=n[r.tfType].validMethod;for(var d in n[r.tfType])d.endsWith("error-message")&&angular.element(s).attr(d,n[r.tfType][d])}c.length>0&&(angular.element(s).attr("valid-method",l),angular.element(s).attr("validator",c.join()))}t(s)(o.getScope())}}}]),angular.module("app").directive("tfSelectbox",(function(){return{templateUrl:"tfSelectbox.html",restrict:"E",scope:{dataModel:"=model",placeholder:"@",options:"=",name:"@?",id:"@?",validatorName:"@?",validateMethod:"@?"}}})),angular.module("app").directive("tfCheckbox",(function(){return{templateUrl:"tfcheckbox.html",restrict:"E",scope:{dataModel:"=model",id:"@?",name:"@?",label:"@?",checkboxClass:"@?",checkboxChecked:"@?",validatorName:"@?"}}})),angular.module("app").directive("tfradio",(function(){return{templateUrl:"tfradio.html",restrict:"E",scope:{dataModel:"=model",radioId:"@?",radioName:"@?",radioValue:"@?",radioLabel:"@?",radioClass:"@?",radioChecked:"@?",validatorName:"@?"},link:function(e,t,n){e.radio={checked:n.checked}}}})),angular.module("app").directive("tfButton",(function(){return{templateUrl:"tfbutton.html",restrict:"E",scope:{dataModel:"=model",validateSubmit:"@",submitForm:"@?",text:"@?",type:"@?",id:"@?",name:"@?",action:"&"},link:function(e){"primary"==e.type&&(e.classname="btn_primary"),"secondary"==e.type&&(e.classname="btn_secondary")}}}))})(),(function(){angular.module("app").directive("tfUsername",(function(){return{templateUrl:"tfusername.html",scope:{dataModel:"=model",help:"@?",ctaText:"@?",ctaAction:"&?",ctaUrl:"@?",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfPassword",(function(){return{templateUrl:"tfpassword.html",scope:{dataModel:"=model",help:"@?",ctaText:"@?",ctaAction:"&?",ctaUrl:"@?",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfEmail",(function(){return{templateUrl:"tfemail.html",scope:{dataModel:"=model",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfFirstname",(function(){return{templateUrl:"tffirstname.html",scope:{dataModel:"=model",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfLastname",(function(){return{templateUrl:"tflastname.html",scope:{dataModel:"=model",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfPhonenumber",(function(){return{templateUrl:"tfphonenumber.html",scope:{dataModel:"=model",uiMaskFormat:"@?",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfMinPhonenumber",(function(){return{templateUrl:"tfminphone.html",scope:{dataModel:"=model",uiMaskFormat:"@?",help:"@?",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfAddress1",(function(){return{templateUrl:"tfaddress1.html",scope:{dataModel:"=model",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfAddress2",(function(){return{templateUrl:"tfaddress2.html",scope:{dataModel:"=model",id:"@?",name:"@?",value:"@?"}}})),angular.module("app").directive("tfCity",(function(){return{templateUrl:"tfcity.html",scope:{dataModel:"=model",options:"=",name:"@?",id:"@?"}}})),angular.module("app").directive("tfState",(function(){return{templateUrl:"tfstate.html",scope:{dataModel:"=model",options:"=",name:"@?",
id:"@?"}}})),angular.module("app").directive("tfCountry",(function(){return{templateUrl:"tfcountry.html",scope:{dataModel:"=model",options:"=",name:"@?",id:"@?"}}})),angular.module("app").directive("tfZipcode",(function(){return{templateUrl:"tfzipcode.html",scope:{dataModel:"=model",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfCreditcard",(function(){return{templateUrl:"tfcreditcard.html",scope:{dataModel:"=model",id:"@?",name:"@?",value:"@?",validation:"@"}}})),angular.module("app").directive("tfContinueButton",(function(){return{templateUrl:"tfcontinuebtn.html",scope:{dataModel:"=model",validateSubmit:"@",submitForm:"@?",type:"@?",id:"@?",name:"@?",action:"&"}}})),angular.module("app").directive("tfSaveButton",(function(){return{templateUrl:"tfsavebtn.html",scope:{dataModel:"=model",validateSubmit:"@",submitForm:"@?",type:"@?",id:"@?",name:"@?",action:"&"}}}))})(),(function(){angular.module("app").controller("hideOnEventController",["$scope","$route","$interval",function(e,t,n){console.log("hideOnEventController"),e.hideOnEvent=function(){if(console.log("events",e._eventNames),angular.isDefined(e._eventNames)&&angular.isArray(e._eventNames)){console.log("events",e._eventNames);for(var t=0;t<e._eventNames.length;t++){var n=e._eventNames[t];e.$on(n,(function(t,a){console.log("received event",n),angular.element(e._element).css("display","none")}))}}},n((function(){e.hideOnEvent()}),1,1)}])})(),(function(){angular.module("app").directive("hideOnEvent",["$timeout",function(e){return{restrict:"A",controller:"hideOnEventController",link:function(e,t,n){console.log(e),e._eventNames=n.hideOnEvent.split(","),e._element=t}}}])})(),angular.module("app").directive("tfHeightGroup",(function(){function e(e,t,n,a){angular.element(n).bind("resize",(function(){e.processHeightgroup()})),e.$on("change-language",(function(){e.processHeightgroup()})),e.processHeightgroup=function(){t((function(){var t=document.querySelectorAll("div[tf-height-group='"+e.tfHeightGroup+"'"),n=0;angular.forEach(t,(function(e,t){angular.element(e).css("height","auto")})),angular.forEach(t,(function(e,t){n<e.offsetHeight&&(n=e.offsetHeight)})),angular.forEach(t,(function(e,t){angular.element(e).css("height",n+"px")}))}),200)},e.processHeightgroup(),e.bindImages=function(){t((function(){var t=document.querySelectorAll("div[tf-height-group='"+e.tfHeightGroup+"'] img");angular.forEach(t,(function(t,n){angular.element(t).bind("load",(function(){e.processHeightgroup()}))}))}),200)},e.bindImages()}return e.$inject=["$scope","$timeout","$window","$interval"],{restrict:"A",scope:{tfHeightGroup:"@?"},controller:e}})),(function(){angular.module("app").controller("hideOnPageController",["$scope","$route","$interval",function(e,t,n){e.purpose=function(t){var n=!1;if(angular.isDefined(e._hideOnPageList)&&angular.isArray(e._hideOnPageList)){for(var a=0;a<e._hideOnPageList.length;a++){var i=e._hideOnPageList[a];angular.isDefined(t.$$route.pageId)&&i==t.$$route.pageId&&(n=!0)}n?angular.element(e._element).css("display","none"):angular.element(e._element).css("display","block")}},e.$on("$routeChangeSuccess",(function(t,n,a){e.purpose(n)})),e.$on("change-language",(function(){e.purpose(t.current)})),n((function(){e.purpose(t.current)}),1,1)}])})(),(function(){angular.module("app").directive("hideOnPage",["$timeout",function(e){return{restrict:"A",controller:"hideOnPageController",link:function(e,t,n){e._hideOnPageList=n.hideOnPage.split(","),e._element=t}}}])})(),(function(){angular.module("app").directive("hppContAdd",["$timeout","$zipcodeService","$zipcodeValidationService","$appConfig","$profileService",function(e,t,n,a,i){return{restrict:"E",scope:{insAdd:"=?",cardInfo:"=?ccFields",zipCodeValidationStatus:"=?",paymentSources:"=",askLogin:"="},link:function(i,r,o){var s=!1,c=0;i.$watchCollection("insAdd.zip",(function(e,n){if(angular.isDefined(e)){var a="USA"===i.insAdd.country?4:1;if(e.length>a){var r=i.insAdd.country;t.getStateAndCityFromZip(e,r).then((function(e){""===e.city||""===e.state?(s=!0,i.stateFailed=""===e.state||(i.insAdd.state=e.state)):(i.insAdd.state=e.state.toUpperCase(),i.insAdd.city=e.city,s=!1,i.stateFailed=!1)}),(function(e){i.insAdd.state="",s=!0,i.stateFailed=!1}))}}})),i.$watchCollection("insAdd.zip",(function(e,t){if(i.zipCodeValidationStatus=!0,angular.isDefined(e)&&5==e.length){var r=a.source_system;c++,n.validateZipCode(e,c,r).then((function(e){("success"===angular.lowercase(e.status.type)&&"0"===e.status.code||"info"===angular.lowercase(e.status.type)&&"30002"===e.status.code)&&(n.setPlaceOrderValidity(!1),i.zipCodeValidationStatus=!0)})).catch((function(e){"failure"===angular.lowercase(e.status.type)&&"30001"===e.status.code?(n.setPlaceOrderValidity(!0),i.zipCodeValidationStatus=!1):n.setPlaceOrderValidity(!1)}))}})),i.$watchCollection("insAdd.country",(function(e,t){angular.isDefined(e)&&t!=e&&(i.insAdd.zip="",i.insAdd.state="",i.insAdd.city="",i.stateFailed=!1)})),i.$watchCollection("insAdd.firstname",(function(e,t){angular.isDefined(e)&&(i.insAdd.firstname=i.insAdd.firstname.replace(/[^A-Za-z]/gi,""))})),i.$watchCollection("insAdd.lastname",(function(e,t){angular.isDefined(e)&&(i.insAdd.lastname=i.insAdd.lastname.replace(/[^A-Za-z]/gi,""))})),angular.equals({},i.insAdd)&&e((function(){i.insAdd={country:"USA"}}),100)},templateUrl:"hppcontadd.html",controller:["$scope","$userService","$makemodelService","$utils","$deviceService",function(e,t,n,a,r){e.manufacturersList=[],e.modelList=[],e.init=function(){},e.contactAddress={value:!1,contact:!1},e.onclick=function(){if(e.contactAddress.value)if(angular.isDefined(r.getHppCreditCardAddress())&&0!==Object.keys(r.getHppCreditCardAddress()).length){var t=r.getHppCreditCardAddress();e.insAdd.firstname=angular.isDefined(t.firstname)?t.firstname:"",e.insAdd.lastname=angular.isDefined(t.lastname)?t.lastname:"",e.insAdd.address1=angular.isDefined(t.address1)?t.address1:"",e.insAdd.address2=angular.isDefined(t.address2)?t.address2:"",e.insAdd.zip=angular.isDefined(t.zip)?t.zip:"",e.insAdd.city=angular.isDefined(t.city)?t.city:"",e.insAdd.state=angular.isDefined(t.state)?t.state:"",e.insAdd.country=angular.isDefined(t.country)?t.country:""}else e.insAdd.firstname=e.cardInfo.address.firstname,e.insAdd.lastname=e.cardInfo.address.lastname,e.insAdd.address1=e.cardInfo.address.address1,e.insAdd.address2=e.cardInfo.address.address2,e.insAdd.zip=e.cardInfo.address.zip,e.insAdd.city=e.cardInfo.address.city,e.insAdd.state=e.cardInfo.address.state,e.cardInfo.address.country?e.insAdd.country=e.cardInfo.address.country:e.insAdd.country="USA";else e.insAdd.firstname="",e.insAdd.lastname="",e.insAdd.address1="",e.insAdd.address2="",e.insAdd.zip="",e.insAdd.city="",e.insAdd.state="",e.insAdd.country="USA"},e.getcontact=function(){e.contactAddress.contact?e.paymentSources.length>0||e.askLogin?i.getProfileInfo().then((function(t){e.insAdd.firstname=t.contact.firstname,e.insAdd.lastname=t.contact.lastname,e.insAdd.address1=t.contact.address1,e.insAdd.address2=t.contact.address2,e.insAdd.zip=t.contact.zip,e.insAdd.city=t.contact.city,e.insAdd.state=t.contact.state,t.contact.country?e.insAdd.country=t.contact.country:e.insAdd.country="USA",e.insAdd.email=t.login.email})):e.insAdd.email=a.isEmail(t.getEmail())?t.getEmail():"":(e.insAdd.firstname="",e.insAdd.lastname="",e.insAdd.address1="",e.insAdd.address2="",e.insAdd.zip="",e.insAdd.city="",e.insAdd.state="",e.insAdd.country="USA",e.insAdd.email="")}}]}}])})(),angular.module("app").directive("hppReviewOrder",["$uibModal","$deviceService","$devicesCartServices","$location",function(e,t,n,a){return{restrict:"E",scope:{view:"=",prefrences:"=",plans:"=",cartUpdate:"&",remPlan:"&",changePlanCo:"&",removeDevice:"&",paymentMethod:"=?",showCloseButton:"=?"},templateUrl:"hpprevieworder_view.html",link:function(t,i){t.deleteConfirm=!1,t.heading="HPP_387",t.changeHppPlan=function(){a.path("/asurion/hppplans")},t.removeHppPlan=function(a,i){e.open({animation:!1,templateUrl:"app/views/asurion/hpp/delete_hpp_plan_popup.html",controller:["$scope","$uibModalInstance","$deviceService","$location",function(e,t,r,o){e.cancelPopup=function(){t.dismiss("cancel"),e.deleteConfirm=!1},e.hppPlanDeleteConfirm=function(){t.dismiss("cancel"),e.deleteConfirm=!1},e.removeHppPlan=function(){e.deleteConfirm=!0,n.setSMHppEnrollFlowFlag("no"),e.view.isSMHPPFlow=!1,e.remPlan({serNo:a,selPlan:i}),e.heading="MYACC_5363"}}],windowTopClass:"tf-modal",backdrop:"static",scope:t,resolve:{}})}}}}]),(function(){angular.module("app").directive("hppTerms",["$sce","$translate","$rootScope","$utils","$appConfig",function(e,t,n,a,i){return{restrict:"E",scope:{reloadOn:"=",context:"@",terms:"@",plan:"="},link:function(r,o,s){r.$watch("plan",(function(n,o){var s;if(r.plan&&!a.isNullOrEmpty(r.plan.planTermsAndConditionsLink)){s=r.plan.planTermsAndConditionsLink;var c="en";"SPA"===i.language&&(c="es");s+="es"===c?"?lang=es_ES":"?lang=en_US"}else s=a.getHppTCUrl(r.plan.vendor,r.plan.isMonthly);var l={TERMS:"<a class='btn_link' target='_blank' href='"+s+"'><u class='text_underline'>"+t.instant(r.terms)+"</u></a>"};r.termscontent=e.trustAsHtml(t.instant(r.context,l))})),n.$on("$translateChangeEnd",(function(n,o){var s;if(r.plan&&!a.isNullOrEmpty(r.plan.planTermsAndConditionsLink)){s=r.plan.planTermsAndConditionsLink;var c="en";"SPA"===i.language&&(c="es");s+="es"===c?"?lang=es_ES":"?lang=en_US"}else s=a.getHppTCUrl(r.plan.vendor,r.plan.isMonthly);var l={TERMS:"<a class='btn_link' target='_blank' href='"+s+"'><u class='text_underline'>"+t.instant(r.terms)+"</u></a>"};r.termscontent=e.trustAsHtml(t.instant(r.context,l))}))},template:'<span class="extra_small_txt text_justify margin_bottom" ng-bind-html="termscontent"></span>'}}])})(),(function(){angular.module("app").directive("tfIconWidget",(function(){return{restrict:"E",templateUrl:"tf-icon-widget.html",scope:{iconType:"@?",addIconType:"@?",description:"@?",descriptionTranslator:"@?",textTranslator:"@?",subdescTranslator:"@?",inputType:"@?",inputModel:"=",buttonTranslator:"@",buttonAction:"&?",buttonDisable:"@?",buttonTitle:"@?",formName:"=",help:"@?",helpClass:"@?",inputRequired:"@?",placeholderText:"@?",heightGroup:"@?",subHeightGroup:"@?",tabIndex:"@?",restrictInputValue:"@?",maxLength:"@?",eventCtx:"@?",eventCta:"@?",buttonId:"@?",imageName:"@?",theme:"@?",showp:"@?",isImageTopLabel:"@?",imageClass:"@?",ariaLevel:"@?",role:"@?",passRole:"@?",passAriaLevel:"@?",imageAlttext:"@?",isAriaExpanded:"@?",isPhoneType:"@?",ariaDescribedbyId:"@?",scrollToId:"@?",imageStyle:"@?",isButtonSelected:"@?",ariaLabel:"@?"},link:function(e,t,n){angular.isUndefined(e.theme)&&(e.theme="blue"),e.isButtonHighlighted=!1,e.$watch("isButtonSelected",(function(t,n){angular.isDefined(e.isButtonSelected)&&angular.equals(e.isButtonSelected,"true")?e.isButtonHighlighted=!0:e.isButtonHighlighted=!1}))}}})).directive("tfIconWidgetXs",(function(){return{restrict:"E",templateUrl:"tf-icon-widget-xs.html",scope:{iconType:"@?",addIconType:"@?",description:"@?",headingText:"@?",inputType:"@?",inputModel:"=",buttonTranslator:"@",buttonAction:"&?",formName:"=",placeholderText:"@?",tabIndex:"@?",imageStyle:"@?",imageName:"@?",imageClass:"@?"}}}))})(),(function(){angular.module("app").directive("tfHreflang",(function(){function e(e,t,n,a,i,r){e.$on("$locationChangeStart",(function(t,n,a){e.handleChange()})),e.$on("change-language",(function(t,n,a){e.handleChange()})),e.handleChange=function(){var t=angular.copy(n.search()),i=n.absUrl(),o="?";angular.forEach(t,(function(e,t){"lang"!=t&&(o=o+t+"="+e+"&")})),a.debug("HREFLANG = ",e.hreflang),"en-us"==e.hreflang&&(!r.isNullOrEmpty(i)&&i.endsWith("?lang=en")&&(i=i.replace("?lang=en","")),!r.isNullOrEmpty(i)&&i.endsWith("?lang=es")&&(i=i.replace("?lang=es","")),$("link[rel='alternate'][hreflang='en-us']").attr("href",i)),"es-us"==e.hreflang&&(!r.isNullOrEmpty(i)&&i.endsWith("?lang=en")&&(i=i.replace("?lang=en","")),o+="lang=es",r.isNullOrEmpty(i)||i.endsWith("?lang=es")||$("link[rel='alternate'][hreflang='es-us']").attr("href",i+o))}}return e.$inject=["$scope","$rootScope","$location","$log","$appConfig","$utils"],{restrict:"A",controller:e,link:function(e,t,n){n.href=e.hrefattr,e.hreflang=n.hreflang},scope:{}}}))})(),(function(){angular.module("app").directive("ildTab",(function(){function e(e,t,n,a,i){var r=e.$watch("tabContentUrl",(function(){e.contentpath=e.tabContentUrl+t.path()+"/"+t.search().plan}));e.$on("$destroy",(function(){r()})),e.brand=i.brand,e.routeId=t.search().plan,e.routePath=e.routeId,$(".ildtabNav").off("click");var o=$(window).width();$(window).resize((function(){o=$(window).width()})),e.changetab=function(e){t.search({plan:e});var n;o>768?(n=$("html,body").scrollTop(),$("html, body").animate({scrollTop:n})):(function(e){setTimeout((function(){var t=$("#"+e).offset().top-20;$("html, body").animate({scrollTop:t})}),500)})(e)},n.$on("$routeChangeSuccess",(function(){var e=t.path();"ild"==e.substr(e.lastIndexOf("/")+1)?setTimeout((function(){$(".cd-main-content.page-container").addClass("ildwcm")}),500):$(".cd-main-content").removeClass("ildwcm")})),setTimeout((function(){$(".cd-main-content.page-container").addClass("ildwcm")}),500),1==a.isWidgetVisible(e.showtabcontent)?e.showTab=!0:e.showTab=!1}return e.$inject=["$scope","$location","$rootScope","$viewConfig","$appConfig"],{restrict:"E",scope:{tabHeadingUrl:"@?",tabContentUrl:"=",actionBuy:"&?",validatetracfonemin:"&?",data:"=?",showtabcontent:"@?"},templateUrl:"ildtab.html",controller:e}}))})(),(function(){angular.module("number-input",[]).directive("numberInput",(function(){return{restrict:"E",template:function(){return'<div class="number-input-container inputcounter"><input type="text" class="pull-left form-control number-input text-left"ng-model="model"ng-class="{&#39;number-input-no-postfix&#39;: !numberInput.hasPostfix()}" ng-disabled="numberInput.isDisabledQuantTxt();"></input><div class="pull-right btn_container"><a  href="javascript:void(0)" ng-click="numberInput.inc();"ng-class="{&#39;number-input-plus-no-postfix&#39;: !numberInput.hasPostfix()}"><i class="fa fa-caret-up fa-2""></i></a><br/><a href="javascript:void(0)"ng-click="numberInput.dec();"><i class="fa fa-caret-down fa-2"></i></a></div><div class="clearfix"></div>'},scope:{model:"=ngModel",onChange:"&ngChange",start:"=?start",min:"=?min",max:"=?max",disabledQuantTxt:"@?",step:"=?step",hint:"@?hint",hideHint:"=?hideHint",disableDecimal:"=?disableDecimal",decimalPlaces:"=?decimalPlaces",prefix:"@?prefix",postfix:"@?postfix",options:"=?options",planid:"=?planid"},controller:["$scope",function(e){var t=null;e.$watch("model",(function(t,n){t!==n&&t>0&&e.onChange()})),this.isDisabledQuantTxt=function(){return console.log("planid:"+e.planid+"disabledQuantTxt"+e.disabledQuantTxt),angular.isDefined(e.disabledQuantTxt)&&e.disabledQuantTxt,!1},this.inc=function(){if(!a()&&null==t){e.model+=e.step,p();var n=e.planid+"#"+e.model;e.$emit("CallParentMethod",n)}},this.dec=function(){if(!i()&&null==t){e.model-=e.step,p();var n=e.planid+"#"+e.model;e.$emit("CallParentMethod",n)}},this.onKeyPress=function(e){32==e.keyCode&&p(),d(e.keyCode)&&(t=e.keyCode)},this.onChange=function(){n()&&(190==t||189==t||48==t&&c(e.model)||p())},this.onBlur=function(){p(),e.model||(e.model=e.start||0)},this.hasPrefix=function(){return""==!this.prefix},this.hasPostfix=function(){return""==!this.postfix};var n=function(){if(!r()||!o())return!0;if(!(e.max>=0&&e.min>=0||e.max<=0&&e.min<=0))return!0;var t=e.decimalPlaces+(e.decimalPlaces>0?1:0),n=e.max.toString().length+t,a=e.min.toString().length+t,i=n>a?n:a,s=e.model.toString(),c=v(s);return(s.length>i||c>e.decimalPlaces)&&(e.model=u(s.substring(0,s.length-1))),i==e.model.toString().length||c>0&&c==e.decimalPlaces},a=function(){return r()&&e.model>=e.max},i=function(){return o()&&e.model<=0},r=function(){return!s(e.max)},o=function(){return!s(e.min)},s=function(e){return null===e||void 0===e||NaN===e},c=function(e){return e.toString().indexOf(".")>-1},l=function(){return!o()||e.min<0},d=function(t){return t>=48&&t<=57||189==t&&l()||190==t&&!e.disableDecimal&&!(0==e.decimalPlaces)},u=function(t){return+parseFloat(t).toFixed(e.decimalPlaces)},p=function(){e.model=u(e.model),a()&&(e.model=e.max),e.model<=0&&(e.model=1),t=null},v=function(e){return e.indexOf(".")>=0?e.split(".")[1].length:0};e.options||(e.options={}),s(e.min)&&(e.min=e.options.min),s(e.max)&&(e.max=e.options.max),s(e.start)&&(e.start=e.options.start),s(e.start)&&(e.start=e.min),e.step=e.step||e.options.step||1,e.hint=this.hint=(function(){return r()||o()?e.hint?e.hint:e.options.hint?e.options.hint:r()&&!o()?"Less than or equal to "+e.max:o()&&!r()?"Greater than or equal to "+e.min:r()&&o()?e.min+" to "+e.max:void 0:e.hideHint=!0})(),e.hideHint=e.hideHint||e.options.hideHint||!1,e.disableDecimal=e.disableDecimal||e.options.disableDecimal||!1,e.decimalPlaces=e.decimalPlaces||e.options.decimalPlaces||v(e.step.toString()),e.model=e.start||e.model||0,e.prefix=this.prefix=e.prefix||e.options.prefix||"",e.postfix=this.postfix=e.postfix||e.options.postfix||""}],controllerAs:"numberInput"}}))})(),(function(){angular.module("app").directive("insAdd",["$timeout","$zipcodeService","$zipcodeValidationService","$appConfig","$profileService",function(e,t,n,a,i){return{restrict:"E",scope:{insAdd:"=?",address:"=",cardInfo:"=?ccFields",makeList:"=makeList",modelList:"=modelList",selectedMake:"=",isOpenFormValidate:"=",isFormError:"=",zipCodeValidationStatus:"=?",paymentSources:"=",askLogin:"="},link:function(i,r,o){var s=!1,c=0;i.isFormErrorInvalid={},i.isFormErrorInvalid.setinvalid=!0,i.$watch((function(){0==i.isFormErrorInvalid.setinvalid?i.isFormErrorInvalid.setinvalid=i.isFormError.$invalid:1==i.isFormError.$invalid&&(i.isFormErrorInvalid.setinvalid=i.isFormError.$invalid)})),i.$watchCollection("insAdd.zip",(function(e,n){if(angular.isDefined(e)){var a="USA"==i.insAdd.country?4:1;if(e.length>a){var r=i.insAdd.country;t.getStateAndCityFromZip(e,r).then((function(e){""===e.city||""===e.state?(s=!0,i.stateFailed=""===e.state||(i.insAdd.state=e.state)):(i.insAdd.state=e.state.toUpperCase(),i.insAdd.city=e.city,s=!1,i.stateFailed=!1)}),(function(e){i.insAdd.state="",s=!0,i.stateFailed=!1}))}}})),i.$watchCollection("insAdd.zip",(function(e,t){if(i.zipCodeValidationStatus=!0,angular.isDefined(e)&&5==e.length){var r=a.source_system;c++,n.validateZipCode(e,c,r).then((function(e){("success"===angular.lowercase(e.status.type)&&"0"===e.status.code||"info"===angular.lowercase(e.status.type)&&"30002"===e.status.code)&&(n.setPlaceOrderValidity(!1),i.zipCodeValidationStatus=!0)})).catch((function(e){"failure"===angular.lowercase(e.status.type)&&"30001"===e.status.code?(n.setPlaceOrderValidity(!0),i.zipCodeValidationStatus=!1):n.setPlaceOrderValidity(!1)}))}})),i.$watchCollection("insAdd.country",(function(e,t){angular.isDefined(e)&&t!=e&&(i.insAdd.zip="",i.insAdd.state="",i.insAdd.city="",i.stateFailed=!1)})),i.$watchCollection("insAdd.firstname",(function(e,t){angular.isDefined(e)&&(i.insAdd.firstname=i.insAdd.firstname.replace(/[^A-Za-z]/gi,""))})),i.$watchCollection("insAdd.lastname",(function(e,t){angular.isDefined(e)&&(i.insAdd.lastname=i.insAdd.lastname.replace(/[^A-Za-z]/gi,""))})),angular.equals({},i.insAdd)&&e((function(){i.insAdd={country:"USA"}}),100)},templateUrl:"insadd.html",controller:["$scope","$userService","$makemodelService","$utils","$deviceService",function(e,t,n,a,r){e.manufacturersList=[],e.modelList=[],e.init=function(){e.isLogin=t.isLoggedIn(),e.isLogin?e.contactFlag=!0:e.contactFlag=!1,n.getDeviceDetails().then((function(t){e.manufacturersList=t.response.manufacturers,angular.forEach(e.manufacturersList,(function(t,n){e.makeList.push(t)}))})).catch((function(e){}))},n.getDeviceDetails().then((function(t){e.makes=t.response.manufacturers})).catch((function(t){$errorHandler.handleError(t,e)})),e.onMakeSelect=function(t){e.insAdd.make=t.manufacturerName,delete e.insAdd.model,angular.forEach(e.manufacturersList,(function(n,a){n.manufacturerName===t.manufacturerName&&(e.modelList=[],e.modelList=n.models)}))},e.onModeleSelect=function(t){e.insAdd.model=t},e.contactAddress={value:!1,contact:!1},e.address=e.insAdd,e.onclick=function(){if(e.contactAddress.value)if(angular.isDefined(r.getHppCreditCardAddress())&&0!==Object.keys(r.getHppCreditCardAddress()).length){var t=r.getHppCreditCardAddress();e.insAdd.firstname=angular.isDefined(t.firstname)?t.firstname:"",e.insAdd.lastname=angular.isDefined(t.lastname)?t.lastname:"",e.insAdd.address1=angular.isDefined(t.address1)?t.address1:"",e.insAdd.address2=angular.isDefined(t.address2)?t.address2:"",e.insAdd.zip=angular.isDefined(t.zip)?t.zip:"",e.insAdd.city=angular.isDefined(t.city)?t.city:"",e.insAdd.state=angular.isDefined(t.state)?t.state:"",e.insAdd.country=angular.isDefined(t.country)?t.country:"",e.address=e.insAdd}else e.insAdd.firstname=e.cardInfo.address.firstname,e.insAdd.lastname=e.cardInfo.address.lastname,e.insAdd.address1=e.cardInfo.address.address1,e.insAdd.address2=e.cardInfo.address.address2,e.insAdd.zip=e.cardInfo.address.zip,e.insAdd.city=e.cardInfo.address.city,e.insAdd.state=e.cardInfo.address.state,e.cardInfo.address.country?e.insAdd.country=e.cardInfo.address.country:e.insAdd.country="USA",e.address=e.insAdd;else e.insAdd.firstname="",e.insAdd.lastname="",e.insAdd.address1="",e.insAdd.address2="",e.insAdd.zip="",e.insAdd.city="",e.insAdd.state="",e.insAdd.country="USA"},e.getcontact=function(){e.contactAddress.contact?(e.paymentSources.length>0||e.askLogin?i.getProfileInfo().then((function(t){e.insAdd.firstname=t.contact.firstname,e.insAdd.lastname=t.contact.lastname,e.insAdd.address1=t.contact.address1,e.insAdd.address2=t.contact.address2,e.insAdd.zip=t.contact.zip,e.insAdd.city=t.contact.city,e.insAdd.state=t.contact.state,t.contact.country?e.insAdd.country=t.contact.country:e.insAdd.country="USA",e.insAdd.email=t.login.email})):e.insAdd.email=a.isEmail(t.getEmail())?t.getEmail():"",e.address=e.insAdd):(e.paymentSources.length<=0||!e.askLogin)&&e.contactAddress.contact?(e.insAdd.firstname=e.insAdd.firstname,e.insAdd.lastname=e.insAdd.lastname,e.insAdd.address1=e.insAdd.address1,e.insAdd.address2=e.insAdd.address2,e.insAdd.zip=e.insAdd.zip,e.insAdd.city=e.insAdd.city,e.insAdd.state=e.insAdd.state,e.insAdd.country=e.insAdd.country,e.insAdd.email=a.isEmail(t.getEmail())?t.getEmail():"",e.address=e.insAdd):(e.insAdd.firstname="",e.insAdd.lastname="",e.insAdd.address1="",e.insAdd.address2="",e.insAdd.zip="",e.insAdd.city="",e.insAdd.state="",e.insAdd.country="USA",e.insAdd.email="")}}]}}])})(),angular.module("app").directive("layoutDivider",(function(){return{restrict:"E",scope:{type:"@",isOr:"=?",isAnd:"=?"},templateUrl:"layoutdivider.html"}})),(function(){angular.module("app").directive("modalPopup",(function(){return{restrict:"E",scope:{error:"=?",headerText:"@?",cancel:"&",closeButton:"@?",hideCloseIcon:"@"},transclude:!0,templateUrl:"modalpopup_tpl.html"}}))})(),angular.module("app").controller("myaccountNavController",["$scope","$q","$uibModal","$deviceService","$done","$errorHandler","$utils","$conditions","$interval","$rootScope","$cookieService","$location","$lrpEnrollment","$appConfig",function(e,t,n,a,i,r,o,s,c,l,d,u,p,v){var g=this;g.data={},g.isAugeoLive=v.rewards.augeoLive,g.MENU_ITEMS={MY_DEVICES:"dashboard",MY_PROFILE:"profile",PAYMENT_METHODS:"paymentmethod",PAYMENT_HISTORY:"paymenthistory",ADD_DEVICE:"adddevice",SIGN_OUT:"signout"},l.myaccount_item=null,g.isSelected=function(e){var t=null!=l.myaccount_item&&e==l.myaccount_item;return t||(t=u.url().indexOf(e)>=0),t},g.data._selected_item=g.data._selected_item||g.MENU_ITEMS.MY_DEVICES,g.selectMenuItem=function(e){g.data._selected_item=e},g._addDevice=function(){g.data._selected_item=g.MENU_ITEMS.ADD_DEVICE;n.open({animation:!1,component:"addDevice",backdrop:"static",size:"md",windowTopClass:"tf-modal"})},e.$on("addMyDevice",(function(e,t){var n=a.getMyDeviceFlag()+t;a.setMyDeviceFlag(n),3===a.getMyDeviceFlag()&&g._addDevice()})),g._deviceAdded=function(e){g.deviceAdded(e)},g._signout=function(){e.signout()},g.enrollNow=function(){window.location.href="/rewards"},g.earnNow=function(){p.redirectAugeo({redirect_uri:v.rewards.augeoEarnNowUrl}).then((function(){console.log("Redirect successfull to augeo earn now page")}))},g.redeemNow=function(){p.redirectAugeo({redirect_uri:v.rewards.augeoRedeemNowUrl}).then((function(){console.log("Redirect successfull to augeo redeem now page")}))},g.myRewards=function(){p.redirectAugeo({redirect_uri:v.rewards.augeoMyRewardsUrl}).then((function(){console.log("Redirect successfull to augeo my rewards page")}))},g.learnMore=function(){window.location.href=v.rewards.augeoLearnMoreUrl+g.langParam()},g.showPointsCb=function(e){"rewards"!=e.target.id&&"rewards_option"!=e.target.id||(g.showPoints=!g.showPoints)},g.redirectAugeo=function(){p.redirectAugeo().then((function(e){event.preventDefault(),$log.info("Augeo redirect success!!")})).catch((function(e){}))},g.langParam=function(){var e="?language=en";return"es"==l.lang&&(e="?language=es"),e}}]),angular.module("app").directive("myAccountNav",(function(){return{restrict:"E",transclude:!0,templateUrl:"myaccount_nav_view.html",controller:"myaccountNavController",controllerAs:"myActNav",scope:{signout:"&"},link:function(e,t,n){angular.element("#mobilenav-myacc_loggedin .main_nav li ").click((function(){angular.element("#mobile-menu-nav").click()}))}}})),angular.module("app").directive("myAccountMenu",(function(){return{restrict:"E",transclude:!0,templateUrl:"myAccountMenu.html",controller:"myaccountNavController",controllerAs:"myActNav",scope:{signout:"&",isLoggedIn:"&"}}})),(function(){angular.module("app").directive("optionsGroup",(function(){function e(e,t){e.numberLoaded=!0,e.slickConfig={},e.ariaLabel={var1:angular.isDefined(e.data)?e.data.group.groupName:0};var n=!0;angular.isDefined(e.data)&&angular.isDefined(e.data.isArAllowed)&&!e.data.isArAllowed&&"WMT_COM"===e.data.retailerName&&(n=!1),e.options=[{label:"MYACC_5237",id:"refill",image:"grp-refill",method:e.refill,enable:e.refillOption,viewConfig:!0},{label:"MYACC_5464",id:"get_balance",image:"balance",method:e.getBalance,enable:e.seeBalance,viewConfig:!0},{label:"MYACC_5015",id:"buy_addons",image:"grp-buyaddon",method:e.buyAddOn,enable:e.buyAddOns,viewConfig:!0},{label:e.autoEnrollment?"MYACC_5377":"MYACC_5239",ariaLabel:e.autoEnrollment?"MYACC_5377":"ACCS_5187",id:"manage_enroll",image:e.autoEnrollment?"autorefill_logo":"grp-enrollar",method:e.manageEnrollments,enable:e.enrollAutoRefill,viewConfig:n},{label:"MYACC_5282",id:"manage_reserve",image:"grp-mngreserv",method:e.manageReserveCb,enable:e.manageReserve,viewConfig:!0},{label:e.reservedLine?"BAT_24903":"MYAC_99867",id:"activate",image:"reset",method:e.activateGroupCb,enable:e.activateOption,viewConfig:!0},{label:"MYACC_5414",id:"remove_group",image:"group-remove",method:e.removeGroupCb,enable:e.removeGroup,viewConfig:!0},{label:"MYAC_99746",id:"edit_nickname",image:"device-editnickname-ico",method:e.editNickName,enable:e.editNicknameDevice,viewConfig:!0},{label:"MYAC_99746",id:"grp_edit_nickname",image:"grp-editnick",method:e.editNickName,enable:e.editNicknameGroup,viewConfig:!0},{label:"MYACC_5406",id:"upgrade_device",image:"device-upgradedevice-ico",method:e.upgradeDeviceCb,enable:e.upgradeDevice,viewConfig:!0},{label:"MYACC_5407",id:"buy10global",image:"device-buy10global",method:e.buyIld,enable:e.buyGlobalCard,viewConfig:!0},{label:"MYACC_5408",id:"view10global",image:"device-view10globalcard-ico",method:e.globalCardBalanceCb,enable:e.globalCardBalance,viewConfig:!0},{label:"MYACC_5409",id:"manage10global",image:"device-mang10gl",method:e.manageGlobalCardCb,enable:e.manageGlobalCard,viewConfig:!0},{label:"MYACC_5016",id:"trans_history",image:"device-transactionhistory-ico",method:e.transactionHistoryCb,enable:e.transactionHistory,viewConfig:!0},{label:"MYACC_5327",id:"device_tutorial",image:"device-tutorial-ico",url:e.deviceTutorialLink,enable:e.deviceTutorial,viewConfig:!0},{label:"MYACC_5329",id:"device_details",image:"autorefill_logo",method:e.deviceDetailsCb,enable:e.deviceDetails,viewConfig:t.get("device-details")},{label:"MYAC_99747",id:"remove_device",image:"device-removedevice-ico",method:e.removeDeviceCb,enable:e.removeDevice,viewConfig:!0},{label:"BAL_2245",id:"refill_plan",image:"refill",method:e.refill,enable:e.reupOption,viewConfig:!0},{label:"BAL_2226",id:"get_more_data",image:"balance",method:e.getBalance,enable:e.moreData,viewConfig:!0},{label:"BAL_2237",id:"enroll_ild",image:"icon-rotate-right",method:e.enrollIldCb,enable:e.enrollIld,viewConfig:!0},{label:"MYACC_5407",id:"ildglobalcard",image:"ildglobalcard",method:e.buyIld,enable:e.buyIldGlobalCard,viewConfig:!0}],e.slickConfig={method:{},enabled:!0,autoplay:!1,accessibility:!1,draggable:!0,autoplaySpeed:3e3,dots:!1,infinite:!1,speed:300,slidesToShow:e.slideToshowDefault,slidesToScroll:e.slideToshowDefault,responsive:[{breakpoint:1024,settings:{slidesToShow:e.slideToshowDefault,slidesToScroll:e.slideToshowDefault}},{breakpoint:600,settings:{slidesToShow:e.slideToshowDefault,slidesToScroll:e.slideToshowDefault}},{breakpoint:480,settings:{slidesToShow:e.slideToshowMobile,slidesToScroll:e.slideToshowMobile,infinite:!1}}]}}return e.$inject=["$scope","$viewConfig"],{restrict:"E",scope:{editNickName:"&?",buyAddOn:"&?",manageEnrollments:"&?",refill:"&?",manageReserveCb:"&?",getBalance:"&?",upgradeDeviceCb:"&?",manageGlobalCardCb:"&?",transactionHistoryCb:"&?",globalCardBalanceCb:"&?",removeDeviceCb:"&?",removeGroupCb:"&?",buyIld:"&?",addServicePlanCb:"&?",buyServicePlanCb:"&?",activateGroupCb:"&?",deviceDetailsCb:"&?",enrollIldCb:"&?",slideToshowDefault:"=",slideToshowMobile:"=",refillOption:"<",seeBalance:"<",buyAddOns:"<",enrollAutoRefill:"<",manageReserve:"<",editNicknameGroup:"=",editNicknameDevice:"=",upgradeDevice:"<",buyGlobalCard:"<",globalCardBalance:"<",manageGlobalCard:"<",transactionHistory:"=",deviceTutorial:"<",deviceDetails:"=",removeDevice:"<",deviceTutorialLink:"@",buyServicePlan:"<",addServicePlan:"<",removeGroup:"=",activateOption:"<",reservedLine:"<",autoEnrollment:"<",optionId:"@",optionType:"@",reupOption:"=",moreData:"<",enrollIld:"<",buyIldGlobalCard:"=",data:"="},controller:e,templateUrl:"tfcarousel_tpl.html"}}))})(),angular.module("app").directive("pageheading",(function(){return{restrict:"E",scope:{iconName:"@?",iconAlt:"@?",translateName:"@?",headingText:"@?",subHeading:"@?"},templateUrl:"tf-pageheading.html",link:function(e,t){t.removeAttr("icon-name").removeAttr("translate-name").removeAttr("heading-text")}}})),angular.module("app").directive("panel",(function(){return{restrict:"E",transclude:!0,link:function(e,t,n){},template:'<div class="panel"><div ng-transclude></div></div>',replace:!0}})),angular.module("app").directive("paypalScript",["$appConfig","$window",function(e,t){return{restrict:"E",scope:{},transclude:!0,link:function(){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=e.pay_pal_url+e.pay_pal_client_id+"&disable-funding=card,venmo",t.appendChild(n)}}}]),angular.module("app").directive("payPalSmartPay",["$appConfig","$window","$rootScope",function(e,t,n){return{restrict:"E",scope:{},transclude:!0,link:function(a,i,r){paypal.Buttons({style:{height:50},createOrder:function(a,i){n.disablePaypal=!0;var r=JSON.parse(t.sessionStorage.getItem("$devicesCartServices")).taxes.data.orderPrice;return i.order.create({purchase_units:[{amount:{currency_code:"USD",value:r.total,breakdown:{item_total:{currency_code:"USD",value:r.amount},tax_total:{currency_code:"USD",value:r.totalTaxes},discount:{currency_code:"USD",value:Math.abs(r.totalDiscount)}}},soft_descriptor:e.paypal_soft_descriptor,items:[{name:"Airtime Purchase",unit_amount:{currency_code:"USD",value:r.amount},tax:{currency_code:"USD",value:r.totalTaxes},quantity:"1"}]}],application_context:{brand_name:e.brand_paypal,shipping_preference:"NO_SHIPPING"}})},onApprove:function(e,t){return t.order.capture().then((function(e){n.disablePaypal=!1,a.$emit("PAYPAL_ORDER_SUCCESS_EVENT",e)}))},onError:function(e){n.disablePaypal=!1,a.$emit("PAYPAL_ORDER_FAILED_EVENT")},onCancel:function(e){
n.disablePaypal=!1}}).render("#paypal-button-container")},template:'<div id="paypal-button-container"></div>'}}]),(function(){angular.module("app").directive("popover",(function(){return{restrict:"E",scope:{formName:"=?",popoverClass:"@?"},transclude:!0,templateUrl:"popover_tpl.html"}}))})(),(function(){"use strict";function e(e,t,n,a,i,r){e.interval=0,e.showprogressbar=!1,e.progressurl={"/activation/selectdevice":5,"/activation/selecttypedevice":5,"/activation/collectesn":10,"/activation/collectsim":10,"/activation/phonecurrentlyactive":10,"/activation/collecttfsim":15,"/activation/collectmin":15,"/activation/collectdevicezip":25,"/activation/keepcollectphone":25,"/activation/benefitstobetransferred":25,"/activation/keepcollectphone/zip":25,"/activation/collectlastfour/sim":25,"/activation/collectlastfour/esn":25,"/activation/byopcollectsim":10,"/activation/byopcollectesn/true":12,"/activation/byopcollectesn/VZW":12,"/activation/byopcollectesn/ATT":12,"/activation/byopcollectesn/TMO":12,"/activation/compatiblesim":10,"/activation/compatiblesim/VZW":15,"/activation/checkbyopstatus":20,"/activation/checkbyopstatus/ACTIVATION":20,"/activation/checkbyopstatus/PHONE_UPGRADE":20,"/activation/checkbyopstatus/INTERNAL_PORT":20,"/activation/checkbyopstatus/EXTERNAL_PORT":20,"/activation/collectlastfourvalidacct/activation!collectlastfourvalidacct":25,"/activation/collectlastfourvalidacct/INTERNAL_PORT":25,"/activation/collectlastfourvalidacct/PHONE_UPGRADE":25,"/activation/collectlastfourinvalidacct":25,"/activation/coveragecheck":10,"/activation/checksimsize/ATT":15,"/activation/checksimsize/TMO":15,"/activation/checksimsize/VZW":15,"/activation/checksimsize/UNLOCK":15,"/activation/shippingaddress":20,"/activation/confirmationsimexchange":25,"/createaclogin/activation!keepcollectphone!ACTIVATION":25,"/createaclogin/activation!keepcollectphone!REACTIVATION":25,"/createaclogin/activation!keepcollectphone!INTERNAL_PORT":25,"/createaclogin/activation!keepcollectphone!PHONE_UPGRADE":25,"/createaclogin/activation!keepcollectphone!EXTERNAL_PORT":25,"/createaclogin/activation!keepcollectphone!PORT":25,"/createaclogin/activation!collectlastfourinvalidacct":35,"/createaclogin/activation!serviceplan":35,"/activation/createaclogin/activation!serviceplan":35,"/activation/createaclogin/activation!collectserviceprovider":35,"/createaclogin/activation!keepcollectphone":35,"/createaclogin/activation!tracfonecollectinfo":35,"/createaclogin/activation!checkbyopstatus":35,"/activation/collectserviceprovider":30,"/activation/airtimeserviceplan":35,"/activation/pincheckout":35,"/activation/airtimeserviceplan/ACTIVATION":35,"/activation/airtimeserviceplan/PHONE_UPGRADE":35,"/activation/airtimeserviceplan/INTERNAL_PORT":35,"/activation/airtimeserviceplan/EXTERNAL_PORT":35,"/activation/createaclogin/activation!airtimeserviceplan":35,"/activation/serviceplan":40,"/activation/serviceplan/ACTIVATION":40,"/activation/serviceplan/REACTIVATION":40,"/activation/serviceplan/INTERNAL_PORT":40,"/activation/serviceplan/PHONE_UPGRADE":40,"/activation/serviceplan/EXTERNAL_PORT":40,"/activation/serviceplan/PORT":40,"/activation/checkout":50,"/activation/createaclogin/checkout":50,"/checkout/ACTIVATION":50,"/activation/checkout/ACTIVATION":50,"/activation/portupgradeinstructions":75,"/activation/pininstructions/PIN_FLOW":75,"/activation/instructions1":75,"/activationcc/confirmation_activation":100,"/activation/selectgroup":50,"/redemptionconfirmationSuccess":100,"/activation/portupgradeinstructions/PIN_FLOW":75,"/activation/instructions":75,"/activation/instructions/PIN_FLOW":75,"/activation/confirmationextport":100,"/activation/redemptionconfirmation":100,"/activation/purchasesummary":100,"/activation/confirmationupgrade":100,"/asurion/hppplans":50},angular.isDefined(e.progressurl[t.path()])&&(t.path().startsWith("/activation")||a.isActivationFlow(a.getSelectedDevice()))?(e.showprogressbar=!0,e.interval=e.progressurl[t.path()]):e.showprogressbar=!1,angular.isDefined(e.progressurl[t.path()])&&t.path().startsWith("/activationcc")&&!angular.isDefined(r.getExecutionPlan())&&(e.showprogressbar=!1),e.$on("$locationChangeStart",(function(n,i,o){angular.isDefined(e.progressurl[t.path()])&&(t.path().startsWith("/activation")||a.isActivationFlow(a.getSelectedDevice()))?(e.showprogressbar=!0,e.interval=e.progressurl[t.path()]):e.showprogressbar=!1,angular.isDefined(e.progressurl[t.path()])&&t.path().startsWith("/activationcc")&&!angular.isDefined(r.getExecutionPlan())&&(e.showprogressbar=!1)})),e.isActive=function(t,n){return e.interval>=t&&e.interval<=n||e.interval>=n}}angular.module("app").controller("progressbarCtrl",e),e.$inject=["$scope","$location","$interval","$deviceService","$log","$checkscenario"]})(),(function(){angular.module("app").directive("progressbarWidget",[function(){return{restrict:"E",scope:{},template:'   <div role="presentation" class="row progressbar" ng-controller="progressbarCtrl" ng-show="showprogressbar">     \t\t\t\t\t\t<div tf-class="all-12">     \t\t\t\t\t          <uib-progressbar     \t\t\t\t\t            max="max"      \t\t\t\t\t            value="interval"      \t\t\t\t\t            type="primary"      \t\t\t\t\t            <span style="color:white; white-space:nowrap;" class="progress-bar-bar"></span>   \t\t\t\t\t          </uib-progressbar>     \t\t\t\t\t\t</div>     \t\t\t\t\t    <div tf-class="all-12">     \t\t\t\t\t    \t<div class="row legends">     \t\t\t\t\t\t        \x3c!-- A legend bar to show the activity of the progress --\x3e     \t\t\t\t\t\t        <div tf-class="all-3" ng-class="{\'active\': isActive(0,25)}">     \t\t\t\t\t\t        \t<p class="text-left" translate="ACRE_6701"></p>   \t\t\t\t\t\t        </div>     \t\t\t\t\t\t        <div tf-class="all-3" ng-class="{\'active\': isActive(26,50)}">     \t\t\t\t\t\t        \t<p translate="ACRE_6702"></p>     \t\t\t\t\t\t        </div>     \t\t\t\t\t\t        <div tf-class="all-3" ng-class="{\'active\': isActive(51,75)}">     \t\t\t\t\t\t        \t<p translate="ACRE_6703"></p>     \t\t\t\t\t\t        </div>     \t\t\t\t\t\t        <div tf-class="all-3" ng-class="{\'active\': isActive(76,100)}">     \t\t\t\t\t\t        \t<p translate="ACRE_6704"></p>     \t\t\t\t\t\t        </div>     \t\t\t\t\t      \t</div>     \t\t\t\t\t    </div>    \t\t\t\t\t</div>  '}}])})(),(function(){angular.module("app").directive("progressbarData",[function(){return{restrict:"E",scope:{interval:"@?"},template:'   <div class="row progressbardata" <div tf-class="all-12">  <uib-progressbar  max="max"   value="interval"   type="primary"   animate="true">  </uib-progressbar>  </div>   </div>  '}}])})(),(function(){angular.module("app").directive("progressbarStacked",[function(){return{restrict:"E",scope:{data:"=",className:"@",barClassName:"@?",valueKey:"@",labelKey:"@?"},templateUrl:"tf-progress-stacked.html"}}])})(),(function(){angular.module("app").directive("reCaptcha",["$window","$appConfig","$reCaptchaService","$http",function(e,t,n,a){return{restrict:"E",scope:{errorMsg:"=errMsgRecaptcha",sitekey:"=",secretkey:"="},template:'<div class="recaptchawrapper pl-3"> <div id="reCaptcha"></div> </div>',controller:["$scope","$reCaptchaService","$appConfig",function(t,n,a){var i="en";"SPA"===a.language&&(i="es");var r=document.createElement("script");r.src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit&hl="+i,r.async=!0,r.defer=!0,document.body.appendChild(r),t.verifyCallback=function(e){t.errorMsg="",n.setResponse(e)},t.onExpired=function(){n.setResponse(grecaptcha.reset(o))};var o;e.onloadCallback=function(){void 0!=n.getResponse()&&n.setResponse(""),o=grecaptcha.render(document.getElementById("reCaptcha"),{theme:"light",sitekey:t.sitekey,callback:t.verifyCallback,"expired-callback":t.onExpired})}}]}}])})(),(function(){angular.module("app").directive("scrolltoId",["$location","$window","$anchorScroll","$timeout",function(e,t,n,a){return{restrict:"A",priority:5,link:function(e,n,i){angular.isDefined(i.scrolltoId)&&n.on("click",(function(e){e.stopPropagation(),a((function(){if(angular.isDefined(i.scrolltoId)&&""!=i.scrolltoId){var e=i.scrolltoId,n=angular.element(document.getElementById(e)),a=n.offset().top;t.scrollTo(0,a)}}),100)}))}}}]),angular.module("app").directive("scrollElem",["$timeout",function(e){return{restrict:"A",priority:5,link:function(t,n,a){var i;e((function(){i=$("#"+a.scrollElem).offset().top}),500),angular.isDefined(a.scrollElem)&&(n.on("click",(function(t){$(window).width()>767&&e((function(){var e=a.scrollDest?$("#"+a.scrollDest).offset().top-i:n.offset().top-i;a.scrollDest,$("#"+a.scrollElem).css({top:e})}),500)})),$(window).on("resize",(function(){$(window).width()<768&&$("#"+a.scrollElem).css({top:"0px"})})))}}}]),angular.module("app").directive("scrollTo",["$location","$window","$anchorScroll","$timeout",function(e,t,n,a){return{restrict:"A",priority:5,link:function(n,i,r){i.bind("click",(function(n){n.stopPropagation(),a((function(){var n=r.scrollTo,a=angular.element(document.getElementById(n)),i=a.offset().top;angular.equals("/faqs",e.url())?t.scrollTo(0,i-500):t.scrollTo(0,i)}),100)}))}}}]),angular.module("app").run(["$anchorScroll",function(e){e.yOffset=230}])})(),angular.module("app").directive("tfSearchResult",(function(){return{restrict:"E",templateUrl:"tf-search-result.html",scope:{item:"="},transclude:!0}})),(function(){angular.module("app").directive("selectDevice",(function(){function e(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(t){e.selectedDevice=t,e.$apply(),angular.isDefined(e.onSelect)&&e.onSelect()},e.init=function(){e.$watch((function(){return e.devices}),(function(n,a){a.length!=n.length&&(t.info("oldvalue and newvalue are not equal"),e.device.selected=void 0,e.selectedDevice=void 0)}),!0),e.devices&&1==e.devices.length&&!e.devices[0].isPlanNotAvailable&&(e.device={selected:e.devices[0]},e.selectedDevice=e.devices[0]),angular.isDefined(e.selectedDevice)&&(e.device={selected:e.selectedDevice}),angular.isDefined(e.filterObject)||(e.filterObject={})}}return e.$inject=["$scope","$log","$timeout"],{restrict:"E",priority:90,scope:{id:"@?",name:"@?",title:"@?",devices:"=",selectedDevice:"=",disabled:"=?",tfRequired:"@?",placeholder:"@",fieldDescription:"@?",ariaLabel:"@?",class:"@?",onSelect:"&",tabIndex:"@?",nickName:"@?",filterObject:"=?"},templateUrl:"tf-select-device.html",controller:e}}))})(),angular.module("app").directive("selectDeviceActive",(function(){function e(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(t){e.selectedDevice=t,angular.isDefined(e.onSelect)&&e.onSelect()},e.init=function(){e.devices&&1==e.devices.length&&(e.min=e.devices[0],e.selectedDevice=e.devices[0])}}return e.$inject=["$scope","$log","$timeout"],{restrict:"E",priority:90,scope:{id:"@?",name:"@?",title:"@?",devices:"=",selectedDevice:"=",disabled:"=?",tfRequired:"@?",placeholder:"@",class:"@?",onSelect:"&"},templateUrl:"tf-select-device-active.html",controller:e}})),(function(){angular.module("app").directive("selectPaymentSource",(function(){function e(e,t){e.selectedItem=function(n){e.selectedCard=n,e.$apply(),angular.isDefined(e.onSelect)&&e.onSelect(),n.hasOwnProperty("billing_address")&&t.setHppCreditCardAddress(n.billing_address)},e.setCardInsuranceAddress=function(e){e.hasOwnProperty("billing_address")&&t.setHppCreditCardAddress(e.billing_address)}}return e.$inject=["$scope","$deviceService"],{restrict:"E",priority:90,scope:{id:"@?",name:"@?",title:"@?",cards:"=",selectedCard:"=",disabled:"=?",placeholder:"@",class:"@?",onSelect:"&",preferences:"=?",view:"=?"},link:function(e,t,n){angular.isDefined(e.cards)&&(e.cards.selected=angular.isDefined(e.selectedCard)?e.selectedCard:void 0,e.setCardInsuranceAddress(e.cards.selected)),e.$watch("selectedCard",(function(){angular.isUndefined(e.selectedCard)&&angular.isDefined(e.cards)&&(e.cards.selected=void 0)}),!0)},templateUrl:"tf-select-payment-source.html",controller:e}}))})(),(function(){angular.module("app").directive("selectServiceProvider",(function(){function e(e,t){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(n){t.log(n),e.selectedCard=n,e.$emit("carrierDetails",n)}}return e.$inject=["$scope","$log"],{restrict:"E",priority:90,scope:{providers:"=",selectedCard:"=",disabled:"=?",tfRequired:"@?",title:"@",placeholder:"@",class:"@?",onSelect:"&",tabIndex:"@?",fieldDescription:"@?"},templateUrl:"tf-select-service-provider.html",controller:e}}))})(),(function(){angular.module("app").directive("selectAccount",(function(){function e(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(n){e.selectedValue.account=n,t((function(){angular.isDefined(e.onSelect)&&e.onSelect()}))}}return e.$inject=["$scope","$timeout","$log"],{restrict:"E",priority:90,scope:{id:"@?",name:"@?",title:"@?",tfRequired:"@?",placeholder:"@",accountList:"=",modelValue:"="},templateUrl:"tf-select-account.html",controller:e}}))})(),(function(){angular.module("app").directive("selectDeviceOs",(function(){function e(e,t){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(n){t.log(n),e.selectedOs=n}}return e.$inject=["$scope","$log"],{restrict:"E",priority:90,scope:{operatingsystems:"=",selectedOs:"=",disabled:"=?",tfRequired:"@?",title:"@",placeholder:"@",class:"@?",onSelect:"&",tabIndex:"@?",fieldDescription:"@?",autoFocus:"@?"},templateUrl:"tf-select-device-os.html",controller:e}}))})(),(function(){angular.module("app").directive("selectAddOn",(function(){return{restrict:"E",priority:90,scope:{modelValue:"=",addOnList:"=",id:"@?",name:"@?",title:"@?",tabIndex:"@?",selectEvent:"&"},templateUrl:"tf-select-addon.html",link:function(e){e.modelValue.quantity?e.selectedItem=function(){e.selectEvent({plan:e.modelValue})}:e.modelValue.quantity=1}}}))})(),(function(){angular.module("app").directive("selectCountry",(function(){function e(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required")}return e.$inject=["$scope","$timeout","$log"],{restrict:"E",priority:90,scope:{id:"@?",name:"@?",title:"@?",tfRequired:"@?",placeholder:"@",countryList:"=",tabIndex:"@?"},templateUrl:"tf-select-country.html",controller:e}}))})(),(function(){angular.module("app").directive("selectDeviceType",(function(){function e(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(a){n.log(a),e.selectedDevice=a,t((function(){angular.isDefined(e.onSelect)&&e.onSelect()}))}}return e.$inject=["$scope","$timeout","$log"],{restrict:"E",priority:90,scope:{id:"=",name:"=",devices:"=",selectedDevice:"=",disabled:"=?",tfRequired:"@?",placeholder:"@",class:"@?",onSelect:"&?",tabIndex:"@?",title:"@?",ariaLabel:"@?"},templateUrl:"tf-select-devicetype.html",controller:e}}))})(),(function(){angular.module("app").directive("selectMonth",["$filter",function(e){function t(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required")}return t.$inject=["$scope","$timeout","$log"],{restrict:"E",priority:90,scope:{selectTitle:"@?",tfRequired:"@?",placeholder:"@",monthList:"=",id:"@?",name:"@?",creditModelValue:"=",tabIndex:"@?"},templateUrl:"tf-select-month.html",controller:t,link:function(t){t.creditModelValue.expiration_month=t.creditModelValue.expiration_month&&t.creditModelValue.expiration_month.id&&""!=t.creditModelValue.expiration_month.id?t.creditModelValue.expiration_month:void 0,angular.forEach(t.monthList,(function(t,n){t.des=e("translate")(t.label)})),t.$on("change-language",(function(n,a){angular.forEach(t.monthList,(function(t,n){t.des=e("translate")(t.label)}))}))}}}])})(),(function(){angular.module("app").directive("selectPhoneType",(function(){function e(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(a){n.log(a),e.selectedPhone=a,t((function(){angular.isDefined(e.onSelect)&&e.onSelect()}))}}return e.$inject=["$scope","$timeout","$log"],{restrict:"E",priority:90,scope:{id:"=",name:"=",phones:"=",selectedPhone:"=",disabled:"=?",tfRequired:"@?",placeholder:"@",class:"@?",onSelect:"&?",tabIndex:"@?",title:"@?",ariaLabel:"@?"},templateUrl:"tf-select-phonetype.html",controller:e}}))})(),(function(){angular.module("app").directive("selectStateType",["$appConfig",function(e){function t(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(n){e.selectedValue.state=n,e.modelValue=n,e.$apply(),angular.isDefined(e.clearZip)&&e.clearZip(),t((function(){angular.isDefined(e.onSelect)&&e.onSelect()}))}}return t.$inject=["$scope","$timeout","$log"],{restrict:"E",priority:90,scope:{tfRequired:"@?",placeholder:"@",ariaLabel:"@",stateList:"=",title:"@?",fieldDescription:"@",id:"@?",name:"@?",tabIndex:"@?",selectedState:"=?",onSelect:"&?",modelValue:"=",tabIndex:"@?",clearZip:"&?"},templateUrl:"tf-select-state-type.html",controller:t,link:function(t,n){t.selectedValue={state:t.modelValue},t.$watch("modelValue",(function(e,n){t.selectedValue.state=e,$("body").on("change keyup keypress","#state .ui-select-container .selectize-input input",(function(e){$(this).val($(this).val().replace(/[^A-Za-z]/gi,""))}))})),"true"==t.tfRequired&&$(n).attr({"required-error-message":e.requiredErrorMessage,validator:"required"})}}}])})(),(function(){angular.module("app").directive("selectYear",(function(){function e(e,t,n){e.validators="",angular.isDefined(e.tfRequired)&&(e.validators="required"),e.selectedItem=function(n){e.selectedValue.state=n,t((function(){angular.isDefined(e.onSelect)&&e.onSelect()}))}}return e.$inject=["$scope","$timeout","$log"],{restrict:"E",priority:90,scope:{selectTitle:"@?",tfRequired:"@?",placeholder:"@",yearList:"=",id:"@?",name:"@?",creditModelValue:"="},templateUrl:"tf-select-year.html",controller:e}}))})(),(function(){angular.module("app").directive("servicePlanCard",["$rootScope","$appConfig","$uibModal",function(e,t,n){return{restrict:"E",scope:{cards:"=?",action:"&?",addSerPop:"@",changePlan:"=",lastPlanSelected:"=",upgradePlan:"&",amazonUser:"=?",filterQuery:"<?",moreDataAddonDetails:"&"},templateUrl:"servicePlanCard.html",controller:["$location","$scope","$cookieStore","$userService","$deviceService","$devicesCartServices","$anchorScroll",function(n,a,i,r,o,s,c){a.servRouteParam=n.search(),c.yOffset=200,c(n.hash(a.servRouteParam.plan_id)),a.view={loggedIn:r.isLoggedIn(),isActivation:o.isActivationFlow(),hidePlanRibbon:t.rewards.lrpRedeem,isEnrollFlow:s.getUserSelectAutoRefill(),multiline:s.isBrandMultiLine(),numberOfActiveDevices:o.getActiveDevices()},a.wcmurl=t.serviceplans.baseurl,a.lang=e.lang,a.$on("change-language",(function(n,i){a.wcmurl=t.serviceplans.baseurl,a.lang=e.lang}))}]}}]),angular.module("app").directive("servicePlanCardBasic",["$rootScope","$appConfig",function(e,t,n){return{restrict:"E",scope:{cards:"=?",action:"&?",addSerPop:"@",changePlan:"=",lastPlanSelected:"=",upgradePlan:"&",amazonUser:"=?",view:"=",plans:"=",addToCart:"&",addOnFlow:"=",activationFlow:"="},templateUrl:"servicePlanCardBasic.html",controller:function(a,i){a.servRouteParam=n,console.log("ruote param 2: ",a.servRouteParam),a.wcmurl=t.serviceplans.baseurl,a.lang=e.lang,a.$on("change-language",(function(n,i){a.wcmurl=t.serviceplans.baseurl,a.lang=e.lang}))}}}])})(),angular.module("app").controller("serviceplanNavController",["$scope","$appConfig","$deviceService","$appConstants","$routeParams","$log","$location",function(e,t,n,a,i,r,o){e.selectedDevice=n.getSelectedDevice(),e.deviceType=o.search().deviceType,angular.isDefined(e.deviceType)&&e.deviceType==a.device_type.hotspot&&e.plans.hotspot&&e.plans.hotspot.length>0?(e.selected="hotspot",r.info(e.plans.hotspot,"<-- Hotspot plans --\x3e ",e.selected)):angular.isDefined(e.deviceType)&&e.deviceType==a.device_type.homephone&&e.plans.homephone&&e.plans.homephone.length>0?(e.selected="homephone",r.info(e.plans.homephone,"<-- Homephone plans --\x3e",e.selected)):angular.isDefined(e.deviceType)&&e.deviceType==a.device_type.basicphone&&e.plans.paygo&&e.plans.paygo.length>0?(e.selected="basicphone",r.info(e.plans.paygo,"<-- Basicphone plans --\x3e",e.selected)):angular.isDefined(e.deviceType)&&e.deviceType==a.device_type.smartphone&&e.plans.monthly&&e.plans.monthly.length>0?(e.selected="smartphone",r.info(e.plans.monthly,"<-- Smartphone plans --\x3e",e.selected)):e.selected="smartphone",e.updateSelected=function(t){e.selected=t},e.deviceSelected=function(t){return e.selected==t}}]),(function(){angular.module("app").directive("servicePlanRibbon",(function(){function e(e,t,n,a,i){e.view={loggedIn:a.isLoggedIn(),lrpReactivationCheck:i.checkLrpReactivationScenario(),isActivation:i.isActivationFlow()},e.pointsInfoPopup=function(){t.open({animation:!1,templateUrl:"app/views/rpe/service_plans/popups/lrppointsdetailspopup/lrppointsdetailspopup_view.html",controller:"lrppointsdetailspopupController",size:"md",windowTopClass:"tf-modal",windowClass:"reward-info-modal",resolve:{resolvParam:function(){return{device:e.device}}}})}}return e.$inject=["$scope","$uibModal","$log","$userService","$deviceService"],{restrict:"E",scope:{device:"=?",isGroupBased:"=?"},templateUrl:"servicePlanRibbon.html",controller:e}}))})(),angular.module("app").directive("tfShowMoreLess",(function(){return{restrict:"E",scope:{isOpen:"=",action:"&?"},templateUrl:"tf-show-more-less.html"}})),angular.module("app").directive("stackIcon",(function(){return{restrict:"E",scope:{bgIcon:"@?",icon:"@?",className:"@?",innerIconClassName:"@?",tabIndex:"@?",isNumber:"@?"},link:function(e){angular.isUndefined(e.bgIcon)&&(e.bgIcon="icon-circle"),angular.isUndefined(e.className)&&(e.className="tf-icon-lg-2 tf-icon-sm-2 tf-icon-xs-2 tf-icon-link tf-stack-icon-primary"),angular.isUndefined(e.innerIconClassName)&&(e.innerIconClassName="tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top")},templateUrl:"stackicon_tpl.html"}})),angular.module("app").directive("subheading",(function(){function e(e){e.hasAction=!1,angular.isDefined(e.action)&&(e.hasAction=!0)}return e.$inject=["$scope"],{restrict:"E",scope:{translateText:"@?",helpText:"@?",helpPopoverTemplate:"@?",action:"&?",eventCta:"@?",eventCtx:"@?",linkId:"@?",ariaLevel:"@?",level:"@?"},templateUrl:"subheading_tpl.html",controller:e}})),angular.module("app").controller("tabController",["$scope",function(e){e.tab=1,e.selectTab=function(t){e.tab=t},e.isSelected=function(t){return e.tab==t}}]).directive("tabs",(function(){return{transclude:!0,replace:!0,restrict:"E",controller:"tabController",template:function(e,t){return angular.isDefined(t.theme)&&"negative"==t.theme?'<div ng-transclude class="tf-tabs-negative full-width-tabs"></div>':'<div ng-transclude class="tf-tabs full-width-tabs"></div>'}}})).directive("tabHeaderpanel",(function(){return{transclude:!0,restrict:"E",template:function(){return'<ul ng-transclude class="nav nav-tabs nav-justified tab_border"></ul>'}}})).directive("tabHeading",["$viewConfig",function(e){return{transclude:!0,replace:!0,restrict:"E",template:function(t,n){var a=n.tabIndex?n.tabIndex:e.get(n.tabViewProperty)[n.tabDynamicIndex];return'<li ng-class="{active: isSelected('+a+')}"><a class="hidden-xs" href="javascript: void(0)" ng-click="selectTab('+a+')" translate='+n.headerText+' ></a><a class="hidden-md hidden-sm hidden-lg" href="javascript: void(0)" ng-click="selectTab('+a+')" translate='+n.mobileheaderText+" ></a></li>"},link:function(e,t,n){t.removeAttr("tab-index").removeAttr("header-text")}}}]).directive("tabContentpanel",(function(){return{transclude:!0,restrict:"E",template:function(e,t){return"<div ng-transclude></div>"}}})).directive("tabContent",["$viewConfig",function(e){return{transclude:!0,replace:!0,restrict:"E",template:function(t,n){return'<div ng-transclude ng-show="isSelected('+(n.tabIndex?n.tabIndex:e.get(n.tabViewProperty)[n.tabDynamicIndex])+')"></div>'},link:function(e,t){t.removeAttr("tab-index")}}}]),(function(){angular.module("app").directive("tfAdobeLaunch",["$rootScope","$log","$location","$window","$appConfig","$location",function(e,t,n,a,i,n){return{restrict:"E",scope:{},template:{},link:function(a,r,o){t.debug("inside tfAdobeLaunch directive");var s=!1,c=0,l=!1,d=[i.adobeLaunchUrl,"/assets/scripts/adobetarget/at-angular-ng-route-common.min.js"],u=function(){if(!(d.length>0)){t.info("calling mbox from injectLibFromStack "+n.path());var e=new CustomEvent("event-view-start");return document.body.dispatchEvent(e),void _satellite.pageBottom()}var a=d.shift(),i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.src=a,r.async=!0,r.onload=function(e){console.log("---\x3e loaded: "+e.target.src),u()},i.appendChild(r),console.log("injecting: "+a)};u(),e.$on("$viewContentLoaded",(function(e){var t=new CustomEvent("event-view-end");document.body.dispatchEvent(t)})),e.$on("$routeChangeSuccess",(function(){if("SIMPLE_MOBILE"!=i.brand&&"TOTAL_WIRELESS"!=i.brand&&"NET10"!=i.brand||!window.location.href.endsWith("home")||(l=!0),("/"!==n.path()||!s)&&("SIMPLE_MOBILE"!=i.brand&&"TOTAL_WIRELESS"!=i.brand&&"NET10"!=i.brand||"/"!==n.path()||l)){t.info("calling mbox from $routeChangeSuccess "+n.path());var e=new CustomEvent("event-view-start");document.body.dispatchEvent(e),l=!1}"/"===n.path()&&0==c?(c=1,s=!0):(c=0,s=!1)}))}}}])})(),angular.module("app").directive("tfCalendar",(function(){return{templateUrl:"tfCalendar_tpl.html",restrict:"E",scope:{modelValue:"=",help:"@?",popoverClass:"@",placeholderText:"@",label:"@?",ctaText:"@?",ctaAction:"&?",ctaUrl:"@?",matchValue:"=?",type:"@",tfType:"@?",class:"@?",id:"@?",name:"@?",readOnly:"@?",matchModel:"=",tabIndex:"@?"},link:function(e,t,n){angular.isUndefined(e.readOnly)&&(e.readOnly="false")}}})),(function(){angular.module("app").directive("tfBrowserUpdate",["$rootScope","$log","$cookieService","$location","$window","$appConfig","$userService",function(e,t,n,a,i,r,o){return{restrict:"E",scope:{},template:{},link:function(n,i,s){t.debug("inside tfBrowserUpdate directive"),e.updateBrowser=!1;var c=r.tlsSupportedBrowsers;t.info("tlsSupportedBrowsers: "+c),n.isBrowserCompatible=function(){for(var a=!0,i=c.split("|"),r={},s=0;s<i.length;s++){var l=i[s],d=l.split("=");r[d[0]]=d[1]}var u=window.navigator.userAgent;n.useragent=u,t.info("UserAgent:"+u);var p=n.detect(u),v=p.name,g=p.version;t.info("BrowserName:"+v+" version:"+g);var m=v;if("iPhone"!=v&&"iPad"!=v&&"iPod"!=v||(v="Safari",m=v+"_mobile"),e.browserName=v,e.browserVersion=g,angular.isDefined(e.browserName)&&angular.isDefined(qualMetaData.browser)&&(qualMetaData.BROWSER=e.browserName),angular.isDefined(e.browserVersion)&&angular.isDefined(qualMetaData.browser_version)&&(qualMetaData.BROWSER_VERSION=e.browserVersion),angular.isDefined(window.location.hostname)&&angular.isDefined(qualMetaData.ip_address)&&$.getJSON(window.location.hostname,(function(e){qualMetaData.ip_address=e.ip,console.log(e.ip)})),angular.isDefined(o.isLoggedIn())&&o.isLoggedIn()){var f=angular.isDefined(o.getEsn())?o.getEsn():"",h=angular.isDefined(o.getMin())?o.getMin():"",_=angular.isDefined(o.getEmail())?o.getEmail():"undefined";qualMetaData.ESN=f,qualMetaData.CELLNUM=h,qualMetaData.EMAIL=_}var y=r[m];if(angular.isDefined(y))if(y.indexOf(",")>-1){for(var b=y.split(","),s=1;s<b.length;s++){if(parseFloat(g)==parseFloat(b[s])){a=!0;break}a=!1}parseFloat(g)>=parseFloat(b[0])&&(a=!0)}else parseFloat(g)<parseFloat(y)&&(a=!1);else t.info("browser definition not available:"+u);return a},n.getFirstMatch=function(e){var t=n.useragent.match(e);return t&&t.length>1&&t[1]||""},n.detect=function(e){var t,a=!0,i=n.getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(e),o=!r&&/android/i.test(e),s=n.getFirstMatch(/version\/(\d+(\.\d+)?)/i),c=/tablet/i.test(e),l=!c&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?t={name:"Opera",opera:a,version:s||n.getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?t={name:"Windows Phone",windowsphone:a,msie:a,version:n.getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i)}:/maxthon/i.test(e)?t={name:"Maxthon",maxthon:a,version:n.getFirstMatch(/maxthon\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(e)?t={name:"Internet Explorer",msie:a,version:n.getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(e)?t={name:"Chrome",chrome:a,version:n.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:i?(t={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},s&&(t.version=s)):/sailfish/i.test(e)?t={name:"Sailfish",sailfish:a,version:n.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?t={name:"SeaMonkey",seamonkey:a,version:n.getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(t={name:"Firefox",firefox:a,version:n.getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(t.firefoxos=a)):/silk/i.test(e)?t={name:"Amazon Silk",silk:a,version:n.getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:o?t={name:"Android",version:s}:/phantom/i.test(e)?t={name:"PhantomJS",phantom:a,version:n.getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?t={name:"BlackBerry",blackberry:a,version:s||n.getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(t={name:"WebOS",webos:a,version:s||n.getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(t.touchpad=a)):t=/bada/i.test(e)?{name:"Bada",bada:a,version:n.getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:a,version:n.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||s}:/safari/i.test(e)?{name:"Safari",safari:a,version:s}:{},/(apple)?webkit/i.test(e)?(t.name=t.name||"Webkit",t.webkit=a,!t.version&&s&&(t.version=s)):!t.opera&&/gecko\//i.test(e)&&(t.name=t.name||"Gecko",t.gecko=a,t.version=t.version||n.getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),o||t.silk?t.android=a:i&&(t[i]=a,t.ios=a);var d="";i?(d=n.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i),d=d.replace(/[_\s]/g,".")):o?d=n.getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):t.windowsphone?d=n.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):t.webos?d=n.getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):t.blackberry?d=n.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):t.bada?d=n.getFirstMatch(/bada\/(\d+(\.\d+)*)/i):t.tizen&&(d=n.getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),d&&(t.osversion=d);var u=d.split(".")[0];return c||"ipad"==i||o&&(3==u||4==u&&!l)||t.silk?t.tablet=a:(l||"iphone"==i||"ipod"==i||o||t.blackberry||t.webos||t.bada)&&(t.mobile=a),t.msie&&t.version>=10||t.chrome&&t.version>=20||t.firefox&&t.version>=20||t.safari&&t.version>=6||t.opera&&t.version>=10||t.ios&&t.osversion&&t.osversion.split(".")[0]>=6?t.a=a:t.msie&&t.version<10||t.chrome&&t.version<20||t.firefox&&t.version<20||t.safari&&t.version<6||t.opera&&t.version<10||t.ios&&t.osversion&&t.osversion.split(".")[0]<6?t.c=a:t.x=a,t},n.isBrowserCompatible()||(e.updateBrowser=!0,a.url("/updatebrowser"))}}}])})(),angular.module("app").directive("tfChkoutOrderReview",["$appConfig",function(e){return{restrict:"E",scope:{plan:"=",updateQuantity:"&?",rmPlan:"&?",userLoggedIn:"=",userLimited:"=",even:"@?",index:"=",ildToggle:"&",view:"=",changePlanRo:"&?",baseToggle:"&",hasMultipleDevices:"=",ildDetailsPopup:"&",dataaddDetailsPopup:"&",moreDataAddonDetails:"&",paymentMethod:"=?"},templateUrl:"tf-chkout-order-review.html",link:function(t,n){t.multiline=e.features.multiline,t.removePlan=function(e){e.selPlan.auto_refill=!1,t.rmPlan({serNo:e.serNo,selPlan:e.selPlan})},t.quantityChanged=function(e){e.quantity>1&&(e.auto_refill=!1),t.updateQuantity({plan:e})},t.ildToggleStatus=function(e,n){e.auto_refill=n,n&&(e.quantity=1),t.ildToggle({autoRef:n})},t.autoRefillAction=function(e){t.baseToggle({autoRef:e})},t.moreDataAddonDetailsview=function(e){t.moreDataAddonDetails({addon:e})}}}}]),angular.module("app").directive("tfChkoutOrderReviewGroup",["$appConfig",function(e){return{restrict:"E",scope:{plan:"=",updateQuantity:"&?",rmPlan:"&?",userLoggedIn:"=",userLimited:"=",even:"@?",
index:"=",ildToggle:"&",view:"=",changePlanRo:"&?",grpDataDetails:"&?",grpIldDetails:"&?",dataDetails:"&",ildDetails:"&",baseToggle:"&",hasMultipleDevices:"=",dataAddonViewdetails:"&",ildAddonViewdetails:"&",ildViewdetails:"&",addonViewdetails:"&",remDevice:"&?",paymentMethod:"=?"},templateUrl:"tf-chkout-order-review-group.html",link:function(t,n){t.multiline=e.features.multiline,t.removePlan=function(e){e.selPlan.auto_refill=!1,t.rmPlan({serNo:e.serNo,selPlan:e.selPlan})},t.deleteDevice=function(e){console.log("removedevice - ",e),t.remDevice({device:e.device})},t.quantityChanged=function(e){e.quantity>1&&(e.auto_refill=!1),t.updateQuantity({plan:e})},t.ildToggleStatus=function(e,n){e.auto_refill=n,n&&(e.quantity=1),t.ildToggle({autoRef:n})},t.autoRefillAction=function(e){t.baseToggle({autoRef:e})}}}}]),angular.module("app").directive("tfError",(function(){return{template:function(e,t){return'<div class="row" aria-live="assertive" aria-atomic="false"><div tf-class="all-12"><errormsg error="'+t.error+'"></errormsg></div></div>'},link:function(e,t){t.removeAttr("error")},replace:!0}})),angular.module("app").directive("tfCreditCardImg",(function(){return{restrict:"E",scope:{type:"@",theme:"@"},templateUrl:"tf-credit-card-img.html",link:function(e,t,n){angular.isUndefined(e.theme)&&(e.theme="lg")}}})),angular.module("app").directive("tfExpandCollapse",(function(){return{restrict:"E",scope:{editNickName:"&?",removeDevice:"&?",editSecurityPin:"&?",buyAddOns:"&?",transactionHistory:"&?",protectPhone:"&?",manageReserve:"&?",deviceDetails:"&?",deviceTutorial:"&?",viewIldBalance:"&?",manageEnrollments:"&?",addServicePlan:"&?",buyServicePlan:"&?",upgradePoints:"&?",addAirtimePlan:"&?",upgradeDevice:"&?",manageGlobalCard:"&?",selectedDevice:"=",limitedAccess:"=",className:"@",showOptions:"@",isActive:"="},templateUrl:"tf-expand-collapse.html",controller:["$scope","$utils",function(e,t){e.isHotspot=!1,e.isBYOT=!1,t.isDataOnlyDevice(e.selectedDevice)?($log.info("device is hotspot device"),e.isHotspot=!0):t.isDataOnlyDevice(e.selectedDevice)&&($log.info("device is byot device"),e.isBYOT=!0)}]}})),angular.module("app").directive("tfFormHeader",(function(){return{restrict:"E",scope:{headerTranslate:"@",subTranslate:"@?"},templateUrl:"tf-form-header.html"}})),angular.module("app").directive("tfLabel",(function(){return{restrict:"E",templateUrl:"tf-label.html",scope:{translateText:"@?"},transclude:!0}})),angular.module("app").directive("tfSplitVertical",(function(){return{restrict:"E",transclude:{left:"?tfSplitVerticalLeft",right:"?tfSplitVerticalRight"},scope:{leftName:"@?",rightName:"@?",dividerName:"@?"},templateUrl:"tf-split-vertical.html"}})),angular.module("app").directive("tfSplitVerticalOr",(function(){return{restrict:"E",transclude:{left:"?tfSplitVerticalOrLeft",right:"?tfSplitVerticalOrRight"},scope:{isHorizontalView:"@?",leftName:"@?",rightName:"@?",dividerName:"@?"},templateUrl:"tf-split-vertical-or.html"}})),angular.module("app").directive("tfSplitHorizontalOr",(function(){return{restrict:"E",transclude:{top:"?tfSplitHorizontalOrTop",bottom:"?tfSplitHorizontalOrBottom"},scope:{},templateUrl:"tf-split-horizontal-or.html"}})),angular.module("app").directive("tfPrice",(function(){return{restrict:"E",scope:{dollars:"@",cents:"@",theme:"@",color:"@",ariaLabel:"@",striked:"@"},templateUrl:"tf-price.html",link:function(e,t,n){angular.isUndefined(e.theme)&&(e.theme="lg")}}})),(function(){angular.module("app").directive("tfQualtrics",["$rootScope","$log","$location","$window","$appConfig","$timeout","$http","$serviceUtils",function(e,t,n,a,i,r,o,s){return{restrict:"E",scope:{},template:{},link:function(n,a,i){t.debug("inside tfQualtrics directive");o.get("https://ipinfo.io/json").then((function(e){qualMetaData.IP_ADDRESS=e.data.ip}));var r=window.localStorage["gb.sid"];if(angular.isDefined(r)&&angular.isDefined(qualMetaData.GLASSBOX_RECORDING_URL)&&""!==qualMetaData.GLASSBOX_RECORDING_URL){var s=Math.round((new Date).getTime()),c=Math.round((new Date).getTime())+36e5;qualMetaData.GLASSBOX_RECORDING_URL="https://console-tf.glassboxcloud.com/webinterface/webui/#/sessions/mref:"+r+"/details??from="+s+"&till="+c}var l="",d="",u="";angular.isDefined(window.screen.availWidth)&&(d=window.screen.availWidth?window.screen.availWidth:"",u=window.screen.availHeight?window.screen.availHeight:"",l+=d+" x "+u,qualMetaData.SCREEN_RESOLUTION=l);var p="",v="",g="";angular.isDefined(window.screen.width)&&(v=window.screen.width?window.screen.width:"",g=window.screen.height?window.screen.height:"",p+=v+" x "+g,qualMetaData.USABLE_SCREEN_RESOLUTION=p);var m,f,h,_=navigator.appVersion,y=navigator.userAgent,b=navigator.appName,S=""+parseFloat(navigator.appVersion),D=parseInt(navigator.appVersion,10),C="";angular.isDefined(y)&&(-1!==(f=y.indexOf("Opera"))&&(b="Opera",S=y.substring(f+6),-1!==(f=y.indexOf("Version"))&&(S=y.substring(f+8))),-1!==(f=y.indexOf("OPR"))?(b="Opera",S=y.substring(f+4)):-1!==(f=y.indexOf("Edge"))?(b="Microsoft Edge",S=y.substring(f+5)):-1!==(f=y.indexOf("MSIE"))?(b="Microsoft Internet Explorer",S=y.substring(f+5)):-1!==(f=y.indexOf("Chrome"))?(b="Chrome",S=y.substring(f+7)):-1!==(f=y.indexOf("Safari"))?(b="Safari",S=y.substring(f+7),-1!==(f=y.indexOf("Version"))&&(S=y.substring(f+8))):-1!==(f=y.indexOf("Firefox"))?(b="Firefox",S=y.substring(f+8)):-1!==y.indexOf("Trident/")?(b="Microsoft Internet Explorer",S=y.substring(y.indexOf("rv:")+3)):(m=y.lastIndexOf(" ")+1)<(f=y.lastIndexOf("/"))&&(b=y.substring(m,f),S=y.substring(f+1),b.toLowerCase()===b.toUpperCase()&&(b=navigator.appName))),-1!==(h=S.indexOf(";"))&&(C=S.substring(0,h)),-1!==(h=S.indexOf(" "))&&(C=S.substring(0,h)),-1!==(h=S.indexOf(")"))&&(C=S.substring(0,h)),D=parseInt(""+S,10),isNaN(D)&&(C=""+parseFloat(navigator.appVersion),D=parseInt(navigator.appVersion,10)),qualMetaData.BROWSER=b,qualMetaData.BROWSER_VERSION=C;var w="-",I=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var P in I){var A=I[P];if(A.r.test(y)){w=A.s;break}}var $="-";switch(/Windows/.test(w)&&($=/Windows (.*)/.exec(w)[1],w="Windows"),w){case"Mac OS X":$=/Mac OS X (10[\.\_\d]+)/.exec(y)[1];break;case"Android":$=/Android ([\.\_\d]+)/.exec(y)[1];break;case"iOS":$=/OS (\d+)_(\d+)_?(\d+)?/.exec(_),$=$[1]+"."+$[2]+"."+(0|$[3])}qualMetaData.HANDSET_OPERATING_SYSTEM=w,qualMetaData.HANDSET_OS_VERSION=$,e.$on("$routeChangeSuccess",(function(){angular.isDefined(QSI)&&angular.isDefined(QSI.API)&&(QSI.API.unload(),QSI.API.load(),QSI.API.run())}))}}}])})(),angular.module("app").directive("tfRewards",["$rootScope",function(e){return{restrict:"E",templateUrl:"tfRewards.html",scope:{theme:"@?"},controller:["$scope","$userService","$authService","$lrpEnrollment","$appConfig","$rootScope",function(e,t,n,a,i,r){e.loggedIn=t.isLoggedIn(),e.join=function(){window.location.href="/rewards"},e.isAugeoLive=i.rewards.augeoLive,console.log("Augeo live",e.isAugeoLive),e.earnNow=function(){a.redirectAugeo({redirect_uri:i.rewards.augeoEarnNowUrl}).then((function(){console.log("Redirect successfull to augeo earn now page")}))},e.redeemNow=function(){a.redirectAugeo({redirect_uri:i.rewards.augeoRedeemNowUrl}).then((function(){console.log("Redirect successfull to augeo redeem now page")}))},e.myRewards=function(){a.redirectAugeo({redirect_uri:i.rewards.augeoMyRewardsUrl}).then((function(){console.log("Redirect successfull to augeo my rewards page")}))},e.learnMore=function(){window.location.href=i.rewards.augeoLearnMoreUrl+e.langParam()},r.$on("system-reset",(function(e,t){r.lrpDetails={}})),e.lrpDetails=function(e){a.redirectAugeo().then((function(t){e.preventDefault(),$log.info("Augeo redirect success!!")})).catch((function(e){}))},e.langParam=function(){var e="?language=en";return"es"==r.lang&&(e="?language=es"),e}}]}}]),angular.module("app").directive("tfSlider",(function(){return{restrict:"E",scope:{sliderConfig:"=?",sliderModel:"=",info:"=?",textSelection:"<?",arrowSelection:"<?"},templateUrl:"tf-slider.html",link:function(e){setTimeout((function(){e.$broadcast("rzSliderForceRender")}),0),e.sliderText={value:e.sliderModel},e.decrementValue=function(){var t=e.sliderModel-e.sliderConfig.options.step;t>0?(e.sliderModel=Number(t.toFixed(e.sliderConfig.options.precision)),e.sliderText.value=e.sliderModel):(e.sliderModel=0,e.sliderText.value=e.sliderModel)},e.incrementValue=function(){var t=e.sliderModel+e.sliderConfig.options.step;t<=e.sliderConfig.options.ceil?(e.sliderModel=Number(t.toFixed(e.sliderConfig.options.precision)),e.sliderText.value=e.sliderModel):(e.sliderModel=e.sliderConfig.options.ceil,e.sliderText.value=e.sliderModel)},e.checkInRange=function(){var t=Number(e.sliderText.value);t>=e.sliderConfig.options.floor&&t<=e.sliderConfig.options.ceil?(e.sliderModel=Number(t.toFixed(e.sliderConfig.options.precision)),e.sliderText.value=e.sliderModel):e.sliderText.value=e.sliderModel}},controller:["$scope",function(e){function t(){e.sliderText.value=e.sliderModel}angular.isUndefined(e.slideConfig)&&(e.sliderConfig={},e.sliderConfig.options={floor:0,ceil:25,precision:1,step:.5,enforceStep:!1,ariaLabel:e.info&&e.info.min?e.info.min:"",getPointerColor:function(t){if(e.info&&e.info.color)return e.info.color}}),e.$watch("sliderModel",(function(e,n){t()}))}]}})),angular.module("app").directive("tfSort",(function(){return{restrict:"E",scope:{sort:"=",reverse:"="},templateUrl:"tfSortUpDown.html"}})),angular.module("app").directive("tfSortlist",(function(){return{restrict:"E",scope:{tfsortType:"@?",sortText:"@?",options:"=?",offsetClass:"@?",colClass:"@?",sort:"=",reverse:"=",headingCopy:"@?",isSortable:"@?"},templateUrl:"tfSort.html"}})),(function(){angular.module("app").directive("tfSpinner",(function(){return{restrict:"E",templateUrl:"tf_spinner.html"}}))})(),(function(){angular.module("app").directive("tfSticky",(function(){return{restrict:"A",link:function(e,t,n){Stickyfill.add(t)}}}))})(),(function(){angular.module("app").directive("tfToggleSwitch",(function(){return{restrict:"E",scope:{shape:"@?",action:"&?",ariaLabel:"@?",disableToggle:"@?",toggleStatus:"="},templateUrl:"tfToggleSwitch.html"}}))})(),angular.module("app").directive("tfPanel",(function(){return{restrict:"E",transclude:!0,templateUrl:"tfPanel.html",scope:{hideHeader:"@?",buyAddOn:"&",addServicePlan:"&",buyServicePlan:"&",viewIldBalance:"&",headerText:"@?",headerTextCenter:"@?",headerTextRight:"@?",device:"=?",subHeadingText:"@?",headerIconClass:"@?",panelType:"@?",headingClickType:"@?",showEditOption:"@?",hideAction:"&?",editAction:"&?",isOpen:"=",headerDisplay:"@?",viewEditable:"=?",headingClickType:"@?",transactionHistory:"&?",removeDevice:"&?",protectPhone:"&?",editSecurityPin:"&?",editNickName:"&?",upgradePoints:"&",deviceDetails:"&?",deviceTutorial:"&?",manageReserve:"&?",manageEnrollments:"&?",upgradeDevice:"&?",manageGlobalCard:"&?",isActive:"=",panelId:"@",defaultHeadingLevel:"@?",defaultSubHeadingLevel:"@?",ariaDefaultHeadingLevel:"@?",ariaDefaultSubHeadingLevel:"@?"},controller:["$scope",function(e){e.defaultHeadingLevel=angular.isDefined(e.defaultHeadingLevel)?e.defaultHeadingLevel:3,e.defaultSubHeadingLevel=angular.isDefined(e.defaultSubHeadingLevel)?e.defaultSubHeadingLevel:4}]}})),angular.module("app").directive("tfButtonFb",(function(){return{restrict:"E",templateUrl:"tfButtonFb.html",scope:{fbAction:"&?",translateText:"@?",tabIndex:"@?",eventCtx:"@?",eventCta:"@?",buttonId:"@?",fbTitle:"@?"},transclude:!0}})),angular.module("app").directive("tfButtonPrimary",(function(){return{restrict:"E",templateUrl:"tfButtonPrimary.html",scope:{action:"&?",translateText:"@?",formName:"=?",href:"@?",style:"@?",disabledButton:"@?",tabIndex:"@?",eventCtx:"@?",eventCta:"@?",buttonId:"@?",scrolltoId:"@?",isAriaExpanded:"@?",ariaLabel:"@?",tit:"@?",ariaDescribedbyId:"@?",isButtonSelected:"@?"},link:function(e,t,n){angular.isUndefined(e.style)&&(e.style="btn tf-btn-primary btn-block"),angular.isUndefined(e.disabledButton)&&(e.disabled=!1),e.$watch("disabledButton",(function(){angular.equals(e.disabledButton,"false")&&(e.disabled=!1),angular.equals(e.disabledButton,"true")&&(e.disabled=!0)}),!0),e.$watch("$root.showSpinner",(function(){e.$root.showSpinner?e.disabled=!0:angular.isDefined(e.disabledButton)&&angular.equals(e.disabledButton,"true")?e.disabled=!0:e.disabled=!1}),!0),e.$watch("isButtonSelected",(function(){angular.isDefined(e.isButtonSelected)&&(angular.equals(e.isButtonSelected,"true")?e.style="btn tf-btn-primaryselected btn-block":e.style="btn tf-btn-primary btn-block")}),!0)},transclude:!0}})),angular.module("app").directive("tfButtonSecondary",(function(){return{restrict:"E",templateUrl:"tfButtonSecondary.html",scope:{action:"&?",translateText:"@?",style:"@?",tabIndex:"@?",eventCtx:"@?",eventCta:"@?",buttonId:"@?"},link:function(e,t,n){angular.isUndefined(e.style)&&(e.style="btn tf-btn-secondary btn-block"),e.$watch("$root.showSpinner",(function(){e.$root.showSpinner?e.disabled=!0:e.disabled=!1}),!0)},transclude:!0}})),angular.module("app").directive("wfmButtonPrimary",(function(){return{restrict:"E",templateUrl:"wfmButtonPrimary.html",scope:{action:"&?",translateText:"@?",formName:"=?",href:"@?",style:"@?",disabledButton:"@?",tabIndex:"@?",buttonId:"@?"},link:function(e,t,n){angular.isUndefined(e.style)&&(e.style="btn wfm-btn-primary btn-block"),angular.isUndefined(e.disabledButton)&&(e.disabled=!1),e.$watch("disabledButton",(function(){angular.equals(e.disabledButton,"false")&&(e.disabled=!1),angular.equals(e.disabledButton,"true")&&(e.disabled=!0)}),!0),e.$watch("$root.showSpinner",(function(){e.$root.showSpinner?e.disabled=!0:e.disabled=!1}),!0)},transclude:!0}})),angular.module("app").directive("wfmButtonSecondary",(function(){return{restrict:"E",templateUrl:"wfmButtonSecondary.html",scope:{action:"&?",translateText:"@?",style:"@?",buttonId:"@?"},link:function(e,t,n){angular.isUndefined(e.style)&&(e.style="btn wfm-btn-secondary btn-block"),e.$watch("$root.showSpinner",(function(){e.$root.showSpinner?e.disabled=!0:e.disabled=!1}),!0)},transclude:!0}})),angular.module("app").directive("wfmButtonCancel",(function(){return{restrict:"E",templateUrl:"wfmButtonSecondary.html",scope:{action:"&?",translateText:"@?",style:"@?",buttonId:"@?"},link:function(e,t,n){angular.isUndefined(e.style)&&(e.style="btn wfm-btn-cancel btn-block")},transclude:!0}})),(function(){angular.module("app").directive("tfClass",(function(){function e(e,t,n){var a=n.tfClass.split("-");"all"==a[0]?(angular.element(t).addClass("col-xs-"+a[1]),angular.element(t).addClass("col-sm-"+a[1]),angular.element(t).addClass("col-md-"+a[1]),angular.element(t).addClass("col-lg-"+a[1])):(angular.element(t).addClass("col-xs-"+a[0]),angular.element(t).addClass("col-sm-"+a[1]),angular.element(t).addClass("col-md-"+a[2]),angular.element(t).addClass("col-lg-"+a[3]))}return{restrict:"A",link:e}})),angular.module("app").directive("tfOffset",(function(){function e(e,t,n){var a=n.tfOffset.split("-");"all"==a[0]?(angular.element(t).addClass("col-xs-offset-"+a[1]),angular.element(t).addClass("col-sm-offset-"+a[1]),angular.element(t).addClass("col-md-offset-"+a[1]),angular.element(t).addClass("col-lg-offset-"+a[1])):(angular.element(t).addClass("col-xs-offset-"+a[0]),angular.element(t).addClass("col-sm-offset-"+a[1]),angular.element(t).addClass("col-md-offset-"+a[2]),angular.element(t).addClass("col-lg-offset-"+a[3]))}return{restrict:"A",link:e}}))})(),angular.module("app").directive("tfFlashMessage",(function(){return{restrict:"E",scope:{flashTitle:"@?",translateTitle:"@?",flashText:"@?",translateText:"@?",isFlashHot:"@?",layoutStyle:"@?",isOtaResolve:"@?",action:"&?"},templateUrl:"tfflashmessage_tpl.html"}})),(function(){angular.module("app").directive("tfHelpIcon",(function(){return{restrict:"E",scope:{placement:"@",popoverTemplate:"="},templateUrl:"tf-help-icon.html",link:function(e,t,n){e.isOpen=!1,e.close=function(){e.isOpen=!1;try{t.find("a")[0].focus()}catch(e){console.log("==focus fields not found")}},$("body").on("click",(function(t){0==$(t.target).closest("tf-help-icon").length&&0!==$(".popover").length&&(e.isOpen=!1,e.$apply())}))}}})),angular.module("app").directive("tfXsHelpIcon",(function(){return{restrict:"E",scope:{placement:"@",popoverTemplate:"="},templateUrl:"tf-xs-help-icon.html",link:function(e,t,n){e.isOpen=!1,e.close=function(){e.isOpen=!1}}}})),angular.module("app").directive("tfInfoIcon",(function(){return{restrict:"E",scope:{placement:"@",popoverTemplate:"="},templateUrl:"tf-info-icon.html",link:function(e,t,n){e.isOpen=!1,e.close=function(){e.isOpen=!1}}}})),angular.module("app").directive("tfCloseIcon",(function(){return{restrict:"E",scope:{close:"&"},templateUrl:"tf-close-icon.html"}})),angular.module("app").directive("tfPlusMinusIcon",(function(){function e(e,t,n,a){e.iconClick=function(){!e.isOpen&&angular.isDefined(e.scrollId)&&a((function(){var a=e.scrollId,i=t.hash();t.hash(a),n(),t.hash(i)}))}}return e.$inject=["$scope","$location","$anchorScroll","$timeout"],{restrict:"E",scope:{isOpen:"=",scrollId:"@",iconTitle:"@"},templateUrl:"tf-plus-minus-icon.html",controller:e}})),angular.module("app").directive("tfChevronUpDownIcon",(function(){function e(e,t,n,a){e.iconClick=function(){!e.isOpen&&angular.isDefined(e.scrollId)&&a((function(){var a=e.scrollId,i=t.hash();t.hash(a),n(),t.hash(i)}))}}return e.$inject=["$scope","$location","$anchorScroll","$timeout"],{restrict:"E",scope:{isOpen:"=",scrollId:"@",iconTitle:"@"},templateUrl:"tf-chevron-up-down-icon.html",controller:e}}))})(),angular.module("app").directive("tfPhone",["$cookieService",function(e){function t(e){this.getScope=function(){return e}}return t.$inject=["$scope"],{templateUrl:"tfPhone.html",restrict:"E",scope:{modelValue:"=",id:"@?",name:"@?",placeholderText:"@?",fieldDescription:"@?",tfRequired:"@?",readOnly:"=?",tabIndex:"@?",autoFocus:"@?",validateGroup:"@"},priority:5,link:{pre:function(e,t,n){if(angular.isDefined(n.tfRequired)){var a=t[0].querySelector("input");angular.isUndefined(n.ariaRequired)&&angular.element(a).attr("aria-required","true")}n.tfRequired?e.validators="required,phonenumber":e.validators="phonenumber"},post:function(t,n,a){t.validateOnBlur=function(t){e.setOpinionLabCookie("",t.modelValue,"")}}},controller:t}}]),angular.module("app").directive("tfPhoneMobile",(function(){function e(e){this.getScope=function(){return e}}return e.$inject=["$scope"],{templateUrl:"tfPhoneMobile.html",restrict:"E",scope:{modelValue:"=",id:"@?",name:"@?",placeholderText:"@?",tfRequired:"@?",tabIndex:"@?"},priority:5,link:{pre:function(e,t,n){n.tfRequired?e.validators="required,phonenumber":e.validators="phonenumber"}},controller:e}})),(function(){angular.module("app").directive("tfTerms",(function(){return{restrict:"E",templateUrl:"tf-terms.html",link:function(e,t,n){angular.isDefined(e.data)||(e.data={}),e.data.terms=n.terms,e.data.context=n.context,e.data.href=n.href,e.data.newtab=n.newtab},controller:["$scope","$rootScope","$translate","$sce","$timeout",function(e,t,n,a,i){e.exec=function(){e.values={TERMS:"<a class='btn_link' target='"+e.data.newtab+"' href='"+e.data.href+"'><u class='text_underline'>"+n.instant(e.data.terms)+"</u></a>"},e.termscontent=a.trustAsHtml(n.instant(e.data.context,e.values))},t.$on("$translateChangeEnd",(function(){e.exec()})),e.init=function(){i((function(){e.exec()}))}}]}}))})(),(function(){angular.module("app").directive("tfTextIcons",(function(){return{restrict:"E",scope:{icon:"@?",descTitle:"@?",descText:"@?",descValue:"@?",tabIndex:"@?"},templateUrl:"tftexticons.html"}}))})(),angular.module("app").directive("tfTextbox",(function(){function e(e){this.getScope=function(){return e}}return e.$inject=["$scope"],{templateUrl:"tfTextbox.html",restrict:"E",scope:{modelValue:"=",help:"@?",popoverClass:"@",placeholderText:"@?",label:"@?",ctaText:"@?",ctaAction:"&?",ctaUrl:"@?",matchValue:"=?",type:"@",tfType:"@?",class:"@?",id:"@?",name:"@?",readOnly:"=?",matchModel:"=",tabIndex:"@?",maxLength:"@?",minLength:"@?",autoFocus:"@?",restrictInputValue:"@?",enablePaste:"@",validateGroup:"@?",keySubmission:"=?",regexPattern:"@?"},link:function(e,t,n){angular.isDefined(e.enablePaste)&&$(t).find("input").on("input",(function(t){"numbers"===e.enablePaste&&$(this).val($(this).val().replace("[^0-9]",""))})),t.bind("keydown",(function(t){e.$apply((function(){if(angular.isDefined(e.keySubmission)&&!1===e.keySubmission&&13===t.keyCode)return t.preventDefault(),window.stop(),document.execCommand("Stop"),!1}))}))},controller:e}})),angular.module("app").directive("textbox",(function(){return{restrict:"E",template:function(e,t){return'<div class="form-group"> <div class="input-group"> <input type="'+t.type+'" class="'+t.classname+'" id="'+t.id+'" placeholder="'+t.placeholder+'" name="'+t.name+'" ng-model="'+t.ngmodel+'" validator="'+t.validate+'" valid-method="'+t.validmethod+'"'+t.validate+'-error-message="'+t.errormessage+'"/><span class="input-group-addon"> <span class="fa-stack fa-lg"> <i class="fa fa-check fa-stack-1x hide"></i> </span> </span> </div><a ng-click="'+t.ctaclickevent+'" ng-if="'+t.cta+'" href="'+t.ctaurl+'" class="small_txt"><strong>'+t.ctatext+"</strong></a> </div>"},link:function(e,t,n){t.removeAttr("type").removeAttr("classname").removeAttr("id").removeAttr("placeholder").removeAttr("name").removeAttr("ngmodel").removeAttr("validate").removeAttr("validmethod").removeAttr("cta").removeAttr("ctatext").removeAttr("ctaurl")},replace:!0}})),(function(){"use strict";function e(e){return angular.isUndefined(e)||null===e}var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){switch(e.which){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[e];return n||(t[e]?void 0:e)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,a=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",(function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}})).directive("uisTranscludeAppend",(function(){return{link:function(e,t,n,a,i){i(e,(function(e){t.append(e)}))}}})).filter("highlight",(function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}})).factory("uisOffset",["$document","$window",function(e,t){return function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);a.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,a,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||e.theme)+"/choices.tpl.html"},compile:function(a,r){if(!r.repeat)throw n("repeat","Expected 'repeat' expression.");var o=r.groupBy,s=r.groupFilter;if(o){var c=a.querySelectorAll(".ui-select-choices-group");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",c.length);c.attr("ng-repeat",t.getGroupNgRepeatExpression())}var l=t.parse(r.repeat),d=a.querySelectorAll(".ui-select-choices-row");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",l.repeatExpression(o)).attr("ng-if","$select.open");var u=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",u.length);return u.attr("uis-transclude-append",""),(i.document.addEventListener?d:u).attr("ng-click","$select.select("+l.itemName+",$select.skipFocusser,$event)"),function(t,n,i,r){r.parseRepeatAttr(i.repeat,o,s),r.disableChoiceExpression=i.uiDisableChoice,r.onHighlightCallback=i.onHighlight,r.minimumInputLength=parseInt(i.minimumInputLength)||0,r.dropdownPosition=i.position?i.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",(function(e){e&&!r.open&&r.multiple&&r.activate(!1,!0),r.activeIndex=r.tagging.isActivated?-1:0,!i.minimumInputLength||r.search.length>=i.minimumInputLength?r.refresh(i.refresh):r.items=[]})),i.$observe("refreshDelay",(function(){var n=t.$eval(i.refreshDelay);r.refreshDelay=void 0!==n?n:e.refreshDelay})),t.$watch("$select.open",(function(e){e?(a.attr("role","listbox"),r.refresh(i.refresh)):n.removeAttr("role")}))}}}}]),a.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,a,i,r,o,s,c,l,d,u,p){function v(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var a,i=Object(e),r=i.length>>>0,o=0;o<r;o++)if(a=i[o],t.call(n,a,o,i))return o;return-1}function g(){S.resetSearchInput&&(S.search=D,S.selected&&S.items.length&&!S.multiple&&(S.activeIndex=v(S.items,(function(e){return angular.equals(this,e)}),S.selected)))}function m(e,t){var n,a,i=[];for(n=0;n<t.length;n++)for(a=0;a<e.length;a++)e[a].name==[t[n]]&&i.push(e[a]);return i}function f(e,t){var n=I.indexOf(e);t&&-1===n&&I.push(e),!t&&n>-1&&I.splice(n,1)}function h(e){return I.indexOf(e)>-1}function _(e){function t(e,t){var n=a.indexOf(e);t&&-1===n&&a.push(e),!t&&n>-1&&a.splice(n,1)}function n(e){return a.indexOf(e)>-1}if(e){var a=[];S.isLocked=function(e,a){var i=!1,r=S.selected[a];return r&&(e?(i=!!e.$eval(S.lockChoiceExpression),t(r,i)):i=n(r)),i}}}function y(e){var n=!0;switch(e){case t.DOWN:if(!S.open&&S.multiple)S.activate(!1,!0);else if(S.activeIndex<S.items.length-1)for(var i=++S.activeIndex;h(S.items[i])&&i<S.items.length;)S.activeIndex=++i;break;case t.UP:var r=0===S.search.length&&S.tagging.isActivated?-1:0;if(!S.open&&S.multiple)S.activate(!1,!0);else if(S.activeIndex>r)for(var o=--S.activeIndex;h(S.items[o])&&o>r;)S.activeIndex=--o;break;case t.TAB:S.multiple&&!S.open||S.select(S.items[S.activeIndex],!0);break;case t.ENTER:if(S.open&&(S.tagging.isActivated||S.activeIndex>=0)){S.select(S.items[S.activeIndex],S.skipFocusser);var s;void 0!==S.items[S.activeIndex].description?s=S.items[S.activeIndex].description:S.items[S.activeIndex].isMinAvailable?s=S.items[S.activeIndex].min:void 0!==S.items[S.activeIndex].esn?s=S.items[S.activeIndex].esn:void 0!==S.items[S.activeIndex].number_mask?s=S.items[S.activeIndex].type:void 0!==S.items[S.activeIndex].des?s=S.items[S.activeIndex].des:void 0!==S.items[S.activeIndex]&&(s=S.items[S.activeIndex]),"object"==typeof s&&(s=$select.search),a.find("input")[1].setAttribute("aria-label","selected "+s)}else S.activate(!1,!0);break;case t.ESC:S.close();break;default:n=!1}return n}function b(){var e=a.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw c("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(S.activeIndex<0)){var n=t[S.activeIndex],i=n.offsetTop+n.clientHeight-e[0].scrollTop,r=e[0].offsetHeight;i>r?e[0].scrollTop+=i-r:i<n.clientHeight&&(S.isGrouped&&0===S.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-i)}}var S=this,D="";if(S.placeholder=l.placeholder,S.searchEnabled=l.searchEnabled,S.sortable=l.sortable,S.refreshDelay=l.refreshDelay,S.paste=l.paste,S.resetSearchInput=l.resetSearchInput,S.refreshing=!1,S.spinnerEnabled=l.spinnerEnabled,S.spinnerClass=l.spinnerClass,S.removeSelected=l.removeSelected,S.closeOnSelect=!0,S.skipFocusser=!1,S.search=D,S.activeIndex=0,S.items=[],S.open=!1,S.focus=!1,S.disabled=!1,S.selected=void 0,S.dropdownPosition="auto",S.focusser=void 0,S.multiple=void 0,S.disableChoiceExpression=void 0,S.tagging={isActivated:!1,fct:void 0},S.taggingTokens={isActivated:!1,tokens:void 0},S.lockChoiceExpression=void 0,S.clickTriggeredSelect=!1,S.$filter=r,S.$element=a,S.$animate=(function(){try{return u.get("$animate")}catch(e){return null}})(),S.searchInput=a.querySelectorAll("input.ui-select-search"),1!==S.searchInput.length)throw c("searchInput","Expected 1 input.ui-select-search but got '{0}'.",S.searchInput.length);S.isEmpty=function(){return e(S.selected)||""===S.selected||S.multiple&&0===S.selected.length},S.activate=function(e,t){if(S.disabled||S.open)S.open&&!S.searchEnabled&&S.close();else{t||g(),n.$broadcast("uis:activate"),S.open=!0,S.activeIndex=S.activeIndex>=S.items.length?0:S.activeIndex,-1===S.activeIndex&&!1!==S.taggingLabel&&(S.activeIndex=0);var r=a.querySelectorAll(".ui-select-choices-content"),o=a.querySelectorAll(".ui-select-search");if(S.$animate&&S.$animate.on&&S.$animate.enabled(r[0])){var s=function(t,n){"start"===n&&0===S.items.length?(S.$animate.off("removeClass",o[0],s),i((function(){S.focusSearchInput(e)}))):"close"===n&&(S.$animate.off("enter",r[0],s),i((function(){S.focusSearchInput(e)})))};S.items.length>0?S.$animate.on("enter",r[0],s):S.$animate.on("removeClass",o[0],s)}else i((function(){S.focusSearchInput(e),!S.tagging.isActivated&&S.items.length>1&&b()}))}},S.focusSearchInput=function(e){S.search=e||S.search,S.searchInput[0].focus()},S.findGroupByName=function(e){return S.groups&&S.groups.filter((function(t){
return t.name===e}))[0]},S.parseRepeatAttr=function(e,t,a){function i(e){var i=n.$eval(t);if(S.groups=[],angular.forEach(e,(function(e){var t=angular.isFunction(i)?i(e):e[i],n=S.findGroupByName(t);n?n.items.push(e):S.groups.push({name:t,items:[e]})})),a){var r=n.$eval(a);angular.isFunction(r)?S.groups=r(S.groups):angular.isArray(r)&&(S.groups=m(S.groups,r))}S.items=[],S.groups.forEach((function(e){S.items=S.items.concat(e.items)}))}function r(e){S.items=e||[]}S.setItemsFn=t?i:r,S.parserResult=s.parse(e),S.isGrouped=!!t,S.itemProperty=S.parserResult.itemName;var o=S.parserResult.source,l=function(){var e=o(n);n.$uisSource=Object.keys(e).map((function(t){var n={};return n[S.parserResult.keyName]=t,n.value=e[t],n}))};S.parserResult.keyName&&(l(),S.parserResult.source=d("$uisSource"+S.parserResult.filters),n.$watch(o,(function(e,t){e!==t&&l()}),!0)),S.refreshItems=function(e){e=e||S.parserResult.source(n);var t=S.selected;if(S.isEmpty()||angular.isArray(t)&&!t.length||!S.multiple||!S.removeSelected)S.setItemsFn(e);else if(void 0!==e&&null!==e){var a=e.filter((function(e){return angular.isArray(t)?t.every((function(t){return!angular.equals(e,t)})):!angular.equals(e,t)}));S.setItemsFn(a)}"auto"!==S.dropdownPosition&&"up"!==S.dropdownPosition||n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(S.parserResult.source,(function(e){if(void 0===e||null===e)S.items=[];else{if(!angular.isArray(e))throw c("items","Expected an array but got '{0}'.",e);S.refreshItems(e),angular.isDefined(S.ngModel.$modelValue)&&(S.ngModel.$modelValue=null)}}))};var C;S.refresh=function(e){void 0!==e&&(C&&i.cancel(C),C=i((function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!S.refreshing&&(S.refreshing=!0,t.finally((function(){S.refreshing=!1})))}}),S.refreshDelay))},S.isActive=function(e){if(!S.open)return!1;var t=S.items.indexOf(e[S.itemProperty]),n=t==S.activeIndex;return!(!n||t<0)&&(n&&!angular.isUndefined(S.onHighlightCallback)&&e.$eval(S.onHighlightCallback),n)};var w=function(e){return S.selected&&angular.isArray(S.selected)&&S.selected.filter((function(t){return angular.equals(t,e)})).length>0},I=[];S.isDisabled=function(e){if(S.open){var t=e[S.itemProperty],n=S.items.indexOf(t),a=!1;if(n>=0&&(angular.isDefined(S.disableChoiceExpression)||S.multiple)){if(t.isTag)return!1;S.multiple&&(a=w(t)),!a&&angular.isDefined(S.disableChoiceExpression)&&(a=!!e.$eval(S.disableChoiceExpression)),f(t,a)}return a}},S.select=function(t,a,i){if(e(t)||!h(t)){if(!S.items&&!S.search&&!S.tagging.isActivated)return;if(!t||!h(t)){if(S.clickTriggeredSelect=!1,i&&("click"===i.type||"touchend"===i.type)&&t&&(S.clickTriggeredSelect=!0),S.tagging.isActivated&&!1===S.clickTriggeredSelect){if(!1===S.taggingLabel)if(S.activeIndex<0){if(void 0===t&&(t=void 0!==S.tagging.fct?S.tagging.fct(S.search):S.search),!t||angular.equals(S.items[0],t))return}else t=S.items[S.activeIndex];else if(0===S.activeIndex){if(void 0===t)return;if(void 0!==S.tagging.fct&&"string"==typeof t){if(!(t=S.tagging.fct(t)))return}else"string"==typeof t&&(t=t.replace(S.taggingLabel,"").trim())}if(w(t))return void S.close(a)}g(),n.$broadcast("uis:select",t),S.closeOnSelect&&S.close(a)}}},S.close=function(e){S.open&&(S.ngModel&&S.ngModel.$setTouched&&S.ngModel.$setTouched(),S.open=!1,g(),n.$broadcast("uis:close",e))},S.setFocus=function(){S.focus||S.focusInput[0].focus()},S.clear=function(e){S.select(null),e.stopPropagation(),i((function(){S.focusser[0].focus()}),0,!1)},S.toggle=function(e){S.open?(S.close(),e.preventDefault(),e.stopPropagation()):S.activate()},S.isLocked=function(){return!1},n.$watch((function(){return angular.isDefined(S.lockChoiceExpression)&&""!==S.lockChoiceExpression}),_);var P=null,A=!1;S.sizeSearchInput=function(){var e=S.searchInput[0],t=S.$element[0],a=function(){return t.clientWidth*!!e.offsetParent},r=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return n<50&&(n=t),S.searchInput.css("width",n+"px"),!0};S.searchInput.css("width","10px"),i((function(){null!==P||r(a())||(P=n.$watch((function(){A||(A=!0,n.$$postDigest((function(){A=!1,r(a())&&(P(),P=null)})))}),angular.noop))}))},S.searchInput.on("keydown",(function(e){var a=e.which;~[t.ENTER,t.ESC].indexOf(a)&&(e.preventDefault(),e.stopPropagation()),n.$apply((function(){var n=!1;if((S.items.length>0||S.tagging.isActivated)&&(y(a)||S.searchEnabled||(e.preventDefault(),e.stopPropagation()),S.taggingTokens.isActivated)){for(var r=0;r<S.taggingTokens.tokens.length;r++)S.taggingTokens.tokens[r]===t.MAP[e.keyCode]&&S.search.length>0&&(n=!0);n&&i((function(){S.searchInput.triggerHandler("tagged");var n=S.search.replace(t.MAP[e.keyCode],"").trim();S.tagging.fct&&(n=S.tagging.fct(n)),n&&S.select(n,!0)}))}})),t.isVerticalMovement(a)&&S.items.length>0&&b(),a!==t.ENTER&&a!==t.ESC||(e.preventDefault(),e.stopPropagation())})),S.searchInput.on("paste",(function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),(n=S.search+n)&&n.length>0)if(S.taggingTokens.isActivated){for(var a=[],i=0;i<S.taggingTokens.tokens.length;i++){var r=t.toSeparator(S.taggingTokens.tokens[i])||S.taggingTokens.tokens[i];if(n.indexOf(r)>-1){a=n.split(r);break}}0===a.length&&(a=[n]);var o=S.search;angular.forEach(a,(function(e){var t=S.tagging.fct?S.tagging.fct(e):e;t&&S.select(t,!0)})),S.search=o||D,e.preventDefault(),e.stopPropagation()}else S.paste&&(S.paste(n),S.search=D,e.preventDefault(),e.stopPropagation())})),S.searchInput.on("tagged",(function(){i((function(){g()}))}));var $=o((function(){S.sizeSearchInput()}),50);angular.element(p).bind("resize",$),n.$on("$destroy",(function(){S.searchInput.off("keyup keydown tagged blur paste"),angular.element(p).off("resize",$)})),n.$watch("$select.activeIndex",(function(e){null!=e&&a.find("input").attr("aria-activedescendant","ui-select-choices-row-"+S.generatedId+"-"+e)})),n.$watch("$select.open",(function(e){a.find("input").attr("aria-activedescendant","ui-select-choices-row-"+S.generatedId+"-"+S.activeIndex),e||a.find("input").removeAttr("aria-activedescendant")}))}]),a.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,a,i,r,o){return{restrict:"EA",templateUrl:function(e,n){return(n.theme||t.theme)+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){var c=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(c){var l="{"+c[1]+", "+c[2]+"}";s.ngClass=l,i.attr("ng-class",l)}return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),s.inputId&&(i.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(i,s,c,l,d){function u(e){if(g.open){if(!(window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target))&&!g.clickTriggeredSelect){var t;if(g.skipFocusser)t=!0;else{var n=["input","button","textarea","select"],a=angular.element(e.target).controller("uiSelect");t=a&&a!==g,t||(t=~n.indexOf(e.target.tagName.toLowerCase()))}g.close(t),i.$digest()}g.clickTriggeredSelect=!1}}function p(){var t=a(s);h=angular.element('<div class="ui-select-placeholder"></div>'),h[0].style.width=t.width+"px",h[0].style.height=t.height+"px",s.after(h),_=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function v(){null!==h&&(h.replaceWith(s),h=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=_,g.setFocus())}var g=l[0],m=l[1];g.generatedId=t.generateId(),g.baseTitle=c.title||"Select box",g.focusserTitle=g.baseTitle,angular.isDefined(c.ariaRequired)&&g.focusInput.attr("aria-required",c.ariaRequired),g.focusserId="focusser-"+g.generatedId,g.closeOnSelect=(function(){return angular.isDefined(c.closeOnSelect)?r(c.closeOnSelect)():t.closeOnSelect})(),i.$watch("skipFocusser",(function(){var e=i.$eval(c.skipFocusser);g.skipFocusser=void 0!==e?e:t.skipFocusser})),g.onSelectCallback=r(c.onSelect),g.onRemoveCallback=r(c.onRemove),g.ngModel=m,g.choiceGrouped=function(e){return g.isGrouped&&e&&e.name},c.tabindex&&c.$observe("tabindex",(function(e){g.focusInput.attr("tabindex",e),s.removeAttr("tabindex")})),i.$watch((function(){return i.$eval(c.searchEnabled)}),(function(e){g.searchEnabled=void 0!==e?e:t.searchEnabled})),i.$watch("sortable",(function(){var e=i.$eval(c.sortable);g.sortable=void 0!==e?e:t.sortable})),c.$observe("backspaceReset",(function(){var e=i.$eval(c.backspaceReset);g.backspaceReset=void 0===e||e})),c.$observe("limit",(function(){g.limit=angular.isDefined(c.limit)?parseInt(c.limit,10):void 0})),i.$watch("removeSelected",(function(){var e=i.$eval(c.removeSelected);g.removeSelected=void 0!==e?e:t.removeSelected})),c.$observe("disabled",(function(){g.disabled=void 0!==c.disabled&&c.disabled})),c.$observe("resetSearchInput",(function(){var e=i.$eval(c.resetSearchInput);g.resetSearchInput=void 0===e||e})),c.$observe("paste",(function(){g.paste=i.$eval(c.paste)})),c.$observe("tagging",(function(){if(void 0!==c.tagging){var e=i.$eval(c.tagging);g.tagging={isActivated:!0,fct:!0!==e?e:void 0}}else g.tagging={isActivated:!1,fct:void 0}})),c.$observe("taggingLabel",(function(){void 0!==c.tagging&&("false"===c.taggingLabel?g.taggingLabel=!1:g.taggingLabel=void 0!==c.taggingLabel?c.taggingLabel:"(new)")})),c.$observe("taggingTokens",(function(){if(void 0!==c.tagging){var e=void 0!==c.taggingTokens?c.taggingTokens.split("|"):[",","ENTER"];g.taggingTokens={isActivated:!0,tokens:e}}})),c.$observe("spinnerEnabled",(function(){var e=i.$eval(c.spinnerEnabled);g.spinnerEnabled=void 0!==e?e:t.spinnerEnabled})),c.$observe("spinnerClass",(function(){var e=c.spinnerClass;g.spinnerClass=void 0!==e?c.spinnerClass:t.spinnerClass})),angular.isDefined(c.autofocus)&&o((function(){g.setFocus()})),angular.isDefined(c.focusOn)&&i.$on(c.focusOn,(function(){o((function(){g.setFocus()}))})),e.on("click",u),i.$on("$destroy",(function(){e.off("click",u)})),d(i,(function(e){var t=angular.element("<div>").append(e),a=t.querySelectorAll(".ui-select-match");if(a.removeAttr("ui-select-match"),a.removeAttr("data-ui-select-match"),1!==a.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",a.length);s.querySelectorAll(".ui-select-match").replaceWith(a);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i);var r=t.querySelectorAll(".ui-select-no-choice");r.removeAttr("ui-select-no-choice"),r.removeAttr("data-ui-select-no-choice"),1==r.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(r)}));var f=i.$eval(c.appendToBody);(void 0!==f?f:t.appendToBody)&&(i.$watch("$select.open",(function(e){e?p():v()})),i.$on("$destroy",(function(){v()})));var h=null,_="",y=null;i.$watch("$select.open",(function(){"auto"!==g.dropdownPosition&&"up"!==g.dropdownPosition||i.calculateDropdownPos()}));var b=function(e,t){e=e||a(s),t=t||a(y),y[0].style.position="absolute",y[0].style.top=-1*t.height+"px",s.addClass("direction-up")},S=function(e,t){s.removeClass("direction-up"),e=e||a(s),t=t||a(y),y[0].style.position="",y[0].style.top=""},D=function(){o((function(){if("up"===g.dropdownPosition)b();else{s.removeClass("direction-up");var t=a(s),n=a(y),i=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>i+e[0].documentElement.clientHeight?b(t,n):S(t,n)}y[0].style.opacity=1}))},C=!1;i.calculateDropdownPos=function(){if(g.open){if(y=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===y.length)return;if(""!==g.search||C||(y[0].style.opacity=0,C=!0),!a(y).height&&g.$animate&&g.$animate.on&&g.$animate.enabled(y)){var e=!0;g.$animate.on("enter",y,(function(t,n){"close"===n&&e&&(D(),e=!1)}))}else D()}else{if(null===y||0===y.length)return;y[0].style.opacity=0,y[0].style.position="",y[0].style.top="",s.removeClass("direction-up")}}}}}}]),a.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var a=n.parent();return(t(a,"theme")||e.theme)+(angular.isDefined(t(a,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,a,i){function r(e){i.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}i.lockChoiceExpression=a.uiLockChoice,a.$observe("placeholder",(function(t){i.placeholder=void 0!==t?t:e.placeholder})),a.$observe("allowClear",r),r(a.allowClear),i.multiple&&i.sizeSearchInput()}}}]),a.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,a=this,i=e.$select;angular.isUndefined(i.selected)&&(i.selected=[]),e.$evalAsync((function(){n=e.ngModel})),a.activeMatchIndex=-1,a.updateModel=function(){n.$setViewValue(Date.now()),a.refreshComponent()},a.refreshComponent=function(){i.refreshItems&&i.refreshItems(),i.sizeSearchInput&&i.sizeSearchInput()},a.removeChoice=function(n){if(i.isLocked(null,n))return!1;var r=i.selected[n],o={};return o[i.parserResult.itemName]=r,i.selected.splice(n,1),a.activeMatchIndex=-1,i.sizeSearchInput(),t((function(){i.onRemoveCallback(e,{$item:r,$model:i.parserResult.modelMapper(e,o)})})),a.updateModel(),!0},a.getPlaceholder=function(){if(!i.selected||!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(i,r,o,s){function c(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(e){var n=c(p.searchInput[0]),a=p.selected.length,i=a-1,r=g.activeMatchIndex,o=g.activeMatchIndex+1,s=g.activeMatchIndex-1,l=r;return!(n>0||p.search.length&&e==t.RIGHT)&&(p.close(),l=(function(){switch(e){case t.LEFT:return~g.activeMatchIndex?s:i;case t.RIGHT:return~g.activeMatchIndex&&r!==i?o:(p.activate(),!1);case t.BACKSPACE:return~g.activeMatchIndex?g.removeChoice(r)?s:r:i;case t.DELETE:return!!~g.activeMatchIndex&&(g.removeChoice(g.activeMatchIndex),r)}})(),p.selected.length&&!1!==l?g.activeMatchIndex=Math.min(i,Math.max(0,l)):g.activeMatchIndex=-1,!0)}function d(e){return void 0!==e&&void 0!==p.search&&e.filter((function(e){return void 0!==p.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===p.search.toUpperCase()})).length>0}function u(e,t){var n=-1;if(angular.isArray(e))for(var a=angular.copy(e),i=0;i<a.length;i++)if(void 0===p.tagging.fct)a[i]+" "+p.taggingLabel===t&&(n=i);else{var r=a[i];angular.isObject(r)&&(r.isTag=!0),angular.equals(r,t)&&(n=i)}return n}var p=s[0],v=i.ngModel=s[1],g=i.$selectMultiple;p.multiple=!0,p.focusInput=p.searchInput,v.$isEmpty=function(e){return!e||0===e.length},v.$parsers.unshift((function(){for(var e,t={},n=[],a=p.selected.length-1;a>=0;a--)t={},t[p.parserResult.itemName]=p.selected[a],e=p.parserResult.modelMapper(i,t),n.unshift(e);return n})),v.$formatters.unshift((function(e){var t,n=p.parserResult&&p.parserResult.source(i,{$select:{search:""}}),a={};if(!n)return e;var r=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(a[p.parserResult.itemName]=e[o],t=p.parserResult.modelMapper(i,a),p.parserResult.trackByExp){var s=/(\w*)\./.exec(p.parserResult.trackByExp),c=/\.([^\s]+)/.exec(p.parserResult.trackByExp);if(s&&s.length>0&&s[1]==p.parserResult.itemName&&c&&c.length>0&&t[c[1]]==n[c[1]])return r.unshift(e[o]),!0}if(angular.equals(t,n))return r.unshift(e[o]),!0}return!1}};if(!e)return r;for(var s=e.length-1;s>=0;s--)o(p.selected,e[s])||o(n,e[s])||r.unshift(e[s]);return r})),i.$watchCollection((function(){return v.$modelValue}),(function(e,t){t!=e&&(angular.isDefined(v.$modelValue)&&(v.$modelValue=null),g.refreshComponent())})),v.$render=function(){if(!angular.isArray(v.$viewValue)){if(!e(v.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",v.$viewValue);v.$viewValue=[]}p.selected=v.$viewValue,g.refreshComponent(),i.$evalAsync()},i.$on("uis:select",(function(e,t){if(!(p.selected.length>=p.limit)){p.selected.push(t);var n={};n[p.parserResult.itemName]=t,a((function(){p.onSelectCallback(i,{$item:t,$model:p.parserResult.modelMapper(i,n)})})),g.updateModel()}})),i.$on("uis:activate",(function(){g.activeMatchIndex=-1})),i.$watch("$select.disabled",(function(e,t){t&&!e&&p.sizeSearchInput()})),p.searchInput.on("keydown",(function(e){var n=e.which;i.$apply((function(){var a=!1;t.isHorizontalMovement(n)&&(a=l(n)),a&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())}))})),p.searchInput.on("keyup",(function(e){if(t.isVerticalMovement(e.which)||i.$evalAsync((function(){p.activeIndex=!1===p.taggingLabel?-1:0})),p.tagging.isActivated&&p.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(p.activeIndex=!1===p.taggingLabel?-1:0,!1===p.taggingLabel)return;var n,a,r,o,s=angular.copy(p.items),c=angular.copy(p.items),l=!1,v=-1;if(void 0!==p.tagging.fct){if(r=p.$filter("filter")(s,{isTag:!0}),r.length>0&&(o=r[0]),s.length>0&&o&&(l=!0,s=s.slice(1,s.length),c=c.slice(1,c.length)),n=p.tagging.fct(p.search),c.some((function(e){return angular.equals(e,n)}))||p.selected.some((function(e){return angular.equals(e,n)})))return void i.$evalAsync((function(){p.activeIndex=0,p.items=s}));n&&(n.isTag=!0)}else{if(r=p.$filter("filter")(s,(function(e){return e.match(p.taggingLabel)})),r.length>0&&(o=r[0]),a=s[0],void 0!==a&&s.length>0&&o&&(l=!0,s=s.slice(1,s.length),c=c.slice(1,c.length)),n=p.search+" "+p.taggingLabel,u(p.selected,p.search)>-1)return;if(d(c.concat(p.selected)))return void(l&&(s=c,i.$evalAsync((function(){p.activeIndex=0,p.items=s}))));if(d(c))return void(l&&(p.items=c.slice(1,c.length)))}l&&(v=u(p.selected,n)),v>-1?s=s.slice(v+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(c)),i.$evalAsync((function(){if(p.activeIndex=0,p.items=s,p.isGrouped){var e=n?s.slice(1):s;p.setItemsFn(e),n&&(p.items.unshift(n),p.groups.unshift({name:"",items:[n],tagging:!0}))}}))}})),p.searchInput.on("blur",(function(){a((function(){g.activeMatchIndex=-1}))}))}}}]),a.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-no-choice"),(t.parent().attr("theme")||e.theme)+"/no-choice.tpl.html"}}}]),a.directive("uiSelectSingle",["$timeout","$compile",function(n,a){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,r,o,s){var c=s[0],l=s[1];l.$parsers.unshift((function(t){if(e(t))return t;var n={};return n[c.parserResult.itemName]=t,c.parserResult.modelMapper(i,n)})),l.$formatters.unshift((function(t){if(e(t))return t;var n,a=c.parserResult&&c.parserResult.source(i,{$select:{search:""}}),r={};if(a){var o=function(e){return r[c.parserResult.itemName]=e,(n=c.parserResult.modelMapper(i,r))===t};if(c.selected&&o(c.selected))return c.selected;for(var s=a.length-1;s>=0;s--)if(o(a[s]))return a[s]}return t})),i.$watch("$select.selected",(function(e){l.$viewValue!==e&&l.$setViewValue(e)})),l.$render=function(){c.selected=l.$viewValue},i.$on("uis:select",(function(t,a){c.selected=a;var r={};r[c.parserResult.itemName]=a,n((function(){c.onSelectCallback(i,{$item:a,$model:e(a)?a:c.parserResult.modelMapper(i,r)})}))})),i.$on("uis:close",(function(e,t){n((function(){c.focusser.prop("disabled",!1),t||c.focusser[0].focus()}),0,!1)})),i.$on("uis:activate",(function(){d.prop("disabled",!0)}));var d=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='image' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='false' role='combobox' />");a(d)(i),c.focusser=d,c.focusInput=d,r.parent().append(d),d.bind("focus",(function(){i.$evalAsync((function(){c.focus=!0}))})),d.bind("blur",(function(){i.$evalAsync((function(){c.focus=!1}))})),d.bind("keydown",(function(e){if(e.which===t.BACKSPACE&&!1!==c.backspaceReset)return e.preventDefault(),e.stopPropagation(),c.select(void 0),void i.$apply();e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||(e.which!=t.DOWN&&e.which!=t.UP&&e.which!=t.ENTER&&e.which!=t.SPACE||(e.preventDefault(),e.stopPropagation(),c.activate()),i.$digest())})),d.bind("keyup input",(function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(c.activate(d.val()),d.val(""),i.$digest())}))}}}]),a.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,a,i,r){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var o=r[0],s=r[1],c=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),l=c.axis;t.$watch((function(){return o.sortable}),(function(e){e?a.attr("draggable",!0):a.removeAttr("draggable")})),a.on("dragstart",(function(e){a.addClass("dragging"),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())})),a.on("dragend",(function(){p("dragging")}));var d,u=function(e,t){this.splice(t,0,this.splice(e,1)[0])},p=function(e){angular.forEach(o.$element.querySelectorAll("."+e),(function(t){angular.element(t).removeClass(e)}))},v=function(e){e.preventDefault(),("vertical"===l?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===l?"offsetHeight":"offsetWidth"]/2?(p("dropping-after"),a.addClass("dropping-before")):(p("dropping-before"),a.addClass("dropping-after"))},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(d),d=e((function(){m(n)}),20)},m=function(e){var n=t.$eval(i.uiSelectSort),r=n[e],o=null;o=a.hasClass("dropping-before")?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,u.apply(n,[e,o]),s.$setViewValue(Date.now()),t.$apply((function(){t.$emit("uiSelectSort:change",{array:n,item:r,from:e,to:o})})),p("dropping"),p("dropping-before"),p("dropping-after"),a.off("drop",g)};a.on("dragenter",(function(){a.hasClass("dragging")||(a.addClass("dropping"),a.on("dragover",v),a.on("drop",g))})),a.on("dragleave",(function(e){e.target==a&&(p("dropping"),p("dropping-before"),p("dropping-after"),a.off("dragover",v),a.off("drop",g))}))}}}]),a.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var a;return function(){var i=this,r=Array.prototype.slice.call(arguments);a&&e.cancel(a),a=e((function(){t.apply(i,r)}),n)}}}]),a.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,a,i,r){r.onOpenCloseCallback=e(i.uisOpenClose),n.$watch("$select.open",(function(e,a){e!==a&&t((function(){r.onOpenCloseCallback(n,{isOpen:e})}))}))}}}]),a.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var a;if(!(a=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var i=a[5],r="";if(a[3]){i=a[5].replace(/(^\()|(\)$)/g,"");var o=a[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);o&&o[1].trim()&&(r=o[1],i=i.replace(r,""))}return{itemName:a[4]||a[2],keyName:a[3],source:t(i),filters:r,trackByExp:a[6],modelMapper:t(a[1]||a[4]||a[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])})(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),
e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" role="presentation" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),angular.module("app").directive("focusMe",(function(e){return{link:function(t,n,a){a.$observe("focusMe",(function(t){"true"===t&&e((function(){n[0].focus()}))}))}}})),(function(){angular.module("app").directive("tfCanonical",(function(){function e(e,t,n,a,i){e.$on("$locationChangeStart",(function(t,n,a){e.handleChange()})),e.$on("change-language",(function(t,n,a){e.handleChange()})),e.handleChange=function(){$("meta[property='og:url']").attr("content",n.absUrl()),$("link[rel='alternate']").attr("href",n.absUrl());var e=n.absUrl();!i.isNullOrEmpty(e)&&e.endsWith("?lang=en")&&(e=e.replace("?lang=en","")),i.isNullOrEmpty(e)||e.endsWith("?lang=es")||"es"!=t.lang?$("link[rel='canonical']").attr("href",e):$("link[rel='canonical']").attr("href",e+"?lang=es")}}return e.$inject=["$scope","$rootScope","$location","$log","$utils"],{restrict:"A",controller:e,link:function(e,t,n){}}}))})(),(function(){angular.module("app").directive("tfUpdateLang",(function(){function e(e,t,n,a){e.$on("$locationChangeStart",(function(t,n,a){e.handleChange()})),e.$on("change-language",(function(t,n,a){e.handleChange()})),e.handleChange=function(){$("html").attr("lang",t.lang),angular.isDefined(t.lang_key)&&angular.equals(t.lang_key,"es_ES")?$("meta[property='og:locale']").attr("content","es_US"):$("meta[property='og:locale']").attr("content",t.lang_key)}}return e.$inject=["$scope","$rootScope","$location","$log"],{restrict:"E",controller:e,link:function(e,t,n){}}}))})(),(function(){angular.module("app").run(["$rootScope","$viewConfig","$appConstants","$log","$window","$userService","$appConfig",function(e,t,n,a,i,r,o){e.$on("$routeChangeStart",(function(e,t,n){a.debug("$routeChangeStart/seo/entry",e,t,n),a.debug("$routeChangeStart/seo/exit")})),e.$on("$routeChangeSuccess",(function(o,s,c){a.debug("$routeChangeSuccess/seo/entry",o,s,c);var l=t.get(n.seoConfig),d=e.lang;if(a.debug("$routeChangeSuccess/seo/value",l),a.debug("$routeChangeSuccess/seo/lang",d),angular.isDefined(l)&&angular.isDefined(l[d])){if(a.debug("$routeChangeSuccess/seo/models",l[d]),angular.isDefined(l[d].title)){a.debug("$routeChangeSuccess/seo/title",l[d].title);var u=l[d].title;$("title").html(u),$("meta[property='og:title']").attr("content",u),$("link[rel='bookmark']").attr("title",u)}if(angular.isDefined(l[d].description)){a.debug("$routeChangeSuccess/seo/description",l[d].description);var u=l[d].description;$("meta[name='description']").attr("content",u),$("meta[name='og:description']").attr("content",u),$("meta[property='description']").attr("content",u),$("meta[property='og:description']").attr("content",u)}}var p="",v="",g="",m="";angular.isDefined(s)&&angular.isDefined(s.$$route)&&(angular.isDefined(s.$$route.pageId)&&(p=s.$$route.pageId),angular.isDefined(s.$$route.originalPath)&&(v=i.location.host+s.$$route.originalPath)),angular.isDefined(document)&&angular.isDefined(document.querySelector("meta[property='og:title']"))&&(g=document.querySelector("meta[property='og:title']").getAttribute("content")),angular.isDefined(c)&&angular.isDefined(c.$$route)&&angular.isDefined(c.$$route.originalPath)&&(m=i.location.host+c.$$route.originalPath);var f=r.isLoggedIn()?"authenticated customer":"anonymous";f&&r.isLimitedAccess()?f="anonymous":angular.isDefined(r.getEmail())&&(qualMetaData.EMAIL=r.getEmail()),digitalData.pageInstanceID=p,digitalData.page.pageInfo.pageName=g,digitalData.page.pageInfo.destinationURL=v,digitalData.page.pageInfo.referringURL=m,digitalData.user.segment.type=f}))}]),angular.module("app").directive("tfUpdateLink",(function(){return{restrict:"E",scope:{rel:"@?",href:"@"},templateUrl:"",link:function(e,t,n){angular.isDefined(n.rel)&&($("link[rel='"+n.rel+"']").attr("href",n.href),$("meta[property='og:url']").attr("content",n.href))}}})),angular.module("app").directive("tfAmpLink",(function(){return{restrict:"E",scope:{rel:"@?",href:"@",reldata:"@?"},templateUrl:"",link:function(e,t,n){angular.isDefined(n.reldata)&&($("link[rel='"+n.reldata+"']").attr("href",n.href),$("link[rel='"+n.reldata+"']").attr("rel",n.rel))}}})),angular.module("app").directive("tfUpdateMeta",["$rootScope",function(e){return{restrict:"E",scope:{name:"@?",property:"@?",content:"@",lang:"@?",contentBind:"=",langBind:"="},templateUrl:"",controller:["$scope","$rootScope","$location",function(e,t,n){e.purpose=function(){e._lang=angular.isDefined(e.lang)?e.lang:e.langBind,e._content=angular.isDefined(e.content)?e.content:e.contentBind,angular.isDefined(e.name)&&"og:url"===e.name&&(e._content=n.absUrl()),angular.isDefined(e._content)&&(angular.isDefined(e._lang)?e._lang==t.lang&&e.updateContent(e._content):e.updateContent(e._content))},e.updateContent=function(t){$("meta[name='"+e.name+"']").attr("content",t),$("meta[name='og:"+e.name+"']").attr("content",t),$("meta[property='"+e.name+"']").attr("content",t),$("meta[property='og:"+e.name+"']").attr("content",t)},e.$on("change-language",(function(t){e.purpose()})),e.$watch("contentBind",(function(t){e.purpose()}))}],link:function(e,t,n){}}}]),angular.module("app").directive("tfUpdateTitle",["$rootScope",function(e){return{restrict:"E",scope:{content:"@",lang:"@?",contentBind:"="},templateUrl:"",controller:["$scope","$rootScope",function(e,t){e.purpose=function(){e._lang=angular.isDefined(e.lang)?e.lang:e.langBind,e._content=angular.isDefined(e.content)?e.content:e.contentBind,angular.isDefined(e._content)&&(angular.isDefined(e._lang)?e._lang==t.lang&&e.updateContent(e._content):e.updateContent(e._content))},e.updateContent=function(e){$("title").html(e),$("meta[property='og:title']").attr("content",e),$("link[rel='bookmark']").attr("title",e),digitalData.page.pageInfo.pageName=e},e.$on("change-language",(function(t){e.purpose()})),e.$watch("contentBind",(function(t){e.purpose()}))}],link:function(e,t,n){}}}])})(),angular.module("app").directive("upgradePointsMeter",(function(){return{templateUrl:"upgradePointsMeter_tpl.html",restrict:"E",scope:{pointsAccured:"@?",totalPoints:"@?"},link:function(e,t,n){angular.isDefined(e.pointsAccured)&&angular.isDefined(e.totalPoints)&&(e.pointsNeeded=e.totalPoints-e.pointsAccured)}}})),angular.module("app").directive("restrictInput",(function(){return{require:"ngModel",link:function(e,t,n,a){"numeric"==n.restrictInput&&n.$set("ngTrim","false"),a.$parsers.push((function(e){var t={alphanumeric:/[^A-Za-z0-9]/g,numeric:/[^0-9]/g};if(void 0==e)return"";var i=e.replace(t[n.restrictInput],"");return i!=e&&(a.$setViewValue(i),a.$render()),i}))}}})),(function(){angular.module("app").controller("visibleOnPageController",["$scope","$route","$interval",function(e,t,n){e.purpose=function(t){var n=!1;if(angular.isDefined(e._visibleOnPageList)&&angular.isArray(e._visibleOnPageList)){for(var a=0;a<e._visibleOnPageList.length;a++){var i=e._visibleOnPageList[a];angular.isDefined(t.$$route.pageId)&&i==t.$$route.pageId&&(n=!0)}n?angular.element(e._element).css("display","block"):angular.element(e._element).css("display","none")}},e.$on("$routeChangeSuccess",(function(t,n,a){e.purpose(n)})),e.$on("change-language",(function(){e.purpose(t.current)})),n((function(){e.purpose(t.current)}),1,1)}])})(),(function(){angular.module("app").directive("visibleOnPage",["$timeout",function(e){return{restrict:"A",controller:"visibleOnPageController",link:function(e,t,n){e._visibleOnPageList=n.visibleOnPage.split(","),e._element=t}}}])})(),(function(){angular.module("app").directive("wcmSrc",["$http","$location","$appConfig","$log",function(e,t,n,a){return{link:function(e,i,r){a.debug("wcmSrc/link/entry",e,i,r),r.pristine=!0,r.$observe("src",(function(){a.debug("wcmSrc/link/observe",e,i,r);var o=t.search().projectid;o=o||n.wcmProjectId,angular.isDefined(o)&&""!=o||(o=void 0,a.debug("wcmSrc/link/projectId/undefined"));var s=n.wcmAdditionalParams;angular.isDefined(o)&&r.src.startsWith(n.wcmContentUrl)&&1==r.pristine&&(r.pristine=!1,a.debug("wcmSrc/link/projectId/pristine",r.src),-1==r.src.indexOf("?")&&(r.src=r.src+"?wcm=1",a.debug("wcmSrc/link/projectId/pristine/?",r.src)),r.src=r.src+"&projectid="+o,angular.isDefined(s)&&(r.src=r.src+s,a.debug("wcmSrc/link/projectId/pristine/no?",r.src))),$(i[0]).attr("src",r.src)}))},restrict:"A"}}])})(),(function(){angular.module("app").controller("WidgetNameController",["$scope","$rootScope","$route","$interval","$viewConfig","$location",function(e,t,n,a,i,r){e.purpose=function(t){0==i.isWidgetVisible(e.widgetName)&&$(e._element).remove()},e.$on("$routeChangeSuccess",(function(t,n,a){e.purpose(n)})),t.$on("modal-opened",(function(t,n){e.purpose(r.path())})),a((function(){e.purpose(n.current)}),1,1)}])})(),(function(){angular.module("app").directive("widgetName",["$viewConfig","$log",function(e,t){return{restrict:"A",priority:1,controller:"WidgetNameController",link:function(t,n,a){t._element=n,t.widgetName=a.widgetName;var i=n.scope();0==e.isWidgetVisible(a.widgetName)&&i&&i.$destroy()},scope:!0}}])})(),angular.module("templates").run(["$templateCache",function(e){e.put("tf-stacked-icon.html",'<span class="fa-stack fa-md" ng-if="isVisible"><i class="icon-circle fa-stack-2x"></i> <i class="icon-={{icon}} fa-stack-1x"></i> <span></span></span>'),e.put("tfPage.html",'<div role="main" tabindex="-1"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><pageheading icon-name="{{heading.icon}}" translate-name="{{heading.translate}}" sub-heading="{{heading.subheading}}" icon-alt="{{heading.iconalt}}"></pageheading><div class="no-margin"><div ng-transclude="body"></div></div></div></div></div>'),e.put("tf-accordion-item.html",'<div uib-accordion-group is-open="isOpen" is-disabled="isDisabled"><div ng-transclude="header"></div><div ng-transclude="body"></div></div>'),e.put("tf-accordion-header.html",'<uib-accordion-heading><span class="fa-stack fa-lg"><i class="icon-circle fa-stack-2x"></i> <i class="fa fa-stack-1x" ng-class="{faminus: isOpen, faplus: !isOpen}"></i> </span>{{title}}</uib-accordion-heading>'),e.put("tf-air-time-pop-over.html",'<div class="tf-popover" aria-live="assertive" auto-focus="false"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row padding-top-xs-5"><div tf-class="all-12"><h4 translate="BAT_24708">AIRTIME PIN</h4><p class="small_txt" translate="BAT_24167"></p></div></div><div class="row"><div tf-class="all-12" class="text-center"><img src="assets/images/airtime_plan_back.png" alt="{{\'ICON_5058\'|translate}}"></div></div></div>'),e.put("tf-sim-number-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row padding-top-xs-5"><div tf-class="all-12" tabindex="0"><h4 translate="ACRE_6727"></h4></div></div><div class="row text-center"><div tf-class="12-12-6-6" tabindex="0" widget-name="att"><img src="assets/images/byop-sim-att-dual.png" alt="{{\'ACRE_6734\' | translate}}"><p translate="ACRE_6734" widget-name="byop-sim-att-dual"></p></div><div tf-class="12-12-6-6" tabindex="0" widget-name="tmo"><img src="assets/images/byop-sim-tmo-dual.png" alt="{{\'ACRE_6735\' | translate}}"><p translate="ACRE_6735" widget-name="byop-sim-tmo-dual"></p></div><div tf-class="all-12" tabindex="0" widget-name="vzw"><img src="assets/images/byop-sim-verizon-dual.png"><p translate="ACRE_6737"></p></div></div></div>'),e.put("tf-sim-number-pop-over-tmo.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row padding-top-xs-5"><div tf-class="12-12-9-9" class="col-lg-offset-1 col-md-offset-1"><h4 translate="ACRE_6727"></h4></div><div tf-class="12-12-1-1"></div></div><div class="row"><div tf-class="12-12-4-4" class="col-lg-offset-4 col-md-offset-4"><img src="assets/images/byop-sim-tmo-dual.png"><p translate="ACRE_6735" widget-name="byop-sim-tmo-dual-content"></p></div><div tf-class="12-12-4-4"></div></div></div>'),e.put("tf-sim-number-pop-over-att.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row padding-top-xs-5"><div tf-class="12-12-9-9" class="col-lg-offset-1 col-md-offset-1"><h4 translate="ACRE_6727"></h4></div><div tf-class="12-12-1-1"></div></div><div class="row"><div tf-class="12-12-4-4" class="col-lg-offset-4 col-md-offset-4"><img src="assets/images/byop-sim-att-dual.png"><p translate="ACRE_6734"></p></div><div tf-class="12-12-4-4"></div></div></div>'),e.put("tf-sim-number-pop-over-vzw.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row padding-top-xs-5"><div tf-class="12-12-9-9" class="col-lg-offset-1 col-md-offset-1"><h4 translate="ACRE_6727"></h4></div><div tf-class="12-12-1-1"></div></div><div class="row"><div tf-class="12-12-4-4" class="col-lg-offset-4 col-md-offset-4"><img src="assets/images/byop-sim-verizon-dual.png"><p translate="ACRE_6737"></p></div><div tf-class="12-12-4-4"></div></div></div>'),e.put("tf-sim-number-pop-tmo-wfm.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row padding-top-xs-5"><div tf-class="all-12"><h3 translate="ACRE_6727"></h3></div></div><div class="row"><div tf-class="10-10-4-4" widget-name="sim-card-help-text"><img src="assets/images/byop-sim-att-dual.png" alt="{{\'ACRE_6734\' | translate}}"><p translate="ACRE_6734"></p></div><div tf-class="10-10-4-4" widget-name="sim-card-help-text"><img src="assets/images/byop-sim-tmo-dual.png" alt="{{\'ACRE_6735\' | translate}}"><p translate="ACRE_6735"></p></div><div tf-class="10-10-4-4" widget-name="sim-card-help-text"><img src="assets/images/byop-sim-verizon-dual.png" alt="{{\'ACRE_6737\' | translate}}"><p translate="ACRE_6737"></p></div><div tf-class="12-12-6-6" class="text-center" widget-name="sim-card-help-no-carrier"><img src="assets/images/collectsim.png" class="mb-3" alt="{{\'ACRE_6732\'|translate}}"></div></div></div>'),e.put("tf-promo-code-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><h4 role="alert" tabindex="-1" translate="ACRE_6892">PROMO_CODE</h4><p class="small_txt" translate="BAT_24168"></p></div>'),e.put("tf-help-minsimesn-pop-over.html",'<div class="tf-popover" role="alert"><p translate="COVE_1058" tabindex="0" class="pt-4"></p><p translate="COVE_1105" tabindex="0" class="pt-4"></p><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div></div>'),e.put("tf-help-service-refill.html",'<div class="tf-popover" role="alert"><p translate="BAT_25075" aria-atomic="false" class="pt-4"></p><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div></div>'),e.put("tf-help-device-pop-over.html",'<div class="tf-popover"><p translate="MYAC_99781" tabindex="0" class="pt-4"></p><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div></div>'),e.put("tf-help-device-info-pop-over.html",'<div class="tf-popover" role="alert"><p translate="ACRE_7089" class="pt-4"></p><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div></div>'),e.put("tf-ild-info-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row"><div tf-class="all-12"><h4><span translate="10_DOLLAR_GLOBAL">$ 10 GLOBAL</span></h4></div></div><div class="row"><div tf-class="all-12"><ul><li><span translate="ACRE_6816">Call anywhere in the world, including destinations not covered in you Basic International service, at very low rates.</span></li><li><span translate="FREE_TRACFONE_ILD_ANDROID">FREE TracFone international Dialer app for Android to all without access numbers!</span></li><li><span translate="ENROLL_YOUR_GLOBAL_CARD">Enroll your Global Card in Instant Low Balance Refill and we\'ll refill it when you reach a low balance of $2.</span></li><li><span translate="CALLS_MUST_ORIGINATE_US">Calls must originate from the U.S. No International Roaming. Expires 30 days after your Last Day of Service or 180 days after last use.</span></li></ul></div></div></div>'),e.put("tf-help-auto-refill-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><h4 translate="ACRE_6799">What is Auto-Refill</h4><p class="small_txt" translate="MYACC_5376"></p></div>'),e.put("tf-help-auto-refill-payg-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><h4 translate="BAT_24187">What is Auto-Refill</h4><p class="small_txt" translate="BAT_24192"></p></div>'),e.put("tf-help-ild-lowbalance-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><h4 translate="RDSG_5032">What is Instant Low Balance Refill?</h4><ul><li translate="RDSG_5091"></li><li translate="RDSG_5192"></li><li translate="RDSG_5157"></li><li translate="RDSG_5090"></li></ul></div>'),e.put("tf-help-inst-low-bal-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><h4 translate="BAT_24305">What is Instant Low Balance?</h4><p class="small_txt" translate="BAT_24145"></p></div>'),e.put("tf-help-sim-esn-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><p class="small_txt" translate="ACRE_6739"></p></div>'),e.put("tf-icon.html",'<span class="fa-stack fa-lg"><i class="icon-{{icon}} fa-stack-1x"></i></span>'),e.put("tf-modal-button.html",'<button type="button" title="{{\'Close\'|translate}}" class="btn btn-success btn-circle btn-modal modal-close" data-dismiss="modal" ng-click="action(close)">X</button>'),e.put("tfButtonSecondary.html",'<button id="{{buttonId}}" class="{{style}}" ng-click="action()" ng-disabled="disabled" tabindex="{{tabIndex}}"><span translate="{{translateText}}"></span></button>'),e.put("tf-phone-type.html",'<img ng-src="assets/images/{{deviceType}}.png"> <span class="plate-header margin_left" translate="{{translateTxt}}"></span>'),e.put("tf-byop-template.html",'<div class="row tf-byop"><div ng-repeat="(id, byop) in byops" tf-class="12-4-4-4" class="byop-box"><div class="row"><div tf-class="3-12-12-12" class="text-center"><span class="{{byop.icon}}"></span></div><div tf-class="9-12-12-12" class="padding-all"><div class="padding-all"><p class="text-center"><strong>{{byop.title}}</strong></p></div></div><div tf-class="all-12"><button class="btn btn-lg btn-block btn_primary" ng-click="select(byop)">{{byop.cta}}</button></div></div></div></div><div ng-transclude></div>'),e.put("tf-help-text.html",'<div class="tfhelptext"><a href="javascript:void(0)" role="alert" title="{{\'helpLinkText\'|translate}}" class="small_txt" popover-placement="{{placement}}" translate="{{helpLinkText}}" uib-popover-template="popoverTemplate" popover-is-open="data.isOpen"></a></div>'),e.put("tf-help-sim-size-pop-over.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><p class="small_txt">&nbsp;</p><p class="small_txt" translate="ACRE_6975"></p></div>'),e.put("tf-header-link.html",'<a href="javascript: void(0)" role="alert" ng-click="action()" class="no-wrap margin_right block-grid-sm-1 block-grid-md-1 block-grid-lg-1 lg-pull-right"><span class="text-uppercase small_txt bold_txt" translate="{{translateText}}"></span></a>'),e.put("employee-discount-account-pin.html",'<div class="tf-popover" role="alert"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div><span translate="SUP_5010"></span></div></div>'),e.put("tf-balance-inquiry-help-pop-over.html",'<div class="tf-popover" role="alert" tabindex="0"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><p class="small_txt pt-4" translate="MYAC_99781"></p></div>'),e.put("tf-manage-data-limit.html",'<div class="tf-popover" role="alert" tabindex="0"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><p class="small_txt pt-4" translate="">Data allotment refers to all the data youve assigned to each line during this cycle</p></div>'),e.put("tf-cvv-info-pop-over.html",'<div class="tf-popover" aria-live="assertive" aria-atomic="false"><div class="tf-close-icon"><tf-close-icon close="close()"></tf-close-icon></div><div class="row"><div tf-class="all-12"><h3 class="blue-txt"><span translate="RPE_5086" class="blue-txt">Security Number</span></h3></div><div tf-class="all-12" class="padding-top-3 padding-bottom-3"><p class="small_txt" translate="RPE_5087"></p></div></div><div class="row text-center"><div tf-class="12-4-4-4"><img src="assets/images/cvv_visa.png" role="presentation" alt="{{\'RPE_5097\' | translate}}" ng-if="$root.lang==\'en\'"> <img src="assets/images/cvv_visa_es.png" role="presentation" alt="{{\'RPE_5097\' | translate}}" ng-if="$root.lang==\'es\'"></div><div tf-class="12-8-8-8"><p class="small_txt hidden-xs" translate="RPE_5088"></p><p class="small_txt visible-xs text-center" translate="RPE_5095" tabindex="0"></p></div></div><div class="row text-center"><div tf-class="12-4-4-4"><img src="assets/images/cvv_amex.png" role="presentation" alt="{{\'RPE_5098\' | translate}}" ng-if="$root.lang==\'en\'"> <img src="assets/images/cvv_amex.png" role="presentation" alt="{{\'RPE_5098\' | translate}}" ng-if="$root.lang==\'es\'"></div><div tf-class="12-8-8-8"><p class="small_txt hidden-xs" translate="RPE_5089"></p><p class="small_txt visible-xs text-center" translate="RPE_5096" tabindex="0"></p></div></div></div>'),e.put("accordion-heading.html",'<div class="panel-heading"><a href class="panel-title accordion-toggle" tabindex="0" ng-click="toggleOpen()" uib-accordion-transclude="heading" aria-expanded="{{isOpen ? true: false}}"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a></div><div class="panel-collapse collapse" uib-collapse="!isOpen"><div class="panel-body" ng-transclude></div></div>'),e.put("tfDate.html",'<div class="tftextbox form-group"><div class="validation_error" aria-live="assertive" aria-atomic="false"></div><div class="input-group" role="presentation"><input type="tel" validator="required, month, day, year, date, dob" valid-method="blur" placeholder="{{placeholderText | translate}}" id="{{id}}" name="{{name}}" class="form-control" ng-model="modelValue" ui-mask="99/99/9999" aria-label="{{(screenReaderText!=null?screenReaderText:placeholderText) | translate }} " ui-mask-placeholder="mm/dd/yyyy" month-error-message="ERROR_1985632" day-error-message="ERROR_1985632" dob-error-message="ERROR_1985509" year-error-message="ERROR_1985632" date-error-message="ERROR_1985632" model-view-value="true" tabindex="{{tabIndex}}" field-description="{{fieldDescription}}"> <span class="input-group-addon"><span class="fa-stack fa-lg"></span> </span><label class="placeholder">{{ placeholderText | translate }}</label></div></div>'),e.put("tfCVVNumber.html",'<div class="input-group" ng-class="{\'has-help\':help}"><input type="text" placeholder="{{placeholderText}}" aria-label="{{placeholderText}} " maxlength="{{maxLength}}" id="{{id}}" name="{{name}}" class="form-control" ng-model="modelValue"> <span class="input-group-addon"><span class="fa-stack fa-lg"></span></span></div>'),e.put("tfusername.html",'<tf-textbox type="email" id="{{id}}" name="{{name}}" value="{{value}}" model="dataModel" validator-name="email" validation="true" validate-method="watch" error-msg="Required Error Message" placeholder-text="Username" aria-label="Username" cta-text="{{ctaText}}" cta-url="{{ctaUrl}}"></tf-textbox>'),e.put("tfpassword.html",'<tf-textbox type="password" id="{{id}}" name="{{name}}" model="dataModel" help="{{help}}" value="{{value}}" validation="true" validator-name="required" validate-method="watch" error-msg="Required Error Message" placeholder-text="Password" aria-label="Password" cta-text="{{ctaText}}" cta-url="{{ctaUrl}}"></tf-textbox>'),e.put("tfemail.html",'<tf-textbox type="email" id="{{id}}" name="{{name}}" value="{{value}}" model="dataModel" validator-name="email" validation="true" validate-method="blur" error-msg="Required Error Message" placeholder-text="Email" aria-label="Email"></tf-textbox>'),e.put("tffirstname.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" value="{{value}}" validation="true" validator-name="required" validate-method="watch" error-msg="Required Error Message" placeholder-text="First name" aria-label="First name"></tf-textbox>'),e.put("tflastname.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" value="{{value}}" validation="true" validator-name="required" validate-method="watch" error-msg="Required Error Message" placeholder-text="Last name" aria-label="Last name"></tf-textbox>'),e.put("tfphonenumber.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" value="{{value}}" validation="true" validator-name="phonenumber" validate-method="watch" error-msg="This should be phone number" placeholder-text="Phone number" ui-mask-placeholder="" ui-mask-format="(999) 999-9999" aria-label="Phone number"></tf-textbox>'),e.put("tfminphone.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" help="{{help}}" value="{{value}}" validation="true" validator-name="required, number" validate-method="watch" error-msg="This should be phone number" placeholder-text="Phone number, serial number, or SIM number is required." aria-label="Phone number, serial number, or SIM number is required."></tf-textbox>'),e.put("tfaddress1.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" value="{{value}}" validation="true" validator-name="required" validate-method="watch" error-msg="This is Required" placeholder-text="Address Line1" aria-label="Address Line1"></tf-textbox>'),e.put("tfaddress2.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" value="{{value}}" placeholder-text="Address Line2" aria-label="Address Line2"></tf-textbox>'),e.put("tfcity.html",'<tf-selectbox id="{{id}}" name="{{name}}" model="dataModel" options="options" validator-name="required" validate-method="blur" placeholder="City" aria-label="City"></tf-selectbox>'),e.put("tfstate.html",'<tf-selectbox name="{{name}}" id="{{id}}" model="dataModel" options="options" validator-name="required" validate-method="blur" placeholder="State" aria-label="State"></tf-selectbox>'),e.put("tfcountry.html",'<tf-selectbox name="{{name}}" id="{{id}}" model="dataModel" options="options" validator-name="required" validate-method="blur" placeholder="Country" aria-label="Country"></tf-selectbox>'),e.put("tfzipcode.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" value="{{value}}" validation="true" validator-name="zipcode" validate-method="watch" error-msg="Required Error Message" placeholder-text="ZipCode" aria-label="ZipCode"></tf-textbox>'),
e.put("tfcreditcard.html",'<tf-textbox type="text" id="{{id}}" name="{{name}}" model="dataModel" value="{{value}}" validation="true" validator-name="creditcard" validate-method="watch" error-msg="Required Error Message" placeholder-text="Credit Card" aria-label="Credit Card"></tf-textbox>'),e.put("tfcontinuebtn.html",'<tf-button model="dataModel" id="{{id}}" name="{{name}}" text="Continue" type="primary" action="action()"></tf-button>'),e.put("tfsavebtn.html",'<tf-button model="dataModel" validate-submit="true" submit-form="{{submitForm}}" id="{{id}}" name="{{name}}" text="Save" type="secondary" action="action()"></tf-button>'),e.put("tfradio.html",'<div class="tfradio"><label><input type="radio" id="{{radioId}}" name="{{radioName}}" ng-model="dataModel" validate="{{validatorName}}" validmethod="blur" checked="radio.checked" value="{{radioValue}}" errormessage="Select any one"> {{radioLabel}}</label></div>'),e.put("tfcheckbox.html",'<div class="tfcheckbox"><div class="checkbox"><input type="checkbox" ng-model="dataModel" id="{{id}}"> <label for="{{id}}">{{label}}</label></div></div>'),e.put("tfSelectbox.html",'<div class="row tfselectbox form-group"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><select name="{{name}}" id="{{id}}" ng-model="dataModel" validator="{{validatorName}}" valid-method="{{validateMethod}}" ng-options="list.name for list in options"><option value="" disabled="">{{placeholder}}</option></select></div></div>'),e.put("tfbutton.html",'<button ng-if="validateSubmit" class="btn btn-large btn-block {{classname}}" ng-model="dataModel" id="{{id}}" name="{{name}}" validation-submit="{{submitForm}}" ng-click="action()">{{text}}</button> <button ng-if="!validateSubmit" class="btn btn-large btn-block {{classname}}" ng-model="dataModel" id="{{id}}" name="{{name}}" ng-click="action()">{{text}}</button>'),e.put("tf-plan-card.html",'<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card padding-all hidden-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><div ng-show="theme != \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><div ng-show="theme == \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}" striked="true"></tf-price></div><p ng-show="theme != \'enroll\'">${{plan.month_price | dollars}}/<span translate="BAT_24150"></span></p><p ng-show="theme == \'enroll\'"><span>${{plan.promo.month_price | dollars}}</span>/<span translate="BAT_24150"></span></p><hr><div class="service-days"><h3 class="text-nowrap">{{plan.service_days}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24199"></p></div></div><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><tf-sp-image plan="plan" type="sf"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12"><p role="heading" aria-level="7" class="small_txt grey_txt"><span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h3 class="no-margin">{{plan.voice}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h3 class="no-margin">{{plan.sms}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data < 1024"><h3 class="no-margin">{{plan.data}}</h3><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data > 1023"><h3 class="no-margin">{{plan.data | toGB | number:1}}</h3><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189" ng-if="theme != \'enroll\'"></tf-button-primary><tf-button-primary action="action(plan)" translate-text="ENROLL_NOW" ng-if="theme == \'enroll\'"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card padding-all visible-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div ng-show="theme != \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><div ng-show="theme == \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}" striked="true"></tf-price></div><p ng-show="theme != \'enroll\'">${{plan.month_price | dollars}}/<span translate="BAT_24150"></span></p><p ng-show="theme == \'enroll\'"><span>${{plan.promo.month_price | dollars}}</span>/<span translate="BAT_24150"></span></p><hr><div class="service-days"><h3 class="text-nowrap">{{plan.service_days}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24199"></p><hr></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><tf-sp-image plan="plan" type="sf"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12"><p role="heading" aria-level="7" class="small_txt grey_txt"><span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h3 class="no-margin">{{plan.voice}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h3 class="no-margin">{{plan.sms}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data < 1024"><h3 class="no-margin">{{plan.data}}</h3><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data > 1023"><h3 class="no-margin">{{plan.data | toGB | number:1}}</h3><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189" ng-if="theme != \'enroll\'"></tf-button-primary><tf-button-primary action="action(plan)" translate-text="ENROLL_NOW" ng-if="theme == \'enroll\'"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div>'),e.put("tf-plan-card-payg.html",'<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-payg padding-all hidden-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><p role="heading" aria-level="7" class="small_txt hidden-md"><strong>{{plan.actual_voice_units}} <span translate="BAT_24194"></span></strong></p><div ng-show="theme != \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><div ng-show="theme == \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}" striked="true"></tf-price></div><p role="heading" aria-level="7" class="small_txt hidden-xs"><strong>{{plan.actual_voice_units}} <span translate="BAT_24221"></span></strong></p><p role="heading" aria-level="7" class="small_txt grey_txt" ng-show="theme != \'enroll\'"><span translate="ABOUT"></span> ${{plan.month_price | dollars}}/<span translate="BAT_24150"></span></p><p role="heading" aria-level="7" class="small_txt grey_txt" ng-show="theme == \'enroll\'"><span translate="ABOUT"></span> <span>${{plan.promo.price | dollars}}</span>/<span translate="BAT_24150"></span></p><hr><div class="service-days"><h3 class="text-nowrap">{{plan.service_days}}</h3><p role="heading" aria-level="7" class="small_txt_bold"><span translate="BAT_24199"></span></p></div></div><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><tf-sp-image plan="plan" type="payg"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12"><p role="heading" aria-level="7" class="small_txt grey_txt">{{plan.voice_con_factor}}X <span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h3 class="no-margin">{{plan.voice}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 border_right"><p translate="BAT_24226"></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189" ng-if="theme != \'enroll\'"></tf-button-primary><tf-button-primary action="action(plan)" translate-text="ENROLL_NOW" ng-if="theme == \'enroll\'"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-payg padding-all visible-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div tf-class="all-12"><p role="heading" aria-level="7" class="small_txt hidden-md"><strong>{{plan.actual_voice_units}} <span translate="BAT_24194"></span></strong></p><div ng-show="theme != \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><div ng-show="theme == \'enroll\'"><tf-price color="blue" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}" striked="true"></tf-price></div><p role="heading" aria-level="7" class="small_txt hidden-xs"><strong>{{plan.actual_voice_units}} <span translate="BAT_24221"></span></strong></p><p role="heading" aria-level="7" class="small_txt grey_txt" ng-show="theme != \'enroll\'"><span translate="ABOUT"></span> ${{plan.month_price | dollars}}/<span translate="BAT_24150"></span></p><p role="heading" aria-level="7" class="small_txt grey_txt" ng-show="theme == \'enroll\'"><span translate="ABOUT"></span> <span>${{plan.promo.price | dollars}}</span>/<span translate="BAT_24150"></span></p><hr><div class="service-days"><h3 class="text-nowrap pull-left">{{plan.service_days}}</h3><p role="heading" aria-level="7" class="small_txt_bold pull-left"><span translate="BAT_24199"></span></p></div></div><div tf-class="all-12"><hr><tf-sp-image plan="plan" type="payg"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12"><p role="heading" aria-level="7" class="small_txt grey_txt">{{plan.voice_con_factor}}X <span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h3 class="no-margin">{{plan.voice}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 border_right"><p translate="BAT_24226"></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189" ng-if="theme != \'enroll\'"></tf-button-primary><tf-button-primary action="action(plan)" translate-text="ENROLL_NOW" ng-if="theme == \'enroll\'"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div>'),e.put("tf-plan-card-addon.html",'<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-addon padding-all hidden-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div class="col-xs-7 col-sm-6 col-md-6 col-lg-8"><div class="price"><p role="heading" aria-level="7" class="small_txt_bold pull-left" translate="BAT_24307">PRICE</p><tf-price color="blue" theme="md" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price><div class="clearfix"></div></div><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt" translate="BAT_24215">MORE FOR YOUR PHONE</p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && !plan.is_upsellyear && !plan.is_upsellDblMin"><div class="row"><div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 border_right"><h3 class="no-margin">{{plan.voice}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-7 col-sm-7 col-md-7 col-lg-7"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24226"></p></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && !plan.is_upsellyear  && plan.is_upsellDblMin"><div class="row"><div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 border_right"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="DOUBLE_MIN"></p><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-7 col-sm-7 col-md-7 col-lg-7"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24226"></p></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && plan.is_upsellyear"><div class="row"><div class="col-xs-8 col-sm-8 col-md-8 col-lg-7"><h3 class="no-margin">{{plan.service_days}}</h3><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="SERVICE_DAYS"></p></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="!plan.is_upsell"><h3 class="no-margin" ng-show="plan.voice > 0">{{plan.voice}} <span class="small_txt_bold" translate="BAT_24201"></span></h3><h3 class="no-margin" ng-show="plan.sms > 0">{{plan.sms}} <span class="small_txt_bold" translate="BAT_24202">TEXTS</span></h3><h3 class="no-margin" ng-show="plan.data < 1024 && plan.data != 0">{{plan.data}}<span class="small_txt_bold">MB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.data > 1023">{{plan.data | toGB | number:1}} <span class="small_txt_bold">GB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.service_days > 0">{{plan.service_days}} <span class="small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></h3></div><div class="col-xs-9 col-sm-9 col-md-8 col-lg-7" ng-if="plan.is_ild_vas"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="ACRE_6814"></p></div><div class="col-xs-3 col-sm-3 col-md-4 col-lg-5 pad text-center" ng-if="plan.is_ild_vas"><tf-info-icon placement="auto" popover-template="\'tf-ild-info-pop-over.html\'"></tf-info-icon></div></div></div><div class="col-xs-5 col-sm-6 col-md-6 col-lg-4 mobile-adjust-spacing"><div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan"></tf-sp-image></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="!plan.is_upsellyear && !plan.is_upsellDblMin"><p role="heading" aria-level="7" class="extra_small_txt text-center" translate="BAT_24146"></p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="plan.is_upsellDblMin"><p role="heading" aria-level="7" class="extra_small_txt text-center" translate="BAT_23391"></p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="plan.is_upsellyear"><p role="heading" aria-level="7" class="extra_small_txt text-center" translate="UPSELL_YEAR"></p></div></div></div></div><hr><div class="row" ng-if="addNowCheckboxEnabled == true"><div tf-class="all-12" class="align-left"><div class="checkbox"><input id="{{plan.plan_id}}" type="checkbox" ng-model="plan.checked" ng-true-value="{{plan}}"> <label for="{{plan.plan_id}}"><span translate="ACRE_6983">ADD NOW</span></label></div></div></div></div></div><div class="row margin_top" ng-if="cartEnabled"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189" ng-if="theme != \'enroll\'"></tf-button-primary><tf-button-primary action="action(plan)" translate-text="ENROLL_NOW" ng-if="theme == \'enroll\'"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-addon padding-all visible-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div tf-class="all-12"><div class="price"><p role="heading" aria-level="7" class="small_txt_bold pull-left" translate="BAT_24307">PRICE</p><tf-price color="blue" theme="md" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price><div class="clearfix"></div></div><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt" translate="BAT_24215">MORE FOR YOUR PHONE</p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><h3 class="no-margin" ng-show="plan.voice > 0">{{plan.voice}} <span class="small_txt_bold" translate="BAT_24201"></span></h3><h3 class="no-margin" ng-show="plan.sms > 0">{{plan.sms}} <span class="small_txt_bold" translate="BAT_24202">TEXTS</span></h3><h3 class="no-margin" ng-show="plan.data < 1024 && plan.data != 0">{{plan.data}}<span class="small_txt_bold">MB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.data > 1023">{{plan.data | toGB | number:1}} <span class="small_txt_bold">GB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.service_days > 0">{{plan.service_days}} <span class="small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></h3></div><div class="col-xs-9 col-sm-9 col-md-8 col-lg-7" ng-if="plan.is_ild_vas"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="ACRE_6814"></p></div><div class="col-xs-3 col-sm-3 col-md-4 col-lg-5 pad text-center" ng-if="plan.is_ild_vas"><tf-info-icon placement="auto" popover-template="\'tf-ild-info-pop-over.html\'"></tf-info-icon></div></div><hr></div><div tf-class="all-12"><div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan"></tf-sp-image></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center"><span class="extra_small_txt text-center" translate="BAT_24146"></span></div></div></div></div><hr><div class="row" ng-if="addNowCheckboxEnabled == true"><div tf-class="all-12" class="align-left"><div class="checkbox"><input id="{{plan.plan_id}}" type="checkbox" ng-model="plan.checked" ng-true-value="{{plan}}"> <label for="{{plan.plan_id}}"><span translate="ACRE_6983">ADD NOW</span></label></div></div></div></div></div><div class="row margin_top" ng-if="cartEnabled"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189" ng-if="theme != \'enroll\'"></tf-button-primary><tf-button-primary action="action(plan)" translate-text="ENROLL_NOW" ng-if="theme == \'enroll\'"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div>'),e.put("tf-plan-card-popup.html",'<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-popup padding-all hidden-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><div class="text-left"><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24307">PRICE</p><tf-price striked="true" color="blue" theme="lg" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><hr><div class="service-days"><h5 class="text-nowrap"><strong>{{plan.service_days}}</strong> <span class="small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></h5></div></div><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><tf-sp-image plan="plan" type="sf"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt"><span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.sms}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data < 1024"><h5 class="no-margin"><strong>{{plan.data}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data > 1023"><h5 class="no-margin"><strong>{{plan.data | toGB | number:1}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-popup padding-all visible-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div tf-class="all-12"><div class="text-left"><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24307">PRICE</p><tf-price striked="true" color="blue" theme="lg" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><hr><div class="service-days"><h5 class="text-nowrap"><strong>{{plan.service_days}}</strong> <span class="small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></h5></div></div><div tf-class="all-12"><tf-sp-image plan="plan" type="sf"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt"><span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.sms}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202"></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data < 1024"><h5 class="no-margin"><strong>{{plan.data}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.data > 1023"><h5 class="no-margin"><strong>{{plan.data | toGB | number:1}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div>'),e.put("tf-plan-card-payg-popup.html",'<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-payg-popup padding-all hidden-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><div class="text-left"><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24307">PRICE</p><tf-price striked="true" color="blue" theme="lg" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><hr><div class="service-days"><h5 class="text-nowrap"><strong>{{plan.service_days}}</strong><span class="small_txt_bold" translate="BAT_24199"> SERVICE DAYS</span></h5></div></div><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6"><tf-sp-image plan="plan" type="payg"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt"><span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.voice < 1024"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.voice > 1023"><h5 class="no-margin"><strong>{{plan.voice | toGB | number:1}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 serviceplan tf-plan-card-payg-popup padding-all visible-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div tf-class="all-12"><div class="text-left"><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24307">PRICE</p><tf-price striked="true" color="blue" theme="lg" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price></div><hr><div class="service-days"><h5 class="text-nowrap"><strong>{{plan.service_days}}</strong><span class="small_txt_bold" translate="BAT_24199"> SERVICE DAYS</span></h5></div></div><div tf-class="all-12"><tf-sp-image plan="plan" type="payg"></tf-sp-image></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt"><span translate="BAT_24209"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 border_right"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.voice < 1024"><h5 class="no-margin"><strong>{{plan.voice}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" ng-show="plan.voice > 1023"><h5 class="no-margin"><strong>{{plan.voice | toGB | number:1}}</strong></h5><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div>'),
e.put("tf-plan-card-addon-popup.html",'<div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 tf-plan-card-addon-popup hidden-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div class="col-xs-7 col-sm-8 col-md-6 col-lg-8"><div class="price"><p role="heading" aria-level="7" class="small_txt_bold pull-left" translate="BAT_24307">PRICE</p><tf-price color="blue" theme="md" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price><div class="clearfix"></div></div><hr><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt" translate="BAT_24215">MORE FOR YOUR PHONE</p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="!plan.is_upsell"><h3 class="no-margin" ng-show="plan.voice > 0">{{plan.voice}} <span class="small_txt_bold" translate="BAT_24201">MINUTES</span></h3><h3 class="no-margin" ng-show="plan.sms > 0">{{plan.sms}} <span class="small_txt_bold" translate="BAT_24202">TEXTS</span></h3><h3 class="no-margin" ng-show="plan.data < 1024 && plan.data != 0">{{plan.data}}<span class="small_txt_bold">MB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.data > 1023">{{plan.data | toGB | number:1}} <span class="small_txt_bold">GB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.service_days > 0">{{plan.service_days}} <span class="small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></h3></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && !plan.is_upsellyear && !plan.is_upsellDblMin"><div class="row"><div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 border_right"><h3 class="no-margin">{{plan.voice}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-7 col-sm-7 col-md-7 col-lg-7"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24226"></p></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && !plan.is_upsellyear && plan.is_upsellDblMin"><div class="row"><div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 border_right"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="DOUBLE_MIN"></p><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-7 col-sm-7 col-md-7 col-lg-7"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24226"></p></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && plan.is_upsellyear"><div class="row"><div class="col-xs-8 col-sm-8 col-md-8 col-lg-6 border_right"><h3 class="no-margin">{{plan.service_days}}</h3><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="SERVICE_DAYS">SERVICE sDAYS</p></div></div></div><div class="col-xs-8 col-sm-8 col-md-8 col-lg-6" ng-if="plan.is_ild_vas"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24217">INTERNATIONAL LONG DISTANCE</p></div><div class="col-xs-4 col-sm-4 col-md-4 col-lg-6 pad tf-info-icon" ng-if="plan.is_ild_vas"><tf-info-icon placement="auto" popover-template="\'tf-ild-info-pop-over.html\'"></tf-info-icon></div></div></div><div class="col-xs-5 col-sm-4 col-md-6 col-lg-4 mobile-adjust-spacing"><div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan"></tf-sp-image></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="(!plan.is_upsellyear && !plan.is_upsellDblMin)|| plan.is_ild_vas"><p role="heading" aria-level="7" class="extra_small_txt text-center" translate="BAT_24146">This card will not add service days</p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="plan.is_upsellDblMin"><p role="heading" aria-level="7" class="extra_small_txt text-center" translate="BAT_23391"></p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="plan.is_upsellyear"><p role="heading" aria-level="7" class="extra_small_txt text-center" translate="UPSELL_YEAR">Add 365 days</p></div></div></div></div><hr></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 tf-plan-card-addon-popup visible-xs"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="row"><div tf-class="all-12"><div class="price"><p role="heading" aria-level="7" class="small_txt_bold pull-left" translate="BAT_24307">PRICE</p><tf-price color="blue" theme="md" dollars="{{plan.price | dollars}}" cents="{{plan.price | cents}}"></tf-price><div class="clearfix"></div></div><hr></div><div tf-class="all-12"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan"></tf-sp-image></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="(!plan.is_upsellyear && !plan.is_upsellDblMin)|| plan.is_ild_vas"><p role="heading" aria-level="7" class="small text-center" translate="BAT_24146">This card will not add service days</p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="plan.is_upsellDblMin"><p role="heading" aria-level="7" class="small text-center" translate="BAT_23391"></p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 display-card-text" ng-if="plan.is_upsellyear"><p role="heading" aria-level="7" class="small text-center" translate="UPSELL_YEAR">Add 365 days</p></div></div><hr></div><div tf-class="all-12"><div class="row"><div class="margin_top col-xs-12 col-sm-12 col-md-12 col-lg-12 text-left"><p role="heading" aria-level="7" class="small_txt grey_txt" translate="BAT_24215">MORE FOR YOUR PHONE</p></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="!plan.is_upsell"><h3 class="no-margin" ng-show="plan.voice > 0">{{plan.voice}} <span class="small_txt_bold" translate="BAT_24201">MINUTES</span></h3><h3 class="no-margin" ng-show="plan.sms > 0">{{plan.sms}} <span class="small_txt_bold" translate="BAT_24202">TEXTS</span></h3><h3 class="no-margin" ng-show="plan.data < 1024 && plan.data != 0">{{plan.data}}<span class="small_txt_bold">MB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.data > 1023">{{plan.data | toGB | number:1}} <span class="small_txt_bold">GB <span translate="BAT_24299"></span></span></h3><h3 class="no-margin" ng-show="plan.service_days > 0">{{plan.service_days}} <span class="small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></h3></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && !plan.is_upsellyear && !plan.is_upsellDblMin"><div class="row"><div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 border_right"><h3 class="no-margin">{{plan.voice}}</h3><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-7 col-sm-7 col-md-7 col-lg-7"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24226"></p></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && !plan.is_upsellyear && plan.is_upsellDblMin"><div class="row"><div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 border_right"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="DOUBLE_MIN"></p><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201"></p></div><div class="col-xs-7 col-sm-7 col-md-7 col-lg-7"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24226"></p></div></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" ng-if="plan.is_upsell && plan.is_upsellyear"><div class="row"><div class="col-xs-8 col-sm-8 col-md-8 col-lg-6 border_right"><h3 class="no-margin">{{plan.service_days}}</h3><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="SERVICE_DAYS">SERVICE sDAYS</p></div></div></div><div class="col-xs-10 col-sm-8 col-md-8 col-lg-6" ng-if="plan.is_ild_vas"><p role="heading" aria-level="7" class="small_txt_bold no-margin" translate="BAT_24217">INTERNATIONAL LONG DISTANCE</p></div><div class="col-xs-2 col-sm-4 col-md-4 col-lg-6 pad tf-info-icon" ng-if="plan.is_ild_vas"><tf-info-icon placement="auto" popover-template="\'tf-ild-info-pop-over.html\'"></tf-info-icon></div></div></div></div><hr></div></div><div class="row margin_top" ng-if="cartEnabled == true"><div class="col-xs-12 col-md-3 col-lg-3"></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"><tf-button-primary action="action(plan)" translate-text="BAT_24189"></tf-button-primary></div><div class="col-xs-12 col-md-3 col-lg-3"></div></div></div></div>'),e.put("tf-checkout-plan-card.html",'<div class="tf-checkout-plan-card tf-checkout-card-primary tf-checkout-xs hidden-xs"><table width="100%"><tr><td width="55%" align="top"><table width="100%"><tr><td width="100%"><span class="header-text" translate="BAT_24233">Price</span> <span class="pull-right" ng-if="plan.plan_type!=\'Add Ons\'"><span class="price" ng-class="{strike:plan.auto_refill}">${{plan.price}}</span> <span class="enrolled-price" ng-class="{strike:!plan.auto_refill}" ng-show="plan.promo != undefined">${{plan.promo.price}}</span> </span><span class="pull-right" ng-if="plan.plan_type==\'Add Ons\'"><span class="enrolled-price">${{plan.price}}</span></span></td></tr><tr ng-if="!plan.is_addon && (!plan.auto_enrollflow && !isEnrollDisabled)"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="60%"><span class="header-text" translate="ENROLL_IN_AUTO_REFILL_CHECKOUT">Enroll in Auto-Refill*</span></td><td width="20%"><span class="hidden-xs pull-left"><tf-help-icon placement="right-middle" popover-template="\'tf-help-auto-refill-pop-over.html\'"></tf-help-icon></span></td><td width="20%" align="middle"><span class="visible-xs"><tf-help-icon placement="bottom-left" popover-template="\'tf-help-auto-refill-pop-over.html\'"></tf-help-icon></span><span class="pull-right checkbox"><input type="checkbox" id="{{plan.plan_id}}" ng-model="plan.auto_refill" ng-click="enrollChange()"><label for="{{plan.plan_id}}"></label></span></td></tr></table><table width="100%" class="visible-xs"><tr><td width="65%"><span class="header-text" translate="ENROLL_IN_AUTO_REFILL_CHECKOUT">Enroll in Auto-Refill* </span><span class="hidden-xs"><tf-help-icon placement="right-middle" popover-template="\'tf-help-auto-refill-pop-over.html\'"></tf-help-icon></span></td><td width="35%" align="middle"><span class="visible-xs"><tf-help-icon placement="bottom-left" popover-template="\'tf-help-auto-refill-pop-over.html\'"></tf-help-icon></span><span class="checkbox"><input type="checkbox" id="{{plan.plan_id}}" ng-model="plan.auto_refill" ng-click="enrollChange()"><label for="{{plan.plan_id}}"></label></span></td></tr></table></td></tr><tr ng-if="!plan.is_addon && plan.auto_enrollflow"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="60%"><span class="header-text" translate="ENROLL_IN_AUTO_REFILL_CHECKOUT">Enroll in Auto-Refill*</span></td><td width="20%"><span class="hidden-xs pull-left"><tf-help-icon placement="right-middle" popover-template="\'tf-help-auto-refill-pop-over.html\'"></tf-help-icon></span></td><td width="20%" align="middle"><span class="pull-right"><i class="fa fa-check"></i></span></td></tr></table></td></tr><tr ng-if="plan.ild_sup && (!plan.auto_enrollflow && !isLowBalanceDisabled)"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="80%"><span class="header-text" translate="BAT_24244">Enroll in Low Balance</span> <span class="hidden-xs"><tf-help-icon placement="right-middle" popover-template="\'tf-help-inst-low-bal-pop-over.html\'"></tf-help-icon></span></td><td width="35%" align="middle"><span class="visible-xs"><tf-help-icon placement="right-middle" popover-template="\'tf-help-inst-low-bal-pop-over.html\'"></tf-help-icon></span><span class="checkbox"><input type="checkbox" id="{{plan.plan_id}}" ng-model="plan.auto_refill" ng-click="enrollChange()"><label for="{{plan.plan_id}}"></label></span></td></tr></table></td></tr><tr ng-if="plan.ild_sup && plan.auto_enrollflow"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="80%"><span class="header-text" translate="BAT_24244">Enroll in Low Balance</span> <span class="hidden-xs"><tf-help-icon placement="right-middle" popover-template="\'tf-help-inst-low-bal-pop-over.html\'"></tf-help-icon></span></td><td width="35%" align="middle"><span class="visible-xs"><tf-help-icon placement="right-middle" popover-template="\'tf-help-inst-low-bal-pop-over.html\'"></tf-help-icon></span><span class="pull-right"><i class="fa fa-check"></i></span></td></tr></table></td></tr><tr ng-if="!plan.auto_refill && !plan.auto_enrollflow && !isActivationFlow"><td width="100%"><table width="100%"><tr><td width="60%"><p role="heading" aria-level="7" class="header-text" translate="ACRE_6877">Quantity</p></td><td width="40%"><span class="pull-right"><number-input ng-model="plan.quantity" ng-change="quantityChange()"></number-input></span></td></tr></table></td></tr><tr ng-if="isActivationFlow"><td width="100%"><table width="100%"><tr><td width="60%"><p role="heading" aria-level="7" class="header-text" translate="ACRE_6877">Quantity</p></td><td width="40%"><div class="number-input-container inputcounter pull-right"><input type="text" class="pull-right form-control number-input" ng-model="plan.quantity" disabled="disabled"></div></td></tr></table></td></tr></table></td><td width="45%" class="plan-card"><tf-sp-image plan="plan" type="sf" ng-if="plan.is_smartphone"></tf-sp-image><tf-sp-image plan="plan" type="payg" ng-if="plan.is_paygo"></tf-sp-image><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image></td></tr><tr><td colspan="2"><div class="row"><div tf-class="all-12"><span class="pull-left" ng-click="toggleOpen()"><tf-show-more-less is-open="isOpen"></tf-show-more-less></span><span class="fa-stack fa-lg pull-right" ng-click="deletePlan()"><i class="fa fa-circle fa-stack-2x"></i> <i class="icon-trash-o" title="{{\'ICON_5016\'|translate}}"></i></span></div><div tf-class="all-12" class="service-days-row" ng-if="isOpen"><p ng-if="!plan.is_addon"><span class="header-text big">{{plan.service_days}}</span><span class="service-days small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></p><p ng-if="plan.is_addon && !plan.is_upsellyear" class="service-days" translate="BAT_24293">NO SERVICE DAYS</p></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.is_paygo"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-8" class="full-width value-column has-border"><p role="heading" aria-level="7" class="small_txt_bold" translate="ACRE_6825">For talk and text</p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.is_smartphone"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width value-column has-border"><span class="header-text big">{{plan.sms}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data < 1024"><span class="header-text big">{{plan.data}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.is_addon && !plan.is_ild_vas && plan.is_addon && !plan.is_upsell"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border" ng-if="plan.voice > 0"><span class="header-text big">{{plan.voice}}</span><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-12" class="full-width value-column has-border" ng-if="plan.sms > 0"><span class="header-text big">{{plan.sms}}</span><p role="heading" aria-level="7" class="small_txt_bold">TEXTS</p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data < 1024 && plan.data > 0"><span class="header-text big">{{plan.data}}</span><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.is_addon && !plan.is_ild_vas && plan.is_upsell && !plan.isupsellPaygo && !plan.is_upsellyear"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width value-column has-border"><span class="header-text big">{{plan.sms}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data < 1024"><span class="header-text big">{{plan.data}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.is_addon && !plan.is_ild_vas && plan.is_upsell && plan.isupsellPaygo && !plan.is_upsellyear"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-4" class="full-width has-border" ng-if="!plan.is_upsellDblMin"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width has-border" ng-if="plan.is_upsellDblMin"><span class="header-text small" translate="DOUBLE_MIN"></span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-8" class="full-width value-column has-border"><p role="heading" aria-level="7" class="small_txt_bold" translate="ACRE_6825">For talk and text</p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.is_addon && plan.is_upsellyear"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border"><span class="header-text big">{{plan.service_days}}</span><span class="service-days small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.is_addon && plan.is_ild_vas"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border"><span class="header-text big" translate="BAT_24217"></span></div></div></div></td></tr></table></div><div class="tf-checkout-plan-card tf-checkout-card-primary tf-checkout-xs visible-xs"><table width="100%"><tr><td width="55%" align="top"><table width="100%"><tr><td width="100%"><span class="header-text" translate="BAT_24233">Price</span> <span class="pull-right" ng-if="plan.plan_type!=\'Add Ons\'"><span class="price" ng-class="{strike:plan.auto_refill}">${{plan.price}}</span> <span class="enrolled-price" ng-class="{strike:!plan.auto_refill}" ng-show="plan.promo != undefined">${{plan.promo.price}}</span> </span><span class="pull-right padding-right-xs-3" ng-if="plan.plan_type==\'Add Ons\'"><span class="enrolled-price">${{plan.price}}</span></span></td></tr><tr ng-if="plan.plan_type !=\'Add Ons\' && (!plan.auto_enrollflow && !isEnrollDisabled)"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="ENROLL_IN_AUTO_REFILL_CHECKOUT">Enroll in Auto-Refill*</span></td><td width="20%" align="left"><span><tf-help-icon placement="right-middle" popover-template="\'tf-help-auto-refill-pop-over.html\'"></tf-help-icon></span></td><td width="20%" align="middle"><span class="checkbox"><input type="checkbox" id="{{plan.plan_id}}" ng-model="plan.auto_refill" ng-click="enrollChange()"><label for="{{plan.plan_id}}"></label></span></td></tr></table></td></tr><tr ng-if="plan.plan_type!=\'Add Ons\' && plan.auto_enrollflow"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="ENROLL_IN_AUTO_REFILL_CHECKOUT">Enroll in Auto-Refill*</span></td><td width="20%" align="left"><span><tf-help-icon placement="right-middle" popover-template="\'tf-help-auto-refill-pop-over.html\'"></tf-help-icon></span></td><td width="20%" align="middle"><span class="pull-right"><i class="fa fa-check"></i></span></td></tr></table></td></tr><tr ng-if="plan.ild_sup && (!plan.auto_enrollflow && !isLowBalanceDisabled)"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="BAT_24244">Enroll in Low Balance</span></td><td width="20%" align="left"><span><tf-help-icon placement="right-middle" popover-template="\'tf-help-inst-low-bal-pop-over.html\'"></tf-help-icon></span></td><td width="20%" align="middle"><span class="checkbox"><input type="checkbox" id="{{plan.plan_id}}" ng-model="plan.auto_refill" ng-click="enrollChange()"><label for="{{plan.plan_id}}"></label></span></td></tr></table></td></tr><tr ng-if="plan.ild_sup && plan.auto_enrollflow"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="BAT_24244">Enroll in Low Balance</span></td><td width="20%" align="left"><span><tf-help-icon placement="right-middle" popover-template="\'tf-help-inst-low-bal-pop-over.html\'"></tf-help-icon></span></td><td width="20%" align="middle"><span class="pull-right"><i class="fa fa-check"></i></span></td></tr></table></td></tr><tr ng-if="!plan.auto_refill && !plan.auto_enrollflow && !isActivationFlow"><td width="100%"><table width="100%"><tr><td width="60%"><p role="heading" aria-level="7" class="header-text" translate="ACRE_6877">Quantity</p></td><td width="40%"><span class="pull-right"><number-input ng-model="plan.quantity" ng-change="quantityChange()"></number-input></span></td></tr></table></td></tr><tr ng-if="isActivationFlow"><td width="100%"><table width="100%"><tr><td width="60%"><p role="heading" aria-level="7" class="header-text" translate="ACRE_6877">Quantity</p></td><td width="40%" ng-if="!plan.auto_refill"><span class="pull-right"><number-input ng-model="plan.quantity" ng-change="quantityChange()" max="1" ng-disable="true"></number-input></span></td><td width="40%" ng-if="plan.auto_refill"><div class="number-input-container inputcounter pull-right"><input type="text" class="pull-right form-control number-input" ng-model="plan.quantity" disabled="disabled"></div></td></tr></table></td></tr></table></td></tr><tr><td width="45%" class="plan-card"><tf-sp-image plan="plan" type="sf" ng-if="plan.is_smartphone"></tf-sp-image><tf-sp-image plan="plan" type="payg" ng-if="plan.is_paygo"></tf-sp-image><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image></td></tr><tr><td><div class="row"><div tf-class="all-12"><span class="pull-left" ng-click="toggleOpen()"><tf-show-more-less is-open="isOpen"></tf-show-more-less></span><span class="fa-stack fa-lg pull-right" ng-click="deletePlan()"><i class="fa fa-circle fa-stack-2x"></i> <i class="icon-trash-o" title="{{\'ICON_5016\'|translate}}"></i></span></div><div tf-class="all-12" class="service-days-row" ng-if="isOpen"><p ng-if="plan.plan_type!=\'Add Ons\'"><span class="header-text big">{{plan.service_days}}</span><span class="service-days small_txt_bold" translate="BAT_24199">SERVICE DAYS</span></p><p ng-if="plan.plan_type==\'Add Ons\'" class="service-days" translate="BAT_24293">NO SERVICE DAYS</p></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.plan_type ==\'Pay-As-You-Go Service Plans\'"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-8" class="full-width value-column has-border"><p role="heading" aria-level="7" class="small_txt_bold" translate="ACRE_6825">For talk and text</p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.plan_type ==\'SmartPhone Only Plans\'"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="MINUTES">MINUTES</p></div><div tf-class="all-4" class="full-width value-column has-border"><span class="header-text big">{{plan.sms}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data < 1024"><span class="header-text big">{{plan.data}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.plan_type==\'Add Ons\' && plan.ild_sup==false"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border" ng-if="plan.voice > 0"><span class="header-text big">{{plan.voice}}</span><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-12" class="full-width value-column has-border" ng-if="plan.sms > 0"><span class="header-text big">{{plan.sms}}</span><p role="heading" aria-level="7" class="small_txt_bold">TEXTS</p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data < 1024 && plan.data > 0"><span class="header-text big">{{plan.data}}</span><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="isOpen && plan.plan_type==\'Add Ons\' && plan.ild_sup==true"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border"><span class="header-text big" translate="BAT_24217"></span></div></div></div></td></tr></table></div>'),
e.put("tf-summary-plan-card.html",'<div class="tf-summary-plan-card tf-checkout-xs"><table width="100%" class="hidden-xs"><tr><td width="55%" align="top"><table width="100%"><tr><td width="100%"><span class="header-text" translate="BAT_24233">Price</span> <span class="pull-right" ng-if="!plan.is_addon"><span class="price pull-right padding-left-xs-1 padding-right-xs-1" ng-class="{strike:plan.auto_refill}">${{plan.price}}</span> <span class="enrolled-price pull-right" ng-class="{strike:!plan.auto_refill}" ng-show="plan.promo != undefined">${{plan.promo.price}}</span> </span><span class="pull-right" ng-if="plan.is_addon"><span class="enrolled-price">${{plan.price}}</span></span></td></tr><tr ng-if="!plan.is_addon"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="60%"><span class="header-text" translate="BAT_24238">service days</span></td><td width="40%"><span class="pull-right">{{plan.service_days}}</span></td></tr></table></td></tr><tr ng-if="plan.is_addon && !plan.is_upsellyear"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="100%"><span class="header-text" translate="BAT_24293">No Service Days</span></td></tr></table></td></tr><tr ng-if="!plan.auto_refill"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="60%"><span class="header-text" translate="ACRE_6877">Quantity</span></td><td width="40%"><span class="pull-right">{{plan.quantity}}</span></td></tr></table></td></tr><tr ng-if="!plan.is_addon"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="60%"><span class="header-text" translate="AUTOREFILL_SUP">Enroll in Auto-Refill* </span><span class="hidden-xs"></span></td><td width="40%"><span class="pull-right" ng-if="plan.auto_refill"><i class="fa fa-check"></i></span> <span class="pull-right" ng-if="!plan.auto_refill"><i class="fa fa-remove"></i></span></td></tr></table></td></tr><tr ng-if="plan.is_ild_vas"><td width="100%" class="padding-bottom-5 padding-top-5" align="middle"><table width="100%" class="hidden-xs"><tr><td width="60%"><span class="header-text" translate="BAT_24244">Enroll in Low Balance</span></td><td width="40%"><span class="pull-right" ng-if="plan.auto_refill"><i class="fa fa-check"></i></span> <span class="pull-right" ng-if="!plan.auto_refill"><i class="fa fa-remove"></i></span></td></tr></table></td></tr></table></td><td width="45%" class="plan-card"><tf-sp-image plan="plan" type="sf" ng-if="plan.is_smartphone"></tf-sp-image><tf-sp-image plan="plan" type="payg" ng-if="plan.is_paygo"></tf-sp-image><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image></td></tr><tr><td colspan="2"><div class="row padding-left-xs-2"><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_paygo"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-8" class="full-width value-column has-border"><p role="heading" aria-level="7" class="small_txt_bold" translate="ACRE_6825">For talk and text</p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_smartphone"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width value-column has-border"><span class="header-text big">{{plan.sms}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data < 1024"><span class="header-text big">{{plan.data}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && !plan.is_ild_vas && !plan.is_upsell"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border" ng-if="plan.voice > 0"><span class="header-text big">{{plan.voice}}</span><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-12" class="full-width value-column has-border" ng-if="plan.sms > 0"><span class="header-text big">{{plan.sms}}</span><p role="heading" aria-level="7" class="small_txt_bold">TEXTS</p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data < 1024 && plan.data > 0"><span class="header-text big">{{plan.data}}</span><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && !plan.is_ild_vas && plan.is_upsell && !plan.isupsellPaygo"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width value-column has-border"><span class="header-text big">{{plan.sms}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data < 1024"><span class="header-text big">{{plan.data}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && !plan.is_ild_vas && plan.is_upsell && plan.isupsellPaygo"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-4" class="full-width has-border" ng-if="!plan.is_upsellDblMin"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width has-border" ng-if="plan.is_upsellDblMin"><span class="header-text small" translate="DOUBLE_MIN"></span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-8" class="full-width value-column has-border"><p role="heading" aria-level="7" class="small_txt_bold" translate="ACRE_6825">For talk and text</p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && plan.is_ild_vas"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border"><span class="header-text big" translate="BAT_24217"></span></div></div></div></td></tr></table><table width="100%" class="visible-xs"><tr><td width="55%" align="top"><table width="100%"><tr><td width="100%"><span class="header-text" translate="BAT_24233">Price</span> <span class="pull-right" ng-if="!plan.is_addon"><span class="price pull-right padding-left-xs-1 padding-right-xs-1" ng-class="{strike:plan.auto_refill}">${{plan.price}}</span> <span class="enrolled-price pull-right" ng-class="{strike:!plan.auto_refill}" ng-show="plan.promo != undefined">${{plan.promo.price}}</span> </span><span class="pull-right" ng-if="plan.is_addon"><span class="enrolled-price">${{plan.price}}</span></span><hr></td></tr><tr ng-if="!plan.is_addon"><td width="100%" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="BAT_24238">service days</span></td><td width="40%"><span class="pull-right">{{plan.service_days}}</span></td></tr></table><hr></td></tr><tr ng-if="plan.is_addon && !plan.is_upsellyear"><td width="100%" align="middle"><table width="100%"><tr><td width="100%"><span class="header-text" translate="BAT_24293">No Service Days</span></td></tr></table><hr></td></tr><tr ng-if="!plan.auto_refill"><td width="100%" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="ACRE_6877">Quantity</span></td><td width="40%"><span class="pull-right">{{plan.quantity}}</span></td></tr></table><hr></td></tr><tr ng-if="!plan.is_addon"><td width="100%" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="AUTOREFILL_SUP">Enroll in Auto-Refill* </span><span class="hidden-xs"></span></td><td width="40%"><span class="pull-right" ng-if="plan.auto_refill"><i class="fa fa-check"></i></span> <span class="pull-right" ng-if="!plan.auto_refill"><i class="fa fa-remove"></i></span></td></tr></table><hr></td></tr><tr ng-if="plan.is_ild_vas"><td width="100%" align="middle"><table width="100%"><tr><td width="60%"><span class="header-text" translate="BAT_24244">Enroll in Low Balance</span></td><td width="40%"><span class="pull-right" ng-if="plan.auto_refill"><i class="fa fa-check"></i></span> <span class="pull-right" ng-if="!plan.auto_refill"><i class="fa fa-remove"></i></span></td></tr></table><hr></td></tr></table></td></tr><tr><td width="45%" class="plan-card"><tf-sp-image plan="plan" type="sf" ng-if="plan.is_smartphone"></tf-sp-image><tf-sp-image plan="plan" type="payg" ng-if="plan.is_paygo"></tf-sp-image><tf-sp-image plan="plan" type="sp-sf-addons" ng-if="plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image><tf-sp-image plan="plan" type="sp-payg-addons" ng-if="!plan.isSmartphoneDevicePlan && plan.is_addon"></tf-sp-image><hr></td></tr><tr><td><div class="row padding-left-xs-2"><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_paygo"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-8" class="full-width value-column has-border"><p role="heading" aria-level="7" class="small_txt_bold" translate="ACRE_6825">For talk and text</p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_smartphone"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24245">THIS PLAN GIVES YOU</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width value-column has-border"><span class="header-text big">{{plan.sms}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data < 1024"><span class="header-text big">{{plan.data}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && !plan.is_ild_vas && !plan.is_upsell"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border" ng-if="plan.voice > 0"><span class="header-text big">{{plan.voice}}</span><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-12" class="full-width value-column has-border" ng-if="plan.sms > 0"><span class="header-text big">{{plan.sms}}</span><p role="heading" aria-level="7" class="small_txt_bold">TEXTS</p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data < 1024 && plan.data > 0"><span class="header-text big">{{plan.data}}</span><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-12" class="full-width value-column" ng-if="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && !plan.is_ild_vas && plan.is_upsell && !plan.isupsellPaygo"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-4" class="full-width value-column has-border"><span class="header-text big">{{plan.sms}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24202">TEXTS</p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data < 1024"><span class="header-text big">{{plan.data}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">MB <span translate="BAT_24299"></span></p></div><div tf-class="all-4" class="full-width value-column" ng-show="plan.data > 1023"><span class="header-text big">{{plan.data | toGB | number:1}}</span><br><p role="heading" aria-level="7" class="small_txt_bold">GB <span translate="BAT_24299"></span></p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && !plan.is_ild_vas && plan.is_upsell && plan.isupsellPaygo"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-4" class="full-width has-border"><span class="header-text big">{{plan.voice}}</span><br><p role="heading" aria-level="7" class="small_txt_bold" translate="BAT_24201">MINUTES</p></div><div tf-class="all-8" class="full-width value-column has-border"><p role="heading" aria-level="7" class="small_txt_bold" translate="ACRE_6825">For talk and text</p></div></div><div tf-class="all-12" class="plan-details-row" ng-if="plan.is_addon && plan.is_ild_vas"><div tf-class="all-12" class="full-width plan-details-label text-left"><span translate="BAT_24215">MORE FOR YOUR PHONE</span></div><div tf-class="all-12" class="full-width has-border"><span class="header-text big" translate="BAT_24217"></span></div></div></div></td></tr></table></div>'),e.put("tf-sp-image.html",'<div ng-class="{\'sp-sf\':type == \'sf\',\'sp-payg\':isType(\'payg\'), \'sp-payg-addons\': type == \'sp-payg-addons\',\'sp-sf-addons\': type == \'sp-sf-addons\'}"><div class="content"><img ng-if="type==\'payg\'" class="printlogo" src="assets/images/tf_plan_paygo.png" alt="Plan Card"> <img ng-if="type==\'sf\'" class="printlogo" src="assets/images/tf_plan_sf.png" alt="Plan Card"> <img ng-if="type==\'sp-payg-addons\'" class="printlogo" src="assets/images/tf_plan_payg_addons.jpg" alt="Plan Card"> <img ng-if="type==\'sp-sf-addons\'" class="printlogo" src="assets/images/tf_plan_sf_addons.jpg" alt="Plan Card"><div class="text1" ng-show="plan.promo != undefined"><div class="text1_content"><tf-price theme="sm" dollars="{{plan.promo.price | dollars}}" cents="{{plan.promo.price | cents}}"></tf-price><div class="promo-text">{{\'BAT_24204\' | translate}}</div></div></div><div class="text2"><div class="text2_content"><div class="margin-bottom"><span class="big">{{plan.voice}}</span><span class="small">MIN</span></div><div class="margin-bottom"><span class="big">{{plan.sms}}</span><span class="small">SMS</span></div><div class="margin-bottom" ng-show="plan.data < 1024"><span class="big">{{plan.data}}</span><span class="small">MB</span></div><div class="margin-bottom" ng-show="plan.data > 1023"><span class="big">{{plan.data | toGB | number:1}}</span><span class="small">GB</span></div></div></div><div class="triangles">><div class="triangle-right2-text"><span class="big">{{plan.actual_voice_units}}</span><br><span translate="BAT_24201">minutes</span></div></div><div class="text3 text-center"><div><span>{{plan.service_days}}<br>{{\'BAT_24238\' | translate}}</span></div></div><div class="text4" ng-if="type == \'sp-payg-addons\' || type ==\'sp-sf-addons\' "><div class="text4_content"><div ng-if="plan.is_ild_vas"><div class="margin-bottom"><span class="big orange_txt">${{plan.price | dollars}}</span></div><div class="plantype"><span class="small white_txt">GLOBAL</span></div></div><div ng-if="plan.is_upsellyear"><div class="margin-bottom"><span class="big orange_txt">{{plan.service_days}}</span></div><div class="plantype"><span class="small white_txt" translate="BAT_24238">Service Days</span></div></div><div ng-if="!plan.is_ild_vas && !plan.is_upsell"><div ng-if="plan.voice != 0"><div class="margin-bottom"><span class="big orange_txt">{{plan.voice}}</span></div><div class="plantype"><span class="small white_txt" translate="BAT_24194">MIN</span></div></div><div ng-if="plan.sms != 0"><div class="margin-bottom"><span class="big orange_txt" ng-if="type==\'sp-payg-addons\'">{{plan.sms}}</span> <span class="big white_txt" ng-if="type==\'sp-sf-addons\'">{{plan.sms}}</span></div><div class="plantype"><span class="small white_txt" translate="BAT_24236">TEXT</span></div></div><div ng-if="plan.data != 0"><div class="margin-bottom" ng-show="plan.data < 1024"><span class="big orange_txt" ng-if="type==\'sp-payg-addons\'">{{plan.data}}</span><span class="small orange_txt">MB</span> <span class="big white_txt" ng-if="type==\'sp-sf-addons\'">{{plan.data}}</span><span class="small white_txt">MB</span></div><div class="margin-bottom" ng-show="plan.data > 1023"><span class="big orange_txt" ng-if="type==\'sp-payg-addons\'">{{plan.data | toGB | number:1}}</span> <span class="big white_txt" ng-if="type==\'sp-sf-addons\'">{{plan.data | toGB | number:1}}</span> <span class="small orange_txt" ng-if="type==\'sp-payg-addons\'">GB</span> <span class="small white_txt" ng-if="type==\'sp-sf-addons\'">GB</span></div><div class="plantype"><span class="small white_txt" translate="BAT_24299">DATA</span></div></div></div><div ng-if="plan.is_upsell && !plan.is_upsellyear"><div ng-if="plan.voice != 0"><div class="margin-bottom"><span class="big orange_txt">{{plan.voice}}</span></div><div class="plantype"><span class="small orange_txt" translate="BAT_24201">MIN</span></div></div><div ng-if="plan.is_upsellDblMin"><div class="margin-bottom"><span class="small orange_txt" translate="DOUBLE_MIN">DOUBLE_MIN</span></div><div class="plantype"><span class="small orange_txt" translate="BAT_24201">MIN</span></div></div></div></div></div><div class="text5" ng-if="type == \'sp-payg-addons\' || type == \'sp-sf-addons\'"><div class="text5_content"><div ng-if="!plan.is_ild_vas && !plan.is_upsell"><div ng-if="plan.sms != 0"><div class="plantype"><span class="orange_txt" translate="TEXT_ONLY" ng-if="type==\'sp-payg-addons\'">TEXT</span> <span class="white_txt" translate="TEXT_ONLY" ng-if="type==\'sp-sf-addons\'">TEXT</span></div></div><div ng-if="plan.data != 0"><div class="plantype"><span class="orange_txt" translate="DATA_ONLY" ng-if="type==\'sp-payg-addons\'"></span> <span class="white_txt" translate="DATA_ONLY" ng-if="type==\'sp-sf-addons\'"></span></div></div></div><div ng-if="plan.is_ild_vas || (!plan.is_upsellyear && plan.is_upsell)"><span class="orange_txt" translate="BAT_24293">No Service Days</span></div><div ng-if="plan.is_upsellyear"><span class="orange_txt">{{plan.service_days}}</span><span class="orange_txt" translate="NO_MINIUTES_PLAN">no miniutes plan</span></div></div></div></div></div>'),e.put("tf-confirm-easy-exchange-plan-card.html",'<div tf-class="all-12" class="tf-confirm-easy-exchange-plan-card tf-checkout-card-primary tf-checkout-xs"><div class="row full-width padding-top-1 text-center"><div tf-class="12-12-2-2" class="no-padding padding-top-1"><img src="assets/images/logo_easyexplus.png" class="card-logo" alt="{{\'ICON_5018\'|translate}}"></div><div tf-class="12-12-1-1" class="hidden-xs hidden-sm no-padding vertical-or-content"><layout-divider type="vr" is-or="false"></layout-divider></div><div tf-class="12-12-1-1" class="no-padding visible-xs visible-sm or-content"><layout-divider type="hr" is-or="false"></layout-divider></div><div tf-class="12-12-9-9" class="row-payment-details no-padding padding-top-xs-1"><table><tr><td class="padding-top-adjust"><h3 translate="MONTHLY_PAYMENT" ng-show="program.selectedplan.plan.is_monthly">Monthly Payment</h3><h3 translate="ANNUAL_PAYMENT" ng-show="program.selectedplan.plan.is_annual">Annual Payment</h3><div class="padding-top-5 hidden-xs"><tf-price color="blue" theme="lg" dollars="{{program.selectedplan.plan.price | dollars}}" cents="{{program.selectedplan.plan.price | cents}}"></tf-price></div><div class="padding-top-5 visible-xs"><tf-price color="blue" theme="sm" dollars="{{program.selectedplan.plan.price | dollars}}" cents="{{program.selectedplan.plan.price | cents}}"></tf-price></div></td><td class="hidden-xs"><layout-divider type="vr" is-or="false"></layout-divider></td><td class="padding-top-adjust"><h3 translate="COVERAGE_BEGINS">Coverage Begins</h3><div class="padding-top-25 padding-top-xs-23">{{program.coveragedates.start_date | date : \'MM/dd/yyyy\'}}</div></td><td class="hidden-xs"><layout-divider type="vr" is-or="false"></layout-divider></td><td class="padding-top-adjust"><h3 translate="COVERAGE_ENDS">Coverage Ends</h3><div class="padding-top-25">{{program.coveragedates.end_date | date : \'MM/dd/yyyy\'}}</div></td><td class="hidden-xs"><layout-divider type="vr" is-or="false"></layout-divider></td><td class="padding-top-adjust"><h3 translate="ENROLLED">Enrolled</h3><div class="padding-top-30 padding-top-xs-37"><span><i class="fa fa-check"></i></span></div></td></tr></table></div></div></div>'),e.put("tf-confirm-protect-your-phone-order-summary.html",'<div tf-class="all-12" class="tf-confirm-protect-your-phone-order-summary tf-checkout-card-primary tf-checkout-xs"><div class="row full-width padding-top-1 text-center"><div tf-class="6-3-3-3" class="text-left"><h3 translate="BAT_24277">Phone Number</h3><div class="padding-top-10">{{program.response.min}}</div></div><div tf-class="6-3-3-3" class="text-left"><h3 translate="NEXT_CHARGE_DATE">Next Charge Date</h3><div class="padding-top-10">{{program.coveragedates.end_date | date : \'MM/dd/yyyy\'}}</div></div><div tf-class="4-3-3-3" class="padding-top-xs-10"><h3 translate="ENROLLED">Enrolled</h3><div class="padding-top-7"><span><i class="fa fa-check"></i></span></div></div><div tf-class="7-3-3-3" class="padding-top-xs-10"><h3 translate="ACRE_6921">Total</h3><div class="padding-top-23 padding-top-xs-12">{{program.response.total_amount}}</div></div></div></div>'),e.put("tf-accordion-view.html",'<div class="row tf-accordion-view"><div tf-class="all-12"><div class="tf-accordion-view-content"><table><tr><td width="20%" class="padding-bottom-xs-5 padding-top-xs-5"><span ng-if="!showImage" class="tf-icon-xs-3 {{iconType}}"></span> <img ng-if="showImage" class="img-responsive {{imageClass}}" src="assets/images/{{imageName}}.png" alt="{{imageAlttext | translate}}"></td><td class="text-xs-left"><h4 ng-class="{\'green-txt\':!isOpen,\'blue-txt\':isOpen}" class="text-uppercase"><strong translate="{{headingText}}"></strong></h4></td><td class="text-xs-right"><a ng-click="buttonAction()"><span class="tf-icon-link tf-icon-xs-2-5" ng-class="{\'icon-minus-negative\':isOpen,\'icon-plus-negative\':!isOpen}"></span></a></td></tr></table></div></div></div>'),e.put("tf-accordion-view-secondary.html",'<div class="row tf-accordion-view-secondary"><div tf-class="all-12"><div class="tf-accordion-view-secondary-content"><table><tr><td width="20%" class="padding-bottom-xs-5 padding-top-xs-5"><span ng-if="!showImage" class="tf-icon-xs-3 {{iconType}}"></span> <img ng-if="showImage" class="img-responsive {{imageClass}}" src="assets/images/{{imageName}}.png" alt="{{imageAlttext | translate}}"></td><td class="text-xs-left"><h4 ng-class="{\'green-txt\':!isOpen,\'blue-txt\':isOpen}"><strong translate="{{headingText}}"></strong></h4></td><td class="text-xs-right"><a ng-click="buttonAction()"><span class="tf-icon-link tf-icon-xs-2-5" ng-class="{\'icon-chevron-up2\':isOpen,\'icon-chevron-down2\':!isOpen}"></span></a></td></tr></table></div></div></div>'),e.put("tf-bi-progress.html",'<span><span ng-show="animated">{{animated_text}}</span> <span ng-hide="animated">-----</span></span>'),e.put("tf-minute-counter.html","<span>{{_counter}}</span>"),e.put("billingSummaryDetails.html",'<div class="row pt-2 pb-2"><div tf-class="8-8-8-8" class="text-left"><p ng-if="partnerName && partnerName != \'\'"><img height="30px" role="presentation" alt="" src="/assets/images/{{partnerName}}.png" class="pr-1"></p><p translate="{{chargesLabel}}"></p></div><div tf-class="4-5-4-4" class="text-right pl-0" ng-if="!loyaltypointsRedeemable"><span ng-if="negativeSign">&nbsp; - <span ng-if="!airtimeSummary">${{chargesValue | currency:"":2}}</span> </span><span ng-if="!airtimeSummary && !negativeSign">${{chargesValue | currency:"":2}}</span> <span ng-if="airtimeSummary"></span></div><div tf-class="4-4-4-4" class="text-right pl-0" ng-if="loyaltypointsRedeemable"><span ng-if="negativeSign">&nbsp; - <span ng-if="!airtimeSummary">{{chargesValue | currency:"":0}}</span> </span><span ng-if="!airtimeSummary && !negativeSign">{{chargesValue | currency:"":0}}</span> <span ng-if="airtimeSummary"></span></div></div>'),e.put("pointsBreakDown.html",'<div class="row pt-2 pb-2"><div tf-class="8-7-8-8" class="text-left"><p translate="{{chargesLabel}}"></p></div><div tf-class="4-5-4-4" class="text-right pl-0"><span>{{chargesValue}}</span></div></div>'),
e.put("billingSummary.html",'<div><div ng-if="multiline" class="pb-5"><a id="ViewDetails" event-cta="ViewDetails" event-ctx="ViewDetails" title="{{\'BAT_24243\'|translate}}" ng-click="devicepopup(taxSummary)" class="pull-right text_underline">{{\'BAT_24243\'|translate}}</a></div><div class="row noaltbgcolor margin-top-5 margin-bottom-5 text-center" ng-show="view.showChargeOnDate && !multiline"><div tf-class="all-2" class="no_padding"><i class="icon-rotate-right tf-icon tf-icon-lg-2 tf-icon-sm-2 tf-icon-xs-2 padding-right-1" aria-hidden="true" title="{{\'ICON_5013\'|translate}}"></i></div><div tf-class="all-10" class="no_padding"><span translate="BAT_24540" class="med-font no_margin"></span><span class="margin-left-5">{{view.chargesOnDate | date : \'MM/dd/yyyy\'}}</span></div></div><div class="row noaltbgcolor mt-2"><div tf-class="all-12"><p translate="ERROR_1985329" ng-if="view.shwTermsError && !view.termsChecked && !data.enough_points" class="validation-invalid error_txt small_txt text-left"></p><p translate="ERROR_1985969" ng-if="view.shwTermsError && !view.termsChecked && data.enough_points" class="validation-invalid error_txt small_txt text-left"></p><p class="form-group checkbox no-margin"><input type="checkbox" name="term" id="term" ng-model="view.termsChecked"> <label for="term" ng-if="!data.enough_points" role="presentation" aria-hidden="true"><span tabindex="0"><tf-terms class="extra_small_txt text_justify margin_bottom" context="BAT_24266" terms="VAR_5028" href="/termsandconditions"></tf-terms></span></label> <label for="term" ng-if="data.enough_points" role="presentation"><span translate="BAT_25546"></span> <a href="javascript:void(0)" ng-click="rewardsTermsOfUse()"><u translate="MYACC_5122">Terms of Use</u></a></label></p></div><div tf-class="all-12" ng-if="view.displayHPPTermsSec && view.isHppPlSel"><p translate="ERROR_1985329" ng-if="view.shwHPPTermsError && !view.termsHppChecked" class="validation-invalid error_txt small_txt text-left"></p><p class="form-group checkbox no-margin"><input type="checkbox" name="hppterm" id="hppterm" ng-model="view.termsHppChecked"> <label for="hppterm" role="presentation" aria-hidden="true"><span tabindex="0"><hpp-terms reload-on="view.displayHPPTermsSec" context="HPP_449" terms="VAR_5028" plan="view.hppPlanSelected"></hpp-terms></span></label></p></div><div class="row"><div tf-class="all-12" ng-if="!view.autoPayFlag && !data.enough_points && !($root.paymentType == \'paypal\') && !($root.paymentType == \'venmo\')"><tf-button-primary button-id="PlaceMyorder" event-cta="PlaceMyorder" disabled-button="{{view.placeOrderBtnDisable}}" event-ctx="PlaceMyorder" action="plOrder()" title="{{\'BAT_24267\'|translate}}" translate-text="BAT_24267" form-name="formName" scroll-to="paymentview"></tf-button-primary></div><div tf-class="all-12" ng-if="view.autoPayFlag && !view.addOnPlanExist && !data.enough_points && !($root.paymentType == \'paypal\') && !($root.paymentType == \'venmo\')"><tf-button-primary button-id="PlaceMyorder" event-cta="PlaceMyorder" disabled-button="{{view.placeOrderBtnDisable}}" event-ctx="PlaceMyorder" action="plOrder()" title="{{\'BAT_24770\'|translate}}" translate-text="BAT_24770" form-name="formName" scroll-to="paymentview"></tf-button-primary></div><div tf-class="all-12" ng-if="view.autoPayFlag && view.addOnPlanExist && !data.enough_points && !($root.paymentType == \'paypal\') && !($root.paymentType == \'venmo\')"><tf-button-primary button-id="PlaceMyorder" event-cta="PlaceMyorder" disabled-button="{{view.placeOrderBtnDisable}}" event-ctx="PlaceMyorder" action="plOrder()" title="{{\'BAT_24267\'|translate}}" translate-text="BAT_24267" form-name="formName" scroll-to="paymentview"></tf-button-primary></div><div tf-class="all-12" ng-if="data.enough_points && !($root.paymentType == \'paypal\') && !($root.paymentType == \'venmo\')"><tf-button-primary button-id="PlaceMyorder" event-cta="PlaceMyorder" disabled-button="{{view.placeOrderBtnDisable}}" event-ctx="PlaceMyorder" action="plOrder()" title="{{\'BAT_25547\'|translate}}" translate-text="BAT_25547" form-name="formName">Free order</tf-button-primary></div><div tf-class="all-12" aria-hidden="true" ng-if="($root.paymentType == \'paypal\' && (view.brand !== \'TOTAL_WIRELESS\' && view.brand !== \'NET10\' ))" ng-class="{\'disable-ppal\': $root.disablePaypal ||  !view.termsChecked }"><pay-pal-smart-pay></pay-pal-smart-pay></div><div tf-class="all-12 pt-2" aria-hidden="true" ng-if="($root.paymentType == \'paypal\') && (view.brand == \'TOTAL_WIRELESS\' || view.brand == \'NET10\' )" ng-class="{\'disable-ppal\': $root.disablePaypal ||  !view.termsChecked }"><braintree-pay ng-if="!view.isPayPalAuthSuccessfull"></braintree-pay><tf-button-primary ng-if="view.isPayPalAuthSuccessfull" button-id="PlaceMyorder" event-cta="PlaceMyorder" disabled-button="{{view.placeOrderBtnDisable}}" event-ctx="PlaceMyorder" action="plOrder()" title="{{\'BAT_24267\'|translate}}" translate-text="BAT_24267" form-name="formName" scroll-to="paymentview"></tf-button-primary></div><div tf-class="all-12" class="text-center pt-2" aria-hidden="true" ng-if="($root.paymentType == \'venmo\') && (view.brand == \'TOTAL_WIRELESS\' || view.brand == \'NET10\' )" ng-class="{\'disable-ppal\': $root.disablePaypal ||  !view.termsChecked }"><braintree-venmo></braintree-venmo><tf-button-primary ng-if="view.isPayPalAuthSuccessfull" button-id="PlaceMyorder" event-cta="PlaceMyorder" disabled-button="{{view.placeOrderBtnDisable}}" event-ctx="PlaceMyorder" action="plOrder()" title="{{\'BAT_24267\'|translate}}" translate-text="BAT_24267" form-name="formName" scroll-to="paymentview"></tf-button-primary><div class="pt-2" ng-if="$root.venmoUser != null"><span translate="BAT_26175">Payment Method </span><span class="pl-2"><img src="assets/images/venmoacceptancemark.svg" alt="venmo" class="card-small-logo"></span><span class="pl-1"><sup>**</sup>{{$root.venmoUser | limitTo:4:$root.venmoUser.length-4}}</span></div></div></div></div></div>'),e.put("billingaddress_tpl.html",'<div class="row form-group m-0"><div tf-class="all-12"><div class="row"><div tf-class="all-12" class="margin_top"><div><p aria-level="2" class="h{{defaultHeadingLevel}}" role="heading"><label for="cc" translate="BAT_24259">BILLING ADDRESS</label></p></div></div></div><div class="row"><div tf-class="12-6-6-6"><tf-textbox tf-type="alphabets" id="fname" name="fname" model-value="billingInfo.firstname" placeholder-text="BAT_24153" tf-required="true" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985676"></tf-textbox></div><div tf-class="12-6-6-6"><tf-textbox tf-type="alphabets" id="lname" name="lname" model-value="billingInfo.lastname" placeholder-text="BAT_24154" tf-required="true" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985677"></tf-textbox></div></div><div class="row"><div tf-class="all-12"><tf-textbox tf-type="address" id="address1" name="address1" model-value="billingInfo.address1" placeholder-text="BAT_24155" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985678"></tf-textbox></div><div tf-class="all-12"><tf-textbox tf-type="address" id="address2" name="address2" model-value="billingInfo.address2" placeholder-text="BAT_24614" tab-index="{{tabIndex}}"></tf-textbox></div></div><div class="row"><div tf-class="12-6-6-6" ng-if="billingInfo.country == \'USA\' || billingInfo.country == \'US\' || !billingInfo.country" ng-class="!zipCodeValidationStatus ? \'error\' : \'\'"><p class="error_txt small_txt text-left" ng-if="!zipCodeValidationStatus" translate="RDSG_5226">Invalid Zip Code</p><tf-textbox tf-type="zip" id="zipcode" restrict-input-value="numeric" name="zipcode" model-value="billingInfo.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" max-length="5" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="billingInfo.country == \'Canada\' || billingInfo.country == \'CANADA\'"><tf-textbox tf-type="zipCAN" id="zipcode" name="zipcode" model-value="billingInfo.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="billingInfo.country != \'USA\' && billingInfo.country  != \'US\' && (billingInfo.country  != \'Canada\' && billingInfo.country != \'CANADA\') && billingInfo.country"><tf-textbox tf-type="zipNONUSNONCAN" id="zipcode" name="zipcode" model-value="billingInfo.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6"><tf-textbox tf-type="text" id="city" name="city" model-value="billingInfo.city" placeholder-text="BAT_24156" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985680"></tf-textbox></div></div><div class="row"><div tf-class="12-6-6-6" ng-if="billingInfo.country == \'USA\' || billingInfo.country == \'US\' || !billingInfo.country"><div><div><select-state-type name="state" id="state" model-value="billingInfo.state" class="selectize-primary selectize-default" state-list="$root.stateList" field-description="ERROR_1985681" title="{{BAT_24157 | translate}}" placeholder="BAT_24157" tab-index="0" tf-required="true" title="Choose billing State"></select-state-type></div></div></div><div tf-class="12-6-6-6" ng-if="billingInfo.country == \'Canada\' || billingInfo.country == \'CANADA\'"><div class="form-group"><div><select-state-type name="state" id="state" model-value="billingInfo.state" class="selectize-primary selectize-default" state-list="$root.stateListCanada" field-description="ERROR_1985681" title="{{BAT_24157 | translate}}" cta="false" placeholder="ACRE_6912" tf-required="true" title="Choose billing State"></select-state-type></div></div></div><div tf-class="12-6-6-6" ng-if="billingInfo.country != \'USA\' && billingInfo.country  != \'US\' && (billingInfo.country  != \'Canada\' && billingInfo.country != \'CANADA\') && billingInfo.country && !stateFailed"><tf-textbox tf-type="text" id="state1" name="state1" model-value="billingInfo.state" placeholder-text="BAT_24157" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985681"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="billingInfo.country != \'USA\' && billingInfo.country  != \'US\' && (billingInfo.country  != \'Canada\' && billingInfo.country != \'CANADA\') && billingInfo.country && stateFailed"><tf-textbox tf-type="text" id="state1" name="state1" model-value="billingInfo.state" placeholder-text="BAT_24157" tab-index="{{tabIndex}}" field-description="ERROR_1985681"></tf-textbox></div><div tf-class="12-6-6-6"><div class="form-group"><select-country name="country" id="country" ng-model="billingInfo.country" class="selectize-primary selectize-default" country-list="$root.countryList" title="{{\'BAT_24159\' | translate}}" placeholder="BAT_24159" tab-index="{{tabIndex}}" tf-required="true" title="Choose billing Country"></select-country></div></div></div></div></div>'),e.put("creditcardform_tpl.html",'<div class="form-group row" ng-if="showBank===\'0\'"><div tf-class="all-12"><label translate="{{labelName}}">PAYMENT INFORMATION</label><div class="row"><div ng-class="{\'col-xs-12 col-sm-8 col-sm-8 col-md-8 col-lg-8\' : preferences.showCVV, \'col-xs-12 col-sm-12 col-md-12 col-lg-12\' : !preferences.showCVV, }"><tf-textbox ng-if="theme==\'new\'" tf-type="creditcard" id="formName.number_mask" restrict-input-value="numeric" name="formName.number_mask" model-value="creditCardInfo.number_mask" placeholder-text="BAT_24254" tf-required="true" enable-paste="numbers"></tf-textbox><tf-textbox ng-if="theme==\'upd\'" tf-type="text" id="number_mask" name="number_mask" model-value="creditCardInfo.number_mask" placeholder-text="BAT_24254" translate-text="BAT_24254" read-only="true"></tf-textbox></div><div tf-class="12-4-4-4" ng-if="preferences.showCVV"><div class="form-group"><tf-textbox tf-type="cvvamex" restrict-input-value="numeric" id="cvv" name="cvv" model-value="creditCardInfo.ccv" placeholder-text="BAT_24255" translate-text="BAT_24255" tf-required="true" max-length="4" ng-if="creditCardInfo.type == \'american express\' || creditCardInfo.type == \'amex\'" enable-paste="numbers"></tf-textbox><tf-textbox tf-type="cvv" restrict-input-value="numeric" id="cvv" name="cvv" model-value="creditCardInfo.ccv" placeholder-text="BAT_24255" translate-text="BAT_24255" tf-required="true" max-length="3" ng-if="!(creditCardInfo.type == \'american express\' || creditCardInfo.type == \'amex\')" enable-paste="numbers"></tf-textbox></div></div></div><div class="row"><div tf-class="12-8-8-8"><div class="form-group" tabindex="-1" aria-hidden="true"><img src="assets/images/mastercard_card_dropdown_logo.png" class="card-small-logo" alt="Master Card" ng-class="{\'active-card\': (creditCardInfo.type == \'mastercard\' || creditCardInfo.type == \'\'),\'inactive-card\': (creditCardInfo.type != \'mastercard\' && creditCardInfo.type != \'\')}"> <img src="assets/images/visa_card_dropdown_logo.png" class="card-small-logo" alt="VISA" ng-class="{\'active-card\': (creditCardInfo.type == \'visa\' || creditCardInfo.type == \'\'),\'inactive-card\': (creditCardInfo.type != \'visa\' && creditCardInfo.type != \'\')}"> <img src="assets/images/discover_card_dropdown_logo.png" class="card-small-logo" alt="DISCOVER" ng-class="{\'active-card\': (creditCardInfo.type == \'discover\' || creditCardInfo.type == \'\'),\'inactive-card\': (creditCardInfo.type != \'discover\' && creditCardInfo.type != \'\')}"> <img src="assets/images/amex_card_dropdown_logo.png" alt="American Express" class="card-small-logo" ng-class="{\'active-card\': (creditCardInfo.type == \'american express\' || creditCardInfo.type == \'amex\' || creditCardInfo.type == \'\'),\'inactive-card\': (creditCardInfo.type != \'american express\' && creditCardInfo.type != \'amex\' && creditCardInfo.type != \'\')}"></div></div></div><div class="row"><div class="hidden-xs" tf-class="12-6-6-6"><label translate="BAT_24152">Expiration Date</label></div></div><div class="row"><div tf-class="7-6-6-6"><div class="form-group"><div><select-month tf-required="true" id="exp_month" name="exp_month" class="selectize-primary selectize-default" placeholder="BAT_24150" month-list="$root.months" credit-model-value="creditCardInfo" select-title="BATA_24150"></select-month></div></div></div><div tf-class="5-6-6-6"><div><select-year tf-required="true" id="exp_year" name="exp_year" class="selectize-primary selectize-default" placeholder="BAT_24151" year-list="$root.ccExpYears" credit-model-value="creditCardInfo" tab-index="0" select-title="BATA_24151"></select-year></div></div></div><div class="row" ng-show="!preferences.isLimited"><div tf-class="all-12" class="text-left" ng-if="theme==\'new\' && preferences.isUserLoggedIn && preferences.isSavetoAcctDisable"><input type="checkbox" class="form-control" id="savecard" name="savecard" ng-model="preferences.save_card" disabled="disabled"> <label class="small_txt" for="savecard" translate="BAT_24256" role="presentation"></label></div><div tf-class="all-12" class="text-left" ng-if="theme==\'new\' && preferences.isUserLoggedIn && !preferences.isSavetoAcctDisable"><input type="checkbox" class="form-control" id="savecard" name="savecard" ng-model="preferences.save_card"> <label class="small_txt" for="savecard" translate="BAT_24256" role="presentation"></label></div><div tf-class="all-12" class="text-left" ng-if="theme==\'new\' && preferences.isUserLoggedIn && preferences.isBillingAddrAvailable"><input type="checkbox" class="form-control" id="savecreditaddress" name="savecreditaddress" ng-model="creditCardInfo.same_address"> <label class="small_txt" for="savecreditaddress" translate="BAT_24257" role="presentation"></label></div></div></div></div><div class="form-group row" ng-if="showBank===\'1\'"><div tf-class="all-12"><label translate="{{labelName}}">PAYMENT INFORMATION</label><div><div class="form-group"><div><select-account class="selectize-primary selectize-default" id="acct_type" name="acct_type" model-value="bankInfo" account-list="$root.bankAccountList" tf-required="true" required-error-message="MYAC_99801" cta="false" ng-if="theme!==\'upd\'" placeholder="BAT_24577" title="Select Account Type"></select-account></div><tf-textbox ng-if="theme==\'new\'" class="small_txt" tf-type="bank_acc_num" id="formName.number_mask" name="formName.number_mask" model-value="bankInfo.number_mask" placeholder-text="BAT_24579" tf-required="true" restrict-input-value="numeric"></tf-textbox><tf-textbox ng-if="theme==\'upd\'" class="small_txt" id="number_mask" name="number_mask" model-value="bankInfo.number_mask" placeholder-text="BAT_24579" translate-text="BAT_24254" read-only="true"></tf-textbox><tf-textbox ng-if="theme==\'new\'" class="small_txt" tf-type="bank_route_num" id="routingNumber" name="routingNumber" model-value="bankInfo.routingNumber" placeholder-text="BAT_24578" tf-required="true" restrict-input-value="numeric"></tf-textbox></div><div class="row" ng-show="!preferences.isLimited"><div tf-class="all-12" class="text-left" ng-if="theme==\'new\' && preferences.isUserLoggedIn && preferences.isSavetoAcctDisable"><input type="checkbox" class="form-control" id="saveacct" name="saveacct" ng-model="preferences.save_ach" disabled="disabled"> <label class="small_txt" for="saveacct" translate="BAT_24256"></label></div><div tf-class="all-12" class="text-left" ng-if="theme==\'new\' && preferences.isUserLoggedIn && !preferences.isSavetoAcctDisable"><input type="checkbox" class="form-control" id="saveacct" name="saveacct" ng-model="preferences.save_ach"> <label class="small_txt" for="saveacct" translate="BAT_24256"></label></div><div tf-class="all-12" class="text-left" ng-if="theme==\'new\' && preferences.isUserLoggedIn && preferences.isBillingAddrAvailable"><input type="checkbox" class="form-control" id="saveaddress" name="saveaddress" ng-model="bankInfo.same_address"> <label class="small_txt" for="saveaddress" translate="BAT_24257"></label></div></div></div></div></div>'),e.put("easy-exchange-plan-view.html",'<div class="easy-exchange-plan {{easyExchangeType}}"><div class="easy-exchange-plan-header mt-xs-2 mt-sm-0"><div class="bestValueRibbon text-right" ng-if="imageName"><img src="/assets/images/{{imageName}}.png" class="ribbon"></div><div class="row"><div ng-if="imageName" tf-class="10-12-12-12" class="mt-xs-3 mt-sm-0 ml-xs-1 ml-sm-0"><h2 translate="{{headerText}}">Easy Exchange PLUS</h2></div><div ng-if="!imageName" tf-class="12-12-12-12"><h2 translate="{{headerText}}">Easy Exchange</h2></div></div></div><div class="easy-exchange-plan-body"><div class="mt-5 mb-2"><h3 translate="RDSG_5320">PLAN INCLUDES</h3></div><div class="mt-2" ng-attr-tf-height-group="{{heightGroup}}"><p translate="{{planDescription}}">Plan description</p></div><div class="row mb-1 mt-2" ng-if="infoPopup"><div tf-class="12-10-6-6" tf-offset="0-1-3-3"><tf-button-primary action="moreInfoPopup()" translate-text="RDSG_5011" tab-index="{{tabIndex}}"></tf-button-primary></div></div></div><div class="easy-exchange-plan-footer"><div class="row"><div ng-repeat="plan in planDetails"><div ng-if="plan.is_annual"><div ng-if="planDetails.length > 1 && $index > 0" tf-class="0-2-2-2" class="vertical-or-content hidden-xs"><layout-divider type="vr" is-or="true" class="hidden-xs"></layout-divider></div><div tf-class="8-8-8-4" ng-class="{\'col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-lg-offset-0\' : (($index > 0)), \'col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-lg-offset-1\' : ((planDetails.length > 1) && ($index < 1)), \'col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-lg-offset-4\' : planDetails.length <= 1}"><h3 translate="RDSG_5056">Annual Payment</h3><div><tf-price color="white" theme="md" dollars="{{plan.price |  dollars}}" cents=".{{plan.price|  cents}}"></tf-price></div><div><tf-button-primary style="btn btn-quarternary btn-block" action="planEnroll({plan:plan})" duration="annual" translate-text="BAT_24770"></tf-button-primary></div><div class="mt-3 mb-4"><a translate="MYAC_99948" href="/hpp/exchangeplusannualterms" target="_blank">Terms & Conditions</a></div></div></div><div ng-if="plan.is_monthly"><div ng-if="planDetails.length > 1 && $index > 0" tf-class="0-2-2-2" class="vertical-or-content hidden-xs"><layout-divider type="vr" is-or="true" class="hidden-xs"></layout-divider></div><div tf-class="8-8-8-4" ng-class="{\'col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-lg-offset-0\' : (($index > 0)), \'col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-lg-offset-0\' :  ((planDetails.length > 1) && ($index < 1)), \'col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-lg-offset-4\' :  planDetails.length <= 1}"><h3 translate="HPP_209" class="text-center">Monthly Payment</h3><div><tf-price color="white" theme="md" dollars="{{plan.price |  dollars}}" cents=".{{plan.price |  cents}}"></tf-price></div><div><tf-button-primary style="btn btn-quarternary btn-block" action="planEnroll({plan:plan})" duration="monthly" translate-text="BAT_24770"></tf-button-primary></div><div class="mt-3 mb-4"><a translate="MYAC_99948" href="/hpp/exchangeplusmonthlyterms" target="_blank">Terms & Conditions</a></div></div></div></div></div></div></div>'),e.put("tf-edit-hide-inline.html",'<div class="tf-edit-hide-inline"><div class="tf-edit-lg tf-edit-sm hidden-xs"><a href="javascript:void(0)" aria-label="{{ \'ACCS_5181\' | translate }}" title="{{(isOpen?\'MYACC_5060\':\'MYAC_99744\')|translate}}" ng-click="toggleOpen($event); isOpen?hideAction():editAction()" tf-accessibility aria-expanded="{{isOpen}}" ng-class="{\'text-underline\':txtDec && !isOpen}"><stack-icon icon="{{isOpen?\'icon-minus3\':\'icon-sm-editnickname\'}}" class-name="tf-stack-icon-primary tf-stack-icon-lg-1 tf-stack-icon-sm-1 tf-stack-icon-xs" ng-if="!shwLabel"></stack-icon><span ng-if="shwLabel" ng-class="{\'edit-bg\': shwLabel && isOpen}" title="{{(isOpen?\'MYACC_5060\':\'MYAC_99744\')|translate}}"><strong translate="{{(isOpen?\'MYACC_5060\':\'MYACC_5005\')}}"></strong></span></a></div><div class="tf-edit-xs visible-xs"><a href="javascript:void(0)" role="menu" title="{{(isOpen?\'MYACC_5060\':\'MYAC_99744\')|translate}}" ng-click="toggleOpen($event); isOpen?hideAction():editAction()" tf-accessibility aria-expanded="{{isOpen}}" ng-class="{\'text-underline\':txtDec && !isOpen}"><stack-icon icon="{{isOpen?\'icon-minus3\':\'icon-sm-editnickname\'}}" class-name="tf-stack-icon-primary tf-stack-icon-lg-1 tf-stack-icon-sm-1 tf-stack-icon-xs" ng-if="!shwLabel"></stack-icon><span ng-if="shwLabel" title="{{\'MYACC_5005\'|translate}}"><stack-icon icon="icon-plus3" class-name="tf-stack-icon-primary tf-stack-icon-lg-1 tf-stack-icon-sm-1 tf-stack-icon-xs"></stack-icon></span></a></div></div>'),e.put("tf-edit-cancel-inline.html",'<div class="tf-edit-cancel-inline"><div class="tf-edit-lg tf-edit-sm hidden-xs"><a href="javascript:void(0)" title="{{\'MYAC_99818\'|translate}}" ng-show="isOpen" ng-click="cancelAction()"><button class="btn tf-btn-secondary btn-block"><span translate="MYAC_99818" class="ng-scope">Cancel</span></button></a></div><div class="tf-edit-xs visible-xs"><a href="javascript:void(0)" title="{{\'MYAC_99818\'|translate}}" ng-show="isOpen" ng-click="cancelAction()"><button class="btn tf-btn-secondary btn-block"><span translate="MYAC_99818" class="ng-scope">Cancel</span></button></a></div></div>'),e.put("hppcontadd.html",'<div tf-class="all-12"><div class="padding-top-1"><label tabindex="0" translate="contact address">contact address</label></div></div><div tf-class="all-12" class="text_left margin-bottom-1"><input ng-click="getcontact()" ng-model="contactAddress.contact" type="checkbox" class="form-control" id="profile_address" name="profile_address"> <label class="small_txt" for="profile_address" translate="Use my contact address">Use my contact address</label></div><div class="row form-group m-0"><div tf-class="all-12"><div class="row"><div tf-class="12-6-6-6 "><tf-textbox tf-type="alphabets" id="mpaifname" name="mpaifname" model-value="insAdd.firstname" placeholder-text="BAT_24153" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985676"></tf-textbox></div><div tf-class="12-6-6-6"><tf-textbox tf-type="alphabets" id="mpailname" name="mpailname" model-value="insAdd.lastname" placeholder-text="BAT_24154" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985677"></tf-textbox></div></div><div class="row"><div tf-class="all-12"><tf-textbox tf-type="address" id="mpaiaddress1" name="mpaiaddress1" model-value="insAdd.address1" placeholder-text="BAT_24155" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985678"></tf-textbox></div><div tf-class="all-12"><tf-textbox tf-type="address" id="mpaiaddress2" name="mpaiaddress2" model-value="insAdd.address2" placeholder-text="BAT_24614" tab-index="{{tabIndex}}"></tf-textbox></div></div><div class="row"><div tf-class="12-6-6-6" ng-if="insAdd.country == \'USA\' || insAdd.country == \'US\' || !insAdd.country" ng-class="!zipCodeValidationStatus ? \'error\' : \'\'"><p class="error_txt small_txt text-left" ng-if="!zipCodeValidationStatus" translate="RDSG_5226"></p><tf-textbox tf-type="zip" id="mpaizipcode" restrict-input-value="numeric" name="mpaizipcode" model-value="insAdd.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" max-length="5" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="insAdd.country == \'Canada\' || insAdd.country == \'CANADA\'"><tf-textbox tf-type="zipCAN" id="mpaiCANzipcode" name="mpaiCANzipcode" model-value="insAdd.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="insAdd.country != \'USA\' && insAdd.country  != \'US\' && (insAdd.country  != \'Canada\' && insAdd.country != \'CANADA\') && insAdd.country"><tf-textbox tf-type="zipNONUSNONCAN" id="mpaiNONCANzipcode" name="mpaiNONCANzipcode" model-value="insAdd.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6"><tf-textbox tf-type="text" id="mpaicity" name="mpaicity" model-value="insAdd.city" placeholder-text="BAT_24156" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985680"></tf-textbox></div></div><div class="row"><div tf-class="12-6-6-6" ng-if="insAdd.country == \'USA\' || insAdd.country == \'US\' || !insAdd.country"><div><div><select-state-type name="mpaistate" id="mpaistate" model-value="insAdd.state" class="selectize-primary selectize-default" state-list="$root.stateList" field-description="ERROR_1985681" title="{{BAT_24157 | translate}}" placeholder="BAT_24157" tab-index="0" tf-required="true" title="Choose billing State"></select-state-type></div></div></div><div tf-class="12-6-6-6" ng-if="insAdd.country == \'Canada\' || insAdd.country == \'CANADA\'"><div class="form-group"><div><select-state-type name="mpaistate" id="mpaistate" model-value="insAdd.state" class="selectize-primary selectize-default" state-list="$root.stateListCanada" field-description="ERROR_1985681" title="{{BAT_24157 | translate}}" cta="false" placeholder="ACRE_6912" tf-required="true" title="Choose billing State"></select-state-type></div></div></div><div tf-class="12-6-6-6" ng-if="insAdd.country != \'USA\' && insAdd.country  != \'US\' && (insAdd.country  != \'Canada\' && insAdd.country != \'CANADA\') && insAdd.country && !stateFailed"><tf-textbox tf-type="text" id="mpaistate1" name="mpaistate1" model-value="insAdd.state" placeholder-text="BAT_24157" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985681"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="insAdd.country != \'USA\' && insAdd.country  != \'US\' && (insAdd.country  != \'Canada\' && insAdd.country != \'CANADA\') && insAdd.country && stateFailed"><tf-textbox tf-type="text" id="mpaistate1" name="mpaistate1" model-value="insAdd.state" placeholder-text="BAT_24157" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985681"></tf-textbox></div><div tf-class="12-6-6-6"><div class="form-group"><select-country name="mpaicountry" id="mpaicountry" ng-model="insAdd.country" class="selectize-primary selectize-default" country-list="$root.countryList" title="{{\'BAT_24159\' | translate}}" placeholder="BAT_24159" tab-index="{{tabIndex}}" tf-required="true" title="Choose billing Country"></select-country></div></div></div><div class="row"><div tf-class="12-6-6-6"><tf-textbox tf-type="email" id="email" name="email" model-value="insAdd.email" placeholder-text="email" tf-required="true" tf-required="true" tab-index="{{tabIndex}}" field-description="email"></tf-textbox></div></div></div></div>'),e.put("hpprevieworder_view.html",'<div class="row"><div tf-class="all-12" class="tfChkOrderReview striped"><div class="row tfChkContHeader" ng-repeat="serviceplan in plans"><div tf-class="12-12-12-12" class="text-xs-center pl-0"><label class="break-word">{{serviceplan.showDeviceBy |tel}}</label></div><div ng-repeat="plan in serviceplan.plans"><div class="row" ng-if="!plan.is_smHppPlan"><div tf-class="12-6-6-6" class="text-xs-center"><p ng-bind-html="plan.plan_name">plan description</p></div><div tf-class="12-5-5-5" class="text-xs-center text-right"><a href="#" ng-click="changePlanCo({serNo:serviceplan,selPlan:plan})" data-eventcta="Change Plan" data-eventctx="Change Plan" translate="BAT_24137" ng-if="showCloseButton">Change Plan</a></div><div tf-class="12-1-1-1" class="text-xs-center text-sm-center margin-top-xs-1" tabindex="5"><img src="/assets/images/delete.png" alt="{{\'ICON_5016\'|translate}}" ng-click="remPlan({serNo:serviceplan.esn,selPlan:plan})" width="30px" class="cursor-pointer" ng-if="showCloseButton"></div></div><div class="row tfChkContHeader p-0" ng-if="plan.is_smHppPlan"><div tf-class="12-3-3-3" class="px-0 text-center"><label class="f_13" translate="HPP_433">MOBILE PROTECT</label><p class="text-center f_13" ng-if="plan.plan_name.indexOf(\'13\') !== -1" translate="HPP_365">HPP plan description</p><p class="text-center f_13" ng-if="plan.plan_name.indexOf(\'24\') !== -1" translate="HPP_366">HPP plan description</p></div><div tf-class="12-3-3-3" class="px-0 text-center"><label class="f_13" translate="RDSG_5113">Coverage Begins</label><p class="text-center f_13" ng-bind-html="plan.hppstartDate">plan start date</p></div><div tf-class="12-2-2-2" class="px-0 text-center"><label class="f_13" translate="RDSG_5114">Coverage Ends</label><p class="text-center f_13" ng-bind-html="plan.hppendDate">plan end date</p></div><div tf-class="12-3-3-3" class="text-center"><label class="f_13" translate="HPP_419">One Time Payment</label><p class="f_13"><span>$ </span><span class="text-center" ng-bind-html="plan.price">plan price</span></p></div><div tf-class="12-1-1-1" class="px-0 text-center"><span><img class="margin-top-lg-2" src="/assets/images/delete.png" alt="{{\'ICON_5016\'|translate}}" ng-click="removeHppPlan(serviceplan.esn,plan)" width="30px" class="cursor-pointer" ng-if="showCloseButton"></span></div></div></div></div></div></div>'),e.put("tf-icon-widget-xs.html",'<div class="row tf-icon-widget-xs mb-4"><div tf-class="all-12"><div class="tf-icon-widget-xs-content"><table><tr><td width="20%"><span class="{{iconType}}" ng-if="iconType && !imageName "></span> <span ng-if="imageName" class="{{imageClass}}"><img src="assets/images/{{imageName}}.png" class="{{imageStyle}}" alt="{{imageAlttext | translate}}"></span></td><td class="text-xs-left"><h4 ng-click="buttonAction()" class="text-uppercase"><strong translate="{{headingText}}"></strong></h4></td><td class="text-xs-right"><a ng-click="buttonAction()"><span class="tf-icon-link tf-icon-xs-2-5 icon-chevron-right-negative"></span></a></td></tr></table></div></div></div>'),
e.put("tf-icon-widget.html",'<div class="row"><div tf-class="all-12"><div ng-attr-tf-height-group="{{heightGroup || undefined}}" class="tf-icon-widget-content"><div class="row"><div ng-attr-tf-height-group="{{subHeightGroup || undefined}}"><div ng-if="isImageTopLabel" tf-class="all-12" class="text-center" ng-class="{\'padding-right-lg-6 padding-right-sm-6\':help}"><p><strong translate="{{descriptionTranslator}}"></strong></p><p ng-if="textTranslator" translate="{{textTranslator}}"></p></div><div tf-class="all-12" class="text-center"><span class="tf-icon-primary {{iconType}}" ng-if="iconType && !imageName "></span> <span ng-if="imageName" class="{{imageClass}}"><img id="iconWidgetImg" role="presentation" src="assets/images/{{imageName}}.png" alt="{{imageAlttext | translate}}"></span><span ng-if="addIconType" class="{{addIconType}}"></span></div><div ng-if="!isImageTopLabel" tf-class="all-12" class="text-center"><p role="{{role || passRole}}" aria-level="{{ariaLevel || passAriaLevel}}"><strong translate="{{descriptionTranslator}}"></strong></p><p translate="{{textTranslator}}" ng-if="textTranslator"></p></div><div class="clearfix"></div></div><div tf-class="12-12-10-10" tf-offset="0-0-1-1" ng-show="inputType"><tf-textbox tf-type="{{inputType}}" id="{{inputType}}" restrict-input-value="{{restrictInputValue}}" max-length="{{maxLength}}" name="{{inputType}}" model-value="inputModel" placeholder-text="{{placeholderText}}" help="{{help}}" popover-class="{{helpClass}}" tf-required="inputRequired" tab-index="{{tabIndex}}"></tf-textbox></div><div tf-class="all-12" class="text-center" ng-if="subdescTranslator"><div tf-class="all-10" tf-offset="all-1"><p translate="{{subdescTranslator}}"></p></div></div></div></div></div><div tf-class="all-12" ng-if="buttonTranslator"><div class="row"><div tf-class="12-12-8-8" tf-offset="0-0-2-2" class="text-center" ng-class="{\'has-help\':help}"><tf-button-primary button-id="{{buttonId}}" action="buttonAction()" ng-attr-style="btn tf-btn-primary btn-block" form-name="formName" translate-text="{{buttonTranslator}}" disabled-button="{{buttonDisable}}" tab-index="{{tabIndex}}" tit="{{ariaLabel}}" is-aria-expanded="{{isAriaExpanded}}" aria-describedby-id="{{ariaDescribedbyId}}" scrollto-id="{{scrollToId}}" is-button-selected="{{isButtonHighlighted}}"></tf-button-primary></div></div></div></div>'),e.put("ildtab.html",'<div class="row"><div tf-class="all-12"><div ng-include="tabHeadingUrl"></div><div ng-if="brand !== \'NET10\'" ng-class="{\'hidden-xs\':showTab}" ng-include="contentpath"></div></div></div>'),e.put("insadd.html",'<uib-accordion close-others="false" ng-init="init()"><div uib-accordion-group is-open="isFormErrorInvalid.setinvalid" ng-init="true"><uib-accordion-heading><div class="text-left row txtfocus panel_green"><div aria-labelledby="activatelink1" class="col-xs-2 col-sm-1 col-md-1 col-lg-1 mr-sm-3"><tf-plus-minus-icon title="plusminus" is-open="isFormErrorInvalid.setinvalid"></tf-plus-minus-icon></div><div class="ml-xs-2 ml-sm-0 col-xs-9 col-sm-10 col-md-10 col-lg-10 mt-2 pl-0"><strong translate="HPP_405">MOBILE PROTECT ADDITIONAL INFORMATION</strong></div></div><div class="panel-body preview_panel" ng-if="!isFormErrorInvalid.setinvalid"><label tabindex="0" translate="HPP_406">*COMPLETE THIS SECTION IF YOUR CONTACT ADDRESS IS DIFFERENT FROM YOUR BILLING ADDRESS</label></div></uib-accordion-heading><div aria-expanded="true" aria-describedby="compltedetails" tabindex="0"><div tf-class="all-12"><label tabindex="0" translate="HPP_406">*COMPLETE THIS SECTION IF YOUR CONTACT ADDRESS IS DIFFERENT FROM YOUR BILLING ADDRESS</label> <label tabindex="0" translate="HPP_315">CONTACT ADDRESS</label><div class="row margin-bottom-2" id="compltedetails"><div tf-class="all-12" class="text_left"><input ng-click="onclick()" type="checkbox" class="form-control" id="contact_address" name="contact_address" ng-model="contactAddress.value" ng-disabled="contactAddress.contact"> <label class="small_txt" for="contact_address" translate="HPP_316">Use my Payment billing Address as my contact address</label></div><div tf-class="all-12" class="text_left" ng-if="contactFlag"><input ng-click="getcontact()" ng-model="contactAddress.contact" type="checkbox" class="form-control" id="profile_address" name="profile_address" ng-disabled="contactAddress.value"> <label class="small_txt" for="profile_address" translate="ACRE_6517">Use my contact address</label></div></div></div><div class="row form-group m-0"><div tf-class="all-12"><div class="row"><div tf-class="12-6-6-6 "><tf-textbox tf-type="alphabets" id="mpaifname" name="mpaifname" model-value="insAdd.firstname" placeholder-text="BAT_24153" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985676"></tf-textbox></div><div tf-class="12-6-6-6"><tf-textbox tf-type="alphabets" id="mpailname" name="mpailname" model-value="insAdd.lastname" placeholder-text="BAT_24154" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985677"></tf-textbox></div></div><div class="row"><div tf-class="all-12"><tf-textbox tf-type="address" id="mpaiaddress1" name="mpaiaddress1" model-value="insAdd.address1" placeholder-text="BAT_24155" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985678"></tf-textbox></div><div tf-class="all-12"><tf-textbox tf-type="address" id="mpaiaddress2" name="mpaiaddress2" model-value="insAdd.address2" placeholder-text="BAT_24614" tab-index="{{tabIndex}}"></tf-textbox></div></div><div class="row"><div tf-class="12-6-6-6" ng-if="insAdd.country == \'USA\' || insAdd.country == \'US\' || !insAdd.country" ng-class="!zipCodeValidationStatus ? \'error\' : \'\'"><p class="error_txt small_txt text-left" ng-if="!zipCodeValidationStatus" translate="RDSG_5226"></p><tf-textbox tf-type="hppZip" id="mpaizipcode" restrict-input-value="numeric" name="mpaizipcode" model-value="insAdd.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" max-length="5" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="insAdd.country == \'Canada\' || insAdd.country == \'CANADA\'"><tf-textbox tf-type="hppZipCAN" id="mpaiCANzipcode" name="mpaiCANzipcode" model-value="insAdd.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="insAdd.country != \'USA\' && insAdd.country  != \'US\' && (insAdd.country  != \'Canada\' && insAdd.country != \'CANADA\') && insAdd.country"><tf-textbox tf-type="hppZipNONUSNONCAN" id="mpaiNONCANzipcode" name="mpaiNONCANzipcode" model-value="insAdd.zip" placeholder-text="BAT_24158" tf-required="true" tab-index="{{tabIndex}}" enable-paste="numbers"></tf-textbox></div><div tf-class="12-6-6-6"><tf-textbox tf-type="alphabets" id="mpaicity" name="mpaicity" model-value="insAdd.city" placeholder-text="BAT_24156" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985680"></tf-textbox></div></div><div class="row"><div tf-class="12-6-6-6" ng-if="insAdd.country == \'USA\' || insAdd.country == \'US\' || !insAdd.country"><div><div><select-state-type name="mpaistate" id="mpaistate" model-value="insAdd.state" class="selectize-primary selectize-default" state-list="$root.stateList" field-description="ERROR_1985681" title="{{BAT_24157 | translate}}" placeholder="BAT_24157" tab-index="0" tf-required="true" title="Choose billing State"></select-state-type></div></div></div><div tf-class="12-6-6-6" ng-if="insAdd.country == \'Canada\' || insAdd.country == \'CANADA\'"><div class="form-group"><div><select-state-type name="mpaistate" id="mpaistate" model-value="insAdd.state" class="selectize-primary selectize-default" state-list="$root.stateListCanada" field-description="ERROR_1985681" title="{{BAT_24157 | translate}}" cta="false" placeholder="ACRE_6912" tf-required="true" title="Choose billing State"></select-state-type></div></div></div><div tf-class="12-6-6-6" ng-if="insAdd.country != \'USA\' && insAdd.country  != \'US\' && (insAdd.country  != \'Canada\' && insAdd.country != \'CANADA\') && insAdd.country && !stateFailed"><tf-textbox tf-type="alphabets" id="mpaistate1" name="mpaistate1" model-value="insAdd.state" placeholder-text="BAT_24157" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985681"></tf-textbox></div><div tf-class="12-6-6-6" ng-if="insAdd.country != \'USA\' && insAdd.country  != \'US\' && (insAdd.country  != \'Canada\' && insAdd.country != \'CANADA\') && insAdd.country && stateFailed"><tf-textbox tf-type="alphabets" id="mpaistate1" name="mpaistate1" model-value="insAdd.state" placeholder-text="BAT_24157" tf-required="true" tab-index="{{tabIndex}}" field-description="ERROR_1985681"></tf-textbox></div><div tf-class="12-6-6-6"><div class="form-group"><select-country name="mpaicountry" id="mpaicountry" ng-model="insAdd.country" class="selectize-primary selectize-default" country-list="$root.countryList" title="{{\'BAT_24159\' | translate}}" placeholder="BAT_24159" tab-index="{{tabIndex}}" tf-required="true" title="Choose billing Country"></select-country></div></div></div><div class="row"><div tf-class="12-6-6-6"><tf-textbox tf-type="hppEmail" id="email" name="email" model-value="insAdd.email" placeholder-text="HPP_408" tf-required="true" tf-required="true" tab-index="{{tabIndex}}" field-description="HPP_408"></tf-textbox></div></div><div class="row"><div tf-class="12-6-6-6"><div class="form-group"><div><ui-select ng-model="makeList.selected" theme="selectize" id="byopmake" name="byopmake" on-select="onMakeSelect($select.selected)" field-description="HPP_227" aria-label="{{\'HPP_227\' | translate }}" ng-attr-title="{{\'HPP_227\' | translate}}" validator="required"><ui-select-match class="ui-select-match" placeholder="{{ \'HPP_227\' | translate}}">{{$select.selected.manufacturerName}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="make in makeList"><div class="dropdown-content-item" title="Select Make"><span>{{make.manufacturerName}}</span></div></ui-select-choices></ui-select></div></div></div><div tf-class="12-6-6-6"><div class="form-group"><div><ui-select ng-model="modelList.selected" theme="selectize" id="byopmodel" name="byopmodel" on-select="onModeleSelect($select.selected)" field-description="HPP_228" aria-label="{{\'HPP_228\' | translate }}" ng-attr-title="{{\'HPP_228\' | translate}}" validator="required"><ui-select-match allow-clear="true" class="ui-select-match" placeholder="{{ \'HPP_228\' | translate}}">{{$select.selected}}</ui-select-match><ui-select-choices class="ui-select-choices" repeat="model in modelList"><div class="dropdown-content-item" title="Select Model"><span>{{model}}</span></div></ui-select-choices></ui-select></div></div></div></div></div></div></div></div></uib-accordion>'),e.put("layoutdivider.html",'<div class="or-spacer-{{type}} left service-plan-nobottom"><div class="mask"></div><span ng-if="(isOr == true)"><i translate="BAT_24513">or</i></span> <span ng-if="(isAnd == true)"><i translate="AND">or</i></span></div>'),e.put("modalpopup_tpl.html",'<div class="modal-header" id="modal-header" name="modal-header"><h2 class="modal-title" id="modal-title" name="modal-title" role="heading" translate="{{headerText}}"></h2><div tabindex="-1"><button aria-label="{{\'ACRE_6928\'|translate}}" type="button" class="close" data-dismiss="modal" ng-click="cancel()" ng-hide="hideCloseIcon">X</button></div></div><div class="modal-body" id="modal-body" name="modal-body"><tf-error error="error"></tf-error><div ng-transclude></div></div>'),e.put("myaccount_nav_view.html",'<nav class="nav primary-nav" ng-mouseenter="onMouseEnterMyAccount()" ng-mouseleave="onMouseLeaveMyAccount()"><div class="page-container"><div class="main_nav"><ul ng-show="!isLimitedAccess()" role="menubar"><li ng-class="{\'active-link\':myActNav.isSelected(myActNav.MENU_ITEMS.MY_DEVICES)}" role="menuitem"><a href="/myaccount/dashboard" id="Mydevices" event-cta="Mydevices" event-ctx="Mydevices" ng-click="myActNav.selectMenuItem(myActNav.MENU_ITEMS.MY_DEVICES)" translate="MYAC_99763">MY DEVICES</a></li><li ng-class="{\'active-link\':myActNav.isSelected(myActNav.MENU_ITEMS.MY_PROFILE)}" role="menuitem"><a href="/myaccount/myprofile" id="Manageprofile" event-cta="Manageprofile" event-ctx="Manageprofile" ng-click="myActNav.selectMenuItem(myActNav.MENU_ITEMS.MY_PROFILE)" translate="MYAC_99764">MANAGE PROFILE</a></li><li ng-class="{\'active-link\':myActNav.isSelected(myActNav.MENU_ITEMS.PAYMENT_METHODS)}" role="menuitem"><a href="/myaccount/paymentmethod" id="paymentmethod" event-cta="paymentmethod" event-ctx="paymentmethod" ng-click="myActNav.selectMenuItem(myActNav.MENU_ITEMS.PAYMENT_METHODS)" ng-class="{\'btn\': $root.showSpinner,\'disabled\': $root.showSpinner}" translate="MYAC_99765">PAYMENT METHOD</a></li><li ng-class="{\'active-link\':myActNav.isSelected(myActNav.MENU_ITEMS.PAYMENT_HISTORY)}" role="menuitem"><a href="/myaccount/paymenthistory" ng-click="myActNav.selectMenuItem(myActNav.MENU_ITEMS.PAYMENT_HISTORY)" id="Paymenthst" event-cta="Paymenthst" event-ctx="Paymenthst" translate="MYAC_99766">PAYMENT HISTOTY</a></li><li ng-class="{\'active-link\':myActNav.isSelected(myActNav.MENU_ITEMS.ADD_DEVICE)}" widget-name="add-device" role="menuitem"><a href="javascript: void(0)" ng-show="!$root.isGroupBased()" ng-click="myActNav._addDevice()" id="Adddevicenav" event-cta="Adddevicenav" event-ctx="Adddevicenav" translate="MYAC_99868">ADD DEVICE</a> <a href="/activation/selectdevice?addDevice=true" ng-show="$root.isGroupBased()" id="Adddevicenav" event-cta="Adddevicenav" event-ctx="Adddevicenav" translate="MYAC_99868">ADD DEVICE</a></li><li ng-if="$root.isLRPLive" id="rewards_option" class="visible-xs" role="menuitem"><a href="javascript: void(0)" id="rewards_redirect" ng-click="myActNav.redirectAugeo()" event-cta="rewards_redirect" event-ctx="rewards_redirect" translate="MYACC_5518">REWARDS</a></li><li ng-if="$root.isLRPLive" class="hidden-xs" id="rewards_option" role="menuitem"><a href="javascript: void(0)" id="rewards" event-cta="rewards" ng-click="myActNav.showPointsCb($event);" event-ctx="rewards" translate="MYACC_5518">REWARDS</a><div class="rewards" ng-if="myActNav.showPoints"><div ng-if="$root.lrpDetails.isLRPEnrolled"><a href="javascript:void(0)" id="available-points" class="break-word pt-0" ng-click="myActNav.myRewards()"><p class="break-word mb-0"><b>{{$root.lrpDetails.availablePoints | number}}</b></p><span translate="MYACC_5521" class="text-underline break-word"></span></a></div><div ng-if="$root.lrpDetails.isLRPEnrolled && myActNav.isAugeoLive && $root.lrpDetails.availablePoints >= 1000"><tf-button-primary button-id="redeem_now" event-cta="redeem_now" event-ctx="redeem_now" action="myActNav.redeemNow()" translate-text="MYACC_5522"></tf-button-primary></div><div ng-if="$root.lrpDetails.isLRPEnrolled && myActNav.isAugeoLive && $root.lrpDetails.availablePoints < 1000"><tf-button-primary button-id="earn_now" event-cta="earn_now" event-ctx="earn_now" action="myActNav.earnNow()" translate-text="MYACC_5523"></tf-button-primary></div><div ng-if="!$root.lrpDetails.isLRPEnrolled"><div><span class="slim-icon slim-icon-gift-box fa-lg"></span> <a class="d-inline-block" href="javascript:void(0)" id="enroll_now" event-cta="enroll_now" event-ctx="enroll_now" translate="MYACC_5519" ng-click="myActNav.enrollNow()">Enroll now</a></div><div ng-if="myActNav.isAugeoLive"><span class="fa-stack icon icon-info-circle fa-lg"></span> <a class="d-inline-block" href="javascript:void(0)" id="learn_more" event-cta="learn_more" event-ctx="learn_more" translate="MYACC_5520" ng-click="myActNav.learnMore()">Learn more</a></div></div></div></li><li class="text-center text-lg-right padding-right-lg-1" ng-class="{\'active-link\':myActNav.isSelected(myActNav.MENU_ITEMS.SIGN_OUT)}" role="menuitem"><a class="hand-cursor" href="javascript: void(0)" ng-click="myActNav._signout()" id="Signoutnav" event-cta="Signoutnav" event-ctx="Signoutnav" translate="MYAC_99768">SIGN OUT</a></li></ul></div><div tf-class="all-12"><div tf-class="all-11" class="text-lg-right" ng-show="isLimitedAccess()"><div class="block-grid-sm-1 block-grid-md-1 block-grid-lg-1 pull-right text-right"><a class="hand-cursor" href="javascript: void(0)" ng-click="_signout()" id="Signoutnav" event-cta="Signoutnav" event-ctx="Signoutnav" translate="MYAC_99768">SIGN OUT</a></div></div><div tf-class="1-1-1-1"></div></div></div></nav>'),e.put("myAccountMenu.html",'<div class="my-account-menu primary-menu"><a href="/myaccount/signin" ng-if="!isLoggedIn()" data-eventcta="My Account" data-eventctx="My Account"><strong translate="MYACC_5416">My Account</strong> </a><a href="javascript: void(0)" ng-if="isLoggedIn()" class="pull-left" data-eventcta="My Account" data-eventctx="My Account"><strong translate="MYACC_5416">My Account</strong> </a><a class="pull-right" href="javascript: void(0)" ng-if="isLoggedIn()" data-eventcta="show account menu" data-eventctx="show account menu"><i class="fa-2x" ng-class="{\'icon-angle-up\': showMyAccMenu, \'icon-angle-down\': !showMyAccMenu}" aria-hidden="true"></i></a></div>'),e.put("tfcarousel_tpl.html",'<div class="carousel {{optionType}}"><slick settings="slickConfig" ng-if="numberLoaded" next-arrow=".{{optionId}}_right" prev-arrow=".{{optionId}}_left"><div ng-repeat="data in options" class="carousel-option-container" ng-if="data.enable && data.viewConfig"><a href="javascript: void(0)" aria-label="{{data.ariaLabel | translate: ariaLabel}}" tf-accessibility ng-click="data.method()" ng-if="data.method" id="{{data.id}}"><img role="presentation" src="assets/images/{{data.image}}.png" class="img-responsive"> <span translate="{{data.label}}"></span> </a><a href="{{data.url}}" target="_blank" ng-if="data.url" id="{{data.id}}"><img src="assets/images/{{data.image}}.png" class="img-responsive"> <span translate="{{data.label}}" aria-label="{{data.ariaLabel | translate: ariaLabel}}"></span></a></div></slick><span class="{{optionId}}_left cursor-pointer arrowLeft" tabindex="0"><i tabindex="0" role="button" aria-label="{{\'ACCS_5169\'|translate}}" focus-element class="icon-chevron-left2 tf-icon tf-icon-lg-2 tf-icon-xs-1"></i> </span><span class="{{optionId}}_right cursor-pointer arrowRight" tabindex="0"><i tabindex="0" role="button" aria-label="{{\'ACCS_5170\'|translate}}" focus-element class="icon-chevron-right2 tf-icon tf-icon-lg-2 tf-icon-xs-1"></i></span></div>'),e.put("tf-pageheading.html",'<div class="sm-redemption-margin tf-page-heading margin-top-3 margin-top-xs-2 margin-bottom-1"><div class="row"><div tf-class="col-xs-12 col-sm-12 col-md-12 col-lg-12" class="text-center hidden-xs"><table role="presentation"><tr><td class="padding-right-lg-5 padding-right-sm-5 padding-right-xs-3" ng-if="iconName"><img role="presentation" class="image-content" ng-src="assets/images/{{iconName}}.png" alt="{{iconAlt | translate}}" role="presentation"></td><td class="text-left"><div><h1 id="tf-page-heading-id" translate="{{translateName}}" focus-element tabindex="-1" role="heading"></h1><p class="hidden-xs" ng-if="subHeading" translate="{{subHeading}}"></p></div></td></tr><tr><td colspan="2" class="text-left"><p class="hidden-xs" ng-if="subHeading" translate="{{subHeading}}"></p></td></tr></table></div></div><div class="visible-xs text-center"><div class="row vcenter"><div tf-class="all-12" class="pt-3"><h1 focus-element id="tf-page-heading-id" tabindex="-1"><img role="presentation" class="image-content" ng-src="assets/images/{{iconName}}.png" alt="{{iconAlt | translate}}" ng-if="iconName"> <span translate="{{translateName}}" class="spacerem"></span></h1><p tabindex="0" role="heading" aria-level="7" ng-if="subHeading" translate="{{subHeading}}"></p></div></div><div><p tabindex="0" class="visible-xs" ng-if="subHeading" translate="{{subHeading}}"></p></div></div></div>'),e.put("popover_tpl.html",'<div class="hidden-xs"><div tf-class="all-12 col-xs-12" class="padding-top-1"><div tf-class="12-1-1-1"></div><div class="{{popoverClass}}"><div ng-transclude></div></div><div tf-class="12-1-1-1"></div></div></div><div class="visible-xs"><div tf-class="all-12 col-xs-12" class="padding-top-3"><div tf-class="12-1-1-1"></div><div class="{{popoverClass}}"><div ng-transclude></div></div><div tf-class="12-1-1-1"></div></div></div>'),e.put("tf-progressbar.html",'<div aria-hidden="true" class="row activation-progressbar"><div tf-class="all-12" ng-controller="progressbarCtrl"><uib-progressbar class="progress-striped" max="max" value="interval" type="primary" animate="true"></uib-progressbar></div><div tf-class="all-12"><div class="row legends"><div tf-class="all-3" ng-class="{\'active\': isActive(1,4)}"><p translate="ACRE_6701"></p></div><div tf-class="all-3" ng-class="{\'active\': isActive(2,4)}"><p translate="ACRE_6702"></p></div><div tf-class="all-3" ng-class="{\'active\': isActive(3,4)}"><p translate="ACRE_6703"></p></div><div tf-class="all-3" ng-class="{\'active\': isActive(4,4)}"><p translate="ACRE_6704"></p></div></div></div></div>'),e.put("tf-progress-stacked.html",'<div class="progress {{className}}" role="region" aria-live="assertive" aria-atomic="false" aria-label="{{\'MYACC_5189\' | translate}}"><div class="progress-bar {{barClassName}}" role="progressbar" ng-repeat="item in data" ng-style="{width:item[\'used_perc\']+\'%\'}"><i translate="MYACC_5189" aria-hidden="true" ng-if="item[\'used_perc\'] == \'101\'">LOADING</i> <span ng-if="labelKey">{{item[labelKey]?item[labelKey]:\'\'}}%</span></div></div>'),e.put("tf-search-result.html",'<div ng-if="item.title" class="search-result-item"><a ng-if="item.highlight.title" class="title" href="{{item.url}}" ng-bind-html="item.highlight.title"></a> <a ng-if="!item.highlight.title" class="title" href="{{item.url}}" ng-bind-html="item.title"></a><div class="description">{{item.description | limitTo:500}}</div></div>'),e.put("tf-select-device.html",'<div class="form-group"><div class="validation_error" aria-live="assertive" aria-atomic="false"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985690" ng-model="device.selected" theme="selectize" tabindex="{{tabIndex}}" on-select="selectedItem($item)" aria-label="{{placeholder | translate}}" validator="{{validators}}" ng-init="init()" ng-attr-title="{{title | translate}}"><ui-select-match allow-clear="true" class="ui-select-match" placeholder="{{ placeholder | translate}}"><div class="v-align-center"><span class="prefix-icon"><span class="icon-{{$select.selected.deviceType.toLowerCase()}}"></span> </span><span ng-if="$select.selected">{{$select.selected | deviceName}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="device in devices | filter : filterObject"><div class="dropdown-content-item" tabindex="{{tabIndex}}"><span class="prefix-icon"><span class="icon-{{device.deviceType.toLowerCase()}}"></span> </span><span id-ref="{{device.esn}}" ng-if="nickName != \'false\'" ng-bind="device | deviceName"></span> <span id-ref="{{device.esn}}" ng-if="nickName == \'false\'" ng-bind="device | deviceName:true"></span>&nbsp; <span ng-if="device.group.groupName">({{device.group.groupName}})</span></div></ui-select-choices></ui-select></div></div></div>'),e.put("tf-select-device-active.html",'<div class="form-group"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985690" ng-model="min" theme="selectize" tabindex="{{tabIndex}}" on-select="selectedItem($item)" aria-label="{{placeholder | translate}}" validator="{{validators}}" ng-init="init()" ng-attr-title="{{title | translate}}"><ui-select-match class="ui-select-match" placeholder="{{ placeholder | translate}}"><div class="v-align-center"><span>(***) ***-{{$select.selected.min ? $select.selected.min:$select.selected.esn}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="device in devices"><div class="dropdown-content-item"><span>(***) ***-{{device.min ? device.min:device.esn}}</span></div></ui-select-choices></ui-select></div></div>'),e.put("tf-select-device-os.html",'<div class="form-group"><div><ui-select ng-model="os" focus-on="selectdeviceos" field-description="{{fieldDescription}}" ng-attr-autofocus="{{autoFocus}}" title="{{\'RDSG_5060\' | translate }}" theme="selectize" id="phonetype" name="selectdeviceos" validator="{{validators}}" on-select="selectedItem($item)" tabindex="{{tabIndex}}"><ui-select-match class="ui-select-match" title="{{placeholder | translate }}" placeholder="{{\'RDSG_5060\' | translate }}"><div class="v-align-center"><span role="option" aria-label="{{placeholder | translate}} {{$select.selected.description | uppercase}} selected" aria-selected="true" tabindex="{{tabIndex}}">{{$select.selected.description}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="os in operatingsystems track by $index"><div id="os_description" class="dropdown-content-item" tabindex="{{tabIndex}}"><p>{{os.description}}</p></div></ui-select-choices></ui-select></div></div>'),e.put("tf-select-payment-source.html",'<ui-select id="{{id}}" name="{{name}}" ng-model="cards.selected" title="{{placeholder | translate}}" theme="selectize" on-select="selectedItem($item)"><ui-select-match class="ui-select-match" placeholder="{{ placeholder | translate}}" ng-attr-title="{{title | translate}}"><img class="pr-1" ng-if="$select.selected.type" src="assets/images/{{selectedCard.type | removeSpacesThenLowercase}}_card_dropdown_logo.png" height="30" alt="{{selectedCard.type | removeSpacesThenLowercase}}"><p class="d-inline" aria-label="{{selectedCard.number_mask}}" ng-if="!selectedCard.enough_points">{{ selectedCard.type == \'paypal\' || selectedCard.type == \'venmo\' ? selectedCard.email_mask : (selectedCard.number_mask | creditcard)}}</p><p class="d-inline" aria-label="{{selectedCard.number_mask}}" ng-if="selectedCard.enough_points">{{\'BAT_25549\' | translate:selectedCard }}</p></ui-select-match><ui-select-choices class="ui-select-choices" repeat="card in (cards | filter: $select.search) track by card.id"><div class="dropdown-content-item" ng-if="preferences.show_ach && !card.enough_points"><img class="pr-1" src="assets/images/{{card.type | removeSpacesThenLowercase}}_card_dropdown_logo.png" height="30" alt="{{card.type | removeSpacesThenLowercase}}"><p class="d-inline" aria-label="{{card.number_mask}}">{{card.type == \'paypal\' || card.type == \'venmo\' ? card.email_mask : (card.number_mask | creditcard)}}</p></div><div class="dropdown-content-item" ng-if="!preferences.show_ach && card.filterType != \'ACH\' && !card.enough_points"><img class="pr-1" src="assets/images/{{card.type | removeSpacesThenLowercase}}_card_dropdown_logo.png" height="30" width="50" alt="{{card.type | removeSpacesThenLowercase}}"><p class="d-inline" aria-label="{{card.number_mask}}">{{card.type == \'paypal\' || card.type == \'venmo\' ? card.email_mask : (card.number_mask | creditcard)}}</p></div><div class="dropdown-content-item" ng-if="!preferences.show_ach && card.filterType != \'ACH\' && card.enough_points"><p class="d-inline" aria-label="{{card.number_mask}}">{{\'BAT_25549\' | translate:card }}</p></div></ui-select-choices></ui-select>'),e.put("tf-select-account.html",'<div class="form-group"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985694" ng-model="modelValue.accounttype" theme="selectize" tabindex="{{tabIndex}}" validator="{{ validators }}" aria-label="{{placeholder | translate}}" ng-attr-title="{{title | translate}}"><ui-select-match class="ui-select-match" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span>{{$select.selected.label | translate}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="account in accountList | filter: $select.search"><div class="dropdown-content-item" tabindex="{{tabIndex}}"><p>{{account.label | translate}}</p></div></ui-select-choices></ui-select></div></div>'),e.put("tf-select-country.html",'<div class="form-group"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985683" theme="selectize" tab-index="{{tabIndex}}" ng-attr-title="{{title | translate}}"><ui-select-match class="ui-select-match" aria-label="Select {{\'placeholder\' | translate}}" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span>{{$select.selected | uppercase}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="option in countryList | filter: $select.search"><div class="dropdown-content-item" tabindex="{{tabIndex}}"><p>{{option | uppercase}}</p></div></ui-select-choices></ui-select></div></div>'),e.put("tf-select-service-provider.html",'<div class="form-group"><div class="validation_error" aria-live="assertive" aria-atomic="false"><div><ui-select ng-model="min" field-description="{{fieldDescription}}" theme="selectize" title="{{placeholder | translate }}" name="selectserviceprovider" tabindex="{{tabIndex}}" aria-required="{{tfRequired}}" validator="{{validators}}" on-select="selectedItem($item)" ng-disabled="$root.showSpinner"><ui-select-match class="ui-select-match" title="{{placeholder | translate }}" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span role="option" aria-label="{{placeholder | translate}} {{$select.selected.description | uppercase}} selected" tabindex="{{tabIndex}}" aria-selected="true">{{$select.selected.description}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" aria-activedescendant="accessible_provider" repeat="provider in providers | orderBy : \'description\' track by provider.description" role="alert" aria-label="{{provider.description}}" tabindex="-1"><div id="accessible_provider" class="dropdown-content-item" aria-label="{{provider.description}}"><p title="{{provider.description}}">{{provider.description}}</p></div></ui-select-choices></ui-select></div></div></div>'),e.put("tf-select-devicetype.html",'<div class="form-group"><div><ui-select field-description="ERROR_1985711" ng-model="selectedDevice" theme="selectize" id="{{id}}" name="{{name}}" tabindex="{{tabIndex}}" validator="{{ validators }}" ng-attr-title="{{placeholder | translate}}" on-select="selectedItem($item)"><ui-select-match class="ui-select-match" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span role="option" aria-label="{{\'BAT_25722\' | translate | trusted}} selected" aria-selected="true" tabindex="{{tabIndex}}" ng-if="($select.selected  == \'smartphone\')" aria-live="assertive">{{\'BAT_25722\' | translate | trusted}}</span> <span role="option" aria-label="{{\'BAT_25717\' | translate | trusted}} selected" aria-selected="true" tabindex="{{tabIndex}}" ng-if="($select.selected  == \'carsmart\')" aria-live="assertive">{{\'BAT_25717\' | translate | trusted}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="device in devices"><div class="dropdown-content-item" tabindex="{{tabIndex}}" ng-if="(device == \'smartphone\')" title="{{\'BAT_25722\' | translate | trusted}}" aria-live="assertive"><span>{{\'BAT_25722\' | translate | trusted}}</span></div><div class="dropdown-content-item" tabindex="{{tabIndex}}" ng-if="(device == \'carsmart\')" title="{{\'BAT_25717\' | translate | trusted}}" aria-live="assertive"><span>{{\'BAT_25717\' | translate | trusted}}</span></div></ui-select-choices></ui-select></div></div>'),
e.put("tf-select-month.html",'<div class="validation_error" aria-live="assertive" aria-atomic="false"></div><div class="form-group"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985684" ng-model="creditModelValue.expiration_month" theme="selectize" tabindex="{{tabIndex}}" validator="{{ validators }}" aria-label="{{placeholder | translate}}" ng-attr-title="{{selectTitle | translate}}"><ui-select-match class="ui-select-match" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span>{{$select.selected.des}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="month as month in monthList | filter: $select.search" ui-disable-choice="month.isActive==false"><div class="dropdown-content-item" tabindex="{{tabIndex}}"><p aria-label="{{month.des}}" ng-class="{\'grey_txt\':!month.isActive}">{{month.des}}</p></div></ui-select-choices></ui-select></div></div>'),e.put("tf-select-addon.html",'<div class="form-group"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985683" ng-model="modelValue.quantity" theme="selectize" tab-index="{{tabIndex}}" validator="{{validators}}" aria-label="{{placeholder | translate}}" ng-attr-title="{{title | translate}}" on-select="selectedItem($item)"><ui-select-match class="ui-select-match" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span>{{$select.selected | uppercase}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="option in addOnList | filter: $select.search"><div class="dropdown-content-item" tabindex="{{tabIndex}}"><p>{{option | uppercase}}</p></div></ui-select-choices></ui-select></div></div>'),e.put("tf-select-phonetype.html",'<div class="form-group"><div class="validation_error" aria-live="assertive" aria-atomic="false"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985711" ng-model="min" theme="selectize" on-select="selectedItem($item)" title="{{placeholder | translate }}" aria-required="{{tfRequired}}" validator="{{ validators }}"><ui-select-match class="ui-select-match" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span>{{$select.selected | uppercase}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="phone in phones"><div class="dropdown-content-item" tabindex="{{tabIndex}}"><p aria-label="{{phone}}">{{phone | uppercase}}</p></div></ui-select-choices></ui-select></div></div></div>'),e.put("tf-select-state-type.html",'<div class="validation_error" aria-live="assertive" aria-atomic="false"></div><div class="form-group"><div><ui-select id="{{id}}" field-description="{{fieldDescription | translate}}" ng-model="selectedValue.state" on-select="selectedItem(selectedValue.state)" name="{{name}}" theme="selectize" validator="{{validators}}" ng-attr-title="{{placeholder | translate}}" aria-label="{{placeholder | translate}}" tabindex="{{tabIndex}}"><ui-select-match class="ui-select-match" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span role="option" aria-label="{{placeholder | translate}} {{$select.selected | uppercase}} selected" aria-selected="true">{{$select.selected | uppercase}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="option in stateList | filter: $select.search"><div class="dropdown-content-item" tabindex="{{tabIndex}}" title="{{option | uppercase}}"><p>{{option | uppercase}}</p></div></ui-select-choices></ui-select></div></div>'),e.put("tf-select-year.html",'<div class="validation_error" aria-live="assertive" aria-atomic="false"></div><div class="form-group"><div><ui-select id="{{id}}" name="{{name}}" field-description="ERROR_1985685" ng-model="creditModelValue.expiration_year" theme="selectize" tabindex="{{tabIndex}}" validator="{{ validators }}" aria-label="{{placeholder | translate}}" ng-attr-title="{{selectTitle | translate}}"><ui-select-match class="ui-select-match" placeholder="{{placeholder | translate }}"><div class="v-align-center"><span>{{$select.selected}}</span></div></ui-select-match><ui-select-choices class="ui-select-choices" repeat="year in yearList | filter: $select.search"><div class="dropdown-content-item" tabindex="{{tabIndex}}"><p aria-label="{{year}}">{{year}}</p></div></ui-select-choices></ui-select></div></div>'),e.put("servicePlanCard.html",'<div class="SrvPlnCrd row"><div tf-class="12-6-6-3" ng-repeat="card in cards | filter:filterQuery" id="{{card.plan_id}}" tabindex="0" class="SrvPlnCrdContainer p-1 mb-2" ng-class="{\'col-lg-6\':addSerPop==\'true\',\'ml-10 ml-mob-2\':(addSerPop==\'true\'),\'servCardBlock\':card.plan_id == servRouteParam.plan_id}"><div ng-if="lastPlanSelected[0].plan_id==card.plan_id" class="d-table-dyn"><div class="d-table-cell"><stack-icon icon="icon-check" title="check"></stack-icon></div><span class="d-table-cell pl-2" translate="BAT_24568">Current Plan</span></div><div ng-if="lastPlanSelected[0].plan_id!==card.plan_id" class="v-hidden" ng-class="{\'display_none\':addSerPop==\'true\'}"><div class="d-inline-block"><stack-icon icon="icon-check" title="check"></stack-icon></div><span>Current Plan</span></div><a href="#" ng-click="action({plan:card})" id="monthly_{{card.plan_id}}" aria-label="{{\'BAT_24911\' | translate}} {{card.plan_name}}" data-eventcta="Select Plan" data-eventctx="Select Plan"><div ng-if="amazonUser"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/serviceplanimages/amazon/\'+card.plan_id+\'.png\'"></ng-include></div><div ng-if="!amazonUser"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/serviceplanimages/\'+card.plan_id+\'.png\'"></ng-include></div></a><div ng-if="view.hidePlanRibbon"><service-plan-ribbon device="card"></service-plan-ribbon></div><div widget-name="serviceplan-button"><div class="selButton" ng-hide="changePlan && (lastPlanSelected[0].plan_id==card.plan_id)"><div tf-class="all-12" class="pt-2" ng-hide="addSerPop==\'true\'"><div ng-if="view.isEnrollFlow || !view.hidePlanRibbon || view.isActivation || !view.loggedIn || (view.loggedIn && !$root.lrpDetails.isLRPEnrolled) || (view.multiline && view.numberOfActiveDevices.length>1) || (view.loggedIn && $root.lrpDetails.isLRPEnrolled && !( ($root.lrpDetails.availablePoints - card.loyaltyPointsNeeded) >= 0) )"><tf-button-primary button-id="monthly_{{card.plan_id}}" event-cta="monthly_{{card.plan_id}}" event-ctx="monthly_{{card.plan_id}}" action="action({plan:card})" translate-text="BAT_24911" aria-label="{{\'BAT_24911\' | translate}} {{card.plan_name | translate}}" tit="{{\'BAT_24911\' | translate}} {{card.plan_name | translate}}"></tf-button-primary></div><div ng-if="view.hidePlanRibbon && !view.isActivation && view.loggedIn && $root.lrpDetails.isLRPEnrolled && ((view.multiline && view.numberOfActiveDevices.length<=1) || !view.multiline) && ( ($root.lrpDetails.availablePoints - card.loyaltyPointsNeeded) >= 0) && !view.isEnrollFlow"><tf-button-primary button-id="monthly_{{card.plan_id}}" event-cta="monthly_{{card.plan_id}}" event-ctx="monthly_{{card.plan_id}}" action="action({plan:card})" translate-text="BAT_25539" aria-label="{{\'BAT_25539\' | translate}} {{card.plan_name | translate}}" tit="{{\'BAT_25539\' | translate}} {{card.plan_name | translate}}">Get it for free</tf-button-primary></div></div><div class="form-group m-0 addoncheck" ng-if="addSerPop==\'true\'" ng-init="card.checked=false"><input type="checkbox" id="add_on_{{card.plan_id}}" tit="{{card.plan_name | translate}}" ng-model="card.checked"> <label for="add_on_{{card.plan_id}}" translate="BAT_24573"></label></div></div></div><div class="clearfix"></div><div class="text-center viewdetails moredetailsspace" ng-if="card.is_upgrade" widget-name="view-details"><a id="ViewDetails" event-cta="ViewDetails" event-ctx="ViewDetails" title="{{\'BAT_24977\'|translate}}" ng-click="upgradePlan()">{{\'BAT_24977\'|translate}}</a></div><div widget-name="more-dataaddon-details"><div class="text-center viewdetails moredetailsspace" ng-if="card.servicePlanGroup==\'ADD_ON_DATA\'"><a id="MoreDetails" event-cta="MoreDetails" event-ctx="MoreDetails" title="{{\'BAT_25152\'|translate}}" translate="BAT_25152" ng-click="moreDataAddonDetails({addon:card})">More Details</a></div><div class="text-center viewdetails moredetailsspace" ng-if="card.plan_type==\'30-Day Hotspot Plans\'"><a id="MoreDetails" event-cta="MoreDetails" event-ctx="MoreDetails" title="{{\'BAT_25152\'|translate}}" translate="BAT_25152" ng-click="moreDataAddonDetails({addon:card})">More Details</a></div></div><div class="clearfix"></div><div class="text-center viewdetails moredetailsspace" ng-if="card.isILDVas"><a id="ViewDetails" event-cta="ViewDetails" event-ctx="ViewDetails" title="{{\'BAT_24977\'|translate}}" href="/ildrates" target="_blank">{{\'BAT_24985\'|translate}}</a></div><div class="clearfix"></div><div class="text-center upgplandetails" ng-if="!card.is_upgrade && !card.isILDVas"><a class="v-hidden" data-eventcta="View Details" data-eventctx="View Details">{{\'BAT_24977\'|translate}}</a></div></div></div>'),e.put("serviceplannav_view.html",'<div ng-if="!deviceType && plans.monthly.length > 0  && plans.paygo.length > 0 && plans.homephone.length > 0 && plans.hotspot.length > 0"><div class="row serviceplannav m-0 hidden-xs"><ul class="nav nav-tabs"><li class="active" widget-name="smartphone" ng-click="updateSelected(\'smartphone\')"><a data-toggle="tab" data-eventcta="Smartphone" data-eventctx="Smartphone"><div class="row padding-all vcenter"><div tf-class="12-8-8-8" tf-offset="0-3-3-3" class="vcenter no-padding"><div tf-class="all-2" class="no-padding text-xs-center"><img src="assets/images/smartphone.png" alt="{{\'BAT_1039\' | translate}}"></div><div tf-class="all-10"><span translate="BAT_1039">Smartphone</span></div></div></div></a></li><li widget-name="basicphone" ng-click="updateSelected(\'basicphone\')"><a data-toggle="tab" data-eventcta="Basicphone" data-eventctx="Basicphone"><div class="row padding-all vcenter"><div tf-class="12-8-8-8" tf-offset="0-3-3-3" class="vcenter no-padding"><div tf-class="all-2" class="no-padding text-xs-center"><img src="assets/images/basicphone.png" alt="{{\'BAT_1040\' | translate}}"></div><div tf-class="all-10"><span translate="BAT_1040">Basicphone</span></div></div></div></a></li><li widget-name="homephone" ng-click="updateSelected(\'homephone\')"><a data-toggle="tab" data-eventcta="homephone" data-eventctx="homephone"><div class="row padding-all vcenter"><div tf-class="12-8-8-8" tf-offset="0-3-3-3" class="vcenter no-padding"><div tf-class="all-2" class="no-padding text-xs-center"><img src="assets/images/homephone.png" alt="{{\'BAT_1041\' | translate}}"></div><div tf-class="all-10"><span translate="BAT_1041">homephone</span></div></div></div></a></li><li widget-name="hotspot" ng-click="updateSelected(\'hotspot\')"><a data-toggle="tab" data-eventcta="Hotspot" data-eventctx="Hotspot"><div class="row padding-all vcenter"><div tf-class="12-8-8-8" tf-offset="0-3-3-3" class="vcenter no-padding"><div tf-class="all-2" class="no-padding text-xs-center"><img src="assets/images/hotspoticon.png" alt="{{\'BAT_1042\' | translate}}"></div><div tf-class="all-10"><span translate="BAT_1042">Hotspot</span></div></div></div></a></li></ul></div></div><div class="tab-content hidden-xs"><div class="active" ng-if="deviceSelected(\'smartphone\') && plans.monthly.length>0"><uib-accordion close-others="false"><div uib-accordion-group id="monthly_plans" is-open="monthly_smartphone" is-disabled="status.isDisabled" tabindex="0" ng-if="!addOnFlow" class="panel-primary" ng-init="monthly_smartphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24531\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="monthly_smartphone" icon-title="{{\'BAT_24531\'|translate}}"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_1043">MONTHLY PLANS</span></strong></td></tr></table></uib-accordion-heading><div class="row ml-4"><p translate="BAT_1050"></p></div><div class="row pl-2"><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel" is-open="view.usertypelink"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td class="text-uppercase"><strong><span translate="BAT_1048">What kind of data user are you?</span></strong></td><td title="{{\'BAT_1048\' | translate}}"><div class="mr-2"><div ng-if="!view.usertypelink"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.usertypelink"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></div></td></tr></table></uib-accordion-heading><div id="spsection" class="row no_margin" widget-name="data-user"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/shop/serviceplans/howmuchdata\'"></ng-include></div></div></uib-accordion></div><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" last-plan-selected="plans.lastplan" change-plan="changePlan" filter-query="{\'is_monthly\': true}" upgrade-plan="shwUpgrdPop()" amazon-user="view.isAmazon"></service-plan-card></div><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div><div class="serviceplanbanner" widget-name="serviceplan-banner"><div id="spsection" class="row no_margin"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/shop/serviceplans/airtime\'"></ng-include></div><div class="row"><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div></div></div><div uib-accordion-group id="addon_plans" is-open="addons_smartphone" class="panel-primary" tabindex="1" ng-if="(!activationFlow || addOnFlow)" ng-init="addons_smartphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24571\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="addons_smartphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_24571">Add Ons Plans</span></strong></td></tr></table></uib-accordion-heading><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'is_addon\': true}"></service-plan-card></div><div ng-if="selectedDevice"><div uib-accordion-group id="upgrade_plans" is-open="upgrade_smartphone" class="panel-primary" tabindex="1" ng-if="(!activationFlow || addOnFlow)" ng-init="upgrade_smartphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24571\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="upgrade_smartphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="Upgrade plans">Upgrade plans Plans</span></strong></td></tr></table></uib-accordion-heading><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'is_monthly\': true}"></service-plan-card></div></div></uib-accordion></div><div class="active" ng-if="deviceSelected(\'basicphone\') && plans.paygo.length>0"><uib-accordion close-others="false"><div uib-accordion-group id="paygo" is-open="paygo_basicphone" class="panel-primary" tabindex="3" ng-if="!addOnFlow" ng-init="paygo_basicphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_1044\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="paygo_basicphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_1044">Pay as you go Plans</span></strong></td></tr></table></uib-accordion-heading><p translate="BAT_1056"></p><div tf-class="all-12" class="p-0" widget-name="carryover-plans"><div class="text-uppercase text-center"><label translate="BAT_1057">CARRY OVER BENEFIT PLANS</label></div><service-plan-card cards="plans.paygo" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'isNotCarryOver\':false,\'isrecurringPlan\':false}"></service-plan-card></div><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div><div tf-class="all-12" class="p-0" widget-name="nocarryover-plans"><div class="text-uppercase text-center"><label translate="BAT_1058">NO CARRY OVER BENEFIT PLANS</label></div><service-plan-card cards="plans.paygo" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'isNotCarryOver\':true}"></service-plan-card></div><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div><div tf-class="all-12" class="p-0" widget-name="autorefill-plans"><div class="text-uppercase text-center"><label translate="BAT_1059">AUTO-REFILL PLANS</label></div><service-plan-card cards="plans.paygo" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'isEnrollmentPlan\':true, \'is_paygo\': true}"></service-plan-card></div></div><div class="row"><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div></div><div uib-accordion-group id="monthly_plans" is-open="monthly_basicphone" is-disabled="status.isDisabled" tabindex="0" ng-if="!addOnFlow" class="panel-primary" ng-init="monthly_basicphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24531\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="monthly_basicphone" icon-title="{{\'BAT_24531\'|translate}}"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_24531">MONTHLY PLANS</span></strong></td></tr></table></uib-accordion-heading><p translate="BAT_1050"></p><div class="row m-0"><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel" is-open="view.usertypelink"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td class="text-uppercase"><strong><span translate="BAT_1048">What kind of data user are you?</span></strong></td><td title="{{\'BAT_1048\' | translate}}"><div ng-if="!view.usertypelink"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.usertypelink"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></td></tr></table></uib-accordion-heading><div id="spsection" class="row no_margin" widget-name="data-user"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/shop/serviceplans/howmuchdata\'"></ng-include></div></div></uib-accordion></div><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" filter-query="{\'is_monthly\': true}" last-plan-selected="plans.lastplan" change-plan="changePlan" upgrade-plan="shwUpgrdPop()" amazon-user="view.isAmazon"></service-plan-card><div class="clearfix"></div></div><div class="row"><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div></div><div class="serviceplanbanner" widget-name="serviceplan-banner"><div id="spsection" class="row no_margin"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/shop/serviceplans/airtime\'"></ng-include></div></div><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div><div uib-accordion-group id="addon_plans" is-open="addons_basicphone" class="panel-primary" tabindex="1" ng-if="(!activationFlow || addOnFlow)" ng-init="addons_basicphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24571\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="addons_basicphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_24571">Add Ons Plans</span></strong></td></tr></table></uib-accordion-heading><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" filter-query="{\'is_addon\': true}" change-plan="changePlan" filter-query="{\'servicePlanGroup\':\'FP_UNLIMITED_ILD\'}"></service-plan-card></div><div ng-if="selectedDevice"><div uib-accordion-group id="upgrade_plans" is-open="upgrade_smartphone" class="panel-primary" tabindex="1" ng-if="(!activationFlow || addOnFlow)" ng-init="upgrade_smartphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24571\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="upgrade_smartphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="Upgrade plans">Upgrade plans Plans</span></strong></td></tr></table></uib-accordion-heading><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'servicePlanGroup\':\'FP_UNLIMITED_ILD\'}"></service-plan-card><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div></div></div></uib-accordion></div><div class="active" ng-if="deviceSelected(\'homephone\') && plans.homephone.length>0"><div class="mt-2"><p translate="BAT_1061"></p></div><service-plan-card cards="plans.homephone" action="addToCartPopUp(plan)" change-plan="changePlan"></service-plan-card></div><div class="active" ng-if="deviceSelected(\'hotspot\') && plans.hotspot.length>0"><div class="mt-2"><p translate="BAT_1060"></p></div><service-plan-card cards="plans.hotspot" action="addToCartPopUp(plan)" change-plan="changePlan"></service-plan-card></div></div><div class="row serviceplannav visible-xs m-0"><div class="smartphone mobile_underline border-all border-top-0 border-left-0 border-right-0"><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel" is-open="view.smartphone"><uib-accordion-heading><table class="tf-table-valign-center"><tr class="pb-0"><td><img src="assets/images/smartphone.png" alt="{{\'BAT_1039\' | translate}}" class="img-responsive"></td><td class="pl-2 text-uppercase"><strong><span translate="BAT_1039">Smart Phone</span></strong></td><td title="{{\'BAT_1039\' | translate}}"><div class="mr-2"><div ng-if="!view.smartphone"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.smartphone"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></div></td></tr></table></uib-accordion-heading><div class="row m-0"><uib-accordion close-others="false"><div uib-accordion-group id="monthly_plans" is-open="monthly_smartphone" is-disabled="status.isDisabled" tabindex="0" ng-if="!addOnFlow" class="panel-primary" ng-init="monthly_smartphone=true"><p translate="BAT_1050"></p><div class="row m-0"><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel" is-open="view.usertypelink"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td class="text-uppercase"><strong><span translate="BAT_1048">What kind of data user are you?</span></strong></td><td title="{{\'BAT_1048\' | translate}}"><div ng-if="!view.usertypelink"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.usertypelink"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></td></tr></table></uib-accordion-heading><div id="spsection" class="row no_margin" widget-name="data-user"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/shop/serviceplans/howmuchdata\'"></ng-include></div></div></uib-accordion></div><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" last-plan-selected="plans.lastplan" change-plan="changePlan" upgrade-plan="shwUpgrdPop()" amazon-user="view.isAmazon"></service-plan-card></div><div uib-accordion-group id="addon_plans" is-open="addons_smartphone" class="panel-primary" tabindex="1" ng-if="(!activationFlow || addOnFlow)" ng-init="addons_smartphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24571\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="addons_smartphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_24571">Add Ons Plans</span></strong></td></tr></table></uib-accordion-heading><service-plan-card cards="plans.upgrade" action="addToCartPopUp(plan)" change-plan="changePlan"></service-plan-card></div></uib-accordion></div></div></uib-accordion></div><div class="basicphone mobile_underline border-all border-top-0 border-left-0 border-right-0"><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel" is-open="view.basicphone"><div uib-accordion-heading><table class="tf-table-valign-center"><tr><td><img src="assets/images/basicphone.png" alt="{{\'BAT_1040\' | translate}}" class="img-responsive"></td><td class="pl-2 text-uppercase"><strong><span translate="BAT_1040">Basic Phone</span></strong></td><td title="{{\'BAT_1040\' | translate}}"><div class="mr-2"><div ng-if="!view.basicphone"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.basicphone"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></div></td></tr></table></div><div class="row m-0"><uib-accordion close-others="false"><div uib-accordion-group id="paygo" is-open="paygo_basicphone" class="panel-primary" tabindex="3" ng-if="!addOnFlow" ng-init="paygo_basicphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_1044\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="paygo_basicphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_1044">Pay as you go Plans</span></strong></td></tr></table></uib-accordion-heading><p translate="BAT_1056"></p><div tf-class="all-12" class="p-0" widget-name="carryover-plans"><div class="text-uppercase text-center"><label translate="BAT_1057">CARRY OVER BENEFIT PLANS</label></div><service-plan-card cards="plans.paygo" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'isNotCarryOver\':false,\'isrecurringPlan\':false}"></service-plan-card></div><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div><div tf-class="all-12" class="p-0" widget-name="nocarryover-plans"><div class="text-uppercase text-center"><label translate="BAT_1058">NO CARRY OVER BENEFIT PLANS</label></div><service-plan-card cards="plans.paygo" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'isNotCarryOver\':true}"></service-plan-card></div><div tf-class="12-4-4-4" tf-offset="0-4-4-4"><layout-divider type="hr" is-or="false"></layout-divider></div><div tf-class="all-12" class="p-0" widget-name="autorefill-plans"><div class="text-uppercase text-center"><label translate="BAT_1059">AUTO-REFILL PLANS</label></div><service-plan-card cards="plans.paygo" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'isEnrollmentPlan\':true, \'is_paygo\': true}"></service-plan-card></div></div><div uib-accordion-group id="monthly_plans" is-open="monthly_basicphone" is-disabled="status.isDisabled" tabindex="0" ng-if="!addOnFlow" class="panel-primary" ng-init="monthly_basicphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24531\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="monthly_basicphone" icon-title="{{\'BAT_24531\'|translate}}"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_24531">MONTHLY PLANS</span></strong></td></tr></table></uib-accordion-heading><p translate="BAT_1050"></p><div class="row m-0"><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel" is-open="view.usertypelink"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td class="text-uppercase"><strong><span translate="BAT_1048">What kind of data user are you?</span></strong></td><td title="{{\'BAT_1048\' | translate}}"><div ng-if="!view.usertypelink"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.usertypelink"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></td></tr></table></uib-accordion-heading><div id="spsection" class="row mb-2" widget-name="data-user"><ng-include src="$root.wcmBaseUrl+$root.lang+\'/shop/serviceplans/howmuchdata\'"></ng-include></div></div></uib-accordion></div><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" last-plan-selected="plans.lastplan" change-plan="changePlan" upgrade-plan="shwUpgrdPop()" amazon-user="view.isAmazon"></service-plan-card><div class="clearfix"></div></div><div uib-accordion-group id="addon_plans" is-open="addons_basicphone" class="panel-primary" tabindex="1" ng-if="(!activationFlow || addOnFlow)" ng-init="addons_basicphone=true"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td title="{{\'BAT_24571\' | translate}}"><div class="margin-right-2"><tf-plus-minus-icon is-open="addons_basicphone"></tf-plus-minus-icon></div></td><td class="text-uppercase"><strong><span translate="BAT_24571">Add Ons Plans</span></strong></td></tr></table></uib-accordion-heading><service-plan-card cards="plans.monthly" action="addToCartPopUp(plan)" change-plan="changePlan" filter-query="{\'servicePlanGroup\':\'FP_UNLIMITED_ILD\'}"></service-plan-card></div></uib-accordion></div></div></uib-accordion></div><div class="homephone mb-0 pb-0 mobile_underline border-all border-top-0 border-left-0 border-right-0"><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel" is-open="view.homephone"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td><img src="assets/images/homephone.png" alt="{{\'BAT_1041\' | translate}}" class="img-responsive"></td><td class="pl-2 text-uppercase"><strong><span translate="BAT_1041">HOMEPHONE</span></strong></td><td title="{{\'BAT_1041\' | translate}}"><div class="margin-right-2"><div ng-if="!view.homephone"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.homephone"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></div></td></tr></table></uib-accordion-heading><div class="row m-0"><service-plan-card cards="plans.homephone" action="addToCartPopUp(plan)" change-plan="changePlan"></service-plan-card></div></div></uib-accordion></div><div class="hotspot mobile_underline m-0"><div><uib-accordion close-others="true"><div uib-accordion-group class="tf-accordion-panel border-all border-top-0 border-left-0 border-right-0" is-open="view.hotspot"><uib-accordion-heading><table class="tf-table-valign-center"><tr><td><img src="assets/images/hotspoticon.png" alt="{{\'BAT_1042\' | translate}}"></td><td class="pl-2 text-uppercase"><strong><span translate="BAT_1042">HOTSPOT</span></strong></td><td title="{{\'BAT_1042\' | translate}}"><div class="margin-right-2"><div ng-if="!view.hostpot"><span class="tf-inner-icon icon-chevron-down2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div><div ng-if="view.hotspot"><span class="tf-inner-icon icon-chevron-up2 tf-icon-lg-1-4 tf-icon-sm-1-4 tf-icon-xs-1-4 tf-icon-top"></span></div></div></td></tr></table></uib-accordion-heading><div class="row m-0"><p translate="BAT_1060"></p><service-plan-card cards="plans.hotspot" action="addToCartPopUp(plan)" change-plan="changePlan"></service-plan-card></div></div></uib-accordion></div></div></div>'),
e.put("tf-show-more-less.html",'<div class="tf-showmoreless-primary"><a role="contentinfo" class="pull-right small_txt" data-toggle="collapse" href="javascript:void(0)" ng-show="isOpen" title="{{\'MYAC_99748\' | translate}}" ng-click="action()" aria-expanded="false" data-eventcta="VIEW MORE" data-eventctx="VIEW MORE"><span class="icon-plus-negative tf-icon-sm-2-5 tf-icon-lg-2-5 tf-icon-xs-2"></span> <strong translate="MYAC_99748">View more</strong> </a><a class="pull-right small_txt" href="javascript:void(0)" data-toggle="expanded" title="{{\'MYAC_99749\' | translate}}" ng-show="!isOpen" aria-expanded="true" data-eventcta="VIEW LESS" data-eventctx="VIEW LESS"><span class="icon-minus-negative tf-icon-sm-2-5 tf-icon-lg-2-5 tf-icon-xs-2"></span> <strong translate="MYAC_99749">View less</strong></a></div>'),e.put("stackicon_tpl.html",'<span class="tf-stack-icons {{bgIcon}} {{className}}"><span ng-if="!isNumber" class="tf-inner-icon {{icon}} {{innerIconClassName}}" attr-tabindex="{{tabIndex}}"></span> <span ng-if="isNumber" class="tf-inner-icon {{icon}} {{innerIconClassName}}" attr-tabindex="{{tabIndex}}">{{isNumber}}</span></span>'),e.put("servicePlanRibbon.html",'<div ng-if="!isGroupBased" class="device-based"><a href="javascript:void(0)" ng-click="pointsInfoPopup()"><strong><i ng-if="!view.isActivation && view.loggedIn && $root.lrpDetails.isLRPEnrolled && !( ($root.lrpDetails.availablePoints - device.loyaltyPointsNeeded) >= 0)" class="icon icon-locked"></i> <i ng-if="view.isActivation || !view.loggedIn || (view.loggedIn && !$root.lrpDetails.isLRPEnrolled) || (view.loggedIn && $root.lrpDetails.isLRPEnrolled && ( ($root.lrpDetails.availablePoints - device.loyaltyPointsNeeded) >= 0))" class="slim-icon-gift-box brand-logo-icon"></i> <span>{{\'BAT_25616\' | translate}} {{device.loyaltyPointsNeeded | currency:"":0}} {{\'BAT_25522\' | translate}}</span> <i class="icon icon-angle-right"></i></strong></a></div><div ng-if="isGroupBased" class="group-based"><strong class="hidden-xs"><i ng-if="!view.isActivation && view.loggedIn && $root.lrpDetails.isLRPEnrolled && !( ($root.lrpDetails.availablePoints - device.loyaltyPointsNeeded) >= 0)" class="icon icon-locked"></i> <i ng-if="view.isActivation || !view.loggedIn || (view.loggedIn && !$root.lrpDetails.isLRPEnrolled) || (view.loggedIn && $root.lrpDetails.isLRPEnrolled && ( ($root.lrpDetails.availablePoints - device.loyaltyPointsNeeded) >= 0))" class="slim-icon-gift-box brand-logo-icon"></i> <span>{{\'BAT_25616\' | translate}} {{device.loyaltyPointsNeeded | currency:"":0}} {{\'BAT_25522\' | translate}}</span> </strong><strong class="visible-xs"><i ng-if="!view.isActivation && view.loggedIn && $root.lrpDetails.isLRPEnrolled && !( ($root.lrpDetails.availablePoints - device.loyaltyPointsNeeded) >= 0)" class="icon icon-locked"></i> <i ng-if="view.isActivation || !view.loggedIn || (view.loggedIn && !$root.lrpDetails.isLRPEnrolled) || (view.loggedIn && $root.lrpDetails.isLRPEnrolled && ( ($root.lrpDetails.availablePoints - device.loyaltyPointsNeeded) >= 0))" class="slim-icon-gift-box brand-logo-icon"></i> <span>{{\'BAT_25616\' | translate}}<br>{{device.loyaltyPointsNeeded | currency:"":0}} {{\'BAT_25522\' | translate}}</span></strong></div>'),e.put("subheading_tpl.html",'<div class="row"><div tf-class="all-12"><div class="hidden-xs tf-subheading"><table align="center" role="presentation"><tr><td align="center" ng-if="!level"><h2 aria-level="{{ariaLevel}}" role="heading" focus-element tabindex="-1" translate="{{translateText}}"></h2></td><td align="center" ng-if="level"><h1 aria-level="{{ariaLevel}}" role="heading" focus-element tabindex="-1" translate="{{translateText}}"></h1></td></tr><tr><td class="text-right"><h4 ng-if="!hasAction" translate="{{helpText}}" class="small_txt d-inline-block"></h4><a ng-if="hasAction" translate="{{helpText}}" class="small_txt d-inline-block" popover-placement="right" uib-popover-template="popoverTemplate" popover-is-open="isOpen" ng-click="action()" data-eventcta="{{helpText}}" data-eventctx="{{helpText}}" role="link"></a><tf-help-icon placement="left-middle" ng-show="helpPopoverTemplate" popover-template="helpPopoverTemplate"></tf-help-icon></td></tr></table></div><div class="row"><div class="visible-xs tf-subheading" tf-class="all-12"><table align="left" role="presentation"><tr><td><h2 focus-element translate="{{translateText}}"></h2></td></tr><tr><td class="text-left"><h4 ng-if="!hasAction" translate="{{helpText}}" class="small_txt d-inline-block"></h4><a ng-if="hasAction" translate="{{helpText}}" class="small_txt d-inline-block" popover-placement="right" uib-popover-template="popoverTemplate" popover-is-open="isOpen" ng-click="action()" data-eventcta="{{helpText}}" data-eventctx="{{helpText}}"></a><tf-help-icon placement="bottom-middle" ng-show="helpPopoverTemplate" popover-template="helpPopoverTemplate"></tf-help-icon></td></tr></table></div></div></div></div>'),e.put("tf-uib-tab.html",'<td ng-attr-width="{{100/2}}%" ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab tf-tab"><a href role="tablist" ng-click="select($event)" class="nav-link" uib-tab-heading-transclude data-eventcta="{{heading}}" aria-label="{{heading}}" data-eventctx="{{heading}}">{{heading}}</a></td>'),e.put("tf-uib-tabset.html",'<div><table class="tf-table tf-table-valign-center"><tr ng-transclude></tr></table><div class="tab-content"><div class="tab-pane" ng-repeat="tab in tabset.tabs" ng-class="{active: tabset.active === tab.index}" uib-tab-content-transclude="tab"></div></div></div>'),e.put("tfCalendar_tpl.html",'<div class="input-group"><input type="text" validator="required, date" valid-method="blur" placeholder="{{placeholderText | translate}}" aria-label="{{placeholderText | translate }} " id="{{id}}" name="{{name}}" class="form-control" ng-model="modelValue" ui-mask-placeholder="MM/DD/YYYY" ui-mask="99/99/9999" ng-required="{{tfRequired}}" ng-readonly="false" start-year="1920" end-year="2016" validatedateformat maxdate="todays" ng-pattern="/^(0?[1-9]|1\\d|2[0-8]|29(?=[-]\\d?\\d[-](?!1[01345789]00|2[1235679]00)\\d\\d(?:[02468][048]|[13579][26]))|30(?![-]0?2)|31(?=[-]0?[13578]|[-]1[02]))[-](0?[1-9]|1[0-2])[-]([12]\\d{3})$/" error-msg="This should be Date" datepicker-options="date_options" tabindex="{{tabIndex}}"> <span class="input-group-addon"><span class="fa-stack fa-lg"><i class="fa fa-check fa-stack-1x hide"></i> </span></span><a ng-if="ctaText" href="{{ctaUrl}}" tabindex="{{tabIndex}}" class="small green-txt text-uppercase"><strong><span translate="{{ctaText}}"></span></strong></a></div>'),e.put("tf-chkout-order-review-group.html",'<div class="row tfCheckoutOrderReview"><div tf-class="all-12"><uib-accordion close-others="false" ng-init="view.open=true"><div uib-accordion-group template-url="accordion-heading.html" class="panel-secondary row" is-open="view.open"><uib-accordion-heading><h3 role="heading" aria-level="3" id="accordionHeading"><div class="row"><div tf-class="7-9-9-9" class="mt-1"><strong>{{plan[0].group.groupName}}</strong></div><div tf-class="3-2-2-2" class="text-right mt-1"><span ng-if="!view.open" translate="BAT_25112">show</span> <span ng-if="view.open" translate="BAT_25114">hide</span></div><div tf-class="2-1-1-1"><i class="tf-icon tf-icon-lg-1-5 v-middle icon-chevron-down2" ng-class="{\'icon-chevron-up2\': view.open, \'icon-chevron-down2\': !view.open}"></i></div></div></h3></uib-accordion-heading><div class="row" ng-if="!showDevice" tabindex="0"><div tf-class="all-12"><div ng-repeat="plan in plan | orderBy : \'-plan_type\' | filter:{\'showDetails\':true}"><div class="row"><div tf-class="all-12"><div class="row" ng-if="!plan.smaddon"><div tf-class="12-5-5-5" ng-if="!view.isActivationFlow && !plan.isMinNotAvailable"><div ng-if="hasMultipleDevices && !userLoggedIn"><span ng-if="plan.min==view.currentMin" class="break-word">{{plan | deviceName:true | tel}}</span> <span ng-if="plan.min!=view.currentMin" class="break-word">{{plan | deviceName:true | tel | maskNumber}}</span></div><div ng-if="hasMultipleDevices && userLoggedIn && userLimited"><span ng-if="plan.min==view.currentMin" class="break-word">{{plan | deviceName:true | tel}}</span> <span ng-if="plan.min!=view.currentMin" class="break-word">{{plan | deviceName:true | tel | maskNumber}}</span></div><div ng-if="(userLoggedIn && !userLimited) || !hasMultipleDevices"><span class="break-word">{{plan | deviceName:true | tel}}</span></div></div><div tf-class="12-5-5-5" ng-if="!view.isActivationFlow && plan.isMinNotAvailable"><span class="break-word"><span translate="BAT_24772">Phone Pending</span></span></div><div tf-class="all-7" ng-if="view.isActivationFlow"><span class="break-word">{{plan | deviceName:true | tel}}</span></div><div tf-class="12-7-7-7" ng-if="!view.isActivationFlow && plan.svcstartDate && plan.svcendDate"><label class="break-word">(<span translate="BAT_24637">From</span> {{plan.svcstartDate | date : \'MM/dd/yyyy\' }} <span translate="BAT_24638">to</span> {{plan.svcendDate | date : \'MM/dd/yyyy\' }})</label></div><div tf-class="all-5" class="text-right pr-lg-5 pr-md-5 pr-sm-5" ng-if="view.isActivationFlow"><a href="javascript:void(0)" class="small mr-lg-3 mr-md-3 mr-sm-3" ng-click="deleteDevice({device:plan})" title="{{\'ICON_5016\'|translate}}">Delete</a></div></div></div></div></div></div></div></div></uib-accordion></div><div tf-class="all-12" class="mt-2" ng-init="planLength = plan.length"><div ng-repeat="plan in plan | orderBy : \'-plan_type\' | filter:{\'showDetails\':true}" ng-class="{\'group-ild-row\': planLength > 1 && plan.plans.length == 1 && $index > 0}"><div class="group-review-order-row" ng-if="!plan.newPlan" ng-repeat="splan in plan.plans"><div ng-if="!splan.is_addon"><div class="row" ng-if="!view.isActivationFlow"><div tf-class="all-12"><div class="row" ng-if="splan.numberOfLines > 1"><div tf-class="all-12" tabindex="0"><p class="m-0"><strong translate="BAT_25100">SHARED</strong></p></div></div><div class="row"><div tf-class="all-9"><div class="row"><div tf-class="12-8-8-8"><p class="m-0" ng-bind-html="splan.plan_name" tabindex="0"><strong ng-bind-html="splan.plan_name">plan description</strong></p><a href="#" class="small" ng-if="!view.isActivationFlow && (splan.servicePlanGroup != \'M2M_WER_PERS\')" tabindex="0" ng-click="changePlanRo({serNo:plan,selPlan:splan})" data-eventcta="Change Plan" data-eventctx="Change Plan" translate="BAT_24918">Change Plan</a></div><div tf-class="4-2-2-2"><div widget-name="update-quantity" ng-if="!view.toggleStatus"></div><div ng-if="!view.toggleStatus"><label>1</label></div></div><div tf-class="4-2-2-2" class="text-left mt-2"></div></div></div><div tf-class="3-2-2-2" class="text-right"><p class="mr-2"><strong>$<span ng-bind-html="splan.price"></span></strong></p><div ng-if="!view.isActivationFlow && $root.lrpDetails.isLRPEnrolled && view.hidePlanRibbon" class="visible-xs text-center"><p translate="BAT_24513">OR</p><span><i class="slim-icon-gift-box brand-logo-icon visible-xs"></i> {{splan.loyaltyPointsNeeded | currency:"":0}} {{\'LRP_5065\' | translate}}</span></div></div><div tf-class="all-12" ng-if="!view.isActivationFlow && $root.lrpDetails.isLRPEnrolled && view.hidePlanRibbon"><div class="row text-right hidden-xs"><span translate="BAT_24513">OR</span> <span><i class="slim-icon-gift-box brand-logo-icon"></i>&nbsp;<span>{{splan.loyaltyPointsNeeded | currency:"":0}} {{\'LRP_5065\' | translate}}</span></span></div></div></div></div></div><div class="row" ng-if="view.isActivationFlow"><div tf-class="all-12"><div class="row" ng-if="splan.numberOfLines > 1"><div tf-class="all-12"><p class="m-0"><strong translate="BAT_25100">SHARED</strong></p></div></div><div class="row"><div tf-class="all-9"><div class="row"><div tf-class="12-8-8-8"><p class="m-0" ng-bind-html="splan.plan_name"><strong ng-bind-html="splan.plan_name">plan description</strong></p><a href="#" class="small" ng-if="!view.isActivationFlow && (splan.servicePlanGroup != \'M2M_WER_PERS\')" ng-click="changePlanRo({serNo:plan,selPlan:splan})" data-eventcta="Change Plan" data-eventctx="Change Plan" translate="BAT_24918">Change Plan</a></div><div tf-class="4-2-2-2"><div widget-name="update-quantity" ng-if="!view.toggleStatus"></div><div ng-if="!view.toggleStatus"><label class="mt-2">1</label></div></div><div tf-class="4-2-2-2" class="text-left mt-2"></div></div></div><div tf-class="3-2-2-2" class="text-right mt-lg-2 mt-md-2 mt-sm-2 mt-xs-0"><p class="mr-2"><strong>$<span ng-bind-html="splan.price"></span></strong></p></div></div></div></div><div class="row mt-2" ng-if="(view.showAutopayOption || view.isActivationFlow) && view.showAutopayOption"><div tf-class="all-12"><automatic-payments toggle="view.toggleStatus" tog-disable="data.disableArOption" info="BAT_24231" refill-action="autoRefillAction(autoRef)"></automatic-payments></div></div></div><div ng-if="splan.is_addon"><div class="row"><div tf-class="all-12"><p class="m-0"><strong ng-if="splan.isILDVas && splan.is_addon"><span>{{plan.min | tel}}</span></strong></p><p class="m-0"><strong ng-if="splan.is_data_addon" translate="BAT_25101">SHARED</strong></p></div></div><div class="row"><div tf-class="all-12"><div class="row"><div tf-class="all-9"><div class="row"><div tf-class="10-8-8-8"><p class="m-0" ng-bind-html="splan.plan_name">plan description</p><a class="small" ng-if="splan.isILDVas && splan.is_addon" href="javascript: void(0)" translate="BAT_25064" ng-click="grpIldDetails()">View Details</a> <a class="small" ng-if="splan.is_data_addon" href="javascript: void(0)" translate="BAT_25064" ng-click="grpDataDetails()">View Details</a></div><div tf-class="4-2-2-2" ng-if="splan.is_data_addon"></div><div tf-class="4-2-2-2" ng-if="splan.isILDVas && splan.is_addon"><select-add-on name="addon" ng-if="!splan.auto_refill && !paymentMethod.enough_points" id="addon_{{splan.plan_id}}" model-value="splan" class="selectize-primary selectize-default" add-on-list="$root.addOns" title="{{\'addons\' | translate}}" select-event="quantityChanged(plan)" title="Choose Addon"></select-add-on><label ng-if="splan.auto_refill" class="mt-2">1</label> <label class="mt-2" ng-if="(!splan.auto_refill && !splan.isILDVas && view.multiline) || (!splan.auto_refill && paymentMethod.enough_points && !view.newCredit)">{{splan.quantity}}</label></div><div tf-class="4-2-2-2" class="text-left mt-2"><a class="small" href="javascript: void(0)" title="{{\'ICON_5016\'|translate}}" ng-click="removePlan({serNo:plan.esn,selPlan:splan})" translate="BAT_25113">Delete</a></div></div></div><div tf-class="3-2-2-2" class="text-right mt-lg-2 mt-md-2 mt-sm-2 mt-xs-0"><p class="mr-2"><strong>$<span ng-bind-html="splan.price"></span></strong></p><div ng-if="!view.isActivationFlow && $root.lrpDetails.isLRPEnrolled && view.hidePlanRibbon" class="visible-xs text-center"><p translate="BAT_24513">OR</p><span><i class="slim-icon-gift-box brand-logo-icon visible-xs"></i> {{splan.loyaltyPointsNeeded | currency:"":0}} {{\'LRP_5065\' | translate}}</span></div></div><div tf-class="all-12" class="text-right" ng-if="!view.isActivationFlow && $root.lrpDetails.isLRPEnrolled && view.hidePlanRibbon"><div class="row text-right hidden-xs"><span translate="BAT_24513">OR</span> <span><i class="slim-icon-gift-box brand-logo-icon"></i>&nbsp;<span>{{splan.loyaltyPointsNeeded | currency:"":0}} {{\'LRP_5065\' | translate}}</span></span></div></div></div></div></div><div class="row" ng-if="(splan.quantity==1) && splan.isILDVas && !plan.lowbalance_enabled && !splan.auto_enrollflow" ng-init="splan.enrolled_ILD=splan.enrolled_ILD?splan.enrolled_ILD:false"><div tf-class="all-12" class="mt-2"><automatic-payments toggle="splan.auto_refill" tog-disable="view.disableIldOption" info="BAT_24925" refill-action="ildToggleStatus(splan,autoRef)"></automatic-payments></div></div></div></div></div></div></div>'),e.put("tf-chkout-order-review.html",'<div tf-class="all-12" class="tfChkOrderReview striped" role="alert" ng-class="{{even}}?\'gryOut\':\'\'"><div class="row tfChkContHeader" ng-if="!plan.smaddon"><div tf-class="12-5-5-5" class="text-xs-center" ng-if="!view.isActivationFlow && !plan.isMinNotAvailable"><div ng-if="hasMultipleDevices && !userLoggedIn"><label ng-if="plan.min==view.currentMin" class="break-word">{{plan.showDeviceBy |tel}}</label> <label ng-if="plan.min!=view.currentMin" class="break-word">{{plan.showDeviceBy |tel| maskNumber}}</label></div><div ng-if="hasMultipleDevices && userLoggedIn && userLimited"><label ng-if="plan.min==view.currentMin" class="break-word">{{plan.showDeviceBy |tel}}</label> <label ng-if="plan.min!=view.currentMin" class="break-word">{{plan.showDeviceBy |tel| maskNumber}}</label></div><div ng-if="(userLoggedIn && !userLimited) || !hasMultipleDevices"><label class="break-word">{{plan | deviceName | tel}}</label></div></div><div tf-class="12-5-5-5" class="text-xs-center" ng-if="!view.isActivationFlow && plan.isMinNotAvailable"><label class="break-word"><span translate="BAT_24772">Phone Pending</span></label></div><div tf-class="12-5-5-5" class="text-xs-center" ng-if="view.isActivationFlow"><label class="break-word">{{plan.showDeviceBy |tel}}</label></div><div tf-class="12-7-7-7" class="text-right text-xs-center" ng-if="!view.isActivationFlow && plan.svcstartDate && plan.svcendDate"><label class="break-word">(<span translate="BAT_24637">From</span> {{plan.svcstartDate | date : \'MM/dd/yyyy\' }} <span translate="BAT_24638">to</span> {{plan.svcendDate | date : \'MM/dd/yyyy\' }})</label></div></div><div class="tfChkContContent pl-4" ng-if="!plan.newPlan" ng-repeat="splan in plan.plans"><div role="alert" tabindex="0" ng-if="!splan.is_addon"><div class="row"><div tf-class="12-5-5-5" class="text-xs-center"><p ng-bind-html="splan.plan_name">plan description</p><div ng-if="!view.isActivationFlow && $root.lrpDetails.isLRPEnrolled && view.hidePlanRibbon"><span translate="BAT_24513" class="text-lowercase">OR</span> <i class="slim-icon-gift-box brand-logo-icon"></i>&nbsp;<span>{{splan.loyaltyPointsNeeded | currency:"":0}} {{\'LRP_5065\' | translate}}</span></div></div><div widget-name="update-quantity" tf-class="6-3-2-2" tf-offset="3-0-0-0" class="text-xs-center" ng-if="(!view.toggleStatus && !view.multiline && view.newCredit) || (!view.toggleStatus && !view.multiline && !paymentMethod.enough_points)"><select-add-on name="addon" id="addon_{{splan.plan_id}}" model-value="splan" class="selectize-primary selectize-default" add-on-list="$root.plansQuantity" title="{{\'addons\' | translate}}" tab-index="1" select-event="quantityChanged(plan)" title="Choose Addon"></select-add-on></div><div tf-class="6-3-2-2" tf-offset="3-0-0-0" class="text-xs-center" ng-if="(view.toggleStatus && !view.multiline)"><label>1</label></div><div tf-class="6-3-3-2" tf-offset="3-0-0-0" class="text-xs-center" ng-if="!splan.auto_refill && paymentMethod.enough_points && !view.newCredit"><label>{{splan.quantity}}</label></div><div tf-class="12-3-3-4" class="text-xs-center text-right"><div ng-if="!view.multiline  || (view.multiline && view.isActivationFlow && plan.deviceType != \'carsmart\')"><a href="#" ng-click="changePlanRo({serNo:plan,selPlan:splan})" data-eventcta="Change Plan" data-eventctx="Change Plan" translate="BAT_24137">Change Plan</a></div></div><div tf-class="12-1-1-1" class="text-xs-center text-sm-center margin-top-xs-1" ng-if="(!view.isActivationFlow &&  splan.is_addon) || view.isActivationFlow" tabindex="5"><img src="/assets/images/delete.png" alt="{{\'ICON_5016\'|translate}}" ng-click="removePlan({serNo:plan.esn,selPlan:splan})" width="30px" class="cursor-pointer"></div></div><div class="mt-3 mb-3" ng-if="(view.showAutopayOption && !view.multiline)"><automatic-payments toggle="view.toggleStatus" tog-disable="view.disableArOption" info="BAT_24231" refill-action="autoRefillAction(autoRef)"></automatic-payments></div></div><div ng-if="splan.is_addon"><div class="row mt-4"><div tf-class="12-5-5-5" class="text-xs-center text-sm-center"><div><p ng-bind-html="splan.plan_name">plan description</p><div ng-if="!view.isActivationFlow && $root.lrpDetails.isLRPEnrolled && view.hidePlanRibbon"><span translate="BAT_24513" class="text-lowercase">OR</span> <i class="slim-icon-gift-box brand-logo-icon"></i>&nbsp;<span>{{splan.loyaltyPointsNeeded | currency:"":0}} {{\'LRP_5065\' | translate}}</span></div></div><div widget-name="ild-view-details" class="mb-xs-3"><a ng-if="splan.isILDVas" href="#" class="text-xs-center" ng-click="ildDetails()" translate="BAT_24243">View Details</a><a ng-if="!splan.isILDVas" href="#" class="text-xs-center" ng-click="dataDetails()" translate="BAT_24243">View Details</a></div><div widget-name="more-dataaddon-details" class="mb-xs-3"><a ng-if="!splan.isILDVas" href="#" class="text-xs-center" translate="BAT_25152" ng-click="moreDataAddonDetailsview({addon:splan})">More Details>></a></div></div><div tf-class="6-3-3-2" tf-offset="3-0-0-0" class="text-xs-center" ng-if="(splan.isILDVas && view.newCredit && !splan.auto_refill) || (!view.isIldEnrolledOption && splan.isILDVas && $root.addOns && !paymentMethod.enough_points && !splan.auto_refill)"><select-add-on name="addon" id="addon_{{splan.plan_id}}" model-value="splan" class="selectize-primary selectize-default" add-on-list="$root.addOns" title="{{\'addons\' | translate}}" tab-index="1" select-event="quantityChanged(plan)" title="Choose Addon"></select-add-on></div><div tf-class="6-3-3-2" tf-offset="3-0-0-0" class="text-xs-center" ng-if="(!splan.isILDVas && view.newCredit) || (!view.isIldEnrolledOption && !splan.isILDVas && $root.dataAddOns && !paymentMethod.enough_points)"><select-add-on name="addon" id="addon_{{splan.plan_id}}" model-value="splan" class="selectize-primary selectize-default" add-on-list="$root.dataAddOns" title="{{\'addons\' | translate}}" tab-index="1" select-event="quantityChanged(plan)" title="Choose Addon"></select-add-on></div><div tf-class="6-3-3-2" tf-offset="3-0-0-0" class="text-xs-center" ng-if="splan.auto_refill"><label>1</label></div><div tf-class="6-3-3-2" tf-offset="3-0-0-0" class="text-xs-center" ng-if="(!splan.auto_refill && !splan.isILDVas && view.multiline) || (!splan.auto_refill && paymentMethod.enough_points && !view.newCredit)"><label>{{splan.quantity}}</label></div><div tf-class="12-2-2-2" ng-if="!splan.isILDVas && !$root.dataAddOns"></div><div tf-class="12-2-2-4"></div><div tf-class="12-1-1-1" class="text-xs-center text-sm-center mb-3"><img src="/assets/images/delete.png" alt="{{\'ICON_5016\'|translate}}" ng-click="removePlan({serNo:plan.esn,selPlan:splan})" width="30px" class="cursor-pointer"></div></div><div class="mt-1 mb-4" ng-if="(splan.quantity==1) && splan.isILDVas && (!plan.lowbalance_enabled || !splan.auto_enrollflow)" ng-init="splan.enrolled_ILD=splan.enrolled_ILD?splan.enrolled_ILD:false"><automatic-payments toggle="splan.auto_refill" tog-disable="view.disableIldOption" info="BAT_24925" refill-action="ildToggleStatus(splan,autoRef)"></automatic-payments></div></div><div class="clearfix"></div><div class="mb-1" ng-if="($index+1)!==plan.plans.length"><hr></div></div><div class="clearfix"></div><div class="m-0 contentdivider"><hr class="mt-1 mb-1"></div></div>'),e.put("tf-credit-card-img.html","<img class=\"img-responsive cardlogo\" ng-class=\"{'img-discover-size-lg':theme=='lg','img-discover-size-md':theme=='md','img-discover-size-sm':theme=='sm'}\" src=\"assets/images/discover_card_logo.png\" ng-show=\"type.toLowerCase() == 'discover'\" alt=\"DISCOVER\"> <img class=\"img-responsive cardlogo\" ng-class=\"{'img-discover-size-lg':theme=='lg','img-discover-size-md':theme=='md','img-discover-size-sm':theme=='sm'}\" src=\"assets/images/ach.png\" ng-show=\"type.toLowerCase() == 'ach'\" alt=\"ACH\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/mastercard_card_logo.png\" ng-class=\"{'img-master-size-lg':theme=='lg','img-master-size-md':theme=='md','img-master-size-sm':theme=='sm'}\" ng-show=\"type.toLowerCase() == 'mastercard'\" alt=\"MASTERCARD\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/visa_card_logo.png\" ng-class=\"{'img-visa-size-lg':theme=='lg','img-visa-size-md':theme=='md','img-visa-size-sm':theme=='sm'}\" ng-show=\"type.toLowerCase() == 'visa'\" alt=\"VISA\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/amex.png\" ng-class=\"{'img-amex-size-lg':theme=='lg','img-visa-size-md':theme=='md','img-amex-size-sm':theme=='sm'}\" ng-show=\"type.toLowerCase() == 'amex'|| type.toLowerCase() == 'american express'\" alt=\"American Express\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/maestro_card_logo.png\" ng-class=\"{'img-maestro-size-lg':theme=='lg','img-maestro-size-md':theme=='md','img-maestro-size-sm':theme=='sm'}\" ng-show=\"type.toLowerCase() == 'maestro'\" alt=\"MAESTRO\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/dinersclub_card_logo.png\" ng-class=\"{'img-dinersclub-size-lg':theme=='lg','img-dinersclub-size-md':theme=='md','img-dinersclub-size-sm':theme=='sm'}\" ng-show=\"type.toLowerCase() == 'diners club'\" alt=\"DINERS CLUB\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/ach_card_dropdown_logo.png\" ng-class=\"{'img-discover-size-lg':theme=='lg','img-discover-size-md':theme=='md','img-discover-size-sm':theme=='sm'}\" ng-show=\"type == 'CHECKING' || type == 'SAVINGS'\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/paypal_card_logo_100_26.png\" alt=\"PayPal\" ng-show=\"type.toLowerCase() == 'paypal'\"> <img class=\"img-responsive cardlogo\" src=\"assets/images/venmo_logo_blue.png\" alt=\"Venmo\" ng-show=\"type.toLowerCase() == 'venmo'\">"),e.put("tf-form-header.html",'<span class="plate-header" translate="{{headerTranslate}}"></span><br><span translate="{{subTranslate}}"></span><br>'),
e.put("tf-expand-collapse.html",'<div class="row tf_expcollapse no-margin" widget-name="{{showOptions}}"><div tf-class="all-12"><div tf-class="12-6-6-6" class="tf_expcollapse_panel no-border" widget-name="nickname" role="menuitem"><a href="javascript:void(0)" ng-click="editNickName()" title="{{\'ICON_5015\'|translate}}" data-eventcta="edit icon" data-eventctx="edit icon"><span class="fa-stack fa-lg"><i class="icon-sm-editnickname tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5015\'|translate}}"></i></span> <strong translate="MYAC_99746" class="text-uppercase">EDIT NICKNAME</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="remove-device" ng-if="!selectedDevice.activationPending" role="menuitem"><a href="javascript:void(0)" ng-click="removeDevice()" title="{{\'ICON_5016\'|translate}}" data-eventcta="Delete Icon" data-eventctx="Delete Icon"><span class="fa-stack fa-lg"><i class="icon-sm-removedevice tf-icon {{className?className:\'base\'}}" title="{{\'ICON_501\'|translate}}"></i></span> <strong translate="MYAC_99747" class="text-uppercase">REMOVE DEVICE</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="security-pin" ng-if="selectedDevice.isMinAvailable" role="menuitem"><a href="javascript: void(0)" ng-click="editSecurityPin()" title="{{\'ICON_5017\'|translate}}" data-eventcta="Edit Security PIN Icon" data-eventctx="Edit Security PIN Icon"><span class="fa-stack fa-lg"><i class="icon-lock tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5017\'|translate}}"></i></span> <strong translate="MYACC_5013" class="text-uppercase">Edit Security Pin</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="addons" ng-if="isActive && !isHotspot && !isBYOT" role="menuitem"><a href="javascript:void(0)" ng-click="buyAddOns()" widget-name="addons" data-eventcta="BUY ADD-ONS" data-eventctx="BUY ADD-ONS"><span class="fa-stack fa-lg"><i class="icon-sm-buyserviceplan tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5019\'|translate}}"></i></span> <strong translate="MYACC_5015" class="text-uppercase">BUY ADD-ONS</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="transaction-history" role="menuitem"><a href="javascript: void(0)" scrollto-id="app-body" ng-click="transactionHistory()" data-eventcta="View Transaction History Icon" data-eventctx="View Transaction History Icon"><span class="fa-stack fa-lg"><i class="icon-sm-viewtransaction tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5020\'|translate}}"></i></span> <strong translate="MYACC_5016" class="text-uppercase">VIEW TRANSACTION HISTORY</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="protect-phone" ng-if="selectedDevice.isHandsetProtectionEligible" role="menuitem"><a href="javascript: void(0)" ng-click="protectPhone()" data-eventcta="Protect your phone" data-eventctx="Protect your phone"><span class="fa-stack fa-lg"><i class="icon-easy-exchange tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5020\'|translate}}"></i></span> <strong translate="MYACC_5328" class="text-uppercase">Protect your phone</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="manage-reserve" ng-if="isActive && selectedDevice.reserveCount > 0" role="menuitem"><a href="javascript: void(0)" ng-click="manageReserve()" class="managestash" data-eventcta="Manage Reserve" data-eventctx="Manage Reserve"><span class="fa-stack fa-lg"><i class="icon-sm-managereserve tf-icon {{className?className:\'base\'}}" title="Manage Reserve"></i></span> <strong translate="MYACC_5282" class="text-uppercase">Manage Reserve</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="device-details" role="menuitem"><a href="javascript: void(0)" ng-click="deviceDetails()" data-eventcta="Device Details" data-eventctx="Device Details"><span class="fa-stack fa-lg"><i class="icon-device-details tf-icon {{className?className:\'base\'}}" title="Device Details"></i></span> <strong translate="MYACC_5329" class="text-uppercase">Device Details</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="device-tutorial" ng-if="selectedDevice.tutorialLink" role="menuitem"><a href="{{selectedDevice.tutorialLink}}" target="_blank" data-eventcta="Device Tutorial" data-eventctx="Device Tutorial"><span class="fa-stack fa-lg"><i class="icon-question-circle tf-icon {{className?className:\'base\'}}" title="Device Tutorial"></i></span> <strong translate="MYACC_5327" class="text-uppercase">Device Tutorial</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="ild-balance" ng-if="isActive && !isHotspot && !isBYOT" role="menuitem"><a href="javascript: void(0)" ng-click="viewIldBalance()" data-eventcta="View $10 ILD Balance" data-eventctx="View $10 ILD Balance"><span class="fa-stack fa-lg"><i class="icon-sm-checkildbalance tf-icon {{className?className:\'base\'}}" title="viewIldBalance"></i></span> <strong translate="MYACC_5281" class="text-uppercase">View $10 ILD Balance</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="manage-enrollments" ng-if="isActive && !selectedDevice.isPlanNotAvailable && selectedDevice.isArAllowed" role="menuitem"><a href="javascript: void(0)" ng-click="manageEnrollments()" data-eventcta="Manage Enrollments" data-eventctx="Manage Enrollments"><span class="fa-stack fa-lg"><i class="icon-sm-enrollments tf-icon {{className?className:\'base\'}}" title="Enrollments"></i></span> <strong translate="MYACC_5279" class="text-uppercase">Manage Enrollments</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="add-service-plan" ng-if="selectedDevice.showServicePlanLink && selectedDevice.reservedLine" role="menuitem"><a href="javascript: void(0)" ng-click="addServicePlan()" data-eventcta="ADD SERVICE PLAN" data-eventctx="ADD SERVICE PLAN"><span class="fa-stack fa-lg"><i class="icon-sm-addonbal tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5021\'|translate}}"></i></span> <strong translate="MYACC_5014" class="text-uppercase">ADD SERVICE PLAN</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="buy-service-plan" ng-if="selectedDevice.reservedLine" role="menuitem"><a href="javascript: void(0)" ng-click="buyServicePlan()" data-eventcta="BUY SERVICE PLAN" data-eventctx="BUY SERVICE PLAN"><span class="fa-stack fa-lg"><i class="icon-sm-addonbal tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5021\'|translate}}"></i></span> <strong translate="BUY SERVICE PLAN" class="text-uppercase">BUY SERVICE PLAN</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="upgrade-device" ng-if="isActive"><a href="javascript: void(0)" ng-click="upgradeDevice()"><span class="fa-stack fa-lg"><i class="icon-sm-addonbal tf-icon {{className?className:\'base\'}}" title="{{\'ICON_5021\'|translate}}"></i></span> <strong translate="Upgrade Device" class="text-uppercase">Upgrade Device</strong></a></div><div tf-class="12-6-6-6" class="tf_expcollapse_panel" widget-name="manage-global-card" ng-if="isActive && selectedDevice.lowbalance_enabled"><a href="javascript: void(0)" ng-click="manageGlobalCard()" data-eventcta="manage $10 glogal card balance" data-eventctx="manage $10 glogal card balance"><span class="fa-stack fa-lg"><i class="icon-sm-checkildbalance tf-icon {{className?className:\'base\'}}" title="global card"></i></span> <strong translate="Manage $10 Global Card Enrollment" class="text-uppercase">Manage $10 Global Card Enrollment</strong></a></div></div></div>'),e.put("tf-label.html",'<label translate="{{translateText}}" class="blue_txt"></label>'),e.put("tf-split-vertical.html",'<div class="row padding-top-1 padding-top-xs-10 padding-bottom-xs-10"><div widget-name="{{leftName}}" class="col-xs-12 col-sm-5 col-md-5 col-lg-5"><div ng-transclude="left"></div></div><div widget-name="{{dividerName}}" class="col-xs-12 col-sm-2 col-md-2 col-lg-2 hidden-xs text-center vertical-or-content"><layout-divider type="vr" is-or="false"></layout-divider></div><div widget-name="{{dividerName}}" class="col-xs-12 col-sm-2 col-md-2 col-lg-2 visible-xs text-center or-content"><layout-divider type="hr" is-or="false"></layout-divider></div><div widget-name="{{rightName}}" class="col-xs-12 col-sm-5 col-md-5 col-lg-5"><div ng-transclude="right"></div></div></div>'),e.put("tf-split-vertical-or.html",'<div class="row centered padding-top-1"><div widget-name="{{leftName}}" class="col-xs-12 col-sm-5 col-md-5 col-lg-5 margin-bottom-xs-1" ng-if="(isHorizontalView != \'false\')"><div ng-transclude="left"></div></div><div widget-name="{{leftName}}" class="col-xs-5 col-sm-5 col-md-5 col-lg-5" ng-if="(isHorizontalView == \'false\')"><div ng-transclude="left"></div></div><div widget-name="{{dividerName}}" class="col-xs-12 col-sm-2 col-md-2 col-lg-2 hidden-xs text-center vertical-or-content"><layout-divider type="vr" is-or="true"></layout-divider></div><div widget-name="{{dividerName}}" class="col-xs-2 col-sm-2 col-md-2 col-lg-2 visible-xs text-center vertical-or-content" ng-if="(isHorizontalView == \'false\')"><layout-divider type="vr" is-or="true"></layout-divider></div><div widget-name="{{dividerName}}" class="col-xs-12 col-sm-2 col-md-2 col-lg-2 visible-xs text-center or-content" ng-if="(isHorizontalView == \'true\')"><layout-divider type="hr" is-or="true"></layout-divider></div><div widget-name="{{rightName}}" class="col-xs-12 col-sm-5 col-md-5 col-lg-5" ng-if="(isHorizontalView != \'false\')"><div ng-transclude="right"></div></div><div widget-name="{{rightName}}" class="col-xs-5 col-sm-5 col-md-5 col-lg-5" ng-if="(isHorizontalView == \'false\')"><div ng-transclude="right"></div></div></div>'),e.put("tf-split-horizontal-or.html",'<div class="row centered"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 top-content"><div ng-transclude="top"></div></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center or-content"><layout-divider type="hr" is-or="true"></layout-divider></div><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 bottom-content"><div ng-transclude="bottom"></div></div></div>'),e.put("tf-price.html","<span ng-class=\"{'dollars-text-lg':theme=='lg','dollars-text-md':theme=='md','dollars-text-sm':theme=='sm','dollars-text-xs':theme=='xs','dollars-text-xxs':theme=='xxs',\t\t'blue':color=='blue','strike':striked,'white':color=='white'}\" aria-label=\"{{dollars}} Dollars {{cents}} Cents\"><sup>$</sup><span>{{dollars}}<sup>{{cents}}</sup></span></span>"),e.put("tfRewards.html",'<div ng-if="$root.isLRPLive && !theme" class="tfrewards d-inline-block single-line"><span class="slim-icon-gift-box"></span><div class="d-inline-block points" ng-if="$root.lrpDetails.isLRPEnrolled" title="{{$root.lrpDetails.totalPoints | number}} {{\'MYACC_5524\' | translate}}"><a href="javascript:void(0)" data-eventctx="rewards_points" data-eventcta="rewards_points" ng-click="myRewards()"><span><strong>{{$root.lrpDetails.totalPoints | number}}</strong></span> <span class="pointdisc" translate="MYACC_5524"></span></a></div><div class="d-inline-block points" ng-if="!$root.lrpDetails.isLRPEnrolled"><a href="javascript:void(0)" id="join_rewards" data-eventctx="join_rewards" data-eventcta="join_rewards" ng-click="join()" translate="MYACC_5525">JOIN REWARDS</a></div></div><div ng-if="theme==\'panel\'"><div class="rewardsPanel"><h3 data-toggle="collapse" href="#rewardsContent" aria-expanded="true" aria-controls="collapseExample"><span class="slim-icon-gift-box"></span> <span ng-if="!$root.lrpDetails.isLRPEnrolled" translate="MYACC_5525"></span> <span ng-if="$root.lrpDetails.isLRPEnrolled"><strong>{{$root.lrpDetails.totalPoints | number}}</strong>&nbsp;<span translate="MYACC_5524"></span></span> <span class="icon icon-chevron-down"></span></h3><div class="collapse" id="rewardsContent" aria-expanded="false"><div tf-class="all-8" class="hcenter text-center" ng-if="!$root.lrpDetails.isLRPEnrolled"><tf-button-primary button-id="enroll_now" event-cta="enroll_now" event-ctx="enroll_now" title="{{ \'MYACC_5519\'|translate}}" action="join()" translate-text="MYACC_5519"></tf-button-primary><div ng-if="isAugeoLive"><a class="d-inline-block mt-2 text-underline" href="javascript:void(0)" id="learn_more" event-cta="learn_more" event-ctx="learn_more" title="{{\'MYACC_5520\'|translate}}" translate="MYACC_5520" ng-click="learnMore()">Learn More</a></div></div><div tf-class="all-8" class="hcenter text-center" ng-if="$root.lrpDetails.isLRPEnrolled"><p class="mb-0"><a href="javascript:void(0)" id="available-points" ng-click="myRewards()"><strong>{{$root.lrpDetails.availablePoints | number}}</strong><p><span translate="MYACC_5521" class="text-underline mb-4"></span></p></a></p><div ng-if="$root.lrpDetails.isLRPEnrolled && isAugeoLive && $root.lrpDetails.availablePoints < 1000"><tf-button-primary button-id="earn_now" event-cta="earn_now" event-ctx="earn_now" title="{{ \'MYACC_5523\'|translate}}" action="earnNow()" translate-text="MYACC_5523"></tf-button-primary></div><div ng-if="$root.lrpDetails.isLRPEnrolled && isAugeoLive && $root.lrpDetails.availablePoints >= 1000"><tf-button-primary button-id="redeem_now" event-cta="redeem_now" event-ctx="redeem_now" title="{{ \'MYACC_5522\'|translate}}" action="redeemNow()" translate-text="MYACC_5522"></tf-button-primary></div></div></div></div></div>'),e.put("tf-slider.html",'<div class="tfSlider"><div class="row ml-0 mr-0 mb-2" ng-if="textSelection"><input type="text" placeholder="data limit" ng-model="sliderText.value" name="slider_input" ng-blur="checkInRange()"></div><div class="row d-table"><div tf-class="all-1" class="d-table-cell" ng-if="arrowSelection"><a role="button" tabindex="0" data-eventcta="reduce limit" data-eventctx="reduce limit" ng-click="decrementValue()"><i class="tf-icon-lg-1-5 icon-caret-left tf-icon"></i></a></div><div tf-class="all-10" class="d-table-cell p-0"><rzslider rz-slider-model="sliderModel" rz-slider-options="sliderConfig.options"></rzslider></div><div tf-class="all-1" class="d-table-cell" ng-if="arrowSelection"><a role="button" tabindex="0" data-eventcta="increase limit" data-eventctx="increase limit" ng-click="incrementValue()"><i class="tf-icon-lg-1-5 icon-caret-right tf-icon"></i></a></div></div></div>'),e.put("tfSortUpDown.html",'<i class="fa fa-lg icon-caret-down fa-lg" aria-label="{{\'AMYAC_99769\' | translate}}" ng-hide="sort && reverse"></i> <i class="fa fa-lg icon-caret-up fa-lg" aria-label="{{\'AMYAC_99768\' | translate}}" ng-show="sort && reverse"></i>'),e.put("tfSort.html",'<div class="tf-sort {{tfsortType}}"><h3 ng-if="isSortable" translate="{{headingCopy}}"></h3><div class="row" ng-if="!isSortable"><div tf-offset="{{offsetClass}}"><p tf-class="{{colClass}}" ng-repeat="(key, obj) in options track by $index" ng-click="predicate = \'{{obj.sortBy}}\';reverse=!reverse ">{{obj.sortTextKey | translate}} <i class="fa fa-lg icon-caret-down fa-lg" ng-hide="{{obj.sort}} && reverse"></i> <i class="fa fa-lg icon-caret-up fa-lg" ng-show="{{obj.sort}} && reverse">caret</i></p></div></div></div>'),e.put("tf_spinner.html",'<div class="modal-backdrop spinner-backdrop in hide" ng-class="{\'show\':$root.showSpinner}"></div>\x3c!--[if !IE]>\x3c!--\x3e<div ng-show="$root.showSpinner"><div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div><div tf-class="all-12" translate="BAT_25006" class="spinner_cnt"></div></div>\x3c!--<![endif]--\x3e\x3c!--[if lt IE 10]>        <div class="loading" ng-show="$root.showSpinner">           <div>Loading...</div>        </div>        <![endif]--\x3e'),e.put("tfToggleSwitch.html",'<div tf-class="all-12" class="d-table-sm-md-lg p-0 tfToggleSwitch"><span class="no text-right pr-1 d-table-cell-sm-md-lg text-uppercase" aria-hidden="true" ng-if="!toggleStatus">{{\'BAT_24584\' | translate}}</span> <label class="togSwitch d-table-cell-sm-md-lg"><input type="checkbox" role="switch" ng-click="action({autoRef:toggleStatus})" ng-model="toggleStatus" ng-disabled="{{disableToggle}}" aria-label="{{ariaLabel}}"><div class="togSlide"></div></label> <span class="yes pl-1 d-table-cell-sm-md-lg text-uppercase" ng-if="toggleStatus" aria-hidden="true">{{\'BAT_24585\' | translate}}</span></div>'),e.put("tfPanel.html",'<div class="panel {{panelType}}"><div class="panel-heading" ng-hide="hideHeader == \'true\'"><div><p aria-level="{{ariaDefaultHeadingLevel}}" class="h{{defaultHeadingLevel}}" role="heading"><span><i class="{{headerIconClass}}"></i></span><span ng-if="headerText" class="header-text-left" aria-label="{{headerText |translate}}">{{headerText |translate}}&nbsp;</span>{{headerDisplay}} <span ng-if="headerTextCenter" class="header-text-center" aria-label="{{headerTextCenter |translate}}">{{headerTextCenter |translate}}&nbsp;</span><span ng-if="headerTextRight" class="header-text-right" arial-label="{{headerTextRight |translate}}">{{headerTextRight |translate}}&nbsp;</span></p></div><div ng-if="showEditOption"><div ng-if="headingClickType == \'alloptions\'"><div ng-click="viewEditable = !viewEditable"><tf-edit-hide-inline is-open="viewEditable" shw-label="true"></tf-edit-hide-inline></div><div class="tf_nickname_edit" ng-show="viewEditable"><tf-expand-collapse edit-nick-name="editNickName()" remove-device="removeDevice()" edit-security-pin="editSecurityPin()" add-airtime-plan="addAirtime()" buy-add-ons="buyAddOn()" add-service-plan="addServicePlan()" transaction-history="transactionHistory()" view-ild-balance="viewIldBalance()" manage-enrollments="manageEnrollments()" manage-reserve="manageReserve()" upgrade-points="upgradePoints()" selected-device="device" device-details="deviceDetails()" device-tutorial="deviceTutorial()" protect-phone="protectPhone()" buy-service-plan="buyServicePlan()" manage-global-card="manageGlobalCard()" upgrade-device="upgradeDevice()" limited-access="view.isLimitedAccess" show-options="{{options}}" is-active="isActive"></tf-expand-collapse></div></div><div ng-if="headingClickType == \'icons\'"><a href="javascript:void(0)" role="button" aria-label="{{\'ACRE_6926\' |translate}} {{headerText |translate}}" ng-show="!isOpen" ng-click="editAction()" ng-keypress="toggleOpen($event)" aria-controls="expandable" data-eventcta="EDIT NICKNAME" aria-expanded="{{isOpen ? true:false}}" data-eventctx="EDIT NICKNAME"><stack-icon icon="icon-sm-editnickname" class-name="tf-stack-icon-primary tf-stack-icon-lg-1 tf-stack-icon-sm-1 tf-stack-icon-xs" ng-if="!shwLabel"></stack-icon></a><a href="javascript:void(0)" role="button" aria-label="{{\'ACRE_6928\' |translate}} {{headerText |translate}}" ng-show="isOpen" ng-click="editAction()" ng-keypress="toggleOpen($event)" aria-controls="expandable" data-eventcta="EDIT" aria-expanded="{{isOpen ? true:false}}" data-eventctx="EDIT ICON"><stack-icon icon="icon-close2" class-name="tf-stack-icon-primary tf-stack-icon-lg-1 tf-stack-icon-sm-1 tf-stack-icon-xs" ng-if="!shwLabel"></stack-icon></a></div></div><div class="clearfix"></div></div><div class="panel-body" id="{{panelId}}"><p aria-level="{{ariaSubDefaultHeadingLevel}}" class="h{{defaultHeadingLevel}}" role="heading" ng-if="subHeadingText">{{subHeadingText}}</p><div ng-transclude></div></div></div>'),e.put("tfButtonPrimary.html",'<span><button role="button" id="{{buttonId}}" type="submit" ng-if="formName" ng-attr-data-eventctx="{{eventCtx}}" ng-attr-data-eventcta="{{eventCta}}" ng-click="action()" ng-attr-class="{{style}}" href="{{href}}" validation-submit="formName" ng-disabled="disabled" tabindex="{{tabIndex}}" ng-attr-scrollto-id="{{scrolltoId}}" ng-aria-expanded="{{isAriaExpanded}}" aria-describedby="{{ariaDescribedbyId}}" aria-label="{{tit | translate}}"><span translate="{{translateText}}" title="{{tit | translate}}"></span></button> </span><span><button id="{{buttonId}}" type="submit" ng-if="!formName" ng-attr-data-eventctx="{{eventCtx}}" ng-attr-data-eventcta="{{eventCta}}" ng-attr-class="{{style}}" ng-click="action()" href="{{href}}" ng-disabled="disabled" tabindex="{{tabIndex}}" ng-attr-scrollto-id="{{scrolltoId}}" ng-aria-expanded="{{isAriaExpanded}}" aria-label="{{tit | translate}}"><span translate="{{translateText}}"></span></button></span>'),e.put("tfButtonFb.html",'<button id="{{buttonId}}" ng-attr-data-eventctx="{{eventCtx}}" aria-label="{{fbTitle | translate}}" ng-attr-data-eventcta="{{eventCta}}" class="btn btn-large btn-block tf-fbbutton-primary" ng-click="fbAction()"><span class="icon-facebook white-text"></span> <span><i translate="{{translateText}}"></i></span></button>'),e.put("wfmButtonPrimary.html",'<span><button id="{{buttonId}}" type="submit" ng-show="formName" ng-click="action()" ng-attr-class="{{style}}" href="{{href}}" validation-submit="formName" ng-disabled="disabled" tabindex="{{tabIndex}}"><span translate="{{translateText}}"></span></button> </span><span><button id="{{buttonId}}" type="submit" ng-show="!formName" ng-attr-class="{{style}}" ng-click="action()" href="{{href}}" ng-disabled="disabled" tabindex="{{tabIndex}}"><span translate="{{translateText}}"></span></button></span>'),e.put("wfmButtonSecondary.html",'<button id="{{buttonId}}" class="{{style}}" ng-click="action()" ng-disabled="disabled"><span translate="{{translateText}}"></span></button>'),e.put("wfmButtonCancel.html",'<button id="{{buttonId}}" class="{{style}}" ng-click="action()"><span translate="{{translateText}}"></span></button>'),e.put("tfflashmessage_tpl.html",'<div class="flash-message {{layoutStyle}}"><div class="row"><div tf-class="12-12-12-12"><h3 ng-if="translateTitle" class="blue_txt" translate="{{translateTitle}}"></h3><h3 ng-if="flashTitle" class="blue_txt">{{flashTitle}}</h3><p ng-if="translateText" translate="{{translateText}}"></p><p ng-if="flashText" ng-bind-html="flashText"></p><div class="row"><div tf-class="12-12-4-4"></div><div tf-class="12-12-4-4"><div ng-if="isFlashHot == \'false\'"><tf-button-primary button-id="btn_" event-cta="" event-ctx="" action="action()" translate-text="BAT_24130"></tf-button-primary></div><div ng-if="isOtaResolve == \'true\'"><tf-button-primary button-id="btn_" event-cta="" event-ctx="" action="action()" translate-text="MYAC_99943"></tf-button-primary></div></div><div tf-class="12-12-4-4"></div></div></div></div></div>'),e.put("tf-help-icon.html",'<span class="tf-popover tf-popover-lg tf-popover-sm tf-popover-xs"><a href="javascript:void(0)" aria-label="{{\'TAB_5003\'|translate}}" popover-placement="{{placement}}" popover-trigger="\'outsideClick\'" uib-popover-template="popoverTemplate" popover-is-open="isOpen" data-eventcta="help" data-eventctx="help"><stack-icon icon="icon-others-dont-know"></stack-icon></a></span>'),e.put("tf-xs-help-icon.html",'<span class="tf-popover tf-popover-lg tf-popover-sm tf-popover-xs"><a href="javascript:void(0)" aria-label="{{\'TAB_5003\'|translate}}" translate-text="TAB_5003" popover-placement="auto" uib-popover-template="popoverTemplate" popover-is-open="isOpen" data-eventcta="help" data-eventctx="help"></a></span>'),e.put("tf-info-icon.html",'<span class="tf-popover tf-popover-lg tf-popover-sm tf-popover-xs"><a href="javascript:void(0)" popover-placement="auto" uib-popover-template="popoverTemplate" title="Info" popover-is-open="isOpen" data-eventcta="popup open" data-eventctx="poup open"><i class="icon-info-circle padding-top-2" aria-hidden="true"></i></a></span>'),e.put("tf-close-icon.html",'<a href="javascript:void(0)" aria-label="{{\'MYACC_5206\'|translate}}" ng-click="close()" data-eventcta="close" data-eventctx="close"><span class="tf-icon-link tf-icon-lg-1-5 tf-icon-sm-1-5 tf-icon-xs-1-5 icon-close"></span></a>'),e.put("tf-plus-minus-icon.html",'<span ng-click="iconClick()" class="tfPlusMinus" aria-label="{{iconTitle}}"><span ng-show="!isOpen" title="{{iconTitle}}"><stack-icon icon="icon-plus3" title="{{\'MYACC_5207\'|translate}}"></stack-icon></span><span ng-show="isOpen" title="{{iconTitle}}"><stack-icon icon="icon-minus3" title="{{\'MYACC_5208\'|translate}}"></stack-icon></span></span>'),e.put("tfPhone.html",'<div><div class="input-group form-group"><input validator="{{validators}}" ui-mask-placeholder ui-mask="(999) 999-9999" valid-method="blur" name="{{name}}" type="tel" id="{{id}}" tabindex="{{tabIndex}}" ng-disabled="readOnly" class="form-control" ng-blur="validateOnBlur(this)" placeholder="{{placeholderText | translate }} " ng-model="modelValue" ng-attr-autofocus="{{autoFocus}}" field-description="ERROR_1985690" ng-attr-validation-group="{{validateGroup}}"> <span class="input-group-addon"><span class="fa-stack fa-md"></span> </span><label class="placeholder" for="{{id}}">{{ placeholderText | translate }}</label></div></div>'),e.put("tfPhoneMobile.html",'<div class="input-group"><input validator="{{validators}}" ui-mask-placeholder ui-mask="(999) 999-9999" valid-method="blur" name="{{name}}" type="tel" id="{{id}}" tabindex="{{tabIndex}}" ng-disabled="readOnly" class="form-control" ng-blur="validateOnBlur(this)" placeholder="{{placeholderText | translate }} " aria-label="{{placeholderText | translate }}" ng-model="modelValue" field-description="ERROR_1985690"> <span class="input-group-addon"><span class="fa-stack fa-lg"></span> </span><label class="placeholder">{{ placeholderText | translate }}</label></div>'),e.put("tfTextbox.html",'<div class="validation_error" aria-live="assertive" aria-atomic="false"></div><div class="tftextbox form-group"><div role="presentation" class="input-group" ng-class="{\'has-help\':help}"><input type="text" class="form-control padding-right-xs-1 {{class}}" id="{{id}}" name="{{name}}" ng-model="modelValue" placeholder="{{ placeholderText | translate }}" ng-disabled="{{readOnly}}" ng-attr-restrict-input="{{restrictInputValue}}" match-value="{{ matchValue }}" ng-attr-tabindex="{{tabIndex}}" ng-attr-maxlength="{{maxLength}}" ng-attr-minlength="{{minLength}}" ng-attr-validation-group="{{validateGroup}}" regex-pattern="{{regexPattern}}"> <span class="input-group-addon" aria-hidden="true"><span class="fa-stack fa-md"></span> </span><label for="{{id}}" id="tftxtlabel-{{id}}" class="placeholder" aria-hidden="true">{{ placeholderText | translate }}</label></div><a ng-if="ctaText" href="{{ctaUrl?ctaUrl:\'#\'}}" ng-click="ctaAction()" ng-attr-tabindex="{{tabIndex}}" class="small" data-eventcta="{{ctaText}}" data-eventctx="{{ctaText}}"><strong><span translate="{{ctaText}}"></span></strong></a><div class="help-icon {{popoverClass}} tf-popover-lg tf-popover-sm tf-popover-xs" ng-if="help" aria-live="assertive" aria-atomic="false"><tf-help-icon placement="auto" popover-template="help"></tf-help-icon></div></div>'),e.put("tftexticons.html",'<table class="tf-table-valign-center"><tr><td><span class="tf-icon-primary icon-{{icon}} tf-icon-lg-3 tf-icon-sm-2 tf-icon-xs-2"></span></td><td class="text-left padding-size-left-2"><h2 translate="{{descTitle}}" class="strong blue-txt" tabindex="{{tabIndex}}"></h2><span class="small">{{descValue}} </span><span class="small" translate="{{descText}}" tabindex="{{tabIndex}}"></span></td></tr></table>'),e.put("tf-terms.html",'<span ng-bind-html="termscontent" ng-init="init()"></span>'),e.put("upgradePointsMeter_tpl.html",'<div class="row text-center mb-5"><div tf-class="all-12"><strong translate="MYACC_5440">Upgrade Points Meter</strong></div></div><div class="row upgradepointsmeter" role="presentation"><div tf-class="all-12"><div class="row text-center mb-5"><div tf-class="all-2" class="hidden-xs"><span translate="MYACC_5441">Points Accured</span></div><div tf-class="all-1" class="hidden-xs points-accured ml-2"><span>{{pointsAccured}}</span></div><div tf-class="all-2" class="visible-xs points-accured"><span class="small">{{pointsAccured}}</span></div><div tf-class="all-5" class="hidden-xs p-0 progress-style progress-meter"><uib-progressbar max="totalPoints" value="pointsAccured"></uib-progressbar></div><div tf-class="all-8" class="visible-xs p-0 progress-style progress-meter"><uib-progressbar max="totalPoints" value="pointsAccured"></uib-progressbar></div><div tf-class="all-1" class="no-padding hidden-xs image-slider text-xs-center"><img src="assets/images/smartphonedevice.png" alt="Smartphone"></div><div tf-class="all-1" class="hidden-xs points-needed"><span>{{pointsNeeded}}</span></div><div tf-class="all-2" class="visible-xs points-needed"><span class="small">{{pointsNeeded}}</span></div><div tf-class="all-2" class="hidden-xs"><span translate="MYACC_5442">Points Needed</span></div></div><div class="row text-left mb-5"><div tf-class="all-6" class="visible-xs text-left"><span translate="MYACC_5441">Points Accured</span></div><div tf-class="all-4" class="visible-xs text-right col-xs-offset-2"><span translate="MYACC_5442">Points Needed</span></div></div></div></div>')}]);